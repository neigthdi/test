import"./chunks/babylonjs.loaders.vcPgI5Cl.js";import{r as It,c as ft,b as q}from"./chunks/babylon.yvSPI_6S.js";import{d as Dt,p as Et,v as xt,P as bt,x as Ot,o as pt,c as gt,j as Je,t as Ct,e as Rt,a as St,G as yt,w as Lt,B as wt}from"./chunks/framework.IymsUPEZ.js";var Bt={exports:{}};(function(nt,ke){(function(be,ze){nt.exports=ze(It())})(typeof self<"u"?self:typeof ft<"u"?ft:ft,Fe=>(()=>{var be={"../../../dev/gui/src/2D/FrameGraph/guiTask.ts":(k,b,h)=>{h.r(b),h.d(b,{FrameGraphGUITask:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i,t,e){var r=f.call(this,i,t)||this;if(e){if(!e.useStandalone)throw new Error('AdvancedDynamicTexture "'.concat(i,'": the texture must have been created with the useStandalone property set to true'))}else e=n.AdvancedDynamicTexture.CreateFullscreenUI(i,void 0,{useStandalone:!0});return r._adt=e,r.outputTexture=r._frameGraph.textureManager.createDanglingHandle(),r}return Object.defineProperty(a.prototype,"disabled",{get:function(){return this._disabled},set:function(i){this._disabled=i,this._adt.disablePicking=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"gui",{get:function(){return this._adt},enumerable:!1,configurable:!0}),a.prototype.isReady=function(){return this._adt.guiIsReady()&&this._adt._layerToDispose.isReady()},a.prototype.record=function(){var i=this;if(this.destinationTexture===void 0)throw new Error("FrameGraphGUITask: destinationTexture is required");this._frameGraph.textureManager.resolveDanglingHandle(this.outputTexture,this.destinationTexture);var t=this._frameGraph.addRenderPass(this.name);t.setRenderTarget(this.outputTexture),t.setExecuteFunc(function(r){i._adt._checkUpdate(null),r.render(i._adt._layerToDispose)});var e=this._frameGraph.addRenderPass(this.name+"_disabled",!0);e.setRenderTarget(this.outputTexture),e.setExecuteFunc(function(r){})},a.prototype.dispose=function(){this._adt.dispose(),f.prototype.dispose.call(this)},a}(m.FrameGraphTask)},"../../../dev/gui/src/2D/FrameGraph/renderGraphGUIBlock.ts":(k,b,h)=>{h.r(b),h.d(b,{NodeRenderGraphGUIBlock:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),v=h("../../../dev/gui/src/2D/FrameGraph/guiTask.ts"),f=function(a){(0,_.__extends)(i,a);function i(t,e,r){var o=a.call(this,t,e,r)||this;return o.registerInput("destination",n.NodeRenderGraphBlockConnectionPointTypes.Texture),o._addDependenciesInput(),o.registerOutput("output",n.NodeRenderGraphBlockConnectionPointTypes.BasedOnInput),o.destination.addAcceptedConnectionPointTypes(n.NodeRenderGraphBlockConnectionPointTypes.TextureAll),o.output._typeConnectionSource=o.destination,o._gui=m.AdvancedDynamicTexture.CreateFullscreenUI(o.name,void 0,{useStandalone:!0}),o._frameGraphTask=new v.FrameGraphGUITask(o.name,e,o._gui),o}return Object.defineProperty(i.prototype,"task",{get:function(){return this._frameGraphTask},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"gui",{get:function(){return this._frameGraphTask.gui},enumerable:!1,configurable:!0}),i.prototype.getClassName=function(){return"GUI.NodeRenderGraphGUIBlock"},Object.defineProperty(i.prototype,"destination",{get:function(){return this._inputs[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"output",{get:function(){return this._outputs[0]},enumerable:!1,configurable:!0}),i.prototype._buildBlock=function(t){a.prototype._buildBlock.call(this,t),this._frameGraphTask.name=this.name,this.output.value=this._frameGraphTask.outputTexture;var e=this.destination.connectedPoint;e&&(this._frameGraphTask.destinationTexture=e.value)},i}(n.NodeRenderGraphBlock);(0,n.RegisterClass)("BABYLON.GUI.NodeRenderGraphGUIBlock",f)},"../../../dev/gui/src/2D/adtInstrumentation.ts":(k,b,h)=>{h.r(b),h.d(b,{AdvancedDynamicTextureInstrumentation:()=>n});var _=h("babylonjs/Misc/perfCounter"),n=function(){function m(v){this.texture=v,this._captureRenderTime=!1,this._renderTime=new _.PerfCounter,this._captureLayoutTime=!1,this._layoutTime=new _.PerfCounter,this._onBeginRenderObserver=null,this._onEndRenderObserver=null,this._onBeginLayoutObserver=null,this._onEndLayoutObserver=null}return Object.defineProperty(m.prototype,"renderTimeCounter",{get:function(){return this._renderTime},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"layoutTimeCounter",{get:function(){return this._layoutTime},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"captureRenderTime",{get:function(){return this._captureRenderTime},set:function(v){var f=this;v!==this._captureRenderTime&&(this._captureRenderTime=v,v?(this._onBeginRenderObserver=this.texture.onBeginRenderObservable.add(function(){f._renderTime.beginMonitoring()}),this._onEndRenderObserver=this.texture.onEndRenderObservable.add(function(){f._renderTime.endMonitoring(!0)})):(this.texture.onBeginRenderObservable.remove(this._onBeginRenderObserver),this._onBeginRenderObserver=null,this.texture.onEndRenderObservable.remove(this._onEndRenderObserver),this._onEndRenderObserver=null))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"captureLayoutTime",{get:function(){return this._captureLayoutTime},set:function(v){var f=this;v!==this._captureLayoutTime&&(this._captureLayoutTime=v,v?(this._onBeginLayoutObserver=this.texture.onBeginLayoutObservable.add(function(){f._layoutTime.beginMonitoring()}),this._onEndLayoutObserver=this.texture.onEndLayoutObservable.add(function(){f._layoutTime.endMonitoring(!0)})):(this.texture.onBeginLayoutObservable.remove(this._onBeginLayoutObserver),this._onBeginLayoutObserver=null,this.texture.onEndLayoutObservable.remove(this._onEndLayoutObserver),this._onEndLayoutObserver=null))},enumerable:!1,configurable:!0}),m.prototype.dispose=function(){this.texture.onBeginRenderObservable.remove(this._onBeginRenderObserver),this._onBeginRenderObserver=null,this.texture.onEndRenderObservable.remove(this._onEndRenderObserver),this._onEndRenderObserver=null,this.texture.onBeginLayoutObservable.remove(this._onBeginLayoutObserver),this._onBeginLayoutObserver=null,this.texture.onEndLayoutObservable.remove(this._onEndLayoutObserver),this._onEndLayoutObserver=null,this.texture=null},m}()},"../../../dev/gui/src/2D/advancedDynamicTexture.ts":(k,b,h)=>{h.r(b),h.d(b,{AdvancedDynamicTexture:()=>i});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/container.ts"),v=h("../../../dev/gui/src/2D/controls/control.ts"),f=h("../../../dev/gui/src/2D/style.ts"),a=h("../../../dev/gui/src/2D/measure.ts"),i=function(t){(0,_.__extends)(e,t);function e(r,o,s,l,c,d,p){s===void 0&&(s=0),c===void 0&&(c=!1),d===void 0&&(d=n.Texture.NEAREST_SAMPLINGMODE),p===void 0&&(p=!0);var u=this,g,E;o=o??0;var C=typeof o=="object"&&o!==void 0?(g=o.width)!==null&&g!==void 0?g:0:o??0,y=typeof o=="object"&&o!==void 0?(E=o.height)!==null&&E!==void 0?E:0:s;if(u=t.call(this,r,{width:C,height:y},typeof o=="object"&&o!==void 0?o:l,c,d,n.Constants.TEXTUREFORMAT_RGBA,p)||this,u.useStandalone=!1,u.onGuiReadyObservable=new n.Observable,u._isDirty=!1,u._rootContainer=new m.Container("root"),u._lastControlOver={},u._lastControlDown={},u._capturingControl={},u._linkedControls=new Array,u._isFullscreen=!1,u._fullscreenViewport=new n.Viewport(0,0,1,1),u._idealWidth=0,u._idealHeight=0,u._useSmallestIdeal=!1,u._renderAtIdealSize=!1,u._blockNextFocusCheck=!1,u._renderScale=1,u._cursorChanged=!1,u._defaultMousePointerId=0,u._rootChildrenHaveChanged=!1,u._capturedPointerIds=new Set,u._numLayoutCalls=0,u._numRenderCalls=0,u._clipboardData="",u.onClipboardObservable=new n.Observable,u.onControlPickedObservable=new n.Observable,u.onBeginLayoutObservable=new n.Observable,u.onEndLayoutObservable=new n.Observable,u.onBeginRenderObservable=new n.Observable,u.onEndRenderObservable=new n.Observable,u.premulAlpha=!1,u.applyYInversionOnUpdate=!0,u.disableTabNavigation=!1,u.disablePicking=!1,u.usePointerTapForClickEvent=!1,u.skipBlockEvents=0,u.checkPointerEveryFrame=!1,u._useInvalidateRectOptimization=!0,u._invalidatedRectangle=null,u._clearMeasure=new a.Measure(0,0,0,0),u._focusProperties={index:0,total:-1},u._onClipboardCopy=function(F){var I=F,R=new n.ClipboardInfo(n.ClipboardEventTypes.COPY,I);u.onClipboardObservable.notifyObservers(R),I.preventDefault()},u._onClipboardCut=function(F){var I=F,R=new n.ClipboardInfo(n.ClipboardEventTypes.CUT,I);u.onClipboardObservable.notifyObservers(R),I.preventDefault()},u._onClipboardPaste=function(F){var I=F,R=new n.ClipboardInfo(n.ClipboardEventTypes.PASTE,I);u.onClipboardObservable.notifyObservers(R),I.preventDefault()},u.parseContent=u.parseSerializedObject,l=u.getScene(),!l||!u._texture)return u;u.applyYInversionOnUpdate=p,u._rootElement=l.getEngine().getInputElement();var D=o;return u.useStandalone=!!(D!=null&&D.useStandalone),u.useStandalone||(u._renderObserver=l.onBeforeCameraRenderObservable.add(function(F){return u._checkUpdate(F)})),u._controlAddedObserver=u._rootContainer.onControlAddedObservable.add(function(F){F&&(u._rootChildrenHaveChanged=!0)}),u._controlRemovedObserver=u._rootContainer.onControlRemovedObservable.add(function(F){F&&(u._rootChildrenHaveChanged=!0)}),u._preKeyboardObserver=l.onPreKeyboardObservable.add(function(F){if(!u.disableTabNavigation&&F.type===n.KeyboardEventTypes.KEYDOWN&&F.event.code==="Tab"){var I=!F.event.shiftKey;if(I&&u._focusProperties.index===u._focusProperties.total-1||!I&&u._focusProperties.index===0&&u._focusProperties.total>0){u.focusedControl=null,u._focusProperties.index=0,u._focusProperties.total=-1;return}u._focusNextElement(I),F.event.preventDefault();return}u._focusedControl&&(F.type===n.KeyboardEventTypes.KEYDOWN&&u._focusedControl.processKeyboard(F.event),F.skipOnPointerObservable=!0)}),u._rootContainer._link(u),u.hasAlpha=!0,(!C||!y)&&(u._resizeObserver=l.getEngine().onResizeObservable.add(function(){return u._onResize()}),u._onResize()),u._texture.isReady=!0,u}return Object.defineProperty(e.prototype,"numLayoutCalls",{get:function(){return this._numLayoutCalls},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numRenderCalls",{get:function(){return this._numRenderCalls},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderScale",{get:function(){return this._renderScale},set:function(r){r!==this._renderScale&&(this._renderScale=r,this._onResize())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return this._background},set:function(r){this._background!==r&&(this._background=r,this.markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"idealWidth",{get:function(){return this._idealWidth},set:function(r){this._idealWidth!==r&&(this._idealWidth=r,this.markAsDirty(),this._rootContainer._markAllAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"idealHeight",{get:function(){return this._idealHeight},set:function(r){this._idealHeight!==r&&(this._idealHeight=r,this.markAsDirty(),this._rootContainer._markAllAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useSmallestIdeal",{get:function(){return this._useSmallestIdeal},set:function(r){this._useSmallestIdeal!==r&&(this._useSmallestIdeal=r,this.markAsDirty(),this._rootContainer._markAllAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderAtIdealSize",{get:function(){return this._renderAtIdealSize},set:function(r){this._renderAtIdealSize!==r&&(this._renderAtIdealSize=r,this._onResize())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"idealRatio",{get:function(){var r=0,o=0;return this._idealWidth&&(r=this.getSize().width/this._idealWidth),this._idealHeight&&(o=this.getSize().height/this._idealHeight),this._useSmallestIdeal&&this._idealWidth&&this._idealHeight?window.innerWidth<window.innerHeight?r:o:this._idealWidth?r:this._idealHeight?o:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layerToDispose},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rootContainer",{get:function(){return this._rootContainer},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){return[this._rootContainer]},e.prototype.getDescendants=function(r,o){return this._rootContainer.getDescendants(r,o)},e.prototype.getControlsByType=function(r){return this._rootContainer.getDescendants(!1,function(o){return o.typeName===r})},e.prototype.getControlByName=function(r){return this._getControlByKey("name",r)},e.prototype._getControlByKey=function(r,o){return this._rootContainer.getDescendants().find(function(s){return s[r]===o})||null},Object.defineProperty(e.prototype,"focusedControl",{get:function(){return this._focusedControl},set:function(r){this._focusedControl!=r&&(this._focusedControl&&this._focusedControl.onBlur(),r&&r.onFocus(),this._focusedControl=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isForeground",{get:function(){return this.layer?!this.layer.isBackground:!0},set:function(r){this.layer&&this.layer.isBackground!==!r&&(this.layer.isBackground=!r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clipboardData",{get:function(){return this._clipboardData},set:function(r){this._clipboardData=r},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"AdvancedDynamicTexture"},e.prototype.executeOnAllControls=function(r,o){o||(o=this._rootContainer),r(o);for(var s=0,l=o.children;s<l.length;s++){var c=l[s];if(c.children){this.executeOnAllControls(r,c);continue}r(c)}},Object.defineProperty(e.prototype,"useInvalidateRectOptimization",{get:function(){return this._useInvalidateRectOptimization},set:function(r){this._useInvalidateRectOptimization=r},enumerable:!1,configurable:!0}),e.prototype.invalidateRect=function(r,o,s,l){if(this._useInvalidateRectOptimization)if(!this._invalidatedRectangle)this._invalidatedRectangle=new a.Measure(r,o,s-r+1,l-o+1);else{var c=Math.ceil(Math.max(this._invalidatedRectangle.left+this._invalidatedRectangle.width-1,s)),d=Math.ceil(Math.max(this._invalidatedRectangle.top+this._invalidatedRectangle.height-1,l));this._invalidatedRectangle.left=Math.floor(Math.min(this._invalidatedRectangle.left,r)),this._invalidatedRectangle.top=Math.floor(Math.min(this._invalidatedRectangle.top,o)),this._invalidatedRectangle.width=c-this._invalidatedRectangle.left+1,this._invalidatedRectangle.height=d-this._invalidatedRectangle.top+1}},e.prototype.markAsDirty=function(){this._isDirty=!0},e.prototype.createStyle=function(){return new f.Style(this)},e.prototype.addControl=function(r){return this._rootContainer.addControl(r),this},e.prototype.removeControl=function(r){return this._rootContainer.removeControl(r),this},e.prototype.moveToNonOverlappedPosition=function(r,o,s){o===void 0&&(o=1),s===void 0&&(s=1);var l;if(Array.isArray(r))l=r;else{var c=this.getDescendants(!0);l=r===void 0?c.filter(function(d){return d.overlapGroup!==void 0}):c.filter(function(d){return d.overlapGroup===r})}l.forEach(function(d){var p,u=n.Vector2.Zero(),g=new n.Vector2(d.centerX,d.centerY);l.forEach(function(E){if(d!==E&&e._Overlaps(d,E)){var C=g.subtract(new n.Vector2(E.centerX,E.centerY)),y=C.length();y>0&&(u=u.add(C.normalize().scale(s/y)))}}),u.length()>0&&(u=u.normalize().scale(o*((p=d.overlapDeltaMultiplier)!==null&&p!==void 0?p:1)),d.linkOffsetXInPixels+=u.x,d.linkOffsetYInPixels+=u.y)})},e.prototype.dispose=function(){var r=this.getScene();r&&(this._rootElement=null,r.onBeforeCameraRenderObservable.remove(this._renderObserver),this._resizeObserver&&r.getEngine().onResizeObservable.remove(this._resizeObserver),this._prePointerObserver&&r.onPrePointerObservable.remove(this._prePointerObserver),this._sceneRenderObserver&&r.onBeforeRenderObservable.remove(this._sceneRenderObserver),this._pointerObserver&&r.onPointerObservable.remove(this._pointerObserver),this._preKeyboardObserver&&r.onPreKeyboardObservable.remove(this._preKeyboardObserver),this._canvasPointerOutObserver&&r.getEngine().onCanvasPointerOutObservable.remove(this._canvasPointerOutObserver),this._canvasBlurObserver&&r.getEngine().onCanvasBlurObservable.remove(this._canvasBlurObserver),this._controlAddedObserver&&this._rootContainer.onControlAddedObservable.remove(this._controlAddedObserver),this._controlRemovedObserver&&this._rootContainer.onControlRemovedObservable.remove(this._controlRemovedObserver),this._layerToDispose&&(this._layerToDispose.texture=null,this._layerToDispose.dispose(),this._layerToDispose=null),this._rootContainer.dispose(),this.onClipboardObservable.clear(),this.onControlPickedObservable.clear(),this.onBeginRenderObservable.clear(),this.onEndRenderObservable.clear(),this.onBeginLayoutObservable.clear(),this.onEndLayoutObservable.clear(),this.onGuiReadyObservable.clear(),t.prototype.dispose.call(this))},e.prototype._onResize=function(){var r=this.getScene();if(r){var o=r.getEngine(),s=this.getSize(),l=o.getRenderWidth()*this._renderScale,c=o.getRenderHeight()*this._renderScale;this._renderAtIdealSize&&(this._idealWidth?(c=c*this._idealWidth/l,l=this._idealWidth):this._idealHeight&&(l=l*this._idealHeight/c,c=this._idealHeight)),(s.width!==l||s.height!==c)&&(this.scaleTo(l,c),this.markAsDirty(),(this._idealWidth||this._idealHeight)&&this._rootContainer._markAllAsDirty()),this.invalidateRect(0,0,s.width-1,s.height-1)}},e.prototype._getGlobalViewport=function(){var r=this.getSize(),o=this._fullscreenViewport.toGlobal(r.width,r.height),s=Math.round(o.width*(1/this.rootContainer.scaleX)),l=Math.round(o.height*(1/this.rootContainer.scaleY));return o.x+=(o.width-s)/2,o.y+=(o.height-l)/2,o.width=s,o.height=l,o},e.prototype.getProjectedPosition=function(r,o){var s=this.getProjectedPositionWithZ(r,o);return new n.Vector2(s.x,s.y)},e.prototype.getProjectedPositionWithZ=function(r,o){var s=this.getScene();if(!s)return n.Vector3.Zero();var l=this._getGlobalViewport(),c=n.Vector3.Project(r,o,s.getTransformMatrix(),l);return new n.Vector3(c.x,c.y,c.z)},e.prototype._checkUpdate=function(r,o){if(!(this._layerToDispose&&r&&!(r.layerMask&this._layerToDispose.layerMask))){if(this._isFullscreen&&this._linkedControls.length){var s=this.getScene();if(!s)return;for(var l=this._getGlobalViewport(),c=function(E){if(!E.isVisible)return"continue";var C=E._linkedMesh;if(!C||C.isDisposed())return n.Tools.SetImmediate(function(){E.linkWithMesh(null)}),"continue";var y=C.getBoundingInfo?C.getBoundingInfo().boundingSphere.center:n.Vector3.ZeroReadOnly,D=n.Vector3.Project(y,C.getWorldMatrix(),s.getTransformMatrix(),l);if(D.z<0||D.z>1)return E.notRenderable=!0,"continue";E.notRenderable=!1,d.useInvalidateRectOptimization&&E.invalidateRect(),E._moveToProjectedPosition(D)},d=this,p=0,u=this._linkedControls;p<u.length;p++){var g=u[p];c(g)}}!this._isDirty&&!this._rootContainer.isDirty||(this._isDirty=!1,this._render(o),o||this.update(this.applyYInversionOnUpdate,this.premulAlpha,e.AllowGPUOptimizations))}},e.prototype._render=function(r){var o,s=this.getSize(),l=s.width,c=s.height,d=this.getContext();if(d.font="18px Arial",d.strokeStyle="white",this.onGuiReadyObservable.hasObservers()&&this._checkGuiIsReady(),this._rootChildrenHaveChanged){var p=(o=this.getScene())===null||o===void 0?void 0:o.activeCamera;p&&(this._rootChildrenHaveChanged=!1,this._checkUpdate(p,!0))}this.onBeginLayoutObservable.notifyObservers(this);var u=new a.Measure(0,0,l,c);this._numLayoutCalls=0,this._rootContainer._layout(u,d),this.onEndLayoutObservable.notifyObservers(this),this._isDirty=!1,!r&&(this._invalidatedRectangle?this._clearMeasure.copyFrom(this._invalidatedRectangle):this._clearMeasure.copyFromFloats(0,0,l,c),d.clearRect(this._clearMeasure.left,this._clearMeasure.top,this._clearMeasure.width,this._clearMeasure.height),this._background&&(d.save(),d.fillStyle=this._background,d.fillRect(this._clearMeasure.left,this._clearMeasure.top,this._clearMeasure.width,this._clearMeasure.height),d.restore()),this.onBeginRenderObservable.notifyObservers(this),this._numRenderCalls=0,this._rootContainer._render(d,this._invalidatedRectangle),this.onEndRenderObservable.notifyObservers(this),this._invalidatedRectangle=null)},e.prototype._changeCursor=function(r){this._rootElement&&(this._rootElement.style.cursor=r,this._cursorChanged=!0)},e.prototype._registerLastControlDown=function(r,o){this._lastControlDown[o]=r,this.onControlPickedObservable.notifyObservers(r)},e.prototype._doPicking=function(r,o,s,l,c,d,p,u){var g=this.getScene();if(!(!g||this.disablePicking)){var E=g.getEngine(),C=this.getSize();if(this._isFullscreen){var y=g.cameraToUseForPointers||g.activeCamera;if(!y)return;var D=y.viewport;r=r*(C.width/(E.getRenderWidth()*D.width)),o=o*(C.height/(E.getRenderHeight()*D.height))}if(this._capturingControl[c]){this._capturingControl[c].isPointerBlocker&&(this._shouldBlockPointer=!0),this._capturingControl[c]._processObservables(l,r,o,s,c,d);return}this._cursorChanged=!1,this._rootContainer._processPicking(r,o,s,l,c,d,p,u)||(g.doNotHandleCursors||this._changeCursor(""),l===n.PointerEventTypes.POINTERMOVE&&this._lastControlOver[c]&&(this._lastControlOver[c]._onPointerOut(this._lastControlOver[c],s),delete this._lastControlOver[c])),!this._cursorChanged&&!g.doNotHandleCursors&&this._changeCursor(""),this._manageFocus()}},e.prototype._cleanControlAfterRemovalFromList=function(r,o){for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){var l=r[s];l===o&&delete r[s]}},e.prototype._cleanControlAfterRemoval=function(r){this._cleanControlAfterRemovalFromList(this._lastControlDown,r),this._cleanControlAfterRemovalFromList(this._lastControlOver,r)},e.prototype.pick=function(r,o,s){s===void 0&&(s=null),this._isFullscreen&&this._scene&&this._translateToPicking(this._scene,new n.Viewport(0,0,0,0),s,r,o)},e.prototype._translateToPicking=function(r,o,s,l,c){l===void 0&&(l=r.pointerX),c===void 0&&(c=r.pointerY);var d=r.cameraToUseForPointers||r.activeCamera,p=r.getEngine(),u=r.cameraToUseForPointers;if(!d)o.x=0,o.y=0,o.width=p.getRenderWidth(),o.height=p.getRenderHeight();else if(d.rigCameras.length){var g=new n.Viewport(0,0,1,1);d.rigCameras.forEach(function(D){D.viewport.toGlobalToRef(p.getRenderWidth(),p.getRenderHeight(),g);var F=l/p.getHardwareScalingLevel()-g.x,I=c/p.getHardwareScalingLevel()-(p.getRenderHeight()-g.y-g.height);F<0||I<0||l>g.width||c>g.height||(r.cameraToUseForPointers=D,o.x=g.x,o.y=g.y,o.width=g.width,o.height=g.height)})}else d.viewport.toGlobalToRef(p.getRenderWidth(),p.getRenderHeight(),o);var E=l/p.getHardwareScalingLevel()-o.x,C=c/p.getHardwareScalingLevel()-(p.getRenderHeight()-o.y-o.height);if(this._shouldBlockPointer=!1,s){var y=s.event.pointerId||this._defaultMousePointerId;this._doPicking(E,C,s,s.type,y,s.event.button,s.event.deltaX,s.event.deltaY),(this._shouldBlockPointer&&!(s.type&this.skipBlockEvents)||this._capturingControl[y])&&(s.skipOnPointerObservable=!0)}else this._doPicking(E,C,null,n.PointerEventTypes.POINTERMOVE,this._defaultMousePointerId,0);r.cameraToUseForPointers=u},e.prototype.attach=function(){var r=this,o=this.getScene();if(o){var s=new n.Viewport(0,0,0,0);this._prePointerObserver=o.onPrePointerObservable.add(function(l){if(!(o.isPointerCaptured(l.event.pointerId)&&l.type===n.PointerEventTypes.POINTERUP&&!r._capturedPointerIds.has(l.event.pointerId))&&!(l.type!==n.PointerEventTypes.POINTERMOVE&&l.type!==n.PointerEventTypes.POINTERUP&&l.type!==n.PointerEventTypes.POINTERDOWN&&l.type!==n.PointerEventTypes.POINTERWHEEL&&l.type!==n.PointerEventTypes.POINTERTAP)){if(l.type===n.PointerEventTypes.POINTERMOVE){if(o.isPointerCaptured(l.event.pointerId))return;l.event.pointerId&&(r._defaultMousePointerId=l.event.pointerId)}r._translateToPicking(o,s,l)}}),this._attachPickingToSceneRender(o,function(){return r._translateToPicking(o,s,null)},!1),this._attachToOnPointerOut(o),this._attachToOnBlur(o)}},e.prototype._focusNextElement=function(r){r===void 0&&(r=!0);var o=[];if(this.executeOnAllControls(function(c){c.isFocusInvisible||!c.isVisible||c.tabIndex<0||o.push(c)}),o.length!==0){o.sort(function(c,d){return c.tabIndex===0?1:d.tabIndex===0?-1:c.tabIndex-d.tabIndex}),this._focusProperties.total=o.length;var s=-1;if(!this._focusedControl)s=r?0:o.length-1;else{var l=o.indexOf(this._focusedControl);s=l+(r?1:-1),s<0?s=o.length-1:s>=o.length&&(s=0)}o[s].focus(),this._focusProperties.index=s}},e.prototype.registerClipboardEvents=function(){self.addEventListener("copy",this._onClipboardCopy,!1),self.addEventListener("cut",this._onClipboardCut,!1),self.addEventListener("paste",this._onClipboardPaste,!1)},e.prototype.unRegisterClipboardEvents=function(){self.removeEventListener("copy",this._onClipboardCopy),self.removeEventListener("cut",this._onClipboardCut),self.removeEventListener("paste",this._onClipboardPaste)},e.prototype._transformUvs=function(r){var o=this.getTextureMatrix(),s;if(o.isIdentityAs3x2())s=r;else{var l=n.TmpVectors.Matrix[0];o.getRowToRef(0,n.TmpVectors.Vector4[0]),o.getRowToRef(1,n.TmpVectors.Vector4[1]),o.getRowToRef(2,n.TmpVectors.Vector4[2]);var c=n.TmpVectors.Vector4[0],d=n.TmpVectors.Vector4[1],p=n.TmpVectors.Vector4[2];l.setRowFromFloats(0,c.x,c.y,0,0),l.setRowFromFloats(1,d.x,d.y,0,0),l.setRowFromFloats(2,0,0,1,0),l.setRowFromFloats(3,p.x,p.y,0,1),s=n.TmpVectors.Vector2[0],n.Vector2.TransformToRef(r,l,s)}if((this.wrapU===n.Texture.WRAP_ADDRESSMODE||this.wrapU===n.Texture.MIRROR_ADDRESSMODE)&&s.x>1){var u=s.x-Math.trunc(s.x);this.wrapU===n.Texture.MIRROR_ADDRESSMODE&&Math.trunc(s.x)%2===1&&(u=1-u),s.x=u}if((this.wrapV===n.Texture.WRAP_ADDRESSMODE||this.wrapV===n.Texture.MIRROR_ADDRESSMODE)&&s.y>1){var g=s.y-Math.trunc(s.y);this.wrapV===n.Texture.MIRROR_ADDRESSMODE&&Math.trunc(s.x)%2===1&&(g=1-g),s.y=g}return s},e.prototype.attachToMesh=function(r,o){var s=this;o===void 0&&(o=!0);var l=this.getScene();l&&(this._pointerObserver&&l.onPointerObservable.remove(this._pointerObserver),this._pointerObserver=l.onPointerObservable.add(function(c){if(!(c.type!==n.PointerEventTypes.POINTERMOVE&&c.type!==n.PointerEventTypes.POINTERUP&&c.type!==n.PointerEventTypes.POINTERDOWN&&c.type!==n.PointerEventTypes.POINTERWHEEL)){c.type===n.PointerEventTypes.POINTERMOVE&&c.event.pointerId&&(s._defaultMousePointerId=c.event.pointerId);var d=c.event.pointerId||s._defaultMousePointerId;if(c.pickInfo&&c.pickInfo.hit&&c.pickInfo.pickedMesh===r){var p=c.pickInfo.getTextureCoordinates();if(p){p=s._transformUvs(p);var u=s.getSize();s._doPicking(p.x*u.width,(s.applyYInversionOnUpdate?1-p.y:p.y)*u.height,c,c.type,d,c.event.button,c.event.deltaX,c.event.deltaY)}}else if(c.type===n.PointerEventTypes.POINTERUP){if(s._lastControlDown[d]&&s._lastControlDown[d]._forcePointerUp(d),delete s._lastControlDown[d],s.focusedControl){var g=s.focusedControl.keepsFocusWith(),E=!0;if(g)for(var C=0,y=g;C<y.length;C++){var D=y[C];if(s!==D._host){var F=D._host;if(F._lastControlOver[d]&&F._lastControlOver[d].isAscendant(D)){E=!1;break}}}E&&(s.focusedControl=null)}}else c.type===n.PointerEventTypes.POINTERMOVE&&(s._lastControlOver[d]&&s._lastControlOver[d]._onPointerOut(s._lastControlOver[d],c,!0),delete s._lastControlOver[d])}}),r.enablePointerMoveEvents=o,this._attachPickingToSceneRender(l,function(){var c=s._defaultMousePointerId,d=l==null?void 0:l.pick(l.pointerX,l.pointerY);if(d&&d.hit&&d.pickedMesh===r){var p=d.getTextureCoordinates();if(p){p=s._transformUvs(p);var u=s.getSize();s._doPicking(p.x*u.width,(s.applyYInversionOnUpdate?1-p.y:p.y)*u.height,null,n.PointerEventTypes.POINTERMOVE,c,0)}}else s._lastControlOver[c]&&s._lastControlOver[c]._onPointerOut(s._lastControlOver[c],null,!0),delete s._lastControlOver[c]},!0),this._attachToOnPointerOut(l),this._attachToOnBlur(l))},e.prototype.moveFocusToControl=function(r){this.focusedControl=r,this._lastPickedControl=r,this._blockNextFocusCheck=!0},e.prototype._manageFocus=function(){if(this._blockNextFocusCheck){this._blockNextFocusCheck=!1,this._lastPickedControl=this._focusedControl;return}if(this._focusedControl&&this._focusedControl!==this._lastPickedControl){if(this._lastPickedControl.isFocusInvisible)return;this.focusedControl=null}},e.prototype._attachPickingToSceneRender=function(r,o,s){var l=this;this._sceneRenderObserver=r.onBeforeRenderObservable.add(function(){l.checkPointerEveryFrame&&(l._linkedControls.length>0||s)&&o()})},e.prototype._attachToOnPointerOut=function(r){var o=this;this._canvasPointerOutObserver=r.getEngine().onCanvasPointerOutObservable.add(function(s){o._lastControlOver[s.pointerId]&&o._lastControlOver[s.pointerId]._onPointerOut(o._lastControlOver[s.pointerId],null),delete o._lastControlOver[s.pointerId],o._lastControlDown[s.pointerId]&&o._lastControlDown[s.pointerId]!==o._capturingControl[s.pointerId]&&(o._lastControlDown[s.pointerId]._forcePointerUp(s.pointerId),delete o._lastControlDown[s.pointerId])})},e.prototype._attachToOnBlur=function(r){var o=this;this._canvasBlurObserver=r.getEngine().onCanvasBlurObservable.add(function(){Object.entries(o._lastControlDown).forEach(function(s){var l=s[1];l._onCanvasBlur()}),o.focusedControl=null,o._lastControlDown={}})},e.prototype.serializeContent=function(){var r=this.getSize(),o={root:{},width:r.width,height:r.height};return this._rootContainer.serialize(o.root),o},e.prototype.parseSerializedObject=function(r,o,s){if(this._rootContainer=v.Control.Parse(r.root,this,s),o){var l=r.width,c=r.height;typeof l=="number"&&typeof c=="number"&&l>=0&&c>=0?this.scaleTo(l,c):this.scaleTo(1920,1080)}},e.prototype.clone=function(r,o){var s=this.getScene();if(!s)return this;var l=this.getSize(),c=this.serializeContent(),d;return this._isFullscreen?d=e.CreateFullscreenUI(r??"Clone of "+this.name):o?d=e.CreateForMesh(o,l.width,l.height):d=new e(r??"Clone of "+this.name,l.width,l.height,s,!this.noMipmap,this.samplingMode),d.parseSerializedObject(c),d},e.ParseFromSnippetAsync=function(r,o,s,l){return(0,_.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,_.__generator)(this,function(p){switch(p.label){case 0:return c=s??e.CreateFullscreenUI("ADT from snippet"),r==="_BLANK"?[2,c]:[4,e._LoadURLContentAsync(e.SnippetUrl+"/"+r.replace(/#/g,"/"),!0)];case 1:return d=p.sent(),c.parseSerializedObject(d,o,l),[2,c]}})})},e.prototype.parseFromSnippetAsync=function(r,o,s){return e.ParseFromSnippetAsync(r,o,this,s)},e.ParseFromFileAsync=function(r,o,s,l){return(0,_.__awaiter)(this,void 0,void 0,function(){var c,d;return(0,_.__generator)(this,function(p){switch(p.label){case 0:return c=s??e.CreateFullscreenUI("ADT from URL"),[4,e._LoadURLContentAsync(r)];case 1:return d=p.sent(),c.parseSerializedObject(d,o,l),[2,c]}})})},e.prototype.parseFromURLAsync=function(r,o,s){return e.ParseFromFileAsync(r,o,this,s)},e._LoadURLContentAsync=function(r,o){return o===void 0&&(o=!1),r===""?Promise.reject("No URL provided"):new Promise(function(s,l){var c=new n.WebRequest;c.addEventListener("readystatechange",function(){if(c.readyState==4)if(c.status==200){var d=void 0;if(o){var p=JSON.parse(JSON.parse(c.responseText).jsonPayload);d=p.encodedGui?new TextDecoder("utf-8").decode((0,n.DecodeBase64ToBinary)(p.encodedGui)):p.gui}else d=c.responseText;var u=JSON.parse(d);s(u)}else l("Unable to load")}),c.open("GET",r),c.send()})},e._Overlaps=function(r,o){return!(r.centerX>o.centerX+o.widthInPixels||r.centerX+r.widthInPixels<o.centerX||r.centerY+r.heightInPixels<o.centerY||r.centerY>o.centerY+o.heightInPixels)},e.CreateForMesh=function(r,o,s,l,c,d,p,u){o===void 0&&(o=1024),s===void 0&&(s=1024),l===void 0&&(l=!0),c===void 0&&(c=!1),p===void 0&&(p=this._CreateMaterial),u===void 0&&(u=n.Texture.TRILINEAR_SAMPLINGMODE);var g=(0,n.RandomGUID)(),E=new e("AdvancedDynamicTexture for ".concat(r.name," [").concat(g,"]"),o,s,r.getScene(),!0,u,d);return p(r,g,E,c),E.attachToMesh(r,l),E},e._CreateMaterial=function(r,o,s,l){var c=(0,n.GetClass)("BABYLON.StandardMaterial");if(!c)throw"StandardMaterial needs to be imported before as it contains a side-effect required by your code.";var d=new c("AdvancedDynamicTextureMaterial for ".concat(r.name," [").concat(o,"]"),r.getScene());d.backFaceCulling=!1,d.diffuseColor=n.Color3.Black(),d.specularColor=n.Color3.Black(),l?(d.diffuseTexture=s,d.emissiveTexture=s,s.hasAlpha=!0):(d.emissiveTexture=s,d.opacityTexture=s),r.material=d},e.CreateForMeshTexture=function(r,o,s,l,c,d){o===void 0&&(o=1024),s===void 0&&(s=1024),l===void 0&&(l=!0),d===void 0&&(d=n.Texture.TRILINEAR_SAMPLINGMODE);var p=new e(r.name+" AdvancedDynamicTexture",o,s,r.getScene(),!0,d,c);return p.attachToMesh(r,l),p},e.CreateFullscreenUI=function(r,o,s,l,c){o===void 0&&(o=!0),s===void 0&&(s=null),l===void 0&&(l=n.Texture.BILINEAR_SAMPLINGMODE),c===void 0&&(c=!1);var d=!s||s._isScene,p=d?new e(r,0,0,s,!1,l):new e(r,s),u=p.getScene(),g=new n.Layer(r+"_layer",null,u,!o);if(g.texture=p,p._layerToDispose=g,p._isFullscreen=!0,p.useStandalone&&(g.layerMask=0),c&&u){var E=1/u.getEngine().getHardwareScalingLevel();p._rootContainer.scaleX=E,p._rootContainer.scaleY=E}return p.attach(),p},e.prototype.scale=function(r){t.prototype.scale.call(this,r),this.markAsDirty()},e.prototype.scaleTo=function(r,o){t.prototype.scaleTo.call(this,r,o),this.markAsDirty()},e.prototype._checkGuiIsReady=function(){this.guiIsReady()&&(this.onGuiReadyObservable.notifyObservers(this),this.onGuiReadyObservable.clear())},e.prototype.guiIsReady=function(){return this._rootContainer.isReady()},e.SnippetUrl=n.Constants.SnippetUrl,e.AllowGPUOptimizations=!0,e}(n.DynamicTexture)},"../../../dev/gui/src/2D/controls/button.ts":(k,b,h)=>{h.r(b),h.d(b,{Button:()=>i});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/rectangle.ts"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/controls/textBlock.ts"),f=h("../../../dev/gui/src/2D/controls/image.ts"),a=h("babylonjs/Misc/perfCounter"),i=function(t){(0,_.__extends)(e,t);function e(r){var o=t.call(this,r)||this;o.name=r,o.thickness=1,o.isPointerBlocker=!0;var s=null;return o.pointerEnterAnimation=function(){s=o.alpha,o.alpha-=.1},o.pointerOutAnimation=function(){s!==null&&(o.alpha=s)},o.pointerDownAnimation=function(){o.scaleX-=.05,o.scaleY-=.05},o.pointerUpAnimation=function(){o.scaleX+=.05,o.scaleY+=.05},o}return Object.defineProperty(e.prototype,"image",{get:function(){return this._image},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBlock",{get:function(){return this._textBlock},enumerable:!1,configurable:!0}),e.prototype._getTypeName=function(){return"Button"},e.prototype._processPicking=function(r,o,s,l,c,d,p,u){if(!this._isEnabled||!this.isHitTestVisible||!this.isVisible||this.notRenderable||!t.prototype.contains.call(this,r,o))return!1;if(this.delegatePickingToChildren){for(var g=!1,E=this._children.length-1;E>=0;E--){var C=this._children[E];if(C.isEnabled&&C.isHitTestVisible&&C.isVisible&&!C.notRenderable&&C.contains(r,o)){g=!0;break}}if(!g)return!1}return this._processObservables(l,r,o,s,c,d,p,u),!0},e.prototype._onPointerEnter=function(r,o){return t.prototype._onPointerEnter.call(this,r,o)?(!this.isReadOnly&&this.pointerEnterAnimation&&this.pointerEnterAnimation(),!0):!1},e.prototype._onPointerOut=function(r,o,s){s===void 0&&(s=!1),!this.isReadOnly&&this.pointerOutAnimation&&this.pointerOutAnimation(),t.prototype._onPointerOut.call(this,r,o,s)},e.prototype._onPointerDown=function(r,o,s,l,c){return t.prototype._onPointerDown.call(this,r,o,s,l,c)?(!this.isReadOnly&&this.pointerDownAnimation&&this.pointerDownAnimation(),!0):!1},e.prototype._getRectangleFill=function(r){return this.isEnabled?this._getBackgroundColor(r):this._disabledColor},e.prototype._onPointerUp=function(r,o,s,l,c,d){!this.isReadOnly&&this.pointerUpAnimation&&this.pointerUpAnimation(),t.prototype._onPointerUp.call(this,r,o,s,l,c,d)},e.prototype.serialize=function(r,o){t.prototype.serialize.call(this,r,o),!(!this.isSerializable&&!o)&&(this._textBlock&&(r.textBlockName=this._textBlock.name),this._image&&(r.imageName=this._image.name))},e.prototype._parseFromContent=function(r,o){t.prototype._parseFromContent.call(this,r,o),r.textBlockName&&(this._textBlock=this.getChildByName(r.textBlockName)),r.imageName&&(this._image=this.getChildByName(r.imageName))},e.CreateImageButton=function(r,o,s){var l=new this(r),c=new v.TextBlock(r+"_button",o);c.textWrapping=!0,c.textHorizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_CENTER,c.paddingLeft="20%",l.addControl(c);var d=new f.Image(r+"_icon",s);return d.width="20%",d.stretch=f.Image.STRETCH_UNIFORM,d.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,l.addControl(d),l._image=d,l._textBlock=c,l},e.CreateImageOnlyButton=function(r,o){var s=new this(r),l=new f.Image(r+"_icon",o);return l.stretch=f.Image.STRETCH_FILL,l.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,s.addControl(l),s._image=l,s},e.CreateSimpleButton=function(r,o){var s=new this(r),l=new v.TextBlock(r+"_button",o);return l.textWrapping=!0,l.textHorizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_CENTER,s.addControl(l),s._textBlock=l,s},e.CreateImageWithCenterTextButton=function(r,o,s){var l=new this(r),c=new f.Image(r+"_icon",s);c.stretch=f.Image.STRETCH_FILL,l.addControl(c);var d=new v.TextBlock(r+"_button",o);return d.textWrapping=!0,d.textHorizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_CENTER,l.addControl(d),l._image=c,l._textBlock=d,l},e}(n.Rectangle);(0,a.RegisterClass)("BABYLON.GUI.Button",i)},"../../../dev/gui/src/2D/controls/checkbox.ts":(k,b,h)=>{h.r(b),h.d(b,{Checkbox:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),f=h("../../../dev/gui/src/2D/controls/textBlock.ts"),a=function(i){(0,_.__extends)(t,i);function t(e){var r=i.call(this,e)||this;return r.name=e,r._isChecked=!1,r._background="black",r._checkSizeRatio=.8,r._thickness=1,r.onIsCheckedChangedObservable=new n.Observable,r.isPointerBlocker=!0,r}return Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(e){this._thickness!==e&&(this._thickness=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkSizeRatio",{get:function(){return this._checkSizeRatio},set:function(e){e=Math.max(Math.min(1,e),0),this._checkSizeRatio!==e&&(this._checkSizeRatio=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"background",{get:function(){return this._background},set:function(e){this._background!==e&&(this._background=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return this._isChecked},set:function(e){this._isChecked!==e&&(this._isChecked=e,this._markAsDirty(),this.onIsCheckedChangedObservable.notifyObservers(e))},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"Checkbox"},t.prototype._draw=function(e){e.save(),this._applyStates(e);var r=this._currentMeasure.width-this._thickness,o=this._currentMeasure.height-this._thickness;if((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur,e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY),e.fillStyle=this._isEnabled?this._background:this._disabledColor,e.fillRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,r,o),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),this._isChecked){e.fillStyle=this._isEnabled?this.color?this.color:"#ffffff":this._disabledColorItem;var s=r*this._checkSizeRatio,l=o*this._checkSizeRatio;e.fillRect(this._currentMeasure.left+this._thickness/2+(r-s)/2,this._currentMeasure.top+this._thickness/2+(o-l)/2,s,l)}e.strokeStyle=this.color,e.lineWidth=this._thickness,e.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,r,o),e.restore()},t.prototype._onPointerDown=function(e,r,o,s,l){return i.prototype._onPointerDown.call(this,e,r,o,s,l)?(this.isReadOnly||(this.isChecked=!this.isChecked),!0):!1},t.AddCheckBoxWithHeader=function(e,r){var o=new v.StackPanel;o.isVertical=!1,o.height="30px";var s=new t;s.width="20px",s.height="20px",s.isChecked=!0,s.color="green",s.onIsCheckedChangedObservable.add(r),o.addControl(s);var l=new f.TextBlock;return l.text=e,l.width="180px",l.paddingLeft="5px",l.textHorizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,l.color="white",o.addControl(l),o},(0,_.__decorate)([(0,n.serialize)()],t.prototype,"thickness",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"checkSizeRatio",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"background",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"isChecked",null),t}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.Checkbox",a)},"../../../dev/gui/src/2D/controls/colorpicker.ts":(k,b,h)=>{h.r(b),h.d(b,{ColorPicker:()=>e});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/controls/inputText.ts"),f=h("../../../dev/gui/src/2D/controls/rectangle.ts"),a=h("../../../dev/gui/src/2D/controls/button.ts"),i=h("../../../dev/gui/src/2D/controls/grid.ts"),t=h("../../../dev/gui/src/2D/controls/textBlock.ts"),e=function(r){(0,_.__extends)(o,r);function o(s){var l=r.call(this,s)||this;return l.name=s,l._value=n.Color3.Red(),l._tmpColor=new n.Color3,l._pointerStartedOnSquare=!1,l._pointerStartedOnWheel=!1,l._squareLeft=0,l._squareTop=0,l._squareSize=0,l._h=360,l._s=1,l._v=1,l._lastPointerDownId=-1,l.onValueChangedObservable=new n.Observable,l._pointerIsDown=!1,l.value=new n.Color3(.88,.1,.1),l.size="200px",l.isPointerBlocker=!0,l}return Object.defineProperty(o.prototype,"value",{get:function(){return this._value},set:function(s){this._value.equals(s)||(this._value.copyFrom(s),this._value.toHSVToRef(this._tmpColor),this._h=this._tmpColor.r,this._s=Math.max(this._tmpColor.g,1e-5),this._v=Math.max(this._tmpColor.b,1e-5),this._markAsDirty(),this._value.r<=o._Epsilon&&(this._value.r=0),this._value.g<=o._Epsilon&&(this._value.g=0),this._value.b<=o._Epsilon&&(this._value.b=0),this._value.r>=1-o._Epsilon&&(this._value.r=1),this._value.g>=1-o._Epsilon&&(this._value.g=1),this._value.b>=1-o._Epsilon&&(this._value.b=1),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this._width.toString(this._host)},set:function(s){this._width.toString(this._host)!==s&&this._width.fromString(s)&&(this._width.getValue(this._host)===0&&(s="1px",this._width.fromString(s)),this._height.fromString(s),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height.toString(this._host)},set:function(s){this._height.toString(this._host)!==s&&this._height.fromString(s)&&(this._height.getValue(this._host)===0&&(s="1px",this._height.fromString(s)),this._width.fromString(s),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this.width},set:function(s){this.width=s},enumerable:!1,configurable:!0}),o.prototype._getTypeName=function(){return"ColorPicker"},o.prototype._preMeasure=function(s){s.width<s.height?this._currentMeasure.height=s.width:this._currentMeasure.width=s.height},o.prototype._updateSquareProps=function(){var s=Math.min(this._currentMeasure.width,this._currentMeasure.height)*.5,l=s*.2,c=(s-l)*2,d=c/Math.sqrt(2),p=s-d*.5;this._squareLeft=this._currentMeasure.left+p,this._squareTop=this._currentMeasure.top+p,this._squareSize=d},o.prototype._drawGradientSquare=function(s,l,c,d,p,u){var g=u.createLinearGradient(l,c,d+l,c);g.addColorStop(0,"#fff"),g.addColorStop(1,"hsl("+s+", 100%, 50%)"),u.fillStyle=g,u.fillRect(l,c,d,p);var E=u.createLinearGradient(l,c,l,p+c);E.addColorStop(0,"rgba(0,0,0,0)"),E.addColorStop(1,"#000"),u.fillStyle=E,u.fillRect(l,c,d,p)},o.prototype._drawCircle=function(s,l,c,d){d.beginPath(),d.arc(s,l,c+1,0,2*Math.PI,!1),d.lineWidth=3,d.strokeStyle="#333333",d.stroke(),d.beginPath(),d.arc(s,l,c,0,2*Math.PI,!1),d.lineWidth=3,d.strokeStyle="#ffffff",d.stroke()},o.prototype._createColorWheelCanvas=function(s,l){var c=n.EngineStore.LastCreatedEngine;if(!c)throw new Error("Invalid engine. Unable to create a canvas.");for(var d=c.createCanvas(s*2,s*2),p=d.getContext("2d"),u=p.getImageData(0,0,s*2,s*2),g=u.data,E=this._tmpColor,C=s*s,y=s-l,D=y*y,F=-s;F<s;F++)for(var I=-s;I<s;I++){var R=F*F+I*I;if(!(R>C||R<D)){var w=Math.sqrt(R),V=Math.atan2(I,F);n.Color3.HSVtoRGBToRef(V*180/Math.PI+180,w/s,1,E);var Q=(F+s+(I+s)*2*s)*4;g[Q]=E.r*255,g[Q+1]=E.g*255,g[Q+2]=E.b*255;var Y=(w-y)/(s-y),se=.2,ue=.2,ve=.04,J=50,G=150;s<J?se=ue:s>G?se=ve:se=(ve-ue)*(s-J)/(G-J)+ue,Y=(w-y)/(s-y),Y<se?g[Q+3]=255*(Y/se):Y>1-se?g[Q+3]=255*(1-(Y-(1-se))/se):g[Q+3]=255}}return p.putImageData(u,0,0),d},o.prototype._draw=function(s){s.save(),this._applyStates(s);var l=Math.min(this._currentMeasure.width,this._currentMeasure.height)*.5,c=l*.2,d=this._currentMeasure.left,p=this._currentMeasure.top;(!this._colorWheelCanvas||this._colorWheelCanvas.width!=l*2)&&(this._colorWheelCanvas=this._createColorWheelCanvas(l,c)),this._updateSquareProps(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur,s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.fillRect(this._squareLeft,this._squareTop,this._squareSize,this._squareSize)),s.drawImage(this._colorWheelCanvas,d,p),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0),this._drawGradientSquare(this._h,this._squareLeft,this._squareTop,this._squareSize,this._squareSize,s);var u=this._squareLeft+this._squareSize*this._s,g=this._squareTop+this._squareSize*(1-this._v);this._drawCircle(u,g,l*.04,s);var E=l-c*.5;u=d+l+Math.cos((this._h-180)*Math.PI/180)*E,g=p+l+Math.sin((this._h-180)*Math.PI/180)*E,this._drawCircle(u,g,c*.35,s),s.restore()},o.prototype._updateValueFromPointer=function(s,l){if(this._pointerStartedOnWheel){var c=Math.min(this._currentMeasure.width,this._currentMeasure.height)*.5,d=c+this._currentMeasure.left,p=c+this._currentMeasure.top;this._h=Math.atan2(l-p,s-d)*180/Math.PI+180}else this._pointerStartedOnSquare&&(this._updateSquareProps(),this._s=(s-this._squareLeft)/this._squareSize,this._v=1-(l-this._squareTop)/this._squareSize,this._s=Math.min(this._s,1),this._s=Math.max(this._s,o._Epsilon),this._v=Math.min(this._v,1),this._v=Math.max(this._v,o._Epsilon));n.Color3.HSVtoRGBToRef(this._h,this._s,this._v,this._tmpColor),this.value=this._tmpColor},o.prototype._isPointOnSquare=function(s,l){this._updateSquareProps();var c=this._squareLeft,d=this._squareTop,p=this._squareSize;return s>=c&&s<=c+p&&l>=d&&l<=d+p},o.prototype._isPointOnWheel=function(s,l){var c=Math.min(this._currentMeasure.width,this._currentMeasure.height)*.5,d=c+this._currentMeasure.left,p=c+this._currentMeasure.top,u=c*.2,g=c-u,E=c*c,C=g*g,y=s-d,D=l-p,F=y*y+D*D;return F<=E&&F>=C},o.prototype._onPointerDown=function(s,l,c,d,p){if(!r.prototype._onPointerDown.call(this,s,l,c,d,p))return!1;if(this.isReadOnly)return!0;this._pointerIsDown=!0,this._pointerStartedOnSquare=!1,this._pointerStartedOnWheel=!1,this._invertTransformMatrix.transformCoordinates(l.x,l.y,this._transformedPosition);var u=this._transformedPosition.x,g=this._transformedPosition.y;return this._isPointOnSquare(u,g)?this._pointerStartedOnSquare=!0:this._isPointOnWheel(u,g)&&(this._pointerStartedOnWheel=!0),this._updateValueFromPointer(u,g),this._host._capturingControl[c]=this,this._lastPointerDownId=c,!0},o.prototype._onPointerMove=function(s,l,c,d){if(c==this._lastPointerDownId){if(!this.isReadOnly){this._invertTransformMatrix.transformCoordinates(l.x,l.y,this._transformedPosition);var p=this._transformedPosition.x,u=this._transformedPosition.y;this._pointerIsDown&&this._updateValueFromPointer(p,u)}r.prototype._onPointerMove.call(this,s,l,c,d)}},o.prototype._onPointerUp=function(s,l,c,d,p,u){this._pointerIsDown=!1,delete this._host._capturingControl[c],r.prototype._onPointerUp.call(this,s,l,c,d,p,u)},o.prototype._onCanvasBlur=function(){this._forcePointerUp(),r.prototype._onCanvasBlur.call(this)},o.ShowPickerDialogAsync=function(s,l){return new Promise(function(c){l.pickerWidth=l.pickerWidth||"640px",l.pickerHeight=l.pickerHeight||"400px",l.headerHeight=l.headerHeight||"35px",l.lastColor=l.lastColor||"#000000",l.swatchLimit=l.swatchLimit||20,l.numSwatchesPerLine=l.numSwatchesPerLine||10;var d=l.swatchLimit/l.numSwatchesPerLine,p=parseFloat(l.pickerWidth)/l.numSwatchesPerLine,u=Math.floor(p*.25),g=u*(l.numSwatchesPerLine+1),E=Math.floor((parseFloat(l.pickerWidth)-g)/l.numSwatchesPerLine),C=E*d+u*(d+1),y=(parseInt(l.pickerHeight)+C+Math.floor(E*.25)).toString()+"px",D="#c0c0c0",F="#535353",I="#414141",R="515151",w="#555555",V="#454545",Q="#404040",Y=n.Color3.FromHexString("#dddddd"),se=Y.r+Y.g+Y.b,ue="#aaaaaa",ve="#ffffff",J,G,Ke=["R","G","B"],Ce="#454545",Ae="#f0f0f0",A,B,T=!1,P,x,M,S=new i.Grid;if(S.name="Dialog Container",S.width=l.pickerWidth,l.savedColors){S.height=y;var j=parseInt(l.pickerHeight)/parseInt(y);S.addRowDefinition(j,!1),S.addRowDefinition(1-j,!1)}else S.height=l.pickerHeight,S.addRowDefinition(1,!1);if(s.addControl(S),l.savedColors){B=new i.Grid,B.name="Swatch Drawer",B.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_TOP,B.background=F,B.width=l.pickerWidth;var ae=l.savedColors.length/l.numSwatchesPerLine,N=void 0;ae==0?N=0:N=ae+1,B.height=(E*ae+N*u).toString()+"px",B.top=Math.floor(E*.25).toString()+"px";for(var W=0;W<Math.ceil(l.savedColors.length/l.numSwatchesPerLine)*2+1;W++)W%2!=0?B.addRowDefinition(E,!0):B.addRowDefinition(u,!0);for(var W=0;W<l.numSwatchesPerLine*2+1;W++)W%2!=0?B.addColumnDefinition(E,!0):B.addColumnDefinition(u,!0);S.addControl(B,1,0)}var X=new i.Grid;X.name="Picker Panel",X.height=l.pickerHeight;var Te=parseInt(l.headerHeight)/parseInt(l.pickerHeight),K=[Te,1-Te];X.addRowDefinition(K[0],!1),X.addRowDefinition(K[1],!1),S.addControl(X,0,0);var $=new f.Rectangle;$.name="Dialogue Header Bar",$.background="#cccccc",$.thickness=0,X.addControl($,0,0);var H=a.Button.CreateSimpleButton("closeButton","a");H.fontFamily="coreglyphs";var pe=n.Color3.FromHexString($.background),ye=new n.Color3(1-pe.r,1-pe.g,1-pe.b);H.color=ye.toHexString(),H.fontSize=Math.floor(parseInt(l.headerHeight)*.6),H.textBlock.textVerticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,H.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_RIGHT,H.height=H.width=l.headerHeight,H.background=$.background,H.thickness=0,H.pointerDownAnimation=function(){},H.pointerUpAnimation=function(){H.background=$.background},H.pointerEnterAnimation=function(){H.color=$.background,H.background="red"},H.pointerOutAnimation=function(){H.color=ye.toHexString(),H.background=$.background},H.onPointerClickObservable.add(function(){_t(me.background)}),X.addControl(H,0,0);var Ie=new i.Grid;Ie.name="Dialogue Body",Ie.background=F;var $e=[.4375,.5625];Ie.addRowDefinition(1,!1),Ie.addColumnDefinition($e[0],!1),Ie.addColumnDefinition($e[1],!1),X.addControl(Ie,1,0);var Re=new i.Grid;Re.name="Picker Grid",Re.addRowDefinition(.85,!1),Re.addRowDefinition(.15,!1),Ie.addControl(Re,0,0);var fe=new o;fe.name="GUI Color Picker",l.pickerHeight<l.pickerWidth?fe.width=.89:fe.height=.89,fe.value=n.Color3.FromHexString(l.lastColor),fe.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_CENTER,fe.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,fe.onPointerDownObservable.add(function(){M=fe.name,x="",ge(!1)}),fe.onValueChangedObservable.add(function(O){M==fe.name&&Ee(O,fe.name)}),Re.addControl(fe,0,0);var Se=new i.Grid;Se.name="Dialogue Right Half",Se.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT;var qe=[.514,.486];Se.addRowDefinition(qe[0],!1),Se.addRowDefinition(qe[1],!1),Ie.addControl(Se,1,1);var Le=new i.Grid;Le.name="Swatches and Buttons";var et=[.417,.583];Le.addRowDefinition(1,!1),Le.addColumnDefinition(et[0],!1),Le.addColumnDefinition(et[1],!1),Se.addControl(Le,0,0);var De=new i.Grid;De.name="New and Current Swatches";var Ye=[.04,.16,.64,.16];De.addRowDefinition(Ye[0],!1),De.addRowDefinition(Ye[1],!1),De.addRowDefinition(Ye[2],!1),De.addRowDefinition(Ye[3],!1),Le.addControl(De,0,0);var we=new i.Grid;we.name="Active Swatches",we.width=.67,we.addRowDefinition(.5,!1),we.addRowDefinition(.5,!1),De.addControl(we,2,0);var At=Math.floor(parseInt(l.pickerWidth)*$e[1]*et[0]*.11),Pt=Math.floor(parseInt(l.pickerHeight)*K[1]*qe[0]*Ye[1]*.5),tt;l.pickerWidth>l.pickerHeight?tt=Pt:tt=At;var Xe=new t.TextBlock;Xe.text="new",Xe.name="New Color Label",Xe.color=D,Xe.fontSize=tt,De.addControl(Xe,1,0);var Pe=new f.Rectangle;Pe.name="New Color Swatch",Pe.background=l.lastColor,Pe.thickness=0,we.addControl(Pe,0,0);var me=a.Button.CreateSimpleButton("currentSwatch","");me.background=l.lastColor,me.thickness=0,me.onPointerClickObservable.add(function(){var O=n.Color3.FromHexString(me.background);Ee(O,me.name),ge(!1)}),me.pointerDownAnimation=function(){},me.pointerUpAnimation=function(){},me.pointerEnterAnimation=function(){},me.pointerOutAnimation=function(){},we.addControl(me,1,0);var Ve=new f.Rectangle;Ve.name="Swatch Outline",Ve.width=.67,Ve.thickness=2,Ve.color=Q,Ve.isHitTestVisible=!1,De.addControl(Ve,2,0);var Ze=new t.TextBlock;Ze.name="Current Color Label",Ze.text="current",Ze.color=D,Ze.fontSize=tt,De.addControl(Ze,3,0);var Be=new i.Grid;Be.name="Button Grid",Be.height=.8;var it=1/3;Be.addRowDefinition(it,!1),Be.addRowDefinition(it,!1),Be.addRowDefinition(it,!1),Le.addControl(Be,0,1);var Ne=Math.floor(parseInt(l.pickerWidth)*$e[1]*et[1]*.67).toString()+"px",Qe=Math.floor(parseInt(l.pickerHeight)*K[1]*qe[0]*(parseFloat(Be.height.toString())/100)*it*.7).toString()+"px";parseFloat(Ne)>parseFloat(Qe)?J=Math.floor(parseFloat(Qe)*.45):J=Math.floor(parseFloat(Ne)*.11);var le=a.Button.CreateSimpleButton("butOK","OK");le.width=Ne,le.height=Qe,le.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,le.thickness=2,le.color=D,le.fontSize=J,le.background=F,le.onPointerEnterObservable.add(function(){le.background=I}),le.onPointerOutObservable.add(function(){le.background=F}),le.pointerDownAnimation=function(){le.background=R},le.pointerUpAnimation=function(){le.background=I},le.onPointerClickObservable.add(function(){ge(!1),_t(Pe.background)}),Be.addControl(le,0,0);var _e=a.Button.CreateSimpleButton("butCancel","Cancel");_e.width=Ne,_e.height=Qe,_e.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,_e.thickness=2,_e.color=D,_e.fontSize=J,_e.background=F,_e.onPointerEnterObservable.add(function(){_e.background=I}),_e.onPointerOutObservable.add(function(){_e.background=F}),_e.pointerDownAnimation=function(){_e.background=R},_e.pointerUpAnimation=function(){_e.background=I},_e.onPointerClickObservable.add(function(){ge(!1),_t(me.background)}),Be.addControl(_e,1,0),l.savedColors&&(P=a.Button.CreateSimpleButton("butSave","Save"),P.width=Ne,P.height=Qe,P.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,P.thickness=2,P.fontSize=J,l.savedColors.length<l.swatchLimit?(P.color=D,P.background=F):lt(P,!0),P.onPointerEnterObservable.add(function(){l.savedColors&&l.savedColors.length<l.swatchLimit&&(P.background=I)}),P.onPointerOutObservable.add(function(){l.savedColors&&l.savedColors.length<l.swatchLimit&&(P.background=F)}),P.pointerDownAnimation=function(){l.savedColors&&l.savedColors.length<l.swatchLimit&&(P.background=R)},P.pointerUpAnimation=function(){l.savedColors&&l.savedColors.length<l.swatchLimit&&(P.background=I)},P.onPointerClickObservable.add(function(){l.savedColors&&(l.savedColors.length==0&&at(!0),l.savedColors.length<l.swatchLimit&&st(Pe.background,P),ge(!1))}),l.savedColors.length>0&&at(!0),Be.addControl(P,2,0));var xe=new i.Grid;xe.name="Dialog Lower Right",xe.addRowDefinition(.02,!1),xe.addRowDefinition(.63,!1),xe.addRowDefinition(.21,!1),xe.addRowDefinition(.14,!1),Se.addControl(xe,1,0);var We=n.Color3.FromHexString(l.lastColor),he=new i.Grid;he.name="RGB Values",he.width=.82,he.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,he.addRowDefinition(1/3,!1),he.addRowDefinition(1/3,!1),he.addRowDefinition(1/3,!1),he.addColumnDefinition(.1,!1),he.addColumnDefinition(.2,!1),he.addColumnDefinition(.7,!1),xe.addControl(he,1,0);for(var W=0;W<Ke.length;W++){var rt=new t.TextBlock;rt.text=Ke[W],rt.color=D,rt.fontSize=J,he.addControl(rt,W,0)}var re=new v.InputText;re.width=.83,re.height=.72,re.name="rIntField",re.fontSize=J,re.text=(We.r*255).toString(),re.color=Ae,re.background=Ce,re.onFocusObservable.add(function(){M=re.name,x=re.text,ge(!1)}),re.onBlurObservable.add(function(){re.text==""&&(re.text="0"),Ue(re,"r"),M==re.name&&(M="")}),re.onTextChangedObservable.add(function(){M==re.name&&Ue(re,"r")}),he.addControl(re,0,1);var oe=new v.InputText;oe.width=.83,oe.height=.72,oe.name="gIntField",oe.fontSize=J,oe.text=(We.g*255).toString(),oe.color=Ae,oe.background=Ce,oe.onFocusObservable.add(function(){M=oe.name,x=oe.text,ge(!1)}),oe.onBlurObservable.add(function(){oe.text==""&&(oe.text="0"),Ue(oe,"g"),M==oe.name&&(M="")}),oe.onTextChangedObservable.add(function(){M==oe.name&&Ue(oe,"g")}),he.addControl(oe,1,1);var ne=new v.InputText;ne.width=.83,ne.height=.72,ne.name="bIntField",ne.fontSize=J,ne.text=(We.b*255).toString(),ne.color=Ae,ne.background=Ce,ne.onFocusObservable.add(function(){M=ne.name,x=ne.text,ge(!1)}),ne.onBlurObservable.add(function(){ne.text==""&&(ne.text="0"),Ue(ne,"b"),M==ne.name&&(M="")}),ne.onTextChangedObservable.add(function(){M==ne.name&&Ue(ne,"b")}),he.addControl(ne,2,1);var ee=new v.InputText;ee.width=.95,ee.height=.72,ee.name="rDecField",ee.fontSize=J,ee.text=We.r.toString(),ee.color=Ae,ee.background=Ce,ee.onFocusObservable.add(function(){M=ee.name,x=ee.text,ge(!1)}),ee.onBlurObservable.add(function(){(parseFloat(ee.text)==0||ee.text=="")&&(ee.text="0",Ge(ee,"r")),M==ee.name&&(M="")}),ee.onTextChangedObservable.add(function(){M==ee.name&&Ge(ee,"r")}),he.addControl(ee,0,2);var te=new v.InputText;te.width=.95,te.height=.72,te.name="gDecField",te.fontSize=J,te.text=We.g.toString(),te.color=Ae,te.background=Ce,te.onFocusObservable.add(function(){M=te.name,x=te.text,ge(!1)}),te.onBlurObservable.add(function(){(parseFloat(te.text)==0||te.text=="")&&(te.text="0",Ge(te,"g")),M==te.name&&(M="")}),te.onTextChangedObservable.add(function(){M==te.name&&Ge(te,"g")}),he.addControl(te,1,2);var ie=new v.InputText;ie.width=.95,ie.height=.72,ie.name="bDecField",ie.fontSize=J,ie.text=We.b.toString(),ie.color=Ae,ie.background=Ce,ie.onFocusObservable.add(function(){M=ie.name,x=ie.text,ge(!1)}),ie.onBlurObservable.add(function(){(parseFloat(ie.text)==0||ie.text=="")&&(ie.text="0",Ge(ie,"b")),M==ie.name&&(M="")}),ie.onTextChangedObservable.add(function(){M==ie.name&&Ge(ie,"b")}),he.addControl(ie,2,2);var Oe=new i.Grid;Oe.name="Hex Value",Oe.width=.82,Oe.addRowDefinition(1,!1),Oe.addColumnDefinition(.1,!1),Oe.addColumnDefinition(.9,!1),xe.addControl(Oe,2,0);var ot=new t.TextBlock;ot.text="#",ot.color=D,ot.fontSize=J,Oe.addControl(ot,0,0);var U=new v.InputText;U.width=.96,U.height=.72,U.name="hexField",U.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_CENTER,U.fontSize=J;var kt=l.lastColor.split("#");U.text=kt[1],U.color=Ae,U.background=Ce,U.onFocusObservable.add(function(){M=U.name,x=U.text,ge(!1)}),U.onBlurObservable.add(function(){if(U.text.length==3){var O=U.text.split("");U.text=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]}U.text==""&&(U.text="000000",Ee(n.Color3.FromHexString(U.text),"b")),M==U.name&&(M="")}),U.onTextChangedObservable.add(function(){var O=U.text,z=/[^0-9A-F]/i.test(O);if((U.text.length>6||z)&&M==U.name)U.text=x;else{if(U.text.length<6)for(var L=6-U.text.length,ce=0;ce<L;ce++)O="0"+O;if(U.text.length==3){var Z=U.text.split("");O=Z[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2]}O="#"+O,M==U.name&&(x=U.text,Ee(n.Color3.FromHexString(O),U.name))}}),Oe.addControl(U,0,1),l.savedColors&&l.savedColors.length>0&&st("",P);function Ee(O,z){M=z;var L=O.toHexString();if(Pe.background=L,re.name!=M&&(re.text=Math.floor(O.r*255).toString()),oe.name!=M&&(oe.text=Math.floor(O.g*255).toString()),ne.name!=M&&(ne.text=Math.floor(O.b*255).toString()),ee.name!=M&&(ee.text=O.r.toString()),te.name!=M&&(te.text=O.g.toString()),ie.name!=M&&(ie.text=O.b.toString()),U.name!=M){var ce=L.split("#");U.text=ce[1]}fe.name!=M&&(fe.value=O)}function Ue(O,z){var L=O.text,ce=/[^0-9]/g.test(L);if(ce){O.text=x;return}else L!=""&&(Math.floor(parseInt(L))<0?L="0":Math.floor(parseInt(L))>255?L="255":isNaN(parseInt(L))&&(L="0")),M==O.name&&(x=L);if(L!=""){L=parseInt(L).toString(),O.text=L;var Z=n.Color3.FromHexString(Pe.background);M==O.name&&(z=="r"?Ee(new n.Color3(parseInt(L)/255,Z.g,Z.b),O.name):z=="g"?Ee(new n.Color3(Z.r,parseInt(L)/255,Z.b),O.name):Ee(new n.Color3(Z.r,Z.g,parseInt(L)/255),O.name))}}function Ge(O,z){var L=O.text,ce=/[^0-9.]/g.test(L);if(ce){O.text=x;return}else L!=""&&L!="."&&parseFloat(L)!=0&&(parseFloat(L)<0?L="0.0":parseFloat(L)>1?L="1.0":isNaN(parseFloat(L))&&(L="0.0")),M==O.name&&(x=L);L!=""&&L!="."&&parseFloat(L)!=0?(L=parseFloat(L).toString(),O.text=L):L="0.0";var Z=n.Color3.FromHexString(Pe.background);M==O.name&&(z=="r"?Ee(new n.Color3(parseFloat(L),Z.g,Z.b),O.name):z=="g"?Ee(new n.Color3(Z.r,parseFloat(L),Z.b),O.name):Ee(new n.Color3(Z.r,Z.g,parseFloat(L)),O.name))}function Ft(O){l.savedColors&&l.savedColors.splice(O,1),l.savedColors&&l.savedColors.length==0&&(at(!1),T=!1)}function Mt(){if(l.savedColors&&l.savedColors[A]){var O=void 0;T?O="b":O="";var z=a.Button.CreateSimpleButton("Swatch_"+A,O);z.fontFamily="coreglyphs";var L=n.Color3.FromHexString(l.savedColors[A]),ce=L.r+L.g+L.b;ce>se?z.color=ue:z.color=ve,z.fontSize=Math.floor(E*.7),z.textBlock.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_CENTER,z.height=z.width=E.toString()+"px",z.background=l.savedColors[A],z.thickness=2;var Z=A;return z.pointerDownAnimation=function(){z.thickness=4},z.pointerUpAnimation=function(){z.thickness=3},z.pointerEnterAnimation=function(){z.thickness=3},z.pointerOutAnimation=function(){z.thickness=2},z.onPointerClickObservable.add(function(){T?(Ft(Z),st("",P)):l.savedColors&&Ee(n.Color3.FromHexString(l.savedColors[Z]),z.name)}),z}else return null}function ge(O){O!==void 0&&(T=O);var z;if(T){for(var L=0;L<B.children.length;L++)z=B.children[L],z.textBlock.text="b";G!==void 0&&(G.textBlock.text="Done")}else{for(var L=0;L<B.children.length;L++)z=B.children[L],z.textBlock.text="";G!==void 0&&(G.textBlock.text="Edit")}}function st(O,z){if(l.savedColors){O!=""&&l.savedColors.push(O),A=0,B.clearControls();var L=Math.ceil(l.savedColors.length/l.numSwatchesPerLine),ce=void 0;if(L==0?ce=0:ce=L+1,B.rowCount!=L+ce){for(var Z=B.rowCount,He=0;He<Z;He++)B.removeRowDefinition(0);for(var He=0;He<L+ce;He++)He%2?B.addRowDefinition(E,!0):B.addRowDefinition(u,!0)}B.height=(E*L+ce*u).toString()+"px";for(var ht=1,ct=1;ht<L+ce;ht+=2,ct++){var dt=void 0;l.savedColors.length>ct*l.numSwatchesPerLine?dt=l.numSwatchesPerLine:dt=l.savedColors.length-(ct-1)*l.numSwatchesPerLine;for(var Tt=Math.min(Math.max(dt,0),l.numSwatchesPerLine),ut=0,vt=1;ut<Tt;ut++)if(!(ut>l.numSwatchesPerLine)){var mt=Mt();if(mt!=null)B.addControl(mt,ht,vt),vt+=2,A++;else continue}}l.savedColors.length>=l.swatchLimit?lt(z,!0):lt(z,!1)}}function at(O){O?(G=a.Button.CreateSimpleButton("butEdit","Edit"),G.width=Ne,G.height=Qe,G.left=Math.floor(parseInt(Ne)*.1).toString()+"px",G.top=(parseFloat(G.left)*-1).toString()+"px",G.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_BOTTOM,G.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,G.thickness=2,G.color=D,G.fontSize=J,G.background=F,G.onPointerEnterObservable.add(function(){G.background=I}),G.onPointerOutObservable.add(function(){G.background=F}),G.pointerDownAnimation=function(){G.background=R},G.pointerUpAnimation=function(){G.background=I},G.onPointerClickObservable.add(function(){T?T=!1:T=!0,ge()}),Re.addControl(G,1,0)):Re.removeControl(G)}function lt(O,z){z?(O.color=w,O.background=V):(O.color=D,O.background=F)}function _t(O){l.savedColors&&l.savedColors.length>0?c({savedColors:l.savedColors,pickedColor:O}):c({pickedColor:O}),s.removeControl(S)}})},o._Epsilon=1e-6,(0,_.__decorate)([(0,n.serialize)()],o.prototype,"value",null),(0,_.__decorate)([(0,n.serialize)()],o.prototype,"width",null),(0,_.__decorate)([(0,n.serialize)()],o.prototype,"height",null),(0,_.__decorate)([(0,n.serialize)()],o.prototype,"size",null),o}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.ColorPicker",e)},"../../../dev/gui/src/2D/controls/container.ts":(k,b,h)=>{h.r(b),h.d(b,{Container:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/measure.ts"),f=h("../../../dev/gui/src/2D/math2D.ts"),a=function(i){(0,_.__extends)(t,i);function t(e){var r=i.call(this,e)||this;return r.name=e,r._children=new Array,r._measureForChildren=v.Measure.Empty(),r._background="",r._backgroundGradient=null,r._adaptWidthToChildren=!1,r._adaptHeightToChildren=!1,r._renderToIntermediateTexture=!1,r._intermediateTexture=null,r.delegatePickingToChildren=!1,r.logLayoutCycleErrors=!1,r.maxLayoutCycle=3,r.onControlAddedObservable=new n.Observable,r.onControlRemovedObservable=new n.Observable,r._inverseTransformMatrix=f.Matrix2D.Identity(),r._inverseMeasure=new v.Measure(0,0,0,0),r}return Object.defineProperty(t.prototype,"renderToIntermediateTexture",{get:function(){return this._renderToIntermediateTexture},set:function(e){this._renderToIntermediateTexture!==e&&(this._renderToIntermediateTexture=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adaptHeightToChildren",{get:function(){return this._adaptHeightToChildren},set:function(e){this._adaptHeightToChildren!==e&&(this._adaptHeightToChildren=e,e&&(this.height="100%"),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adaptWidthToChildren",{get:function(){return this._adaptWidthToChildren},set:function(e){this._adaptWidthToChildren!==e&&(this._adaptWidthToChildren=e,e&&(this.width="100%"),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"background",{get:function(){return this._background},set:function(e){this._background!==e&&(this._background=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundGradient",{get:function(){return this._backgroundGradient},set:function(e){this._backgroundGradient!==e&&(this._backgroundGradient=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(e){this._isReadOnly=e;for(var r=0,o=this._children;r<o.length;r++){var s=o[r];s.isReadOnly=e}},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"Container"},t.prototype._flagDescendantsAsMatrixDirty=function(){for(var e=0,r=this.children;e<r.length;e++){var o=r[e];o._isClipped=!1,o._markMatrixAsDirty()}},t.prototype.getChildByName=function(e){for(var r=0,o=this.children;r<o.length;r++){var s=o[r];if(s.name===e)return s}return null},t.prototype.getChildByType=function(e,r){for(var o=0,s=this.children;o<s.length;o++){var l=s[o];if(l.typeName===r)return l}return null},t.prototype.containsControl=function(e){return this.children.indexOf(e)!==-1},t.prototype.addControl=function(e){if(!e)return this;var r=this._children.indexOf(e);return r!==-1?this:(e._link(this._host),e._markAllAsDirty(),this._reOrderControl(e),this._markAsDirty(),this.onControlAddedObservable.notifyObservers(e),this)},t.prototype.clearControls=function(){for(var e=this.children.slice(),r=0,o=e;r<o.length;r++){var s=o[r];this.removeControl(s)}return this},t.prototype.removeControl=function(e){var r=this._children.indexOf(e);return r!==-1&&(this._children.splice(r,1),e.parent=null),e.linkWithMesh(null),this._host&&this._host._cleanControlAfterRemoval(e),this._markAsDirty(),this.onControlRemovedObservable.notifyObservers(e),this},t.prototype._reOrderControl=function(e){var r=e.linkedMesh;this.removeControl(e);for(var o=!1,s=0;s<this._children.length;s++)if(this._children[s].zIndex>e.zIndex){this._children.splice(s,0,e),o=!0;break}o||this._children.push(e),e.parent=this,r&&e.linkWithMesh(r),this._markAsDirty()},t.prototype._offsetLeft=function(e){i.prototype._offsetLeft.call(this,e);for(var r=0,o=this._children;r<o.length;r++){var s=o[r];s._offsetLeft(e)}},t.prototype._offsetTop=function(e){i.prototype._offsetTop.call(this,e);for(var r=0,o=this._children;r<o.length;r++){var s=o[r];s._offsetTop(e)}},t.prototype._markAllAsDirty=function(){i.prototype._markAllAsDirty.call(this);for(var e=0;e<this._children.length;e++)this._children[e]._markAllAsDirty()},t.prototype._getBackgroundColor=function(e){return this._backgroundGradient?this._backgroundGradient.getCanvasGradient(e):this._background},t.prototype._localDraw=function(e){(this._background||this._backgroundGradient)&&(e.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur,e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY),e.fillStyle=this._getBackgroundColor(e),e.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height),e.restore())},t.prototype._link=function(e){i.prototype._link.call(this,e);for(var r=0,o=this._children;r<o.length;r++){var s=o[r];s._link(e)}},t.prototype._beforeLayout=function(){},t.prototype._processMeasures=function(e,r){(this._isDirty||!this._cachedParentMeasure.isEqualsTo(e))&&(i.prototype._processMeasures.call(this,e,r),this._evaluateClippingState(e),this._renderToIntermediateTexture&&(this._intermediateTexture&&this._host.getScene()!=this._intermediateTexture.getScene()&&(this._intermediateTexture.dispose(),this._intermediateTexture=null),this._intermediateTexture?this._intermediateTexture.scaleTo(this._currentMeasure.width,this._currentMeasure.height):(this._intermediateTexture=new n.DynamicTexture("",{width:this._currentMeasure.width,height:this._currentMeasure.height},this._host.getScene(),!1,n.Texture.NEAREST_SAMPLINGMODE,n.Constants.TEXTUREFORMAT_RGBA,!1),this._intermediateTexture.hasAlpha=!0)))},t.prototype._layout=function(e,r){var o,s;if(!this.isDirty&&(!this.isVisible||this.notRenderable))return!1;this.host._numLayoutCalls++,this._isDirty&&this._currentMeasure.transformToRef(this._transformMatrix,this._prevCurrentMeasureTransformedIntoGlobalSpace);var l=0;r.save(),this._applyStates(r),this._beforeLayout();do{var c=-1,d=-1;if(this._rebuildLayout=!1,this._processMeasures(e,r),!this._isClipped){for(var p=0,u=this._children;p<u.length;p++){var g=u[p];g._tempParentMeasure.copyFrom(this._measureForChildren),g._layout(this._measureForChildren,r)&&g.isVisible&&!g.notRenderable&&(this.adaptWidthToChildren&&g._width.isPixel&&(c=Math.max(c,g._currentMeasure.width+g._paddingLeftInPixels+g._paddingRightInPixels)),this.adaptHeightToChildren&&g._height.isPixel&&(d=Math.max(d,g._currentMeasure.height+g._paddingTopInPixels+g._paddingBottomInPixels)))}this.adaptWidthToChildren&&c>=0&&(c+=this.paddingLeftInPixels+this.paddingRightInPixels,this.width!==c+"px"&&((o=this.parent)===null||o===void 0||o._markAsDirty(),this.width=c+"px",this._width.ignoreAdaptiveScaling=!0,this._rebuildLayout=!0)),this.adaptHeightToChildren&&d>=0&&(d+=this.paddingTopInPixels+this.paddingBottomInPixels,this.height!==d+"px"&&((s=this.parent)===null||s===void 0||s._markAsDirty(),this.height=d+"px",this._height.ignoreAdaptiveScaling=!0,this._rebuildLayout=!0)),this._postMeasure()}l++}while(this._rebuildLayout&&l<this.maxLayoutCycle);return l>=3&&this.logLayoutCycleErrors&&n.Logger.Error("Layout cycle detected in GUI (Container name=".concat(this.name,", uniqueId=").concat(this.uniqueId,")")),r.restore(),this._isDirty&&(this.invalidateRect(),this._isDirty=!1),!0},t.prototype._postMeasure=function(){},t.prototype._draw=function(e,r){var o=this._renderToIntermediateTexture&&this._intermediateTexture,s=o?this._intermediateTexture.getContext():e;o&&(s.save(),s.translate(-this._currentMeasure.left,-this._currentMeasure.top),r?(this._transformMatrix.invertToRef(this._inverseTransformMatrix),r.transformToRef(this._inverseTransformMatrix,this._inverseMeasure),s.clearRect(this._inverseMeasure.left,this._inverseMeasure.top,this._inverseMeasure.width,this._inverseMeasure.height)):s.clearRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),this._localDraw(s),e.save(),this.clipChildren&&this._clipForChildren(s);for(var l=0,c=this._children;l<c.length;l++){var d=c[l];r&&!d._intersectsRect(r)||d._render(s,r)}o&&(s.restore(),e.save(),e.globalAlpha=this.alpha,e.drawImage(s.canvas,this._currentMeasure.left,this._currentMeasure.top),e.restore()),e.restore()},t.prototype.getDescendantsToRef=function(e,r,o){if(r===void 0&&(r=!1),!!this.children)for(var s=0;s<this.children.length;s++){var l=this.children[s];(!o||o(l))&&e.push(l),r||l.getDescendantsToRef(e,!1,o)}},t.prototype._processPicking=function(e,r,o,s,l,c,d,p){if(!this._isEnabled||!this.isVisible||this.notRenderable)return!1;var u=i.prototype.contains.call(this,e,r);if(!u&&this.clipChildren)return!1;if(this.delegatePickingToChildren){for(var g=!1,E=this._children.length-1;E>=0;E--){var C=this._children[E];if(C.isEnabled&&C.isHitTestVisible&&C.isVisible&&!C.notRenderable&&C.contains(e,r)){g=!0;break}}if(!g)return!1}for(var E=this._children.length-1;E>=0;E--){var C=this._children[E];if(C._processPicking(e,r,o,s,l,c,d,p))return C.hoverCursor&&this._host._changeCursor(C.hoverCursor),!0}return!u||!this.isHitTestVisible?!1:this._processObservables(s,e,r,o,l,c,d,p)},t.prototype._additionalProcessing=function(e,r){i.prototype._additionalProcessing.call(this,e,r),this._measureForChildren.copyFrom(this._currentMeasure)},t.prototype._getAdaptDimTo=function(e){return e==="width"?this.adaptWidthToChildren:this.adaptHeightToChildren},t.prototype.isDimensionFullyDefined=function(e){if(this._getAdaptDimTo(e)){for(var r=0,o=this.children;r<o.length;r++){var s=o[r];if(!s.isDimensionFullyDefined(e))return!1}return!0}return i.prototype.isDimensionFullyDefined.call(this,e)},t.prototype.serialize=function(e,r,o){if(r===void 0&&(r=!1),o===void 0&&(o=!0),i.prototype.serialize.call(this,e,r,o),!(!this.isSerializable&&!r)&&(this.backgroundGradient&&(e.backgroundGradient={},this.backgroundGradient.serialize(e.backgroundGradient)),!!this.children.length)){e.children=[];for(var s=0,l=this.children;s<l.length;s++){var c=l[s];if(c.isSerializable||r){var d={};c.serialize(d,r,o),e.children.push(d)}}}},t.prototype.dispose=function(){var e;i.prototype.dispose.call(this);for(var r=this.children.length-1;r>=0;r--)this.children[r].dispose();(e=this._intermediateTexture)===null||e===void 0||e.dispose()},t.prototype._parseFromContent=function(e,r,o){var s;if(i.prototype._parseFromContent.call(this,e,r,o),this._link(r),e.backgroundGradient){var l=n.Tools.Instantiate("BABYLON.GUI."+e.backgroundGradient.className);this._backgroundGradient=new l,(s=this._backgroundGradient)===null||s===void 0||s.parse(e.backgroundGradient)}if(e.children)for(var c=0,d=e.children;c<d.length;c++){var p=d[c];this.addControl(m.Control.Parse(p,r,o))}},t.prototype.isReady=function(){for(var e=0,r=this.children;e<r.length;e++){var o=r[e];if(!o.isReady())return!1}return!0},(0,_.__decorate)([(0,n.serialize)()],t.prototype,"delegatePickingToChildren",void 0),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"renderToIntermediateTexture",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"maxLayoutCycle",void 0),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"adaptHeightToChildren",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"adaptWidthToChildren",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"background",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"backgroundGradient",null),t}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.Container",a)},"../../../dev/gui/src/2D/controls/control.ts":(k,b,h)=>{h.r(b),h.d(b,{Control:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/valueAndUnit.ts"),v=h("../../../dev/gui/src/2D/measure.ts"),f=h("../../../dev/gui/src/2D/math2D.ts"),a=function(){function i(t){this.name=t,this._alpha=1,this._alphaSet=!1,this._zIndex=0,this._currentMeasure=v.Measure.Empty(),this._tempPaddingMeasure=v.Measure.Empty(),this._fontFamily="",this._fontStyle="",this._fontWeight="",this._fontSize=new m.ValueAndUnit(18,m.ValueAndUnit.UNITMODE_PIXEL,!1),this._width=new m.ValueAndUnit(1,m.ValueAndUnit.UNITMODE_PERCENTAGE,!1),this._height=new m.ValueAndUnit(1,m.ValueAndUnit.UNITMODE_PERCENTAGE,!1),this._color="",this._style=null,this._horizontalAlignment=i.HORIZONTAL_ALIGNMENT_CENTER,this._verticalAlignment=i.VERTICAL_ALIGNMENT_CENTER,this._isDirty=!0,this._wasDirty=!1,this._tempParentMeasure=v.Measure.Empty(),this._prevCurrentMeasureTransformedIntoGlobalSpace=v.Measure.Empty(),this._cachedParentMeasure=v.Measure.Empty(),this._descendantsOnlyPadding=!1,this._paddingLeft=new m.ValueAndUnit(0),this._paddingRight=new m.ValueAndUnit(0),this._paddingTop=new m.ValueAndUnit(0),this._paddingBottom=new m.ValueAndUnit(0),this._left=new m.ValueAndUnit(0),this._top=new m.ValueAndUnit(0),this._scaleX=1,this._scaleY=1,this._rotation=0,this._transformCenterX=.5,this._transformCenterY=.5,this._transformMatrix=f.Matrix2D.Identity(),this._invertTransformMatrix=f.Matrix2D.Identity(),this._transformedPosition=n.Vector2.Zero(),this._isMatrixDirty=!0,this._isVisible=!0,this._isHighlighted=!1,this._highlightColor="#4affff",this._highlightLineWidth=2,this._fontSet=!1,this._dummyVector2=n.Vector2.Zero(),this._downCount=0,this._enterCount=-1,this._doNotRender=!1,this._downPointerIds={},this._evaluatedMeasure=new v.Measure(0,0,0,0),this._evaluatedParentMeasure=new v.Measure(0,0,0,0),this._isEnabled=!0,this._disabledColor="#9a9a9a",this._disabledColorItem="#6a6a6a",this._isReadOnly=!1,this._gradient=null,this._rebuildLayout=!1,this.onEnabledStateChangedObservable=new n.Observable,this._customData={},this._isClipped=!1,this._automaticSize=!1,this.metadata=null,this.isHitTestVisible=!0,this.isPointerBlocker=!1,this.isFocusInvisible=!1,this._clipChildren=!0,this._clipContent=!0,this.useBitmapCache=!1,this._shadowOffsetX=0,this._shadowOffsetY=0,this._shadowBlur=0,this._previousShadowBlur=0,this._shadowColor="black",this.hoverCursor="",this._linkOffsetX=new m.ValueAndUnit(0),this._linkOffsetY=new m.ValueAndUnit(0),this._accessibilityTag=null,this.onAccessibilityTagChangedObservable=new n.Observable,this.onWheelObservable=new n.Observable,this.onPointerMoveObservable=new n.Observable,this.onPointerOutObservable=new n.Observable,this.onPointerDownObservable=new n.Observable,this.onPointerUpObservable=new n.Observable,this.onPointerClickObservable=new n.Observable,this.onEnterPressedObservable=new n.Observable,this.onPointerEnterObservable=new n.Observable,this.onDirtyObservable=new n.Observable,this.onBeforeDrawObservable=new n.Observable,this.onAfterDrawObservable=new n.Observable,this.onDisposeObservable=new n.Observable,this.onIsVisibleChangedObservable=new n.Observable,this.isSerializable=!0,this._fixedRatio=0,this._fixedRatioMasterIsWidth=!0,this.animations=null,this._focusedColor=null,this.tabIndex=-1,this._isFocused=!1,this._unfocusedColor=null,this.onFocusObservable=new n.Observable,this.onBlurObservable=new n.Observable,this.onKeyboardEventProcessedObservable=new n.Observable,this._tmpMeasureA=new v.Measure(0,0,0,0)}return Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(t){this._isReadOnly=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"transformedMeasure",{get:function(){return this._evaluatedMeasure},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clipChildren",{get:function(){return this._clipChildren},set:function(t){this._clipChildren=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clipContent",{get:function(){return this._clipContent},set:function(t){this._clipContent=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shadowOffsetX",{get:function(){return this._shadowOffsetX},set:function(t){this._shadowOffsetX!==t&&(this._shadowOffsetX=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shadowOffsetY",{get:function(){return this._shadowOffsetY},set:function(t){this._shadowOffsetY!==t&&(this._shadowOffsetY=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shadowBlur",{get:function(){return this._shadowBlur},set:function(t){this._shadowBlur!==t&&(this._previousShadowBlur=this._shadowBlur,this._shadowBlur=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shadowColor",{get:function(){return this._shadowColor},set:function(t){this._shadowColor!==t&&(this._shadowColor=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"typeName",{get:function(){return this._getTypeName()},enumerable:!1,configurable:!0}),i.prototype.getClassName=function(){return this._getTypeName()},Object.defineProperty(i.prototype,"accessibilityTag",{get:function(){return this._accessibilityTag},set:function(t){this._accessibilityTag=t,this.onAccessibilityTagChangedObservable.notifyObservers(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"host",{get:function(){return this._host},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontOffset",{get:function(){return this._fontOffset},set:function(t){this._fontOffset=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alphaSet=!0,this._alpha=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"highlightLineWidth",{get:function(){return this._highlightLineWidth},set:function(t){this._highlightLineWidth!==t&&(this._highlightLineWidth=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isHighlighted",{get:function(){return this._isHighlighted},set:function(t){this._isHighlighted!==t&&(this._isHighlighted=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"highlightColor",{get:function(){return this._highlightColor},set:function(t){this._highlightColor!==t&&(this._highlightColor=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){this._scaleX!==t&&(this._scaleX=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){this._scaleY!==t&&(this._scaleY=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"transformCenterY",{get:function(){return this._transformCenterY},set:function(t){this._transformCenterY!==t&&(this._transformCenterY=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"transformCenterX",{get:function(){return this._transformCenterX},set:function(t){this._transformCenterX!==t&&(this._transformCenterX=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"horizontalAlignment",{get:function(){return this._horizontalAlignment},set:function(t){this._horizontalAlignment!==t&&(this._horizontalAlignment=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlignment",{get:function(){return this._verticalAlignment},set:function(t){this._verticalAlignment!==t&&(this._verticalAlignment=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fixedRatio",{get:function(){return this._fixedRatio},set:function(t){this._fixedRatio!==t&&(this._fixedRatio=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fixedRatioMasterIsWidth",{get:function(){return this._fixedRatioMasterIsWidth},set:function(t){this._fixedRatioMasterIsWidth!==t&&(this._fixedRatioMasterIsWidth=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width.toString(this._host)},set:function(t){this._fixedRatioMasterIsWidth=!0,this._width.toString(this._host)!==t&&this._width.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"widthInPixels",{get:function(){return this._width.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this._fixedRatioMasterIsWidth=!0,this.width=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height.toString(this._host)},set:function(t){this._fixedRatioMasterIsWidth=!1,this._height.toString(this._host)!==t&&this._height.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"heightInPixels",{get:function(){return this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this._fixedRatioMasterIsWidth=!1,this.height=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this._resetFontCache())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this._resetFontCache())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this._resetFontCache())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(t){var e=this;this._style&&(this._style.onChangedObservable.remove(this._styleObserver),this._styleObserver=null),this._style=t,this._style&&(this._styleObserver=this._style.onChangedObservable.add(function(){e._markAsDirty(),e._resetFontCache()})),this._markAsDirty(),this._resetFontCache()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_isFontSizeInPercentage",{get:function(){return this._fontSize.isPercentage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSizeInPixels",{get:function(){var t=this._style?this._style._fontSize:this._fontSize;return t.isPixel?t.getValue(this._host):t.getValueInPixel(this._host,this._tempParentMeasure.height||this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.fontSize=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize.toString(this._host)},set:function(t){this._fontSize.toString(this._host)!==t&&this._fontSize.fromString(t)&&(this._markAsDirty(),this._resetFontCache())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(t){this._color!==t&&(this._color=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"gradient",{get:function(){return this._gradient},set:function(t){this._gradient!==t&&(this._gradient=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this.zIndex!==t&&(this._zIndex=t,this.parent&&this.parent._reOrderControl(this))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"notRenderable",{get:function(){return this._doNotRender},set:function(t){this._doNotRender!==t&&(this._doNotRender=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){this._isVisible!==t&&(this._isVisible=t,this._markAsDirty(!0),this.onIsVisibleChangedObservable.notifyObservers(t))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linkedMesh",{get:function(){return this._linkedMesh},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"descendantsOnlyPadding",{get:function(){return this._descendantsOnlyPadding},set:function(t){this._descendantsOnlyPadding!==t&&(this._descendantsOnlyPadding=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft.toString(this._host)},set:function(t){this._paddingLeft.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingLeftInPixels",{get:function(){return this._paddingLeft.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.paddingLeft=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_paddingLeftInPixels",{get:function(){return this._descendantsOnlyPadding?0:this.paddingLeftInPixels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight.toString(this._host)},set:function(t){this._paddingRight.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingRightInPixels",{get:function(){return this._paddingRight.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.paddingRight=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_paddingRightInPixels",{get:function(){return this._descendantsOnlyPadding?0:this.paddingRightInPixels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop.toString(this._host)},set:function(t){this._paddingTop.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingTopInPixels",{get:function(){return this._paddingTop.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.paddingTop=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_paddingTopInPixels",{get:function(){return this._descendantsOnlyPadding?0:this.paddingTopInPixels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom.toString(this._host)},set:function(t){this._paddingBottom.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottomInPixels",{get:function(){return this._paddingBottom.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.paddingBottom=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_paddingBottomInPixels",{get:function(){return this._descendantsOnlyPadding?0:this.paddingBottomInPixels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this._left.toString(this._host)},set:function(t){this._left.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"leftInPixels",{get:function(){return this._left.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.left=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this._top.toString(this._host)},set:function(t){this._top.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"topInPixels",{get:function(){return this._top.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.top=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linkOffsetX",{get:function(){return this._linkOffsetX.toString(this._host)},set:function(t){this._linkOffsetX.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linkOffsetXInPixels",{get:function(){return this._linkOffsetX.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.linkOffsetX=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linkOffsetY",{get:function(){return this._linkOffsetY.toString(this._host)},set:function(t){this._linkOffsetY.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"linkOffsetYInPixels",{get:function(){return this._linkOffsetY.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.linkOffsetY=t+"px")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"centerX",{get:function(){return this._currentMeasure.left+this._currentMeasure.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"centerY",{get:function(){return this._currentMeasure.top+this._currentMeasure.height/2},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(t){var e=this;if(this._isEnabled!==t){this._isEnabled=t,this._markAsDirty();var r=function(o){if(o.host){for(var s in o.host._lastControlOver)o===e.host._lastControlOver[s]&&(o._onPointerOut(o,null,!0),delete o.host._lastControlOver[s]);o.children!==void 0&&o.children.forEach(r)}};r(this),this.onEnabledStateChangedObservable.notifyObservers(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disabledColor",{get:function(){return this._disabledColor},set:function(t){this._disabledColor!==t&&(this._disabledColor=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disabledColorItem",{get:function(){return this._disabledColorItem},set:function(t){this._disabledColorItem!==t&&(this._disabledColorItem=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"focusedColor",{get:function(){return this._focusedColor},set:function(t){this._focusedColor=t},enumerable:!1,configurable:!0}),i.prototype.onBlur=function(){this._isFocused&&(this._isFocused=!1,this.focusedColor&&this._unfocusedColor!=null&&(this.color=this._unfocusedColor),this.onBlurObservable.notifyObservers(this))},i.prototype.onFocus=function(){this._isFocused=!0,this.focusedColor&&(this._unfocusedColor=this.color,this.color=this.focusedColor),this.onFocusObservable.notifyObservers(this)},i.prototype.keepsFocusWith=function(){return null},i.prototype.focus=function(){this._host.moveFocusToControl(this)},i.prototype.blur=function(){this._host.focusedControl=null},i.prototype.processKeyboard=function(t){t.key==="Enter"&&this.onEnterPressedObservable.notifyObservers(this),this.onKeyboardEventProcessedObservable.notifyObservers(t,-1,this)},i.prototype._getTypeName=function(){return"Control"},i.prototype.getAscendantOfClass=function(t){return this.parent?this.parent.getClassName()===t?this.parent:this.parent.getAscendantOfClass(t):null},i.prototype.markAsDirty=function(t){t===void 0&&(t=!1),this._markAsDirty(t)},i.prototype.markAllAsDirty=function(){this._markAllAsDirty()},i.prototype._resetFontCache=function(){this._fontSet=!0,this._markAsDirty()},i.prototype.isAscendant=function(t){return this.parent?this.parent===t?!0:this.parent.isAscendant(t):!1},i.prototype.getLocalCoordinates=function(t){var e=n.Vector2.Zero();return this.getLocalCoordinatesToRef(t,e),e},i.prototype.getLocalCoordinatesToRef=function(t,e){return e.x=t.x-this._currentMeasure.left,e.y=t.y-this._currentMeasure.top,this},i.prototype.getParentLocalCoordinates=function(t){var e=n.Vector2.Zero();return e.x=t.x-this._cachedParentMeasure.left,e.y=t.y-this._cachedParentMeasure.top,e},i.prototype.moveToVector3=function(t,e){if(!this._host||this.parent!==this._host._rootContainer){n.Tools.Error("Cannot move a control to a vector3 if the control is not at root level");return}this.horizontalAlignment=i.HORIZONTAL_ALIGNMENT_LEFT,this.verticalAlignment=i.VERTICAL_ALIGNMENT_TOP;var r=this._host._getGlobalViewport(),o=n.Vector3.Project(t,n.Matrix.IdentityReadOnly,e.getTransformMatrix(),r);if(this._moveToProjectedPosition(o),o.z<0||o.z>1){this.notRenderable=!0;return}this.notRenderable=!1},i.prototype.getDescendantsToRef=function(t,e,r){},i.prototype.getDescendants=function(t,e){var r=[];return this.getDescendantsToRef(r,t,e),r},i.prototype.linkWithMesh=function(t){if(!this._host||this.parent&&this.parent!==this._host._rootContainer){t&&n.Tools.Error("Cannot link a control to a mesh if the control is not at root level");return}var e=this._host._linkedControls.indexOf(this);if(e!==-1){this._linkedMesh=t,t||this._host._linkedControls.splice(e,1);return}else if(!t)return;this.horizontalAlignment=i.HORIZONTAL_ALIGNMENT_LEFT,this.verticalAlignment=i.VERTICAL_ALIGNMENT_TOP,this._linkedMesh=t,this._host._linkedControls.push(this)},i.prototype.setPadding=function(t,e,r,o){var s=t,l=e??s,c=r??s,d=o??l;this.paddingTop=s,this.paddingRight=l,this.paddingBottom=c,this.paddingLeft=d},i.prototype.setPaddingInPixels=function(t,e,r,o){var s=t,l=e??s,c=r??s,d=o??l;this.paddingTopInPixels=s,this.paddingRightInPixels=l,this.paddingBottomInPixels=c,this.paddingLeftInPixels=d},i.prototype._moveToProjectedPosition=function(t){var e,r=this._left.getValue(this._host),o=this._top.getValue(this._host),s=(e=this.parent)===null||e===void 0?void 0:e._currentMeasure;s&&this._processMeasures(s,this._host.getContext());var l=t.x+this._linkOffsetX.getValue(this._host)-this._currentMeasure.width/2,c=t.y+this._linkOffsetY.getValue(this._host)-this._currentMeasure.height/2,d=this._left.ignoreAdaptiveScaling&&this._top.ignoreAdaptiveScaling;d&&(Math.abs(l-r)<.5&&(l=r),Math.abs(c-o)<.5&&(c=o)),!(!d&&r===l&&o===c)&&(this.left=l+"px",this.top=c+"px",this._left.ignoreAdaptiveScaling=!0,this._top.ignoreAdaptiveScaling=!0,this._markAsDirty())},i.prototype._offsetLeft=function(t){this._isDirty=!0,this._currentMeasure.left+=t},i.prototype._offsetTop=function(t){this._isDirty=!0,this._currentMeasure.top+=t},i.prototype._markMatrixAsDirty=function(){this._isMatrixDirty=!0,this._flagDescendantsAsMatrixDirty()},i.prototype._flagDescendantsAsMatrixDirty=function(){},i.prototype._intersectsRect=function(t,e){return this._transform(e),!(this._evaluatedMeasure.left>=t.left+t.width||this._evaluatedMeasure.top>=t.top+t.height||this._evaluatedMeasure.left+this._evaluatedMeasure.width<=t.left||this._evaluatedMeasure.top+this._evaluatedMeasure.height<=t.top)},i.prototype._computeAdditionalOffsetX=function(){return 0},i.prototype._computeAdditionalOffsetY=function(){return 0},i.prototype.invalidateRect=function(){if(this._transform(),this.host&&this.host.useInvalidateRectOptimization){this._currentMeasure.transformToRef(this._transformMatrix,this._tmpMeasureA),v.Measure.CombineToRef(this._tmpMeasureA,this._prevCurrentMeasureTransformedIntoGlobalSpace,this._tmpMeasureA);var t=this.shadowOffsetX,e=this.shadowOffsetY,r=Math.max(this._previousShadowBlur,this.shadowBlur),o=Math.min(Math.min(t,0)-r*2,0),s=Math.max(Math.max(t,0)+r*2,0),l=Math.min(Math.min(e,0)-r*2,0),c=Math.max(Math.max(e,0)+r*2,0),d=this._computeAdditionalOffsetX(),p=this._computeAdditionalOffsetY();this.host.invalidateRect(Math.floor(this._tmpMeasureA.left+o-d),Math.floor(this._tmpMeasureA.top+l-p),Math.ceil(this._tmpMeasureA.left+this._tmpMeasureA.width+s+d),Math.ceil(this._tmpMeasureA.top+this._tmpMeasureA.height+c+p))}},i.prototype._markAsDirty=function(t){t===void 0&&(t=!1),!(!this._isVisible&&!t)&&(this._isDirty=!0,this._markMatrixAsDirty(),this._host&&this._host.markAsDirty())},i.prototype._markAllAsDirty=function(){this._markAsDirty(),this._font&&this._prepareFont()},i.prototype._link=function(t){this._host=t,this._host&&(this.uniqueId=this._host.getScene().getUniqueId())},i.prototype._transform=function(t){if(!(!this._isMatrixDirty&&this._scaleX===1&&this._scaleY===1&&this._rotation===0)){var e=this._currentMeasure.width*this._transformCenterX+this._currentMeasure.left,r=this._currentMeasure.height*this._transformCenterY+this._currentMeasure.top;t&&(t.translate(e,r),t.rotate(this._rotation),t.scale(this._scaleX,this._scaleY),t.translate(-e,-r)),(this._isMatrixDirty||this._cachedOffsetX!==e||this._cachedOffsetY!==r)&&(this._cachedOffsetX=e,this._cachedOffsetY=r,this._isMatrixDirty=!1,this._flagDescendantsAsMatrixDirty(),f.Matrix2D.ComposeToRef(-e,-r,this._rotation,this._scaleX,this._scaleY,this.parent?this.parent._transformMatrix:null,this._transformMatrix),this._transformMatrix.invertToRef(this._invertTransformMatrix),this._currentMeasure.transformToRef(this._transformMatrix,this._evaluatedMeasure))}},i.prototype._renderHighlight=function(t){this.isHighlighted&&(t.save(),t.strokeStyle=this._highlightColor,t.lineWidth=this._highlightLineWidth,this._renderHighlightSpecific(t),t.restore())},i.prototype._renderHighlightSpecific=function(t){t.strokeRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)},i.prototype._getColor=function(t){return this.gradient?this.gradient.getCanvasGradient(t):this.color},i.prototype._applyStates=function(t){this._isFontSizeInPercentage&&(this._fontSet=!0),this._host&&this._host.useSmallestIdeal&&!this._font&&(this._fontSet=!0),this._fontSet&&(this._prepareFont(),this._fontSet=!1),this._font&&(t.font=this._font),(this._color||this.gradient)&&(t.fillStyle=this._getColor(t)),i.AllowAlphaInheritance?t.globalAlpha*=this._alpha:this._alphaSet&&(t.globalAlpha=this.parent&&!this.parent.renderToIntermediateTexture?this.parent.alpha*this._alpha:this._alpha)},i.prototype._layout=function(t,e){if(!this.isDirty&&(!this.isVisible||this.notRenderable))return!1;if(this._isDirty||!this._cachedParentMeasure.isEqualsTo(t)){this.host._numLayoutCalls++,this._currentMeasure.addAndTransformToRef(this._transformMatrix,-this._paddingLeftInPixels|0,-this._paddingTopInPixels|0,this._paddingRightInPixels|0,this._paddingBottomInPixels|0,this._prevCurrentMeasureTransformedIntoGlobalSpace),e.save(),this._applyStates(e);var r=0;do this._rebuildLayout=!1,this._processMeasures(t,e),r++;while(this._rebuildLayout&&r<3);r>=3&&n.Logger.Error("Layout cycle detected in GUI (Control name=".concat(this.name,", uniqueId=").concat(this.uniqueId,")")),e.restore(),this.invalidateRect(),this._evaluateClippingState(t)}return this._wasDirty=this._isDirty,this._isDirty=!1,!0},i.prototype._processMeasures=function(t,e){this._tempPaddingMeasure.copyFrom(t),this.parent&&this.parent.descendantsOnlyPadding&&(this._tempPaddingMeasure.left+=this.parent.paddingLeftInPixels,this._tempPaddingMeasure.top+=this.parent.paddingTopInPixels,this._tempPaddingMeasure.width-=this.parent.paddingLeftInPixels+this.parent.paddingRightInPixels,this._tempPaddingMeasure.height-=this.parent.paddingTopInPixels+this.parent.paddingBottomInPixels),this._currentMeasure.copyFrom(this._tempPaddingMeasure),this._preMeasure(this._tempPaddingMeasure,e),this._measure(),this._postMeasure(this._tempPaddingMeasure,e),this._computeAlignment(this._tempPaddingMeasure,e),this._currentMeasure.left=this._currentMeasure.left|0,this._currentMeasure.top=this._currentMeasure.top|0,this._currentMeasure.width=this._currentMeasure.width|0,this._currentMeasure.height=this._currentMeasure.height|0,this._additionalProcessing(this._tempPaddingMeasure,e),this._cachedParentMeasure.copyFrom(this._tempPaddingMeasure),this._currentMeasure.transformToRef(this._transformMatrix,this._evaluatedMeasure),this.onDirtyObservable.hasObservers()&&this.onDirtyObservable.notifyObservers(this)},i.prototype._evaluateClippingState=function(t){if(this._transform(),this._currentMeasure.transformToRef(this._transformMatrix,this._evaluatedMeasure),this.parent&&this.parent.clipChildren){if(t.transformToRef(this.parent._transformMatrix,this._evaluatedParentMeasure),this._evaluatedMeasure.left>this._evaluatedParentMeasure.left+this._evaluatedParentMeasure.width){this._isClipped=!0;return}if(this._evaluatedMeasure.left+this._evaluatedMeasure.width<this._evaluatedParentMeasure.left){this._isClipped=!0;return}if(this._evaluatedMeasure.top>this._evaluatedParentMeasure.top+this._evaluatedParentMeasure.height){this._isClipped=!0;return}if(this._evaluatedMeasure.top+this._evaluatedMeasure.height<this._evaluatedParentMeasure.top){this._isClipped=!0;return}}this._isClipped=!1},i.prototype._measure=function(){this._width.isPixel?this._currentMeasure.width=this._width.getValue(this._host):this._currentMeasure.width*=this._width.getValue(this._host),this._height.isPixel?this._currentMeasure.height=this._height.getValue(this._host):this._currentMeasure.height*=this._height.getValue(this._host),this._fixedRatio!==0&&(this._fixedRatioMasterIsWidth?this._currentMeasure.height=this._currentMeasure.width*this._fixedRatio:this._currentMeasure.width=this._currentMeasure.height*this._fixedRatio)},i.prototype._computeAlignment=function(t,e){var r=this._currentMeasure.width,o=this._currentMeasure.height,s=t.width,l=t.height,c=0,d=0;switch(this.horizontalAlignment){case i.HORIZONTAL_ALIGNMENT_LEFT:c=0;break;case i.HORIZONTAL_ALIGNMENT_RIGHT:c=s-r;break;case i.HORIZONTAL_ALIGNMENT_CENTER:c=(s-r)/2;break}switch(this.verticalAlignment){case i.VERTICAL_ALIGNMENT_TOP:d=0;break;case i.VERTICAL_ALIGNMENT_BOTTOM:d=l-o;break;case i.VERTICAL_ALIGNMENT_CENTER:d=(l-o)/2;break}this.descendantsOnlyPadding||(this._paddingLeft.isPixel?(this._currentMeasure.left+=this._paddingLeft.getValue(this._host),this._currentMeasure.width-=this._paddingLeft.getValue(this._host)):(this._currentMeasure.left+=s*this._paddingLeft.getValue(this._host),this._currentMeasure.width-=s*this._paddingLeft.getValue(this._host)),this._paddingRight.isPixel?this._currentMeasure.width-=this._paddingRight.getValue(this._host):this._currentMeasure.width-=s*this._paddingRight.getValue(this._host),this._paddingTop.isPixel?(this._currentMeasure.top+=this._paddingTop.getValue(this._host),this._currentMeasure.height-=this._paddingTop.getValue(this._host)):(this._currentMeasure.top+=l*this._paddingTop.getValue(this._host),this._currentMeasure.height-=l*this._paddingTop.getValue(this._host)),this._paddingBottom.isPixel?this._currentMeasure.height-=this._paddingBottom.getValue(this._host):this._currentMeasure.height-=l*this._paddingBottom.getValue(this._host)),this._left.isPixel?this._currentMeasure.left+=this._left.getValue(this._host):this._currentMeasure.left+=s*this._left.getValue(this._host),this._top.isPixel?this._currentMeasure.top+=this._top.getValue(this._host):this._currentMeasure.top+=l*this._top.getValue(this._host),this._currentMeasure.left+=c,this._currentMeasure.top+=d},i.prototype._preMeasure=function(t,e){},i.prototype._postMeasure=function(t,e){},i.prototype._additionalProcessing=function(t,e){},i.prototype._clipForChildren=function(t){},i.prototype._clip=function(t,e){if(t.beginPath(),i._ClipMeasure.copyFrom(this._currentMeasure),e){e.transformToRef(this._invertTransformMatrix,this._tmpMeasureA);var r=new v.Measure(0,0,0,0);r.left=Math.max(this._tmpMeasureA.left,this._currentMeasure.left),r.top=Math.max(this._tmpMeasureA.top,this._currentMeasure.top),r.width=Math.min(this._tmpMeasureA.left+this._tmpMeasureA.width,this._currentMeasure.left+this._currentMeasure.width)-r.left,r.height=Math.min(this._tmpMeasureA.top+this._tmpMeasureA.height,this._currentMeasure.top+this._currentMeasure.height)-r.top,i._ClipMeasure.copyFrom(r)}if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY){var o=this.shadowOffsetX,s=this.shadowOffsetY,l=this.shadowBlur,c=Math.min(Math.min(o,0)-l*2,0),d=Math.max(Math.max(o,0)+l*2,0),p=Math.min(Math.min(s,0)-l*2,0),u=Math.max(Math.max(s,0)+l*2,0);t.rect(i._ClipMeasure.left+c,i._ClipMeasure.top+p,i._ClipMeasure.width+d-c,i._ClipMeasure.height+u-p)}else t.rect(i._ClipMeasure.left,i._ClipMeasure.top,i._ClipMeasure.width,i._ClipMeasure.height);t.clip()},i.prototype._render=function(t,e){return!this.isVisible||this.notRenderable||this._isClipped?(this._isDirty=!1,!1):(this.host._numRenderCalls++,t.save(),this._applyStates(t),this._transform(t),this.clipContent&&this._clip(t,e),this.onBeforeDrawObservable.hasObservers()&&this.onBeforeDrawObservable.notifyObservers(this),this.useBitmapCache&&!this._wasDirty&&this._cacheData?t.putImageData(this._cacheData,this._currentMeasure.left,this._currentMeasure.top):this._draw(t,e),this.useBitmapCache&&this._wasDirty&&(this._cacheData=t.getImageData(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),this._renderHighlight(t),this.onAfterDrawObservable.hasObservers()&&this.onAfterDrawObservable.notifyObservers(this),t.restore(),!0)},i.prototype._draw=function(t,e){},i.prototype.contains=function(t,e){return this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y,t<this._currentMeasure.left||t>this._currentMeasure.left+this._currentMeasure.width||e<this._currentMeasure.top||e>this._currentMeasure.top+this._currentMeasure.height?!1:(this.isPointerBlocker&&(this._host._shouldBlockPointer=!0),!0)},i.prototype._processPicking=function(t,e,r,o,s,l,c,d){return!this._isEnabled||!this.isHitTestVisible||!this.isVisible||this._doNotRender||!this.contains(t,e)?!1:(this._processObservables(o,t,e,r,s,l,c,d),!0)},i.prototype._onPointerMove=function(t,e,r,o){var s=this.onPointerMoveObservable.notifyObservers(e,-1,t,this,o);s&&this.parent!=null&&!this.isPointerBlocker&&this.parent._onPointerMove(t,e,r,o)},i.prototype._onPointerEnter=function(t,e){if(!this._isEnabled||this._enterCount>0)return!1;this._enterCount===-1&&(this._enterCount=0),this._enterCount++;var r=this.onPointerEnterObservable.notifyObservers(this,-1,t,this,e);return r&&this.parent!=null&&!this.isPointerBlocker&&this.parent._onPointerEnter(t,e),!0},i.prototype._onPointerOut=function(t,e,r){if(r===void 0&&(r=!1),!(!r&&!this._isEnabled)){this._enterCount=0;var o=!0;t.isAscendant(this)||(o=this.onPointerOutObservable.notifyObservers(this,-1,t,this,e)),o&&this.parent!=null&&!this.isPointerBlocker&&this.parent._onPointerOut(t,e,r)}},i.prototype._onPointerDown=function(t,e,r,o,s){if(this._onPointerEnter(this,s),this.tabIndex!==-1&&(this.host.focusedControl=this),this._downCount!==0)return!1;this._downCount++,this._downPointerIds[r]=!0;var l=this.onPointerDownObservable.notifyObservers(new f.Vector2WithInfo(e,o),-1,t,this,s);return l&&this.parent!=null&&!this.isPointerBlocker&&this.parent._onPointerDown(t,e,r,o,s),s&&this.uniqueId!==this._host.rootContainer.uniqueId&&this._host._capturedPointerIds.add(s.event.pointerId),!0},i.prototype._onPointerUp=function(t,e,r,o,s,l){if(this._isEnabled){this._downCount=0,delete this._downPointerIds[r];var c=s;s&&(this._enterCount>0||this._enterCount===-1)&&(this._host.usePointerTapForClickEvent||(c=this.onPointerClickObservable.notifyObservers(new f.Vector2WithInfo(e,o),-1,t,this,l)));var d=this.onPointerUpObservable.notifyObservers(new f.Vector2WithInfo(e,o),-1,t,this,l);d&&this.parent!=null&&!this.isPointerBlocker&&this.parent._onPointerUp(t,e,r,o,c,l),l&&this.uniqueId!==this._host.rootContainer.uniqueId&&this._host._capturedPointerIds.delete(l.event.pointerId),this._host.usePointerTapForClickEvent&&this.isPointerBlocker&&(this._host._shouldBlockPointer=!1)}},i.prototype._onPointerPick=function(t,e,r,o,s,l){if(!this._host.usePointerTapForClickEvent)return!1;var c=s;s&&(this._enterCount>0||this._enterCount===-1)&&(c=this.onPointerClickObservable.notifyObservers(new f.Vector2WithInfo(e,o),-1,t,this,l));var d=this.onPointerUpObservable.notifyObservers(new f.Vector2WithInfo(e,o),-1,t,this,l);return d&&this.parent!=null&&!this.isPointerBlocker&&this.parent._onPointerPick(t,e,r,o,c,l),this._host.usePointerTapForClickEvent&&this.isPointerBlocker&&(this._host._shouldBlockPointer=!0),!0},i.prototype._forcePointerUp=function(t){if(t===void 0&&(t=null),t!==null)this._onPointerUp(this,n.Vector2.Zero(),t,0,!0);else for(var e in this._downPointerIds)this._onPointerUp(this,n.Vector2.Zero(),+e,0,!0)},i.prototype._onWheelScroll=function(t,e){if(this._isEnabled){var r=this.onWheelObservable.notifyObservers(new n.Vector2(t,e));r&&this.parent!=null&&this.parent._onWheelScroll(t,e)}},i.prototype._onCanvasBlur=function(){},i.prototype._processObservables=function(t,e,r,o,s,l,c,d){if(!this._isEnabled)return!1;if(this._dummyVector2.copyFromFloats(e,r),t===n.PointerEventTypes.POINTERMOVE){this._onPointerMove(this,this._dummyVector2,s,o);var p=this._host._lastControlOver[s];return p&&p!==this&&p._onPointerOut(this,o),p!==this&&this._onPointerEnter(this,o),this._host._lastControlOver[s]=this,!0}else{if(t===n.PointerEventTypes.POINTERDOWN)return this._onPointerDown(this,this._dummyVector2,s,l,o),this._host._registerLastControlDown(this,s),this._host._lastPickedControl=this,!0;if(t===n.PointerEventTypes.POINTERUP)return this._host._lastControlDown[s]&&this._host._lastControlDown[s]._onPointerUp(this,this._dummyVector2,s,l,!0,o),this._host.usePointerTapForClickEvent||delete this._host._lastControlDown[s],!0;if(t===n.PointerEventTypes.POINTERWHEEL){if(this._host._lastControlOver[s])return this._host._lastControlOver[s]._onWheelScroll(c,d),!0}else if(t===n.PointerEventTypes.POINTERTAP)return this._host._lastControlDown[s]&&this._host._lastControlDown[s]._onPointerPick(this,this._dummyVector2,s,l,!0,o),delete this._host._lastControlDown[s],!0}return!1},i.prototype._getStyleProperty=function(t,e){var r,o=(r=this._style&&this._style[t])!==null&&r!==void 0?r:this[t];return!o&&this.parent?this.parent._getStyleProperty(t,e):this.parent?o:e},i.prototype._prepareFont=function(){var t,e;!this._font&&!this._fontSet||(this._font=this._getStyleProperty("fontStyle","")+" "+this._getStyleProperty("fontWeight","")+" "+this.fontSizeInPixels+"px "+this._getStyleProperty("fontFamily","Arial"),this._fontOffset=i._GetFontOffset(this._font,(e=(t=this._host)===null||t===void 0?void 0:t.getScene())===null||e===void 0?void 0:e.getEngine()),this.getDescendants().forEach(function(r){return r._markAllAsDirty()}))},i.prototype.isDimensionFullyDefined=function(t){return this.getDimension(t).isPixel},i.prototype.getDimension=function(t){return t==="width"?this._width:this._height},i.prototype.clone=function(t){var e={};this.serialize(e,!0);var r=n.Tools.Instantiate("BABYLON.GUI."+e.className),o=new r;return o.parse(e,t),o},i.prototype.parse=function(t,e,r){var o=this;return this._urlRewriter=r,n.SerializationHelper.Parse(function(){return o},t,null),this.name=t.name,this._parseFromContent(t,e??this._host),this},i.prototype.serialize=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),!(!this.isSerializable&&!e)&&(n.SerializationHelper.Serialize(this,t),t.name=this.name,t.className=this.getClassName(),r&&this._prepareFont(),this._fontFamily&&(t.fontFamily=this._fontFamily),this.fontSize&&(t.fontSize=this.fontSize),this.fontWeight&&(t.fontWeight=this.fontWeight),this.fontStyle&&(t.fontStyle=this.fontStyle),this._gradient&&(t.gradient={},this._gradient.serialize(t.gradient)),n.SerializationHelper.AppendSerializedAnimations(this,t))},i.prototype._parseFromContent=function(t,e,r){var o,s;if(t.fontFamily&&(this.fontFamily=t.fontFamily),t.fontSize&&(this.fontSize=t.fontSize),t.fontWeight&&(this.fontWeight=t.fontWeight),t.fontStyle&&(this.fontStyle=t.fontStyle),t.gradient){var l=n.Tools.Instantiate("BABYLON.GUI."+t.gradient.className);this._gradient=new l,(o=this._gradient)===null||o===void 0||o.parse(t.gradient)}if(t.animations){this.animations=[];for(var c=0;c<t.animations.length;c++){var d=t.animations[c],p=(0,n.GetClass)("BABYLON.Animation");p&&this.animations.push(p.Parse(d))}t.autoAnimate&&this._host&&this._host.getScene()&&this._host.getScene().beginAnimation(this,t.autoAnimateFrom,t.autoAnimateTo,t.autoAnimateLoop,t.autoAnimateSpeed||1)}this.fixedRatioMasterIsWidth=(s=t.fixedRatioMasterIsWidth)!==null&&s!==void 0?s:this.fixedRatioMasterIsWidth},i.prototype.dispose=function(){if(this.onDirtyObservable.clear(),this.onBeforeDrawObservable.clear(),this.onAfterDrawObservable.clear(),this.onPointerDownObservable.clear(),this.onPointerEnterObservable.clear(),this.onPointerMoveObservable.clear(),this.onPointerOutObservable.clear(),this.onPointerUpObservable.clear(),this.onPointerClickObservable.clear(),this.onWheelObservable.clear(),this.onBlurObservable.clear(),this.onFocusObservable.clear(),this.onKeyboardEventProcessedObservable.clear(),this._styleObserver&&this._style&&(this._style.onChangedObservable.remove(this._styleObserver),this._styleObserver=null),this.parent&&(this.parent.removeControl(this),this.parent=null),this._host){var t=this._host._linkedControls.indexOf(this);t>-1&&this.linkWithMesh(null)}this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear()},Object.defineProperty(i,"HORIZONTAL_ALIGNMENT_LEFT",{get:function(){return i._HORIZONTAL_ALIGNMENT_LEFT},enumerable:!1,configurable:!0}),Object.defineProperty(i,"HORIZONTAL_ALIGNMENT_RIGHT",{get:function(){return i._HORIZONTAL_ALIGNMENT_RIGHT},enumerable:!1,configurable:!0}),Object.defineProperty(i,"HORIZONTAL_ALIGNMENT_CENTER",{get:function(){return i._HORIZONTAL_ALIGNMENT_CENTER},enumerable:!1,configurable:!0}),Object.defineProperty(i,"VERTICAL_ALIGNMENT_TOP",{get:function(){return i._VERTICAL_ALIGNMENT_TOP},enumerable:!1,configurable:!0}),Object.defineProperty(i,"VERTICAL_ALIGNMENT_BOTTOM",{get:function(){return i._VERTICAL_ALIGNMENT_BOTTOM},enumerable:!1,configurable:!0}),Object.defineProperty(i,"VERTICAL_ALIGNMENT_CENTER",{get:function(){return i._VERTICAL_ALIGNMENT_CENTER},enumerable:!1,configurable:!0}),i._GetFontOffset=function(t,e){if(i._FontHeightSizes[t])return i._FontHeightSizes[t];var r=e||n.EngineStore.LastCreatedEngine;if(!r)throw new Error("Invalid engine. Unable to create a canvas.");var o=r.getFontOffset(t);return i._FontHeightSizes[t]=o,o},i.Parse=function(t,e,r){var o=n.Tools.Instantiate("BABYLON.GUI."+t.className),s=n.SerializationHelper.Parse(function(){var l=new o;return l._urlRewriter=r,l},t,null);return s.name=t.name,s._parseFromContent(t,e,r),s},i.drawEllipse=function(t,e,r,o,s,l){l.translate(t,e),l.scale(r,o),l.beginPath(),l.arc(0,0,1,0,2*Math.PI*s,s<0),s>=1&&l.closePath(),l.scale(1/r,1/o),l.translate(-t,-e)},i.prototype.isReady=function(){return!0},i.AllowAlphaInheritance=!1,i._ClipMeasure=new v.Measure(0,0,0,0),i._HORIZONTAL_ALIGNMENT_LEFT=0,i._HORIZONTAL_ALIGNMENT_RIGHT=1,i._HORIZONTAL_ALIGNMENT_CENTER=2,i._VERTICAL_ALIGNMENT_TOP=0,i._VERTICAL_ALIGNMENT_BOTTOM=1,i._VERTICAL_ALIGNMENT_CENTER=2,i._FontHeightSizes={},i.AddHeader=function(){},(0,_.__decorate)([(0,n.serialize)()],i.prototype,"metadata",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isHitTestVisible",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isPointerBlocker",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isFocusInvisible",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"clipChildren",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"clipContent",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"useBitmapCache",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"shadowOffsetX",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"shadowOffsetY",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"shadowBlur",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"shadowColor",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"hoverCursor",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"fontOffset",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"alpha",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isSerializable",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"scaleX",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"scaleY",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"rotation",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"transformCenterY",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"transformCenterX",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"horizontalAlignment",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"verticalAlignment",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"fixedRatio",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"fixedRatioMasterIsWidth",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"width",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"height",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"style",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"color",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"gradient",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"zIndex",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"notRenderable",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isVisible",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"descendantsOnlyPadding",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"paddingLeft",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"paddingRight",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"paddingTop",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"paddingBottom",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"left",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"top",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"linkOffsetX",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"linkOffsetY",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isEnabled",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"disabledColor",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"disabledColorItem",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"overlapGroup",void 0),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"overlapDeltaMultiplier",void 0),i}();(0,n.RegisterClass)("BABYLON.GUI.Control",a)},"../../../dev/gui/src/2D/controls/displayGrid.ts":(k,b,h)=>{h.r(b),h.d(b,{DisplayGrid:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/control.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t.name=i,t._cellWidth=20,t._cellHeight=20,t._minorLineTickness=1,t._minorLineColor="DarkGray",t._majorLineTickness=2,t._majorLineColor="White",t._majorLineFrequency=5,t._background="Black",t._displayMajorLines=!0,t._displayMinorLines=!0,t}return Object.defineProperty(a.prototype,"displayMinorLines",{get:function(){return this._displayMinorLines},set:function(i){this._displayMinorLines!==i&&(this._displayMinorLines=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"displayMajorLines",{get:function(){return this._displayMajorLines},set:function(i){this._displayMajorLines!==i&&(this._displayMajorLines=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"background",{get:function(){return this._background},set:function(i){this._background!==i&&(this._background=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cellWidth",{get:function(){return this._cellWidth},set:function(i){this._cellWidth=i,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cellHeight",{get:function(){return this._cellHeight},set:function(i){this._cellHeight=i,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minorLineTickness",{get:function(){return this._minorLineTickness},set:function(i){this._minorLineTickness=i,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minorLineColor",{get:function(){return this._minorLineColor},set:function(i){this._minorLineColor=i,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"majorLineTickness",{get:function(){return this._majorLineTickness},set:function(i){this._majorLineTickness=i,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"majorLineColor",{get:function(){return this._majorLineColor},set:function(i){this._majorLineColor=i,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"majorLineFrequency",{get:function(){return this._majorLineFrequency},set:function(i){this._majorLineFrequency=i,this._markAsDirty()},enumerable:!1,configurable:!0}),a.prototype._draw=function(i){if(i.save(),this._applyStates(i),this._isEnabled){this._background&&(i.fillStyle=this._background,i.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height));var t=this._currentMeasure.width/this._cellWidth,e=this._currentMeasure.height/this._cellHeight,r=this._currentMeasure.left+this._currentMeasure.width/2,o=this._currentMeasure.top+this._currentMeasure.height/2;if(this._displayMinorLines){i.strokeStyle=this._minorLineColor,i.lineWidth=this._minorLineTickness;for(var s=-t/2+1;s<t/2;s++){var l=r+s*this.cellWidth;i.beginPath(),i.moveTo(l,this._currentMeasure.top),i.lineTo(l,this._currentMeasure.top+this._currentMeasure.height),i.stroke()}for(var c=-e/2+1;c<e/2;c++){var d=o+c*this.cellHeight;i.beginPath(),i.moveTo(this._currentMeasure.left,d),i.lineTo(this._currentMeasure.left+this._currentMeasure.width,d),i.stroke()}}if(this._displayMajorLines){i.strokeStyle=this._majorLineColor,i.lineWidth=this._majorLineTickness;for(var s=-t/2+this._majorLineFrequency;s<t/2;s+=this._majorLineFrequency){var l=r+s*this.cellWidth;i.beginPath(),i.moveTo(l,this._currentMeasure.top),i.lineTo(l,this._currentMeasure.top+this._currentMeasure.height),i.stroke()}for(var c=-e/2+this._majorLineFrequency;c<e/2;c+=this._majorLineFrequency){var d=o+c*this.cellHeight;i.moveTo(this._currentMeasure.left,d),i.lineTo(this._currentMeasure.left+this._currentMeasure.width,d),i.closePath(),i.stroke()}}}i.restore()},a.prototype._getTypeName=function(){return"DisplayGrid"},(0,_.__decorate)([(0,m.serialize)()],a.prototype,"displayMinorLines",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"displayMajorLines",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"background",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cellWidth",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cellHeight",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"minorLineTickness",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"minorLineColor",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"majorLineTickness",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"majorLineColor",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"majorLineFrequency",null),a}(n.Control);(0,m.RegisterClass)("BABYLON.GUI.DisplayGrid",v)},"../../../dev/gui/src/2D/controls/ellipse.ts":(k,b,h)=>{h.r(b),h.d(b,{Ellipse:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/container.ts"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("babylonjs/Misc/perfCounter"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._thickness=1,e._arc=1,e}return Object.defineProperty(i.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._thickness!==t&&(this._thickness=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"arc",{get:function(){return this._arc},set:function(t){this._arc!==t&&(this._arc=t,this._markAsDirty())},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"Ellipse"},i.prototype._localDraw=function(t){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),m.Control.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2-this._thickness/2,this._currentMeasure.height/2-this._thickness/2,this._arc,t),(this._backgroundGradient||this._background)&&(t.fillStyle=this._getBackgroundColor(t),t.fill()),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),this._thickness&&(this.color&&(t.strokeStyle=this.color),t.lineWidth=this._thickness,t.stroke()),t.restore()},i.prototype._additionalProcessing=function(t,e){a.prototype._additionalProcessing.call(this,t,e),this._measureForChildren.width-=2*this._thickness,this._measureForChildren.height-=2*this._thickness,this._measureForChildren.left+=this._thickness,this._measureForChildren.top+=this._thickness},i.prototype._clipForChildren=function(t){m.Control.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2,this._currentMeasure.height/2,this._arc,t),t.clip()},i.prototype._renderHighlightSpecific=function(t){m.Control.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2-this._highlightLineWidth/2,this._currentMeasure.height/2-this._highlightLineWidth/2,this._arc,t),t.stroke()},(0,_.__decorate)([(0,v.serialize)()],i.prototype,"thickness",null),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"arc",null),i}(n.Container);(0,v.RegisterClass)("BABYLON.GUI.Ellipse",f)},"../../../dev/gui/src/2D/controls/focusableButton.ts":(k,b,h)=>{h.r(b),h.d(b,{FocusableButton:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/button.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t.name=i,t._unfocusedColor=t.color,t}return a.prototype._onPointerDown=function(i,t,e,r,o){return this.isReadOnly||this.focus(),f.prototype._onPointerDown.call(this,i,t,e,r,o)},a}(n.Button);(0,m.RegisterClass)("BABYLON.GUI.FocusableButton",v)},"../../../dev/gui/src/2D/controls/focusableControl.ts":(k,b,h)=>{h.r(b)},"../../../dev/gui/src/2D/controls/gradient/BaseGradient.ts":(k,b,h)=>{h.r(b),h.d(b,{BaseGradient:()=>_});var _=function(){function n(){this._colorStops=[],this._gradientDirty=!0}return n.prototype._addColorStopsToCanvasGradient=function(){for(var m=0,v=this._colorStops;m<v.length;m++){var f=v[m];this._canvasGradient.addColorStop(f.offset,f.color)}},n.prototype.getCanvasGradient=function(m){return(this._gradientDirty||this._context!==m)&&(this._context=m,this._canvasGradient=this._createCanvasGradient(m),this._addColorStopsToCanvasGradient(),this._gradientDirty=!1),this._canvasGradient},n.prototype.addColorStop=function(m,v){this._colorStops.push({offset:m,color:v}),this._gradientDirty=!0},n.prototype.removeColorStop=function(m){this._colorStops=this._colorStops.filter(function(v){return v.offset!==m}),this._gradientDirty=!0},n.prototype.clearColorStops=function(){this._colorStops=[],this._gradientDirty=!0},Object.defineProperty(n.prototype,"colorStops",{get:function(){return this._colorStops},enumerable:!1,configurable:!0}),n.prototype.getClassName=function(){return"BaseGradient"},n.prototype.serialize=function(m){m.colorStops=this._colorStops,m.className=this.getClassName()},n.prototype.parse=function(m){this._colorStops=m.colorStops},n}()},"../../../dev/gui/src/2D/controls/gradient/LinearGradient.ts":(k,b,h)=>{h.r(b),h.d(b,{LinearGradient:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/gradient/BaseGradient.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i,t,e,r){var o=f.call(this)||this;return o._x0=i??0,o._y0=t??0,o._x1=e??0,o._y1=r??0,o}return a.prototype._createCanvasGradient=function(i){return i.createLinearGradient(this._x0,this._y0,this._x1,this._y1)},Object.defineProperty(a.prototype,"x0",{get:function(){return this._x0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"x1",{get:function(){return this._x1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y0",{get:function(){return this._y0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y1",{get:function(){return this._y1},enumerable:!1,configurable:!0}),a.prototype.getClassName=function(){return"LinearGradient"},a.prototype.serialize=function(i){f.prototype.serialize.call(this,i),i.x0=this._x0,i.y0=this._y0,i.x1=this._x1,i.y1=this._y1},a.prototype.parse=function(i){f.prototype.parse.call(this,i),this._x0=i.x0,this._y0=i.y0,this._x1=i.x1,this._y1=i.y1},a}(n.BaseGradient);(0,m.RegisterClass)("BABYLON.GUI.LinearGradient",v)},"../../../dev/gui/src/2D/controls/gradient/RadialGradient.ts":(k,b,h)=>{h.r(b),h.d(b,{RadialGradient:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/gradient/BaseGradient.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i,t,e,r,o,s){var l=f.call(this)||this;return l._x0=i??0,l._y0=t??0,l._r0=e??0,l._x1=r??0,l._y1=o??0,l._r1=s??0,l}return a.prototype._createCanvasGradient=function(i){return i.createRadialGradient(this._x0,this._y0,this._r0,this._x1,this._y1,this._r1)},Object.defineProperty(a.prototype,"x0",{get:function(){return this._x0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"x1",{get:function(){return this._x1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y0",{get:function(){return this._y0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y1",{get:function(){return this._y1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"r0",{get:function(){return this._r0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"r1",{get:function(){return this._r1},enumerable:!1,configurable:!0}),a.prototype.getClassName=function(){return"RadialGradient"},a.prototype.serialize=function(i){f.prototype.serialize.call(this,i),i.x0=this._x0,i.y0=this._y0,i.r0=this._r0,i.x1=this._x1,i.y1=this._y1,i.r1=this._r1},a.prototype.parse=function(i){f.prototype.parse.call(this,i),this._x0=i.x0,this._y0=i.y0,this._r0=i.r0,this._x1=i.x1,this._y1=i.y1,this._r1=i.r1},a}(n.BaseGradient);(0,m.RegisterClass)("BABYLON.GUI.RadialGradient",v)},"../../../dev/gui/src/2D/controls/grid.ts":(k,b,h)=>{h.r(b),h.d(b,{Grid:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/container.ts"),m=h("../../../dev/gui/src/2D/valueAndUnit.ts"),v=h("../../../dev/gui/src/2D/controls/control.ts"),f=h("babylonjs/Misc/perfCounter"),a=function(i){(0,_.__extends)(t,i);function t(e){var r=i.call(this,e)||this;return r.name=e,r._rowDefinitions=new Array,r._rowDefinitionObservers=[],r._columnDefinitions=new Array,r._columnDefinitionObservers=[],r._cells={},r._childControls=new Array,r}return Object.defineProperty(t.prototype,"clipContent",{get:function(){return this._clipContent},set:function(e){this._clipContent=e;for(var r in this._cells)this._cells[r].clipContent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clipChildren",{get:function(){return this._clipChildren},set:function(e){this._clipChildren=e;for(var r in this._cells)this._cells[r].clipChildren=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columnDefinitions.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowDefinitions.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._childControls},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._cells},enumerable:!1,configurable:!0}),t.prototype.getRowDefinition=function(e){return e<0||e>=this._rowDefinitions.length?null:this._rowDefinitions[e]},t.prototype.getColumnDefinition=function(e){return e<0||e>=this._columnDefinitions.length?null:this._columnDefinitions[e]},t.prototype.addRowDefinition=function(e,r){var o=this;return r===void 0&&(r=!1),this._rowDefinitions.push(new m.ValueAndUnit(e,r?m.ValueAndUnit.UNITMODE_PIXEL:m.ValueAndUnit.UNITMODE_PERCENTAGE)),this._rowDefinitionObservers.push(this._rowDefinitions[this.rowCount-1].onChangedObservable.add(function(){return o._markAsDirty()})),this._markAsDirty(),this},t.prototype.addColumnDefinition=function(e,r){var o=this;return r===void 0&&(r=!1),this._columnDefinitions.push(new m.ValueAndUnit(e,r?m.ValueAndUnit.UNITMODE_PIXEL:m.ValueAndUnit.UNITMODE_PERCENTAGE)),this._columnDefinitionObservers.push(this._columnDefinitions[this.columnCount-1].onChangedObservable.add(function(){return o._markAsDirty()})),this._markAsDirty(),this},t.prototype.setRowDefinition=function(e,r,o){var s=this;if(o===void 0&&(o=!1),e<0||e>=this._rowDefinitions.length)return this;var l=this._rowDefinitions[e];return l&&l.isPixel===o&&l.value===r?this:(this._rowDefinitions[e].onChangedObservable.remove(this._rowDefinitionObservers[e]),this._rowDefinitions[e]=new m.ValueAndUnit(r,o?m.ValueAndUnit.UNITMODE_PIXEL:m.ValueAndUnit.UNITMODE_PERCENTAGE),this._rowDefinitionObservers[e]=this._rowDefinitions[e].onChangedObservable.add(function(){return s._markAsDirty()}),this._markAsDirty(),this)},t.prototype.setColumnDefinition=function(e,r,o){var s=this;if(o===void 0&&(o=!1),e<0||e>=this._columnDefinitions.length)return this;var l=this._columnDefinitions[e];return l&&l.isPixel===o&&l.value===r?this:(this._columnDefinitions[e].onChangedObservable.remove(this._columnDefinitionObservers[e]),this._columnDefinitions[e]=new m.ValueAndUnit(r,o?m.ValueAndUnit.UNITMODE_PIXEL:m.ValueAndUnit.UNITMODE_PERCENTAGE),this._columnDefinitionObservers[e]=this._columnDefinitions[e].onChangedObservable.add(function(){return s._markAsDirty()}),this._markAsDirty(),this)},t.prototype.getChildrenAt=function(e,r){var o=this._cells["".concat(e,":").concat(r)];return o?o.children:null},t.prototype.getChildCellInfo=function(e){return e._tag},t.prototype._removeCell=function(e,r){if(e){i.prototype.removeControl.call(this,e);for(var o=0,s=e.children;o<s.length;o++){var l=s[o],c=this._childControls.indexOf(l);c!==-1&&this._childControls.splice(c,1)}delete this._cells[r]}},t.prototype._offsetCell=function(e,r){if(this._cells[r]){this._cells[e]=this._cells[r];for(var o=0,s=this._cells[e].children;o<s.length;o++){var l=s[o];l._tag=e}delete this._cells[r]}},t.prototype.removeColumnDefinition=function(e){if(e<0||e>=this._columnDefinitions.length)return this;for(var r=0;r<this._rowDefinitions.length;r++){var o="".concat(r,":").concat(e),s=this._cells[o];this._removeCell(s,o)}for(var r=0;r<this._rowDefinitions.length;r++)for(var l=e+1;l<this._columnDefinitions.length;l++){var c="".concat(r,":").concat(l-1),o="".concat(r,":").concat(l);this._offsetCell(c,o)}return this._columnDefinitions[e].onChangedObservable.remove(this._columnDefinitionObservers[e]),this._columnDefinitions.splice(e,1),this._columnDefinitionObservers.splice(e,1),this._markAsDirty(),this},t.prototype.removeRowDefinition=function(e){if(e<0||e>=this._rowDefinitions.length)return this;for(var r=0;r<this._columnDefinitions.length;r++){var o="".concat(e,":").concat(r),s=this._cells[o];this._removeCell(s,o)}for(var r=0;r<this._columnDefinitions.length;r++)for(var l=e+1;l<this._rowDefinitions.length;l++){var c="".concat(l-1,":").concat(r),o="".concat(l,":").concat(r);this._offsetCell(c,o)}return this._rowDefinitions[e].onChangedObservable.remove(this._rowDefinitionObservers[e]),this._rowDefinitions.splice(e,1),this._rowDefinitionObservers.splice(e,1),this._markAsDirty(),this},t.prototype.addControl=function(e,r,o){if(r===void 0&&(r=0),o===void 0&&(o=0),this._rowDefinitions.length===0&&this.addRowDefinition(1,!1),this._columnDefinitions.length===0&&this.addColumnDefinition(1,!1),this._childControls.indexOf(e)!==-1)return f.Tools.Warn("Control (Name:".concat(e.name,", UniqueId:").concat(e.uniqueId,") is already associated with this grid. You must remove it before reattaching it")),this;var s=Math.min(r,this._rowDefinitions.length-1),l=Math.min(o,this._columnDefinitions.length-1),c="".concat(s,":").concat(l),d=this._cells[c];return d||(d=new n.Container(c),this._cells[c]=d,d.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,d.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_TOP,d.clipContent=this.clipContent,d.clipChildren=this.clipChildren,i.prototype.addControl.call(this,d)),d.addControl(e),this._childControls.push(e),e._tag=c,e.parent=this,this._markAsDirty(),this},t.prototype.removeControl=function(e){var r=this._childControls.indexOf(e);r!==-1&&this._childControls.splice(r,1);var o=this._cells[e._tag];return o&&(o.removeControl(e),e._tag=null),this._markAsDirty(),this},t.prototype._getTypeName=function(){return"Grid"},t.prototype._getGridDefinitions=function(e){for(var r=[],o=[],s=[],l=[],c=this._currentMeasure.width,d=0,p=this._currentMeasure.height,u=0,g=0,E=0,C=this._rowDefinitions;E<C.length;E++){var y=C[E];if(y.isPixel){var D=y.getValue(this._host);p-=D,o[g]=D}else u+=y.value;g++}var F=0;g=0;for(var I=0,R=this._rowDefinitions;I<R.length;I++){var y=R[I];if(l.push(F),y.isPixel)F+=y.getValue(this._host);else{var D=Math.round(y.value/u*p);F+=D,o[g]=D}g++}g=0;for(var w=0,V=this._columnDefinitions;w<V.length;w++){var Q=V[w];if(Q.isPixel){var Y=Q.getValue(this._host);c-=Y,r[g]=Y}else d+=Q.value;g++}var se=0;g=0;for(var ue=0,ve=this._columnDefinitions;ue<ve.length;ue++){var Q=ve[ue];if(s.push(se),Q.isPixel)se+=Q.getValue(this._host);else{var Y=Math.round(Q.value/d*c);se+=Y,r[g]=Y}g++}e(s,l,r,o)},t.prototype._additionalProcessing=function(e,r){var o=this;this._getGridDefinitions(function(s,l,c,d){for(var p in o._cells)if(Object.prototype.hasOwnProperty.call(o._cells,p)){var u=p.split(":"),g=parseInt(u[0]),E=parseInt(u[1]),C=o._cells[p];C.leftInPixels=s[E],C.topInPixels=l[g],C.widthInPixels=c[E],C.heightInPixels=d[g],C._left.ignoreAdaptiveScaling=!0,C._top.ignoreAdaptiveScaling=!0,C._width.ignoreAdaptiveScaling=!0,C._height.ignoreAdaptiveScaling=!0}}),i.prototype._additionalProcessing.call(this,e,r)},t.prototype._flagDescendantsAsMatrixDirty=function(){for(var e in this._cells)if(Object.prototype.hasOwnProperty.call(this._cells,e)){var r=this._cells[e];r._markMatrixAsDirty()}},t.prototype._renderHighlightSpecific=function(e){var r=this;i.prototype._renderHighlightSpecific.call(this,e),this._getGridDefinitions(function(o,s,l,c){for(var d=0;d<o.length;d++){var p=r._currentMeasure.left+o[d]+l[d];e.beginPath(),e.moveTo(p,r._currentMeasure.top),e.lineTo(p,r._currentMeasure.top+r._currentMeasure.height),e.stroke()}for(var d=0;d<s.length;d++){var u=r._currentMeasure.top+s[d]+c[d];e.beginPath(),e.moveTo(r._currentMeasure.left,u),e.lineTo(r._currentMeasure.left+r._currentMeasure.width,u),e.stroke()}}),e.restore()},t.prototype.dispose=function(){i.prototype.dispose.call(this);for(var e=0,r=this._childControls;e<r.length;e++){var o=r[e];o.dispose()}for(var s=0;s<this._rowDefinitions.length;s++)this._rowDefinitions[s].onChangedObservable.remove(this._rowDefinitionObservers[s]);for(var s=0;s<this._columnDefinitions.length;s++)this._columnDefinitions[s].onChangedObservable.remove(this._columnDefinitionObservers[s]);this._rowDefinitionObservers.length=0,this._rowDefinitions.length=0,this._columnDefinitionObservers.length=0,this._columnDefinitions.length=0,this._cells={},this._childControls.length=0},t.prototype.serialize=function(e,r){if(i.prototype.serialize.call(this,e,r),!(!this.isSerializable&&!r)){e.columnCount=this.columnCount,e.rowCount=this.rowCount,e.columns=[],e.rows=[],e.tags=[];for(var o=0;o<this.columnCount;++o){var s=this.getColumnDefinition(o),l={value:s==null?void 0:s.getValue(this.host),unit:s==null?void 0:s.unit};e.columns.push(l)}for(var o=0;o<this.rowCount;++o){var c=this.getRowDefinition(o),l={value:c==null?void 0:c.getValue(this.host),unit:c==null?void 0:c.unit};e.rows.push(l)}this.children.forEach(function(d){e.tags.push(d._tag)})}},t.prototype._parseFromContent=function(e,r){i.prototype._parseFromContent.call(this,e,r);var o=[];this.children.forEach(function(E){o.push(E)}),this.removeRowDefinition(0),this.removeColumnDefinition(0);for(var s=0;s<e.columnCount;++s){var l=e.columns[s].value,c=e.columns[s].unit;this.addColumnDefinition(l,c===1)}for(var s=0;s<e.rowCount;++s){var d=e.rows[s].value,c=e.rows[s].unit;this.addRowDefinition(d,c===1)}for(var s=0;s<o.length;++s){var p=e.tags[s],u=parseInt(p.substring(0,p.search(":")));isNaN(u)&&(u=0);var g=parseInt(p.substring(p.search(":")+1));isNaN(g)&&(g=0),this.addControl(o[s],u,g)}},(0,_.__decorate)([(0,f.serialize)()],t.prototype,"clipContent",null),t}(n.Container);(0,f.RegisterClass)("BABYLON.GUI.Grid",a)},"../../../dev/gui/src/2D/controls/image.ts":(k,b,h)=>{h.r(b),h.d(b,{Image:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=function(f){(0,_.__extends)(a,f);function a(i,t){t===void 0&&(t=null);var e=f.call(this,i)||this;return e.name=i,e._workingCanvas=null,e._loaded=!1,e._stretch=a.STRETCH_FILL,e._source=null,e._autoScale=!1,e._sourceLeft=0,e._sourceTop=0,e._sourceWidth=0,e._sourceHeight=0,e._svgAttributesComputationCompleted=!1,e._isSVG=!1,e._cellWidth=0,e._cellHeight=0,e._cellId=-1,e._populateNinePatchSlicesFromImage=!1,e._imageDataCache={data:null,key:""},e.onImageLoadedObservable=new n.Observable,e.onSVGAttributesComputedObservable=new n.Observable,e.source=t,e}return Object.defineProperty(a.prototype,"isLoaded",{get:function(){return this._loaded},enumerable:!1,configurable:!0}),a.prototype.isReady=function(){return this.isLoaded},Object.defineProperty(a.prototype,"detectPointerOnOpaqueOnly",{get:function(){return this._detectPointerOnOpaqueOnly},set:function(i){this._detectPointerOnOpaqueOnly!==i&&(this._detectPointerOnOpaqueOnly=i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sliceLeft",{get:function(){return this._sliceLeft},set:function(i){this._sliceLeft!==i&&(this._sliceLeft=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sliceRight",{get:function(){return this._sliceRight},set:function(i){this._sliceRight!==i&&(this._sliceRight=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sliceTop",{get:function(){return this._sliceTop},set:function(i){this._sliceTop!==i&&(this._sliceTop=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sliceBottom",{get:function(){return this._sliceBottom},set:function(i){this._sliceBottom!==i&&(this._sliceBottom=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sourceLeft",{get:function(){return this._sourceLeft},set:function(i){this._sourceLeft!==i&&(this._sourceLeft=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sourceTop",{get:function(){return this._sourceTop},set:function(i){this._sourceTop!==i&&(this._sourceTop=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sourceWidth",{get:function(){return this._sourceWidth},set:function(i){this._sourceWidth!==i&&(this._sourceWidth=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sourceHeight",{get:function(){return this._sourceHeight},set:function(i){this._sourceHeight!==i&&(this._sourceHeight=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageWidth",{get:function(){return this._imageWidth},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageHeight",{get:function(){return this._imageHeight},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"populateNinePatchSlicesFromImage",{get:function(){return this._populateNinePatchSlicesFromImage},set:function(i){this._populateNinePatchSlicesFromImage!==i&&(this._populateNinePatchSlicesFromImage=i,this._populateNinePatchSlicesFromImage&&this._loaded&&this._extractNinePatchSliceDataFromImage())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isSVG",{get:function(){return this._isSVG},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"svgAttributesComputationCompleted",{get:function(){return this._svgAttributesComputationCompleted},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"autoScale",{get:function(){return this._autoScale},set:function(i){this._autoScale!==i&&(this._autoScale=i,i&&this._loaded&&this.synchronizeSizeWithContent())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stretch",{get:function(){return this._stretch},set:function(i){this._stretch!==i&&(this._stretch=i,this._markAsDirty())},enumerable:!1,configurable:!0}),a.prototype._rotate90=function(i,t){var e,r;t===void 0&&(t=!1);var o=this._domImage.width,s=this._domImage.height,l=((r=(e=this._host)===null||e===void 0?void 0:e.getScene())===null||r===void 0?void 0:r.getEngine())||n.EngineStore.LastCreatedEngine;if(!l)throw new Error("Invalid engine. Unable to create a canvas.");var c=l.createCanvas(s,o),d=c.getContext("2d");d.translate(c.width/2,c.height/2),d.rotate(i*Math.PI/2),d.drawImage(this._domImage,0,0,o,s,-o/2,-s/2,o,s);var p=c.toDataURL("image/jpg"),u=new a(this.name+"rotated",p);return t&&(u._stretch=this._stretch,u._autoScale=this._autoScale,u._cellId=this._cellId,u._cellWidth=i%1?this._cellHeight:this._cellWidth,u._cellHeight=i%1?this._cellWidth:this._cellHeight),this._handleRotationForSVGImage(this,u,i),this._imageDataCache.data=null,u},a.prototype._handleRotationForSVGImage=function(i,t,e){var r=this;i._isSVG&&(i._svgAttributesComputationCompleted?(this._rotate90SourceProperties(i,t,e),this._markAsDirty()):i.onSVGAttributesComputedObservable.addOnce(function(){r._rotate90SourceProperties(i,t,e),r._markAsDirty()}))},a.prototype._rotate90SourceProperties=function(i,t,e){var r,o,s=i.sourceLeft,l=i.sourceTop,c=i.domImage.width,d=i.domImage.height,p=s,u=l,g=i.sourceWidth,E=i.sourceHeight;if(e!=0){var C=e<0?-1:1;e=e%4;for(var y=0;y<Math.abs(e);++y)p=-(l-d/2)*C+d/2,u=(s-c/2)*C+c/2,r=[E,g],g=r[0],E=r[1],e<0?u-=E:p-=g,s=p,l=u,o=[d,c],c=o[0],d=o[1]}t.sourceLeft=p,t.sourceTop=u,t.sourceWidth=g,t.sourceHeight=E},a.prototype._extractNinePatchSliceDataFromImage=function(){var i,t,e=this._domImage.width,r=this._domImage.height;if(!this._workingCanvas){var o=((t=(i=this._host)===null||i===void 0?void 0:i.getScene())===null||t===void 0?void 0:t.getEngine())||n.EngineStore.LastCreatedEngine;if(!o)throw new Error("Invalid engine. Unable to create a canvas.");this._workingCanvas=o.createCanvas(e,r)}var s=this._workingCanvas,l=s.getContext("2d");l.drawImage(this._domImage,0,0,e,r);var c=l.getImageData(0,0,e,r);this._sliceLeft=-1,this._sliceRight=-1;for(var d=0;d<e;d++){var p=c.data[d*4+3];if(p>127&&this._sliceLeft===-1){this._sliceLeft=d;continue}if(p<127&&this._sliceLeft>-1){this._sliceRight=d;break}}this._sliceTop=-1,this._sliceBottom=-1;for(var u=0;u<r;u++){var p=c.data[u*e*4+3];if(p>127&&this._sliceTop===-1){this._sliceTop=u;continue}if(p<127&&this._sliceTop>-1){this._sliceBottom=u;break}}},Object.defineProperty(a.prototype,"domImage",{get:function(){return this._domImage},set:function(i){var t=this;this._domImage=i,this._loaded=!1,this._imageDataCache.data=null,this._domImage.width?this._onImageLoaded():this._domImage.onload=function(){t._onImageLoaded()}},enumerable:!1,configurable:!0}),a.prototype._onImageLoaded=function(){this._imageDataCache.data=null,this._imageWidth=this._domImage.width,this._imageHeight=this._domImage.height,this._loaded=!0,this._populateNinePatchSlicesFromImage&&this._extractNinePatchSliceDataFromImage(),this._autoScale&&this.synchronizeSizeWithContent(),this.onImageLoadedObservable.notifyObservers(this),this._markAsDirty()},Object.defineProperty(a.prototype,"source",{get:function(){return this._source},set:function(i){var t=this,e,r,o,s,l;if(this._urlRewriter&&i&&(i=this._urlRewriter(i)),this._source!==i){this._removeCacheUsage(this._source),this._loaded=!1,this._source=i,this._imageDataCache.data=null,i&&(i=this._svgCheck(i));var c=((r=(e=this._host)===null||e===void 0?void 0:e.getScene())===null||r===void 0?void 0:r.getEngine())||n.EngineStore.LastCreatedEngine;if(!c)throw new Error("Invalid engine. Unable to create a canvas.");if(i&&a.SourceImgCache.has(i)){var d=a.SourceImgCache.get(i);this._domImage=d.img,d.timesUsed+=1,d.loaded?this._onImageLoaded():d.waitingForLoadCallback.push(this._onImageLoaded.bind(this));return}this._domImage=c.createCanvasImage();var p=this._domImage,u=!1;p.style&&(!((o=this._source)===null||o===void 0)&&o.endsWith(".svg"))&&(p.style.visibility="hidden",p.style.position="absolute",p.style.top="0",(l=(s=c.getRenderingCanvas())===null||s===void 0?void 0:s.parentNode)===null||l===void 0||l.appendChild(p),u=!0),i&&a.SourceImgCache.set(i,{img:this._domImage,timesUsed:1,loaded:!1,waitingForLoadCallback:[this._onImageLoaded.bind(this)]}),this._domImage.onload=function(){if(i){var g=a.SourceImgCache.get(i);if(g){g.loaded=!0;for(var E=0,C=g.waitingForLoadCallback;E<C.length;E++){var y=C[E];y()}g.waitingForLoadCallback.length=0,u&&p.remove();return}}t._onImageLoaded(),u&&p.remove()},i&&(n.Tools.SetCorsBehavior(i,this._domImage),n.Tools.SetReferrerPolicyBehavior(this.referrerPolicy,this._domImage),this._domImage.src=i)}},enumerable:!1,configurable:!0}),a.ResetImageCache=function(){a.SourceImgCache.clear()},a.prototype._removeCacheUsage=function(i){var t=i&&a.SourceImgCache.get(i);if(t){t.timesUsed-=1;var e=t.img;e.parentNode&&e.parentNode.removeChild(e),t.timesUsed===0&&a.SourceImgCache.delete(i)}},a.prototype._svgCheck=function(i){var t=this;if(window.SVGSVGElement&&i.search(/(\.svg|\.svg?[?|#].*)$/gi)!==-1&&i.indexOf("#")===i.lastIndexOf("#")){this._isSVG=!0;var e=i.split("#")[0],r=i.split("#")[1],o=document.body.querySelector('object[data="'+e+'"]');if(o){var s=o.contentDocument;if(s&&s.documentElement){var l=s.documentElement.getAttribute("viewBox"),c=Number(s.documentElement.getAttribute("width")),d=Number(s.documentElement.getAttribute("height")),p=s.getElementById(r);if(p&&l&&c&&d)return this._getSVGAttribs(o,r),i}o.addEventListener("load",function(){t._getSVGAttribs(o,r)})}else{var u=document.createElement("object");u.data=e,u.type="image/svg+xml",u.width="0%",u.height="0%",document.body.appendChild(u),u.onload=function(){var g=document.body.querySelector('object[data="'+e+'"]');g&&t._getSVGAttribs(g,r)}}return e}else return i},a.prototype._getSVGAttribs=function(i,t){var e=i.contentDocument;if(e&&e.documentElement){var r=e.documentElement.getAttribute("viewBox"),o=Number(e.documentElement.getAttribute("width")),s=Number(e.documentElement.getAttribute("height")),l=e.getElementById(t);if(r&&o&&s&&l){var c=Number(r.split(" ")[2]),d=Number(r.split(" ")[3]),p=l.getBBox(),u=1,g=1,E=0,C=0,y=l.transform.baseVal.consolidate().matrix;l.transform&&l.transform.baseVal.consolidate()&&(u=y.a,g=y.d,E=y.e,C=y.f),this.sourceLeft=(u*p.x+E)*o/c,this.sourceTop=(g*p.y+C)*s/d,this.sourceWidth=p.width*u*(o/c),this.sourceHeight=p.height*g*(s/d),this._svgAttributesComputationCompleted=!0,this.onSVGAttributesComputedObservable.notifyObservers(this)}}},Object.defineProperty(a.prototype,"cellWidth",{get:function(){return this._cellWidth},set:function(i){this._cellWidth!==i&&(this._cellWidth=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cellHeight",{get:function(){return this._cellHeight},set:function(i){this._cellHeight!==i&&(this._cellHeight=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cellId",{get:function(){return this._cellId},set:function(i){this._cellId!==i&&(this._cellId=i,this._markAsDirty())},enumerable:!1,configurable:!0}),a.prototype.contains=function(i,t){if(!f.prototype.contains.call(this,i,t))return!1;if(!this._detectPointerOnOpaqueOnly||!this._workingCanvas)return!0;var e=this._currentMeasure.width|0,r=this._currentMeasure.height|0,o=e+"_"+r,s=this._imageDataCache.data;if(!s||this._imageDataCache.key!==o){var l=this._workingCanvas,c=l.getContext("2d");this._imageDataCache.data=s=c.getImageData(0,0,e,r).data,this._imageDataCache.key=o}i=i-this._currentMeasure.left|0,t=t-this._currentMeasure.top|0;var d=s[(i+t*e)*4+3];return d>0},a.prototype._getTypeName=function(){return"Image"},a.prototype.synchronizeSizeWithContent=function(){this._loaded&&(this.width=this._domImage.width+"px",this.height=this._domImage.height+"px")},a.prototype._processMeasures=function(i,t){if(this._loaded)switch(this._stretch){case a.STRETCH_NONE:break;case a.STRETCH_FILL:break;case a.STRETCH_UNIFORM:break;case a.STRETCH_NINE_PATCH:break;case a.STRETCH_EXTEND:this._autoScale&&this.synchronizeSizeWithContent(),this.parent&&this.parent.parent&&(this.parent.adaptWidthToChildren=!0,this.parent.adaptHeightToChildren=!0);break}f.prototype._processMeasures.call(this,i,t)},a.prototype._prepareWorkingCanvasForOpaqueDetection=function(){var i,t;if(this._detectPointerOnOpaqueOnly){var e=this._currentMeasure.width,r=this._currentMeasure.height;if(!this._workingCanvas){var o=((t=(i=this._host)===null||i===void 0?void 0:i.getScene())===null||t===void 0?void 0:t.getEngine())||n.EngineStore.LastCreatedEngine;if(!o)throw new Error("Invalid engine. Unable to create a canvas.");this._workingCanvas=o.createCanvas(e,r)}var s=this._workingCanvas,l=s.getContext("2d");l.clearRect(0,0,e,r)}},a.prototype._drawImage=function(i,t,e,r,o,s,l,c,d){if(i.drawImage(this._domImage,t,e,r,o,s,l,c,d),!!this._detectPointerOnOpaqueOnly){var p=i.getTransform(),u=this._workingCanvas,g=u.getContext("2d");g.save();var E=s-this._currentMeasure.left,C=l-this._currentMeasure.top;g.setTransform(p.a,p.b,p.c,p.d,(E+c)/2,(C+d)/2),g.translate(-(E+c)/2,-(C+d)/2),g.drawImage(this._domImage,t,e,r,o,E,C,c,d),g.restore()}},a.prototype._draw=function(i){i.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur,i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY);var t,e,r,o;if(this.cellId==-1)t=this._sourceLeft,e=this._sourceTop,r=this._sourceWidth?this._sourceWidth:this._imageWidth,o=this._sourceHeight?this._sourceHeight:this._imageHeight;else{var s=this._domImage.naturalWidth/this.cellWidth,l=this.cellId/s>>0,c=this.cellId%s;t=this.cellWidth*c,e=this.cellHeight*l,r=this.cellWidth,o=this.cellHeight}if(this._prepareWorkingCanvasForOpaqueDetection(),this._applyStates(i),this._loaded)switch(this._stretch){case a.STRETCH_NONE:this._drawImage(i,t,e,r,o,this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height);break;case a.STRETCH_FILL:this._drawImage(i,t,e,r,o,this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height);break;case a.STRETCH_UNIFORM:{var d=this._currentMeasure.width/r,p=this._currentMeasure.height/o,u=Math.min(d,p),g=(this._currentMeasure.width-r*u)/2,E=(this._currentMeasure.height-o*u)/2;this._drawImage(i,t,e,r,o,this._currentMeasure.left+g,this._currentMeasure.top+E,r*u,o*u);break}case a.STRETCH_EXTEND:this._drawImage(i,t,e,r,o,this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height);break;case a.STRETCH_NINE_PATCH:this._renderNinePatch(i,t,e,r,o);break}i.restore()},a.prototype._renderNinePatch=function(i,t,e,r,o){var s=this.host.idealWidth?this._width.getValue(this.host)/this.host.idealWidth:this.host.idealHeight?this._height.getValue(this.host)/this.host.idealHeight:1,l=this._sliceLeft,c=this._sliceTop,d=o-this._sliceBottom,p=r-this._sliceRight,u=this._sliceRight-this._sliceLeft,g=this._sliceBottom-this._sliceTop,E=Math.round(l*s),C=Math.round(c*s),y=Math.round(d*s),D=Math.round(p*s),F=Math.round(this._currentMeasure.width)-D-E+2,I=Math.round(this._currentMeasure.height)-y-C+2,R=Math.round(this._currentMeasure.left)+E-1,w=Math.round(this._currentMeasure.top)+C-1,V=Math.round(this._currentMeasure.left+this._currentMeasure.width)-D,Q=Math.round(this._currentMeasure.top+this._currentMeasure.height)-y;this._drawImage(i,t,e,l,c,this._currentMeasure.left,this._currentMeasure.top,E,C),this._drawImage(i,t+this._sliceLeft,e,u,c,R+1,this._currentMeasure.top,F-2,C),this._drawImage(i,t+this._sliceRight,e,p,c,V,this._currentMeasure.top,D,C),this._drawImage(i,t,e+this._sliceTop,l,g,this._currentMeasure.left,w+1,E,I-2),this._drawImage(i,t+this._sliceLeft,e+this._sliceTop,u,g,R+1,w+1,F-2,I-2),this._drawImage(i,t+this._sliceRight,e+this._sliceTop,p,g,V,w+1,D,I-2),this._drawImage(i,t,e+this._sliceBottom,l,d,this._currentMeasure.left,Q,E,y),this._drawImage(i,t+this.sliceLeft,e+this._sliceBottom,u,d,R+1,Q,F-2,y),this._drawImage(i,t+this._sliceRight,e+this._sliceBottom,p,d,V,Q,D,y)},a.prototype.dispose=function(){f.prototype.dispose.call(this),this.onImageLoadedObservable.clear(),this.onSVGAttributesComputedObservable.clear(),this._removeCacheUsage(this._source)},a.SourceImgCache=new Map,a.STRETCH_NONE=0,a.STRETCH_FILL=1,a.STRETCH_UNIFORM=2,a.STRETCH_EXTEND=3,a.STRETCH_NINE_PATCH=4,(0,_.__decorate)([(0,n.serialize)()],a.prototype,"detectPointerOnOpaqueOnly",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sliceLeft",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sliceRight",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sliceTop",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sliceBottom",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sourceLeft",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sourceTop",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sourceWidth",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sourceHeight",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"populateNinePatchSlicesFromImage",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"autoScale",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"stretch",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"source",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"cellWidth",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"cellHeight",null),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"cellId",null),a}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.Image",v)},"../../../dev/gui/src/2D/controls/index.ts":(k,b,h)=>{h.r(b),h.d(b,{BaseGradient:()=>ue.BaseGradient,BaseSlider:()=>R.BaseSlider,Button:()=>_.Button,Checkbox:()=>n.Checkbox,CheckboxGroup:()=>u.CheckboxGroup,ColorPicker:()=>m.ColorPicker,Container:()=>v.Container,Control:()=>f.Control,DisplayGrid:()=>I.DisplayGrid,Ellipse:()=>a.Ellipse,FocusableButton:()=>i.FocusableButton,Grid:()=>t.Grid,Image:()=>e.Image,ImageBasedSlider:()=>V.ImageBasedSlider,ImageScrollBar:()=>Y.ImageScrollBar,InputPassword:()=>s.InputPassword,InputText:()=>r.InputText,InputTextArea:()=>o.InputTextArea,KeyPropertySet:()=>D.KeyPropertySet,Line:()=>l.Line,LinearGradient:()=>ve.LinearGradient,MultiLine:()=>c.MultiLine,RadialGradient:()=>J.RadialGradient,RadioButton:()=>d.RadioButton,RadioGroup:()=>u.RadioGroup,Rectangle:()=>F.Rectangle,ScrollBar:()=>Q.ScrollBar,ScrollViewer:()=>g.ScrollViewer,SelectionPanel:()=>u.SelectionPanel,SelectorGroup:()=>u.SelectorGroup,Slider:()=>w.Slider,SliderGroup:()=>u.SliderGroup,StackPanel:()=>p.StackPanel,TextBlock:()=>E.TextBlock,TextWrapper:()=>C.TextWrapper,TextWrapping:()=>E.TextWrapping,ToggleButton:()=>y.ToggleButton,VirtualKeyboard:()=>D.VirtualKeyboard,name:()=>se.name});var _=h("../../../dev/gui/src/2D/controls/button.ts"),n=h("../../../dev/gui/src/2D/controls/checkbox.ts"),m=h("../../../dev/gui/src/2D/controls/colorpicker.ts"),v=h("../../../dev/gui/src/2D/controls/container.ts"),f=h("../../../dev/gui/src/2D/controls/control.ts"),a=h("../../../dev/gui/src/2D/controls/ellipse.ts"),i=h("../../../dev/gui/src/2D/controls/focusableButton.ts");h("../../../dev/gui/src/2D/controls/focusableControl.ts");var t=h("../../../dev/gui/src/2D/controls/grid.ts"),e=h("../../../dev/gui/src/2D/controls/image.ts"),r=h("../../../dev/gui/src/2D/controls/inputText.ts"),o=h("../../../dev/gui/src/2D/controls/inputTextArea.ts"),s=h("../../../dev/gui/src/2D/controls/inputPassword.ts"),l=h("../../../dev/gui/src/2D/controls/line.ts"),c=h("../../../dev/gui/src/2D/controls/multiLine.ts"),d=h("../../../dev/gui/src/2D/controls/radioButton.ts"),p=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),u=h("../../../dev/gui/src/2D/controls/selector.ts"),g=h("../../../dev/gui/src/2D/controls/scrollViewers/scrollViewer.ts"),E=h("../../../dev/gui/src/2D/controls/textBlock.ts"),C=h("../../../dev/gui/src/2D/controls/textWrapper.ts"),y=h("../../../dev/gui/src/2D/controls/toggleButton.ts"),D=h("../../../dev/gui/src/2D/controls/virtualKeyboard.ts"),F=h("../../../dev/gui/src/2D/controls/rectangle.ts"),I=h("../../../dev/gui/src/2D/controls/displayGrid.ts"),R=h("../../../dev/gui/src/2D/controls/sliders/baseSlider.ts"),w=h("../../../dev/gui/src/2D/controls/sliders/slider.ts"),V=h("../../../dev/gui/src/2D/controls/sliders/imageBasedSlider.ts"),Q=h("../../../dev/gui/src/2D/controls/sliders/scrollBar.ts"),Y=h("../../../dev/gui/src/2D/controls/sliders/imageScrollBar.ts"),se=h("../../../dev/gui/src/2D/controls/statics.ts"),ue=h("../../../dev/gui/src/2D/controls/gradient/BaseGradient.ts"),ve=h("../../../dev/gui/src/2D/controls/gradient/LinearGradient.ts"),J=h("../../../dev/gui/src/2D/controls/gradient/RadialGradient.ts")},"../../../dev/gui/src/2D/controls/inputPassword.ts":(k,b,h)=>{h.r(b),h.d(b,{InputPassword:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/inputText.ts"),m=h("babylonjs/Misc/perfCounter"),v=h("../../../dev/gui/src/2D/controls/textWrapper.ts"),f=function(a){(0,_.__extends)(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i.prototype._getTypeName=function(){return"InputPassword"},i.prototype._beforeRenderText=function(t){for(var e=new v.TextWrapper,r="",o=0;o<t.length;o++)r+="•";return e.text=r,e},i}(n.InputText);(0,m.RegisterClass)("BABYLON.GUI.InputPassword",f)},"../../../dev/gui/src/2D/controls/inputText.ts":(k,b,h)=>{h.r(b),h.d(b,{InputText:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/valueAndUnit.ts"),f=h("../../../dev/gui/src/2D/controls/textWrapper.ts"),a=function(i){(0,_.__extends)(t,i);function t(e,r){r===void 0&&(r="");var o=i.call(this,e)||this;return o.name=e,o._placeholderText="",o._background="#222222",o._focusedBackground="#000000",o._placeholderColor="gray",o._thickness=1,o._margin=new v.ValueAndUnit(10,v.ValueAndUnit.UNITMODE_PIXEL),o._autoStretchWidth=!0,o._maxWidth=new v.ValueAndUnit(1,v.ValueAndUnit.UNITMODE_PERCENTAGE,!1),o._blinkIsEven=!1,o._cursorOffset=0,o._deadKey=!1,o._addKey=!0,o._currentKey="",o._isTextHighlightOn=!1,o._textHighlightColor="#d5e0ff",o._highligherOpacity=.4,o._highlightedText="",o._startHighlightIndex=0,o._endHighlightIndex=0,o._cursorIndex=-1,o._outlineWidth=0,o._outlineColor="white",o._onFocusSelectAll=!1,o._isPointerDown=!1,o.promptMessage="Please enter text:",o.disableMobilePrompt=!1,o.onTextChangedObservable=new n.Observable,o.onBeforeKeyAddObservable=new n.Observable,o.onTextHighlightObservable=new n.Observable,o.onTextCopyObservable=new n.Observable,o.onTextCutObservable=new n.Observable,o.onTextPasteObservable=new n.Observable,o.text=r,o.isPointerBlocker=!0,o._focusedColor="white",o}return Object.defineProperty(t.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!==e&&(this._outlineWidth=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(e){this._outlineColor!==e&&(this._outlineColor=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth.toString(this._host)},set:function(e){this._maxWidth.toString(this._host)!==e&&this._maxWidth.fromString(e)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidthInPixels",{get:function(){return this._maxWidth.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highligherOpacity",{get:function(){return this._highligherOpacity},set:function(e){this._highligherOpacity!==e&&(this._highligherOpacity=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onFocusSelectAll",{get:function(){return this._onFocusSelectAll},set:function(e){this._onFocusSelectAll!==e&&(this._onFocusSelectAll=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHighlightColor",{get:function(){return this._textHighlightColor},set:function(e){this._textHighlightColor!==e&&(this._textHighlightColor=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"margin",{get:function(){return this._margin.toString(this._host)},set:function(e){this._margin.toString(this._host)!==e&&this._margin.fromString(e)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marginInPixels",{get:function(){return this._margin.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoStretchWidth",{get:function(){return this._autoStretchWidth},set:function(e){this._autoStretchWidth!==e&&(this._autoStretchWidth=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(e){this._thickness!==e&&(this._thickness=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedBackground",{get:function(){return this._focusedBackground},set:function(e){this._focusedBackground!==e&&(this._focusedBackground=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusedColor",{set:function(e){this._focusedColor!==e&&(this._focusedColor=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"background",{get:function(){return this._background},set:function(e){this._background!==e&&(this._background=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderColor",{get:function(){return this._placeholderColor},set:function(e){this._placeholderColor!==e&&(this._placeholderColor=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderText",{get:function(){return this._placeholderText},set:function(e){this._placeholderText!==e&&(this._placeholderText=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deadKey",{get:function(){return this._deadKey},set:function(e){this._deadKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highlightedText",{get:function(){return this._highlightedText},set:function(e){this._highlightedText!==e&&(this._highlightedText=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addKey",{get:function(){return this._addKey},set:function(e){this._addKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentKey",{get:function(){return this._currentKey},set:function(e){this._currentKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._textWrapper.text},set:function(e){var r=e.toString();this._textWrapper||(this._textWrapper=new f.TextWrapper),this._textWrapper.text!==r&&(this._textWrapper.text=r,this._textHasChanged())},enumerable:!1,configurable:!0}),t.prototype._textHasChanged=function(){this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this)},t.prototype._applyStates=function(e){i.prototype._applyStates.call(this,e),this.outlineWidth&&(e.lineWidth=this.outlineWidth,e.strokeStyle=this.outlineColor)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width.toString(this._host)},set:function(e){this._width.toString(this._host)===e&&!this._autoStretchWidth||(this._width.fromString(e)&&this._markAsDirty(),this.autoStretchWidth=!1)},enumerable:!1,configurable:!0}),t.prototype.onBlur=function(){this._isFocused=!1,this._scrollLeft=null,this._cursorOffset=0,clearTimeout(this._blinkTimeout),this._markAsDirty(),this.onBlurObservable.notifyObservers(this),this._host.unRegisterClipboardEvents(),this._onClipboardObserver&&this._host.onClipboardObservable.remove(this._onClipboardObserver);var e=this._host.getScene();this._onPointerDblTapObserver&&e&&e.onPointerObservable.remove(this._onPointerDblTapObserver)},t.prototype.onFocus=function(){var e=this;if(this._isEnabled){if(this._scrollLeft=null,this._isFocused=!0,this._blinkIsEven=!1,this._cursorOffset=0,this._markAsDirty(),this.onFocusObservable.notifyObservers(this),this._focusedBy==="touch"&&!this.disableMobilePrompt){var r=prompt(this.promptMessage);r!==null&&(this.text=r),this._host.focusedControl=null;return}this._host.registerClipboardEvents(),this._onClipboardObserver=this._host.onClipboardObservable.add(function(s){switch(s.type){case n.ClipboardEventTypes.COPY:e._onCopyText(s.event),e.onTextCopyObservable.notifyObservers(e);break;case n.ClipboardEventTypes.CUT:e._onCutText(s.event),e.onTextCutObservable.notifyObservers(e);break;case n.ClipboardEventTypes.PASTE:e._onPasteText(s.event),e.onTextPasteObservable.notifyObservers(e);break;default:return}});var o=this._host.getScene();o&&(this._onPointerDblTapObserver=o.onPointerObservable.add(function(s){e._isFocused&&s.type===n.PointerEventTypes.POINTERDOUBLETAP&&e._processDblClick(s)})),this._onFocusSelectAll&&this.selectAllText()}},t.prototype._getTypeName=function(){return"InputText"},t.prototype.keepsFocusWith=function(){return this._connectedVirtualKeyboard?[this._connectedVirtualKeyboard]:null},t.prototype.processKey=function(e,r,o){var s;if(!this.isReadOnly&&!(o&&(o.ctrlKey||o.metaKey)&&(e===67||e===86||e===88))){if(o&&(o.ctrlKey||o.metaKey)&&e===65){this.selectAllText(),o.preventDefault();return}switch(e){case 32:r=" ";break;case 191:o&&o.preventDefault();break;case 8:if(this._textWrapper.text&&this._textWrapper.length>0){if(this.isTextHighlightOn){this._textWrapper.removePart(this._startHighlightIndex,this._endHighlightIndex),this._textHasChanged(),this.isTextHighlightOn=!1,this._cursorOffset=this._textWrapper.length-this._startHighlightIndex,this._blinkIsEven=!1,o&&o.preventDefault();return}if(this._cursorOffset===0)this.text=this._textWrapper.substring(0,this._textWrapper.length-1);else{var l=this._textWrapper.length-this._cursorOffset;l>0&&(this._textWrapper.removePart(l-1,l),this._textHasChanged())}}o&&o.preventDefault();return;case 46:if(this.isTextHighlightOn){this._textWrapper.removePart(this._startHighlightIndex,this._endHighlightIndex),this._textHasChanged(),this.isTextHighlightOn=!1,this._cursorOffset=this._textWrapper.length-this._startHighlightIndex,o&&o.preventDefault();return}if(this._textWrapper.text&&this._textWrapper.length>0&&this._cursorOffset>0){var l=this._textWrapper.length-this._cursorOffset;this._textWrapper.removePart(l,l+1),this._textHasChanged(),this._cursorOffset--}o&&o.preventDefault();return;case 13:this._host.focusedControl=null,this.isTextHighlightOn=!1;return;case 35:this._cursorOffset=0,this._blinkIsEven=!1,this.isTextHighlightOn=!1,this._markAsDirty();return;case 36:this._cursorOffset=this._textWrapper.length,this._blinkIsEven=!1,this.isTextHighlightOn=!1,this._markAsDirty();return;case 37:if(this._cursorOffset++,this._cursorOffset>this._textWrapper.length&&(this._cursorOffset=this._textWrapper.length),o&&o.shiftKey){if(this._blinkIsEven=!1,o.ctrlKey||o.metaKey){if(!this.isTextHighlightOn){if(this._textWrapper.length===this._cursorOffset)return;this._endHighlightIndex=this._textWrapper.length-this._cursorOffset+1}this._startHighlightIndex=0,this._cursorIndex=this._textWrapper.length-this._endHighlightIndex,this._cursorOffset=this._textWrapper.length,this.isTextHighlightOn=!0,this._markAsDirty();return}this.isTextHighlightOn?this._cursorIndex===-1&&(this._cursorIndex=this._textWrapper.length-this._endHighlightIndex,this._cursorOffset=this._startHighlightIndex===0?this._textWrapper.length:this._textWrapper.length-this._startHighlightIndex+1):(this.isTextHighlightOn=!0,this._cursorIndex=this._cursorOffset>=this._textWrapper.length?this._textWrapper.length:this._cursorOffset-1),this._cursorIndex<this._cursorOffset?(this._endHighlightIndex=this._textWrapper.length-this._cursorIndex,this._startHighlightIndex=this._textWrapper.length-this._cursorOffset):this._cursorIndex>this._cursorOffset?(this._endHighlightIndex=this._textWrapper.length-this._cursorOffset,this._startHighlightIndex=this._textWrapper.length-this._cursorIndex):this.isTextHighlightOn=!1,this._markAsDirty();return}this.isTextHighlightOn&&(this._cursorOffset=this._textWrapper.length-this._startHighlightIndex,this.isTextHighlightOn=!1),o&&(o.ctrlKey||o.metaKey)&&(this._cursorOffset=this._textWrapper.length,o.preventDefault()),this._blinkIsEven=!1,this.isTextHighlightOn=!1,this._cursorIndex=-1,this._markAsDirty();return;case 39:if(this._cursorOffset--,this._cursorOffset<0&&(this._cursorOffset=0),o&&o.shiftKey){if(this._blinkIsEven=!1,o.ctrlKey||o.metaKey){if(!this.isTextHighlightOn){if(this._cursorOffset===0)return;this._startHighlightIndex=this._textWrapper.length-this._cursorOffset-1}this._endHighlightIndex=this._textWrapper.length,this.isTextHighlightOn=!0,this._cursorIndex=this._textWrapper.length-this._startHighlightIndex,this._cursorOffset=0,this._markAsDirty();return}this.isTextHighlightOn?this._cursorIndex===-1&&(this._cursorIndex=this._textWrapper.length-this._startHighlightIndex,this._cursorOffset=this._textWrapper.length===this._endHighlightIndex?0:this._textWrapper.length-this._endHighlightIndex-1):(this.isTextHighlightOn=!0,this._cursorIndex=this._cursorOffset<=0?0:this._cursorOffset+1),this._cursorIndex<this._cursorOffset?(this._endHighlightIndex=this._textWrapper.length-this._cursorIndex,this._startHighlightIndex=this._textWrapper.length-this._cursorOffset):this._cursorIndex>this._cursorOffset?(this._endHighlightIndex=this._textWrapper.length-this._cursorOffset,this._startHighlightIndex=this._textWrapper.length-this._cursorIndex):this.isTextHighlightOn=!1,this._markAsDirty();return}this.isTextHighlightOn&&(this._cursorOffset=this._textWrapper.length-this._endHighlightIndex,this.isTextHighlightOn=!1),o&&(o.ctrlKey||o.metaKey)&&(this._cursorOffset=0,o.preventDefault()),this._blinkIsEven=!1,this.isTextHighlightOn=!1,this._cursorIndex=-1,this._markAsDirty();return}if(e===32&&(r=(s=o==null?void 0:o.key)!==null&&s!==void 0?s:" "),this._deadKey=r==="Dead",r&&(e===-1||e===32||e===34||e===39||e>47&&e<64||e>64&&e<91||e>159&&e<193||e>218&&e<223||e>95&&e<112)&&(this._currentKey=r,this.onBeforeKeyAddObservable.notifyObservers(this),r=this._currentKey,this._addKey&&!this._deadKey))if(this.isTextHighlightOn)this._textWrapper.removePart(this._startHighlightIndex,this._endHighlightIndex,r),this._textHasChanged(),this._cursorOffset=this._textWrapper.length-(this._startHighlightIndex+1),this.isTextHighlightOn=!1,this._blinkIsEven=!1,this._markAsDirty();else if(this._cursorOffset===0)this.text+=this._deadKey&&(o!=null&&o.key)?o.key:r;else{var c=this._textWrapper.length-this._cursorOffset;this._textWrapper.removePart(c,c,r),this._textHasChanged()}}},t.prototype._updateValueFromCursorIndex=function(e){if(this._blinkIsEven=!1,this._cursorIndex===-1)this._cursorIndex=e;else if(this._cursorIndex<this._cursorOffset)this._endHighlightIndex=this._textWrapper.length-this._cursorIndex,this._startHighlightIndex=this._textWrapper.length-this._cursorOffset;else if(this._cursorIndex>this._cursorOffset)this._endHighlightIndex=this._textWrapper.length-this._cursorOffset,this._startHighlightIndex=this._textWrapper.length-this._cursorIndex;else{this.isTextHighlightOn=!1,this._markAsDirty();return}this.isTextHighlightOn=!0,this._markAsDirty()},t.prototype._processDblClick=function(e){this._startHighlightIndex=this._textWrapper.length-this._cursorOffset,this._endHighlightIndex=this._startHighlightIndex;var r,o;do o=this._endHighlightIndex<this._textWrapper.length&&this._textWrapper.isWord(this._endHighlightIndex)?++this._endHighlightIndex:0,r=this._startHighlightIndex>0&&this._textWrapper.isWord(this._startHighlightIndex-1)?--this._startHighlightIndex:0;while(r||o);this._cursorOffset=this._textWrapper.length-this._startHighlightIndex,this.isTextHighlightOn=!0,this._clickedCoordinate=null,this._blinkIsEven=!0,this._cursorIndex=-1,this._markAsDirty()},t.prototype.selectAllText=function(){this._blinkIsEven=!0,this.isTextHighlightOn=!0,this._startHighlightIndex=0,this._endHighlightIndex=this._textWrapper.length,this._cursorOffset=this._textWrapper.length,this._cursorIndex=-1,this._markAsDirty()},t.prototype.processKeyboard=function(e){this.processKey(e.keyCode,e.key,e),i.prototype.processKeyboard.call(this,e)},t.prototype._onCopyText=function(e){this.isTextHighlightOn=!1;try{e.clipboardData&&e.clipboardData.setData("text/plain",this._highlightedText)}catch{}this._host.clipboardData=this._highlightedText},t.prototype._onCutText=function(e){if(this._highlightedText){this._textWrapper.removePart(this._startHighlightIndex,this._endHighlightIndex),this._textHasChanged(),this.isTextHighlightOn=!1,this._cursorOffset=this._textWrapper.length-this._startHighlightIndex;try{e.clipboardData&&e.clipboardData.setData("text/plain",this._highlightedText)}catch{}this._host.clipboardData=this._highlightedText,this._highlightedText=""}},t.prototype._onPasteText=function(e){var r="";e.clipboardData&&e.clipboardData.types.indexOf("text/plain")!==-1?r=e.clipboardData.getData("text/plain"):r=this._host.clipboardData;var o=this._textWrapper.length-this._cursorOffset;this._textWrapper.removePart(o,o,r),this._textHasChanged()},t.prototype._draw=function(e){var r=this,o;e.save(),this._applyStates(e),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur,e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY),this._isFocused?this._focusedBackground&&(e.fillStyle=this._isEnabled?this._focusedBackground:this._disabledColor,e.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)):this._background&&(e.fillStyle=this._isEnabled?this._background:this._disabledColor,e.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),(!this._fontOffset||this._wasDirty)&&(this._fontOffset=m.Control._GetFontOffset(e.font,(o=this._host.getScene())===null||o===void 0?void 0:o.getEngine()));var s=this._currentMeasure.left+this._margin.getValueInPixel(this._host,this._tempParentMeasure.width);this.color&&(e.fillStyle=this.color);var l=this._beforeRenderText(this._textWrapper);!this._isFocused&&!this._textWrapper.text&&this._placeholderText&&(l=new f.TextWrapper,l.text=this._placeholderText,this._placeholderColor&&(e.fillStyle=this._placeholderColor)),this._textWidth=e.measureText(l.text).width;var c=this._margin.getValueInPixel(this._host,this._tempParentMeasure.width)*2;this._autoStretchWidth&&(this.width=Math.min(this._maxWidth.getValueInPixel(this._host,this._tempParentMeasure.width),this._textWidth+c)+"px",this._autoStretchWidth=!0);var d=this._fontOffset.ascent+(this._currentMeasure.height-this._fontOffset.height)/2,p=this._width.getValueInPixel(this._host,this._tempParentMeasure.width)-c;if(e.save(),e.beginPath(),e.rect(s,this._currentMeasure.top+(this._currentMeasure.height-this._fontOffset.height)/2,p+2,this._currentMeasure.height),e.clip(),this._isFocused&&this._textWidth>p){var u=s-this._textWidth+p;this._scrollLeft||(this._scrollLeft=u)}else this._scrollLeft=s;if(this.outlineWidth&&e.strokeText(l.text,this._scrollLeft,this._currentMeasure.top+d),e.fillText(l.text,this._scrollLeft,this._currentMeasure.top+d),this._isFocused){if(this._clickedCoordinate){var g=this._scrollLeft+this._textWidth,E=g-this._clickedCoordinate,C=0;this._cursorOffset=0;var y=0;do this._cursorOffset&&(y=Math.abs(E-C)),this._cursorOffset++,C=e.measureText(l.substr(l.length-this._cursorOffset,this._cursorOffset)).width;while(C<E&&l.length>=this._cursorOffset);Math.abs(E-C)>y&&this._cursorOffset--,this._blinkIsEven=!1,this._clickedCoordinate=null}if(!this._blinkIsEven){var D=l.substr(l.length-this._cursorOffset),F=e.measureText(D).width,I=this._scrollLeft+this._textWidth-F;I<s?(this._scrollLeft+=s-I,I=s,this._markAsDirty()):I>s+p&&(this._scrollLeft+=s+p-I,I=s+p,this._markAsDirty()),this.isTextHighlightOn||e.fillRect(I,this._currentMeasure.top+(this._currentMeasure.height-this._fontOffset.height)/2,2,this._fontOffset.height)}if(clearTimeout(this._blinkTimeout),this._blinkTimeout=setTimeout(function(){r._blinkIsEven=!r._blinkIsEven,r._markAsDirty()},500),this.isTextHighlightOn){clearTimeout(this._blinkTimeout);var R=e.measureText(l.substring(this._startHighlightIndex)).width,w=this._scrollLeft+this._textWidth-R;this._highlightedText=l.substring(this._startHighlightIndex,this._endHighlightIndex);var V=e.measureText(l.substring(this._startHighlightIndex,this._endHighlightIndex)).width;w<s&&(V=V-(s-w),V||(V=e.measureText(l.charAt(l.length-this._cursorOffset)).width),w=s),e.globalAlpha=this._highligherOpacity,e.fillStyle=this._textHighlightColor,e.fillRect(w,this._currentMeasure.top+(this._currentMeasure.height-this._fontOffset.height)/2,V,this._fontOffset.height),e.globalAlpha=1}}e.restore(),this._thickness&&(this._isFocused?this.focusedColor&&(e.strokeStyle=this.focusedColor):this.color&&(e.strokeStyle=this.color),e.lineWidth=this._thickness,e.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,this._currentMeasure.width-this._thickness,this._currentMeasure.height-this._thickness)),e.restore()},t.prototype._onPointerDown=function(e,r,o,s,l){return i.prototype._onPointerDown.call(this,e,r,o,s,l)?this.isReadOnly?!0:(this._clickedCoordinate=r.x,this.isTextHighlightOn=!1,this._highlightedText="",this._cursorIndex=-1,this._isPointerDown=!0,this._host._capturingControl[o]=this,this._focusedBy=l.event.pointerType,this._host.focusedControl===this?(clearTimeout(this._blinkTimeout),this._markAsDirty(),!0):this._isEnabled?(this._host.focusedControl=this,!0):!1):!1},t.prototype._onPointerMove=function(e,r,o,s){this._host.focusedControl===this&&this._isPointerDown&&!this.isReadOnly&&(this._clickedCoordinate=r.x,this._markAsDirty(),this._updateValueFromCursorIndex(this._cursorOffset)),i.prototype._onPointerMove.call(this,e,r,o,s)},t.prototype._onPointerUp=function(e,r,o,s,l){this._isPointerDown=!1,delete this._host._capturingControl[o],i.prototype._onPointerUp.call(this,e,r,o,s,l)},t.prototype._beforeRenderText=function(e){return e},Object.defineProperty(t.prototype,"isTextHighlightOn",{get:function(){return this._isTextHighlightOn},set:function(e){this._isTextHighlightOn!==e&&(e&&this.onTextHighlightObservable.notifyObservers(this),this._isTextHighlightOn=e)},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){i.prototype.dispose.call(this),this.onBlurObservable.clear(),this.onFocusObservable.clear(),this.onTextChangedObservable.clear(),this.onTextCopyObservable.clear(),this.onTextCutObservable.clear(),this.onTextPasteObservable.clear(),this.onTextHighlightObservable.clear(),this.onKeyboardEventProcessedObservable.clear()},(0,_.__decorate)([(0,n.serialize)()],t.prototype,"promptMessage",void 0),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"disableMobilePrompt",void 0),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"maxWidth",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"highligherOpacity",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"onFocusSelectAll",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"textHighlightColor",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"margin",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"autoStretchWidth",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"thickness",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"focusedBackground",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"background",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"placeholderColor",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"placeholderText",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"deadKey",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"text",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"width",null),t}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.InputText",a)},"../../../dev/gui/src/2D/controls/inputTextArea.ts":(k,b,h)=>{h.r(b),h.d(b,{InputTextArea:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/valueAndUnit.ts"),f=h("../../../dev/gui/src/2D/controls/inputText.ts"),a=function(i){(0,_.__extends)(t,i);function t(e,r){r===void 0&&(r="");var o=i.call(this,e)||this;return o.name=e,o._textHorizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,o._textVerticalAlignment=m.Control.VERTICAL_ALIGNMENT_TOP,o._prevText=o.text,o._lineSpacing=new v.ValueAndUnit(0),o._maxHeight=new v.ValueAndUnit(1,v.ValueAndUnit.UNITMODE_PERCENTAGE,!1),o.onLinesReadyObservable=new n.Observable,o.text=r,o.isPointerBlocker=!0,o.onLinesReadyObservable.add(function(){return o._updateCursorPosition()}),o._highlightCursorInfo={initialStartIndex:-1,initialRelativeStartIndex:-1,initialLineIndex:-1},o._cursorInfo={globalStartIndex:0,globalEndIndex:0,relativeEndIndex:0,relativeStartIndex:0,currentLineIndex:0},o}return Object.defineProperty(t.prototype,"autoStretchHeight",{get:function(){return this._autoStretchHeight},set:function(e){this._autoStretchHeight!==e&&(this._autoStretchHeight=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(e){this.fixedRatioMasterIsWidth=!1,this._height.toString(this._host)!==e&&(this._height.fromString(e)&&this._markAsDirty(),this._autoStretchHeight=!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight.toString(this._host)},set:function(e){this._maxHeight.toString(this._host)!==e&&this._maxHeight.fromString(e)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeightInPixels",{get:function(){return this._maxHeight.getValueInPixel(this._host,this._cachedParentMeasure.height)},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"InputTextArea"},t.prototype.processKeyboard=function(e){this.isReadOnly||(this.alternativeProcessKey(e.code,e.key,e),this.onKeyboardEventProcessedObservable.notifyObservers(e))},t.prototype.alternativeProcessKey=function(e,r,o){if(!(o&&(o.ctrlKey||o.metaKey)&&(r==="c"||r==="v"||r==="x"))){switch(e){case"Period":o&&o.shiftKey&&o.preventDefault();break;case"Backspace":!this._isTextHighlightOn&&this._cursorInfo.globalStartIndex>0&&(this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._cursorInfo.globalStartIndex--),this._prevText=this._textWrapper.text,this._textWrapper.removePart(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex),this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,o&&o.preventDefault(),this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._textHasChanged();break;case"Delete":!this._isTextHighlightOn&&this._cursorInfo.globalEndIndex<this.text.length&&(this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex+1),this._prevText=this._textWrapper.text,this._textWrapper.removePart(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex),this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,o&&o.preventDefault(),this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._textHasChanged();break;case"NumpadEnter":case"Enter":this._prevText=this._textWrapper.text,this._textWrapper.removePart(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex,`
`),this._cursorInfo.globalStartIndex++,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._textHasChanged();return;case"End":this._cursorInfo.globalStartIndex=this.text.length,this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._markAsDirty();return;case"Home":this._cursorInfo.globalStartIndex=0,this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._markAsDirty();return;case"ArrowLeft":if(this._markAsDirty(),o&&o.shiftKey){(o.ctrlKey||o.metaKey)&&(this._cursorInfo.globalStartIndex-=this._cursorInfo.relativeStartIndex,this._cursorInfo.globalEndIndex=this._highlightCursorInfo.initialStartIndex),this._isTextHighlightOn?this._cursorInfo.globalEndIndex>this._highlightCursorInfo.initialStartIndex?this._cursorInfo.globalEndIndex--:this._cursorInfo.globalStartIndex--:(this._highlightCursorInfo.initialLineIndex=this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialStartIndex=this._cursorInfo.globalStartIndex,this._highlightCursorInfo.initialRelativeStartIndex=this._cursorInfo.relativeStartIndex,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._cursorInfo.globalStartIndex--,this._isTextHighlightOn=!0),this._blinkIsEven=!0,o.preventDefault();return}this._isTextHighlightOn?this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex:o&&(o.ctrlKey||o.metaKey)?(this._cursorInfo.globalStartIndex-=this._cursorInfo.relativeStartIndex,o.preventDefault()):this._cursorInfo.globalStartIndex>0&&this._cursorInfo.globalStartIndex--,this._blinkIsEven=!1,this._isTextHighlightOn=!1;return;case"ArrowRight":if(this._markAsDirty(),o&&o.shiftKey){if(o.ctrlKey||o.metaKey){var s=this._lines[this._cursorInfo.currentLineIndex].text.length-this._cursorInfo.relativeEndIndex-1;this._cursorInfo.globalEndIndex+=s,this._cursorInfo.globalStartIndex=this._highlightCursorInfo.initialStartIndex}this._isTextHighlightOn?this._cursorInfo.globalStartIndex<this._highlightCursorInfo.initialStartIndex?this._cursorInfo.globalStartIndex++:this._cursorInfo.globalEndIndex++:(this._highlightCursorInfo.initialLineIndex=this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialStartIndex=this._cursorInfo.globalStartIndex,this._highlightCursorInfo.initialRelativeStartIndex=this._cursorInfo.relativeStartIndex,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex++,this._isTextHighlightOn=!0),this._blinkIsEven=!0,o.preventDefault();return}if(this._isTextHighlightOn)this._cursorInfo.globalStartIndex=this._cursorInfo.globalEndIndex;else if(o&&(o.ctrlKey||o.metaKey)){var s=this._lines[this._cursorInfo.currentLineIndex].text.length-this._cursorInfo.relativeEndIndex;this._cursorInfo.globalStartIndex+=s}else this._cursorInfo.globalStartIndex<this.text.length&&this._cursorInfo.globalStartIndex++;this._blinkIsEven=!1,this._isTextHighlightOn=!1;return;case"ArrowUp":if(this._blinkIsEven=!1,o&&(o.shiftKey?(this._isTextHighlightOn||(this._highlightCursorInfo.initialLineIndex=this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialStartIndex=this._cursorInfo.globalStartIndex,this._highlightCursorInfo.initialRelativeStartIndex=this._cursorInfo.relativeStartIndex),this._isTextHighlightOn=!0,this._blinkIsEven=!0):this._isTextHighlightOn=!1,o.preventDefault()),this._cursorInfo.currentLineIndex===0)this._cursorInfo.globalStartIndex=0;else{var l=this._lines[this._cursorInfo.currentLineIndex],c=this._lines[this._cursorInfo.currentLineIndex-1],d=0,p=0;!this._isTextHighlightOn||this._cursorInfo.currentLineIndex<this._highlightCursorInfo.initialLineIndex?(d=this._cursorInfo.globalStartIndex,p=this._cursorInfo.relativeStartIndex):(d=this._cursorInfo.globalEndIndex,p=this._cursorInfo.relativeEndIndex);var u=l.text.substring(0,p),g=this._contextForBreakLines.measureText(u).width,E=0,C=0;d-=p,d-=c.text.length+c.lineEnding.length;for(var y=0;E<g&&y<c.text.length;)d++,y++,C=Math.abs(g-E),E=this._contextForBreakLines.measureText(c.text.substring(0,y)).width;Math.abs(g-E)>C&&y>0&&d--,this._isTextHighlightOn?this._cursorInfo.currentLineIndex<=this._highlightCursorInfo.initialLineIndex?(this._cursorInfo.globalStartIndex=d,this._cursorInfo.globalEndIndex=this._highlightCursorInfo.initialStartIndex,this._cursorInfo.relativeEndIndex=this._highlightCursorInfo.initialRelativeStartIndex):this._cursorInfo.globalEndIndex=d:this._cursorInfo.globalStartIndex=d}this._markAsDirty();return;case"ArrowDown":if(this._blinkIsEven=!1,o&&(o.shiftKey?(this._isTextHighlightOn||(this._highlightCursorInfo.initialLineIndex=this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialStartIndex=this._cursorInfo.globalStartIndex,this._highlightCursorInfo.initialRelativeStartIndex=this._cursorInfo.relativeStartIndex),this._isTextHighlightOn=!0,this._blinkIsEven=!0):this._isTextHighlightOn=!1,o.preventDefault()),this._cursorInfo.currentLineIndex===this._lines.length-1)this._cursorInfo.globalStartIndex=this.text.length;else{var l=this._lines[this._cursorInfo.currentLineIndex],D=this._lines[this._cursorInfo.currentLineIndex+1],d=0,p=0;!this._isTextHighlightOn||this._cursorInfo.currentLineIndex<this._highlightCursorInfo.initialLineIndex?(d=this._cursorInfo.globalStartIndex,p=this._cursorInfo.relativeStartIndex):(d=this._cursorInfo.globalEndIndex,p=this._cursorInfo.relativeEndIndex);var u=l.text.substring(0,p),g=this._contextForBreakLines.measureText(u).width,F=0,C=0;d+=l.text.length-p+l.lineEnding.length;for(var I=0;F<g&&I<D.text.length;)d++,I++,C=Math.abs(g-F),F=this._contextForBreakLines.measureText(D.text.substring(0,I)).width;Math.abs(g-F)>C&&I>0&&d--,this._isTextHighlightOn?this._cursorInfo.currentLineIndex<this._highlightCursorInfo.initialLineIndex?(this._cursorInfo.globalStartIndex=d,this._cursorInfo.globalStartIndex>this._cursorInfo.globalEndIndex&&(this._cursorInfo.globalEndIndex+=this._cursorInfo.globalStartIndex,this._cursorInfo.globalStartIndex=this._cursorInfo.globalEndIndex-this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex-=this._cursorInfo.globalStartIndex)):(this._cursorInfo.globalEndIndex=d,this._cursorInfo.globalStartIndex=this._highlightCursorInfo.initialStartIndex):this._cursorInfo.globalStartIndex=d}this._markAsDirty();return}if(r==="a"&&o&&(o.ctrlKey||o.metaKey)){this.selectAllText(),o.preventDefault();return}(r==null?void 0:r.length)===1&&(o==null||o.preventDefault(),this._currentKey=r,this.onBeforeKeyAddObservable.notifyObservers(this),r=this._currentKey,this._addKey&&(this._isTextHighlightOn=!1,this._blinkIsEven=!1,this._prevText=this._textWrapper.text,this._textWrapper.removePart(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex,r),this._cursorInfo.globalStartIndex+=r.length,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._textHasChanged()))}},t.prototype._parseLineWordWrap=function(e,r,o){e===void 0&&(e="");for(var s=[],l=e.split(" "),c=0,d=function(u){var g=u>0?e+" "+l[u]:l[0],E=o.measureText(g),C=E.width;if(C>r){u>0&&(c=o.measureText(e).width,s.push({text:e,width:c,lineEnding:" "})),e=l[u];var y="";e.split("").map(function(D){o.measureText(y+D).width>r&&(s.push({text:y,width:o.measureText(y).width,lineEnding:""}),y=""),y+=D}),e=y,c=o.measureText(e).width}else c=C,e=g},p=0;p<l.length;p++)d(p);return s.push({text:e,width:c,lineEnding:" "}),s},t.prototype._breakLines=function(e,r){var o=[],s=(this.text||this.placeholderText).split(`
`);if(this.clipContent)for(var l=0,c=s;l<c.length;l++){var d=c[l];o.push.apply(o,this._parseLineWordWrap(d,e,r))}else for(var p=0,u=s;p<u.length;p++){var d=u[p];o.push(this._parseLine(d,r))}return o[o.length-1].lineEnding=`
`,o},t.prototype._parseLine=function(e,r){return e===void 0&&(e=""),{text:e,width:r.measureText(e).width,lineEnding:" "}},t.prototype._preMeasure=function(e,r){var o;(!this._fontOffset||this._wasDirty)&&(this._fontOffset=m.Control._GetFontOffset(r.font,(o=this._host.getScene())===null||o===void 0?void 0:o.getEngine()));var s=this._beforeRenderText(this._textWrapper).text;!this.text&&this._placeholderText&&(s=this._placeholderText),this._textWidth=r.measureText(s).width;var l=this._margin.getValueInPixel(this._host,e.width)*2;if(this._autoStretchWidth){var c=s.split(`
`),d=c.reduce(function(y,D){var F=r.measureText(D).width,I=r.measureText(y).width;return F>I?D:y},""),p=r.measureText(d).width;this.width=Math.min(this._maxWidth.getValueInPixel(this._host,e.width),p+l)+"px",this.autoStretchWidth=!0}if(this._availableWidth=this._width.getValueInPixel(this._host,e.width)-l,this._lines=this._breakLines(this._availableWidth,r),this._contextForBreakLines=r,this._autoStretchHeight){var u=this._lines.length*this._fontOffset.height,g=u+this._margin.getValueInPixel(this._host,e.height)*2;this.height=Math.min(this._maxHeight.getValueInPixel(this._host,e.height),g)+"px",this._autoStretchHeight=!0}if(this._availableHeight=this._height.getValueInPixel(this._host,e.height)-l,this._isFocused){this._cursorInfo.currentLineIndex=0;for(var E=this._lines[this._cursorInfo.currentLineIndex].text.length+this._lines[this._cursorInfo.currentLineIndex].lineEnding.length,C=0;C+E<=this._cursorInfo.globalStartIndex;)C+=E,this._cursorInfo.currentLineIndex<this._lines.length-1&&(this._cursorInfo.currentLineIndex++,E=this._lines[this._cursorInfo.currentLineIndex].text.length+this._lines[this._cursorInfo.currentLineIndex].lineEnding.length)}},t.prototype._textHasChanged=function(){!this._prevText&&this._textWrapper.text&&this.placeholderText&&(this._cursorInfo.currentLineIndex=0,this._cursorInfo.globalStartIndex=1,this._cursorInfo.globalEndIndex=1,this._cursorInfo.relativeStartIndex=1,this._cursorInfo.relativeEndIndex=1),i.prototype._textHasChanged.call(this)},t.prototype._computeScroll=function(){if(this._clipTextLeft=this._currentMeasure.left+this._margin.getValueInPixel(this._host,this._cachedParentMeasure.width),this._clipTextTop=this._currentMeasure.top+this._margin.getValueInPixel(this._host,this._cachedParentMeasure.height),this._isFocused&&this._lines[this._cursorInfo.currentLineIndex].width>this._availableWidth){var e=this._clipTextLeft-this._lines[this._cursorInfo.currentLineIndex].width+this._availableWidth;this._scrollLeft||(this._scrollLeft=e)}else this._scrollLeft=this._clipTextLeft;if(this._isFocused){var r=(this._cursorInfo.currentLineIndex+1)*this._fontOffset.height,o=this._clipTextTop-r;this._scrollTop||(this._scrollTop=o)}else this._scrollTop=this._clipTextTop},t.prototype._additionalProcessing=function(){this.highlightedText="",this.onLinesReadyObservable.notifyObservers(this)},t.prototype._drawText=function(e,r,o,s){var l=this._currentMeasure.width,c=this._scrollLeft;switch(this._textHorizontalAlignment){case m.Control.HORIZONTAL_ALIGNMENT_LEFT:c+=0;break;case m.Control.HORIZONTAL_ALIGNMENT_RIGHT:c+=l-r;break;case m.Control.HORIZONTAL_ALIGNMENT_CENTER:c+=(l-r)/2;break}(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur,s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY),this.outlineWidth&&s.strokeText(e,this._currentMeasure.left+c,o),s.fillText(e,c,o)},t.prototype._onCopyText=function(e){this._isTextHighlightOn=!1;try{e.clipboardData&&e.clipboardData.setData("text/plain",this._highlightedText)}catch{}this._host.clipboardData=this._highlightedText},t.prototype._onCutText=function(e){if(this._highlightedText){try{e.clipboardData&&e.clipboardData.setData("text/plain",this._highlightedText)}catch{}this._host.clipboardData=this._highlightedText,this._prevText=this._textWrapper.text,this._textWrapper.removePart(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex),this._textHasChanged()}},t.prototype._onPasteText=function(e){var r="";e.clipboardData&&e.clipboardData.types.indexOf("text/plain")!==-1?r=e.clipboardData.getData("text/plain"):r=this._host.clipboardData,this._isTextHighlightOn=!1,this._prevText=this._textWrapper.text,this._textWrapper.removePart(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex,r);var o=r.length-(this._cursorInfo.globalEndIndex-this._cursorInfo.globalStartIndex);this._cursorInfo.globalStartIndex+=o,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._clickedCoordinateX=null,this._clickedCoordinateY=null,i.prototype._textHasChanged.call(this)},t.prototype._draw=function(e){var r,o;this._computeScroll(),this._scrollLeft=(r=this._scrollLeft)!==null&&r!==void 0?r:0,this._scrollTop=(o=this._scrollTop)!==null&&o!==void 0?o:0,e.save(),this._applyStates(e),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur,e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY),this._isFocused?this._focusedBackground&&(e.fillStyle=this._isEnabled?this._focusedBackground:this._disabledColor,e.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)):this._background&&(e.fillStyle=this._isEnabled?this._background:this._disabledColor,e.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),this.color&&(e.fillStyle=this.color);var s=this._currentMeasure.height,l=this._currentMeasure.width,c=0;switch(this._textVerticalAlignment){case m.Control.VERTICAL_ALIGNMENT_TOP:c=this._fontOffset.ascent;break;case m.Control.VERTICAL_ALIGNMENT_BOTTOM:c=s-this._fontOffset.height*(this._lines.length-1)-this._fontOffset.descent;break;case m.Control.VERTICAL_ALIGNMENT_CENTER:c=this._fontOffset.ascent+(s-this._fontOffset.height*this._lines.length)/2;break}e.save(),e.beginPath(),e.fillStyle=this.fontStyle,!this._textWrapper.text&&this.placeholderText&&(e.fillStyle=this._placeholderColor),e.rect(this._clipTextLeft,this._clipTextTop,this._availableWidth+2,this._availableHeight+2),e.clip(),c+=this._scrollTop;for(var d=0;d<this._lines.length;d++){var p=this._lines[d];d!==0&&this._lineSpacing.internalValue!==0&&(this._lineSpacing.isPixel?c+=this._lineSpacing.getValue(this._host):c=c+this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)),this._drawText(p.text,p.width,c,e),c+=this._fontOffset.height}if(e.restore(),this._isFocused){if(!this._blinkIsEven||this._isTextHighlightOn){var u=this._scrollLeft+e.measureText(this._lines[this._cursorInfo.currentLineIndex].text.substring(0,this._cursorInfo.relativeStartIndex)).width;u<this._clipTextLeft?(this._scrollLeft+=this._clipTextLeft-u,u=this._clipTextLeft,this._markAsDirty()):u>this._clipTextLeft+this._availableWidth&&(this._scrollLeft+=this._clipTextLeft+this._availableWidth-u,u=this._clipTextLeft+this._availableWidth,this._markAsDirty());var g=this._scrollTop+this._cursorInfo.currentLineIndex*this._fontOffset.height;g<this._clipTextTop?(this._scrollTop+=this._clipTextTop-g,g=this._clipTextTop,this._markAsDirty()):g+this._fontOffset.height>this._clipTextTop+this._availableHeight&&this._availableHeight>this._fontOffset.height&&(this._scrollTop+=this._clipTextTop+this._availableHeight-g-this._fontOffset.height,g=this._clipTextTop+this._availableHeight-this._fontOffset.height,this._markAsDirty()),this._isTextHighlightOn||e.fillRect(u,g,2,this._fontOffset.height)}if(this._resetBlinking(),this._isTextHighlightOn){clearTimeout(this._blinkTimeout),this._highlightedText=this.text.substring(this._cursorInfo.globalStartIndex,this._cursorInfo.globalEndIndex),e.globalAlpha=this._highligherOpacity,e.fillStyle=this._textHighlightColor;for(var E=Math.min(this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialLineIndex),C=Math.max(this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialLineIndex),y=this._scrollTop+E*this._fontOffset.height,d=E;d<=C;d++){var p=this._lines[d],D=this._scrollLeft;switch(this._textHorizontalAlignment){case m.Control.HORIZONTAL_ALIGNMENT_LEFT:D+=0;break;case m.Control.HORIZONTAL_ALIGNMENT_RIGHT:D+=l-p.width;break;case m.Control.HORIZONTAL_ALIGNMENT_CENTER:D+=(l-p.width)/2;break}var F=d===E?this._cursorInfo.relativeStartIndex:0,I=d===C?this._cursorInfo.relativeEndIndex:p.text.length,R=e.measureText(p.text.substring(0,F)).width,w=p.text.substring(F,I),V=e.measureText(w).width;e.fillRect(D+R,y,V,this._fontOffset.height),y+=this._fontOffset.height}this._cursorInfo.globalEndIndex===this._cursorInfo.globalStartIndex&&this._resetBlinking()}}e.restore(),this._thickness&&(this._isFocused?this.focusedColor&&(e.strokeStyle=this.focusedColor):this.color&&(e.strokeStyle=this.color),e.lineWidth=this._thickness,e.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,this._currentMeasure.width-this._thickness,this._currentMeasure.height-this._thickness))},t.prototype._resetBlinking=function(){var e=this;clearTimeout(this._blinkTimeout),this._blinkTimeout=setTimeout(function(){e._blinkIsEven=!e._blinkIsEven,e._markAsDirty()},500)},t.prototype._onPointerDown=function(e,r,o,s,l){return i.prototype._onPointerDown.call(this,e,r,o,s,l)?this.isReadOnly?!0:(this._clickedCoordinateX=r.x,this._clickedCoordinateY=r.y,this._isTextHighlightOn=!1,this._highlightedText="",this._isPointerDown=!0,this._host._capturingControl[o]=this,this._host.focusedControl===this?(clearTimeout(this._blinkTimeout),this._markAsDirty(),!0):this._isEnabled?(this._host.focusedControl=this,!0):!1):!1},t.prototype._onPointerMove=function(e,r,o,s){s.event.movementX===0&&s.event.movementY===0||(this._host.focusedControl===this&&this._isPointerDown&&!this.isReadOnly&&(this._clickedCoordinateX=r.x,this._clickedCoordinateY=r.y,this._isTextHighlightOn||(this._highlightCursorInfo.initialLineIndex=this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialStartIndex=this._cursorInfo.globalStartIndex,this._highlightCursorInfo.initialRelativeStartIndex=this._cursorInfo.relativeStartIndex,this._isTextHighlightOn=!0),this._markAsDirty()),i.prototype._onPointerMove.call(this,e,r,o,s))},t.prototype._updateCursorPosition=function(){var e;if(this._isFocused)if(!this._textWrapper.text&&this.placeholderText)this._cursorInfo.currentLineIndex=0,this._cursorInfo.globalStartIndex=0,this._cursorInfo.globalEndIndex=0,this._cursorInfo.relativeStartIndex=0,this._cursorInfo.relativeEndIndex=0;else if(this._clickedCoordinateX&&this._clickedCoordinateY){this._isTextHighlightOn||(this._cursorInfo={globalStartIndex:0,globalEndIndex:0,relativeStartIndex:0,relativeEndIndex:0,currentLineIndex:0});var r=0,o=0,s=this._clickedCoordinateY-this._scrollTop,l=Math.floor(s/this._fontOffset.height);this._cursorInfo.currentLineIndex=Math.min(Math.max(l,0),this._lines.length-1);for(var c=0,d=this._clickedCoordinateX-((e=this._scrollLeft)!==null&&e!==void 0?e:0),p=0,u=0;u<this._cursorInfo.currentLineIndex;u++){var g=this._lines[u];r+=g.text.length+g.lineEnding.length}for(;c<d&&this._lines[this._cursorInfo.currentLineIndex].text.length>o;)o++,p=Math.abs(d-c),c=this._contextForBreakLines.measureText(this._lines[this._cursorInfo.currentLineIndex].text.substring(0,o)).width;Math.abs(d-c)>p&&o>0&&o--,r+=o,this._isTextHighlightOn?r<this._highlightCursorInfo.initialStartIndex?(this._cursorInfo.globalStartIndex=r,this._cursorInfo.relativeStartIndex=o,this._cursorInfo.globalEndIndex=this._highlightCursorInfo.initialStartIndex,this._cursorInfo.relativeEndIndex=this._highlightCursorInfo.initialRelativeStartIndex):(this._cursorInfo.globalStartIndex=this._highlightCursorInfo.initialStartIndex,this._cursorInfo.relativeStartIndex=this._highlightCursorInfo.initialRelativeStartIndex,this._cursorInfo.globalEndIndex=r,this._cursorInfo.relativeEndIndex=o):(this._cursorInfo.globalStartIndex=r,this._cursorInfo.relativeStartIndex=o,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex,this._cursorInfo.relativeEndIndex=this._cursorInfo.relativeStartIndex),this._blinkIsEven=this._isTextHighlightOn,this._clickedCoordinateX=null,this._clickedCoordinateY=null}else{this._cursorInfo.relativeStartIndex=0,this._cursorInfo.currentLineIndex=0;for(var E=this._lines[this._cursorInfo.currentLineIndex].text.length+this._lines[this._cursorInfo.currentLineIndex].lineEnding.length,C=0;C+E<=this._cursorInfo.globalStartIndex;)C+=E,this._cursorInfo.currentLineIndex<this._lines.length-1&&(this._cursorInfo.currentLineIndex++,E=this._lines[this._cursorInfo.currentLineIndex].text.length+this._lines[this._cursorInfo.currentLineIndex].lineEnding.length);if(this._cursorInfo.relativeStartIndex=this._cursorInfo.globalStartIndex-C,!this._isTextHighlightOn)this._cursorInfo.relativeEndIndex=this._cursorInfo.relativeStartIndex,this._cursorInfo.globalEndIndex=this._cursorInfo.globalStartIndex;else if(this._highlightCursorInfo.initialStartIndex!==-1&&this._cursorInfo.globalStartIndex>=this._highlightCursorInfo.initialStartIndex){for(;C+E<=this._cursorInfo.globalEndIndex;)C+=E,this._cursorInfo.currentLineIndex<this._lines.length-1&&(this._cursorInfo.currentLineIndex++,E=this._lines[this._cursorInfo.currentLineIndex].text.length+this._lines[this._cursorInfo.currentLineIndex].lineEnding.length);this._cursorInfo.relativeEndIndex=this._cursorInfo.globalEndIndex-C}}},t.prototype._updateValueFromCursorIndex=function(e){},t.prototype._processDblClick=function(e){var r,o;do r=this._cursorInfo.globalStartIndex>0&&this._textWrapper.isWord(this._cursorInfo.globalStartIndex-1)?--this._cursorInfo.globalStartIndex:0,o=this._cursorInfo.globalEndIndex<this._textWrapper.length&&this._textWrapper.isWord(this._cursorInfo.globalEndIndex)?++this._cursorInfo.globalEndIndex:0;while(r||o);this._highlightCursorInfo.initialLineIndex=this._cursorInfo.currentLineIndex,this._highlightCursorInfo.initialStartIndex=this._cursorInfo.globalStartIndex,this.onTextHighlightObservable.notifyObservers(this),this._isTextHighlightOn=!0,this._blinkIsEven=!0,this._markAsDirty()},t.prototype.selectAllText=function(){this._isTextHighlightOn=!0,this._blinkIsEven=!0,this._highlightCursorInfo={initialStartIndex:0,initialRelativeStartIndex:0,initialLineIndex:0},this._cursorInfo={globalStartIndex:0,globalEndIndex:this._textWrapper.length,relativeEndIndex:this._lines[this._lines.length-1].text.length,relativeStartIndex:0,currentLineIndex:this._lines.length-1},this._markAsDirty()},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.onLinesReadyObservable.clear()},(0,_.__decorate)([(0,n.serialize)()],t.prototype,"autoStretchHeight",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"maxHeight",null),t}(f.InputText);(0,n.RegisterClass)("BABYLON.GUI.InputTextArea",a)},"../../../dev/gui/src/2D/controls/line.ts":(k,b,h)=>{h.r(b),h.d(b,{Line:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/valueAndUnit.ts"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._lineWidth=1,e._x1=new v.ValueAndUnit(0),e._y1=new v.ValueAndUnit(0),e._x2=new v.ValueAndUnit(0),e._y2=new v.ValueAndUnit(0),e._dash=new Array,e._automaticSize=!0,e.isHitTestVisible=!1,e._horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,e._verticalAlignment=m.Control.VERTICAL_ALIGNMENT_TOP,e}return Object.defineProperty(i.prototype,"dash",{get:function(){return this._dash},set:function(t){this._dash!==t&&(this._dash=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"connectedControl",{get:function(){return this._connectedControl},set:function(t){var e=this;this._connectedControl!==t&&(this._connectedControlDirtyObserver&&this._connectedControl&&(this._connectedControl.onDirtyObservable.remove(this._connectedControlDirtyObserver),this._connectedControlDirtyObserver=null),t&&(this._connectedControlDirtyObserver=t.onDirtyObservable.add(function(){return e._markAsDirty()})),this._connectedControl=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x1",{get:function(){return this._x1.toString(this._host)},set:function(t){this._x1.toString(this._host)!==t&&this._x1.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y1",{get:function(){return this._y1.toString(this._host)},set:function(t){this._y1.toString(this._host)!==t&&this._y1.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x2",{get:function(){return this._x2.toString(this._host)},set:function(t){this._x2.toString(this._host)!==t&&this._x2.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y2",{get:function(){return this._y2.toString(this._host)},set:function(t){this._y2.toString(this._host)!==t&&this._y2.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth!==t&&(this._lineWidth=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"horizontalAlignment",{set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlignment",{set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_effectiveX2",{get:function(){return(this._connectedControl?this._connectedControl.centerX:0)+this._x2.getValue(this._host)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_effectiveY2",{get:function(){return(this._connectedControl?this._connectedControl.centerY:0)+this._y2.getValue(this._host)},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"Line"},i.prototype._draw=function(t){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._applyStates(t),t.strokeStyle=this._getColor(t),t.lineWidth=this._lineWidth,t.setLineDash(this._dash),t.beginPath(),t.moveTo(this._cachedParentMeasure.left+this._x1.getValue(this._host),this._cachedParentMeasure.top+this._y1.getValue(this._host)),t.lineTo(this._cachedParentMeasure.left+this._effectiveX2,this._cachedParentMeasure.top+this._effectiveY2),t.stroke(),t.restore()},i.prototype._measure=function(){this._currentMeasure.width=Math.abs(this._x1.getValue(this._host)-this._effectiveX2)+this._lineWidth,this._currentMeasure.height=Math.abs(this._y1.getValue(this._host)-this._effectiveY2)+this._lineWidth},i.prototype._computeAlignment=function(t){this._currentMeasure.left=t.left+Math.min(this._x1.getValue(this._host),this._effectiveX2)-this._lineWidth/2,this._currentMeasure.top=t.top+Math.min(this._y1.getValue(this._host),this._effectiveY2)-this._lineWidth/2},i.prototype.moveToVector3=function(t,e,r){if(r===void 0&&(r=!1),!this._host||this.parent!==this._host._rootContainer){n.Tools.Error("Cannot move a control to a vector3 if the control is not at root level");return}var o=this._host._getGlobalViewport(),s=n.Vector3.Project(t,n.Matrix.IdentityReadOnly,e.getTransformMatrix(),o);if(this._moveToProjectedPosition(s,r),s.z<0||s.z>1){this.notRenderable=!0;return}this.notRenderable=!1},i.prototype._moveToProjectedPosition=function(t,e){e===void 0&&(e=!1);var r=t.x+this._linkOffsetX.getValue(this._host)+"px",o=t.y+this._linkOffsetY.getValue(this._host)+"px";e?(this.x2=r,this.y2=o,this._x2.ignoreAdaptiveScaling=!0,this._y2.ignoreAdaptiveScaling=!0):(this.x1=r,this.y1=o,this._x1.ignoreAdaptiveScaling=!0,this._y1.ignoreAdaptiveScaling=!0)},(0,_.__decorate)([(0,n.serialize)()],i.prototype,"dash",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"x1",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"y1",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"x2",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"y2",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"lineWidth",null),i}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.Line",f)},"../../../dev/gui/src/2D/controls/multiLine.ts":(k,b,h)=>{h.r(b),h.d(b,{MultiLine:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/multiLinePoint.ts"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._lineWidth=1,e.onPointUpdate=function(){e._markAsDirty()},e._automaticSize=!0,e.isHitTestVisible=!1,e._horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,e._verticalAlignment=m.Control.VERTICAL_ALIGNMENT_TOP,e._dash=[],e._points=[],e}return Object.defineProperty(i.prototype,"dash",{get:function(){return this._dash},set:function(t){this._dash!==t&&(this._dash=t,this._markAsDirty())},enumerable:!1,configurable:!0}),i.prototype.getAt=function(t){return this._points[t]||(this._points[t]=new v.MultiLinePoint(this)),this._points[t]},i.prototype.add=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.map(function(o){return t.push(o)})},i.prototype.push=function(t){var e=this.getAt(this._points.length);return t==null||(t instanceof n.AbstractMesh?e.mesh=t:t instanceof m.Control?e.control=t:t.x!=null&&t.y!=null&&(e.x=t.x,e.y=t.y)),e},i.prototype.remove=function(t){var e;if(t instanceof v.MultiLinePoint){if(e=this._points.indexOf(t),e===-1)return}else e=t;var r=this._points[e];r&&(r.dispose(),this._points.splice(e,1))},i.prototype.reset=function(){for(;this._points.length>0;)this.remove(this._points.length-1)},i.prototype.resetLinks=function(){this._points.forEach(function(t){t!=null&&t.resetLinks()})},Object.defineProperty(i.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth!==t&&(this._lineWidth=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"horizontalAlignment",{set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlignment",{set:function(t){},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"MultiLine"},i.prototype._draw=function(t){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._applyStates(t),t.strokeStyle=this.color,t.lineWidth=this._lineWidth,t.setLineDash(this._dash),t.beginPath();var e=!0,r;this._points.forEach(function(o){o&&(e?(t.moveTo(o._point.x,o._point.y),e=!1):o._point.z<1&&r.z<1?t.lineTo(o._point.x,o._point.y):t.moveTo(o._point.x,o._point.y),r=o._point)}),t.stroke(),t.restore()},i.prototype._additionalProcessing=function(){var t=this;this._minX=null,this._minY=null,this._maxX=null,this._maxY=null,this._points.forEach(function(e){e&&(e.translate(),(t._minX==null||e._point.x<t._minX)&&(t._minX=e._point.x),(t._minY==null||e._point.y<t._minY)&&(t._minY=e._point.y),(t._maxX==null||e._point.x>t._maxX)&&(t._maxX=e._point.x),(t._maxY==null||e._point.y>t._maxY)&&(t._maxY=e._point.y))}),this._minX==null&&(this._minX=0),this._minY==null&&(this._minY=0),this._maxX==null&&(this._maxX=0),this._maxY==null&&(this._maxY=0)},i.prototype._measure=function(){this._minX==null||this._maxX==null||this._minY==null||this._maxY==null||(this._currentMeasure.width=Math.abs(this._maxX-this._minX)+this._lineWidth,this._currentMeasure.height=Math.abs(this._maxY-this._minY)+this._lineWidth)},i.prototype._computeAlignment=function(){this._minX==null||this._minY==null||(this._currentMeasure.left=this._minX-this._lineWidth/2,this._currentMeasure.top=this._minY-this._lineWidth/2)},i.prototype.dispose=function(){this.reset(),a.prototype.dispose.call(this)},(0,_.__decorate)([(0,n.serialize)()],i.prototype,"dash",null),i}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.MultiLine",f)},"../../../dev/gui/src/2D/controls/radioButton.ts":(k,b,h)=>{h.r(b),h.d(b,{RadioButton:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),f=h("../../../dev/gui/src/2D/controls/textBlock.ts"),a=function(i){(0,_.__extends)(t,i);function t(e){var r=i.call(this,e)||this;return r.name=e,r._isChecked=!1,r._background="black",r._checkSizeRatio=.8,r._thickness=1,r.group="",r.onIsCheckedChangedObservable=new n.Observable,r.isPointerBlocker=!0,r}return Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(e){this._thickness!==e&&(this._thickness=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkSizeRatio",{get:function(){return this._checkSizeRatio},set:function(e){e=Math.max(Math.min(1,e),0),this._checkSizeRatio!==e&&(this._checkSizeRatio=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"background",{get:function(){return this._background},set:function(e){this._background!==e&&(this._background=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return this._isChecked},set:function(e){var r=this;this._isChecked!==e&&(this._isChecked=e,this._markAsDirty(),this.onIsCheckedChangedObservable.notifyObservers(e),this._isChecked&&this._host&&this._host.executeOnAllControls(function(o){if(o!==r&&o.group!==void 0){var s=o;s.group===r.group&&(s.isChecked=!1)}}))},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"RadioButton"},t.prototype._draw=function(e){e.save(),this._applyStates(e);var r=this._currentMeasure.width-this._thickness,o=this._currentMeasure.height-this._thickness;if((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur,e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY),m.Control.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2-this._thickness/2,this._currentMeasure.height/2-this._thickness/2,1,e),e.fillStyle=this._isEnabled?this._background:this._disabledColor,e.fill(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.strokeStyle=this.color,e.lineWidth=this._thickness,e.stroke(),this._isChecked){e.fillStyle=this._isEnabled?this.color:this._disabledColor;var s=r*this._checkSizeRatio,l=o*this._checkSizeRatio;m.Control.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,s/2-this._thickness/2,l/2-this._thickness/2,1,e),e.fill()}e.restore()},t.prototype._onPointerDown=function(e,r,o,s,l){return i.prototype._onPointerDown.call(this,e,r,o,s,l)?(this.isReadOnly||this.isChecked||(this.isChecked=!0),!0):!1},t.AddRadioButtonWithHeader=function(e,r,o,s){var l=new v.StackPanel;l.isVertical=!1,l.height="30px";var c=new t;c.width="20px",c.height="20px",c.isChecked=o,c.color="green",c.group=r,c.onIsCheckedChangedObservable.add(function(p){return s(c,p)}),l.addControl(c);var d=new f.TextBlock;return d.text=e,d.width="180px",d.paddingLeft="5px",d.textHorizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT,d.color="white",l.addControl(d),l},(0,_.__decorate)([(0,n.serialize)()],t.prototype,"thickness",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"group",void 0),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"checkSizeRatio",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"background",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"isChecked",null),t}(m.Control);(0,n.RegisterClass)("BABYLON.GUI.RadioButton",a)},"../../../dev/gui/src/2D/controls/rectangle.ts":(k,b,h)=>{h.r(b),h.d(b,{Rectangle:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/container.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t.name=i,t._thickness=1,t._cornerRadius=[0,0,0,0],t._cachedRadius=[0,0,0,0],t}return Object.defineProperty(a.prototype,"thickness",{get:function(){return this._thickness},set:function(i){this._thickness!==i&&(this._thickness=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cornerRadius",{get:function(){return this._cornerRadius[0]},set:function(i){i<0&&(i=0),!(this._cornerRadius[0]===i&&this._cornerRadius[1]===i&&this._cornerRadius[2]===i&&this._cornerRadius[3]===i)&&(this._cornerRadius[0]=this._cornerRadius[1]=this._cornerRadius[2]=this._cornerRadius[3]=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cornerRadiusX",{get:function(){return this._cornerRadius[0]},set:function(i){this._cornerRadius[0]!==i&&(this._cornerRadius[0]=i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cornerRadiusY",{get:function(){return this._cornerRadius[1]},set:function(i){this._cornerRadius[1]!==i&&(this._cornerRadius[1]=i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cornerRadiusZ",{get:function(){return this._cornerRadius[2]},set:function(i){this._cornerRadius[2]!==i&&(this._cornerRadius[2]=i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cornerRadiusW",{get:function(){return this._cornerRadius[3]},set:function(i){this._cornerRadius[3]!==i&&(this._cornerRadius[3]=i)},enumerable:!1,configurable:!0}),a.prototype._getTypeName=function(){return"Rectangle"},a.prototype._computeAdditionalOffsetX=function(){var i=0;return(this._cornerRadius[0]!==0||this._cornerRadius[1]!==0||this._cornerRadius[2]!==0||this._cornerRadius[3]!==0)&&(i+=1),this.thickness&&(i+=this.thickness/2),i},a.prototype._computeAdditionalOffsetY=function(){var i=0;return(this._cornerRadius[0]!==0||this._cornerRadius[1]!==0||this._cornerRadius[2]!==0||this._cornerRadius[3]!==0)&&(i+=1),this.thickness&&(i+=this.thickness/2),i},a.prototype._getRectangleFill=function(i){return this._getBackgroundColor(i)},a.prototype._localDraw=function(i){i.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur,i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY),(this._background||this._backgroundGradient)&&(i.fillStyle=this._getRectangleFill(i),this._cornerRadius[0]!==0||this._cornerRadius[1]!==0||this._cornerRadius[2]!==0||this._cornerRadius[3]!==0?(this._drawRoundedRect(i,this._thickness/2),i.fill()):i.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),this._thickness&&((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),(this.color||this.gradient)&&(i.strokeStyle=this.gradient?this.gradient.getCanvasGradient(i):this.color),i.lineWidth=this._thickness,this._cornerRadius[0]!==0||this._cornerRadius[1]!==0||this._cornerRadius[2]!==0||this._cornerRadius[3]!==0?(this._drawRoundedRect(i,this._thickness/2),i.stroke()):i.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,this._currentMeasure.width-this._thickness,this._currentMeasure.height-this._thickness)),i.restore()},a.prototype._additionalProcessing=function(i,t){f.prototype._additionalProcessing.call(this,i,t),this._measureForChildren.width-=2*this._thickness,this._measureForChildren.height-=2*this._thickness,this._measureForChildren.left+=this._thickness,this._measureForChildren.top+=this._thickness},a.prototype._drawRoundedRect=function(i,t){t===void 0&&(t=0);for(var e=this._currentMeasure.left+t,r=this._currentMeasure.top+t,o=this._currentMeasure.width-t*2,s=this._currentMeasure.height-t*2,l=0;l<this._cornerRadius.length;l++)this._cachedRadius[l]=Math.abs(Math.min(s/2,Math.min(o/2,this._cornerRadius[l])));i.beginPath(),i.moveTo(e+this._cachedRadius[0],r),i.lineTo(e+o-this._cachedRadius[1],r),i.arc(e+o-this._cachedRadius[1],r+this._cachedRadius[1],this._cachedRadius[1],3*Math.PI/2,Math.PI*2),i.lineTo(e+o,r+s-this._cachedRadius[2]),i.arc(e+o-this._cachedRadius[2],r+s-this._cachedRadius[2],this._cachedRadius[2],0,Math.PI/2),i.lineTo(e+this._cachedRadius[3],r+s),i.arc(e+this._cachedRadius[3],r+s-this._cachedRadius[3],this._cachedRadius[3],Math.PI/2,Math.PI),i.lineTo(e,r+this._cachedRadius[0]),i.arc(e+this._cachedRadius[0],r+this._cachedRadius[0],this._cachedRadius[0],Math.PI,3*Math.PI/2),i.closePath()},a.prototype._clipForChildren=function(i){(this._cornerRadius[0]!==0||this._cornerRadius[1]!==0||this._cornerRadius[2]!==0||this._cornerRadius[3]!==0)&&(this._drawRoundedRect(i,this._thickness),i.clip())},(0,_.__decorate)([(0,m.serialize)()],a.prototype,"thickness",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cornerRadius",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cornerRadiusX",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cornerRadiusY",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cornerRadiusZ",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"cornerRadiusW",null),a}(n.Container);(0,m.RegisterClass)("BABYLON.GUI.Rectangle",v)},"../../../dev/gui/src/2D/controls/scrollViewers/scrollViewer.ts":(k,b,h)=>{h.r(b),h.d(b,{ScrollViewer:()=>e});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/rectangle.ts"),m=h("../../../dev/gui/src/2D/controls/grid.ts"),v=h("../../../dev/gui/src/2D/controls/control.ts"),f=h("../../../dev/gui/src/2D/controls/scrollViewers/scrollViewerWindow.ts"),a=h("../../../dev/gui/src/2D/controls/sliders/scrollBar.ts"),i=h("../../../dev/gui/src/2D/controls/sliders/imageScrollBar.ts"),t=h("babylonjs/Misc/perfCounter"),e=function(r){(0,_.__extends)(o,r);function o(s,l){var c=r.call(this,s)||this;return c._barSize=20,c._pointerIsOver=!1,c._wheelPrecision=.05,c._thumbLength=.5,c._thumbHeight=1,c._barImageHeight=1,c._horizontalBarImageHeight=1,c._verticalBarImageHeight=1,c._oldWindowContentsWidth=0,c._oldWindowContentsHeight=0,c._forceHorizontalBar=!1,c._forceVerticalBar=!1,c._useImageBar=l||!1,c.onDirtyObservable.add(function(){c._horizontalBarSpace.color=c.color,c._verticalBarSpace.color=c.color,c._dragSpace.color=c.color}),c.onPointerEnterObservable.add(function(){c._pointerIsOver=!0}),c.onPointerOutObservable.add(function(){c._pointerIsOver=!1}),c._grid=new m.Grid,c._useImageBar?(c._horizontalBar=new i.ImageScrollBar,c._verticalBar=new i.ImageScrollBar):(c._horizontalBar=new a.ScrollBar,c._verticalBar=new a.ScrollBar),c._window=new f._ScrollViewerWindow("scrollViewer_window"),c._window.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,c._window.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_TOP,c._grid.addColumnDefinition(1),c._grid.addColumnDefinition(0,!0),c._grid.addRowDefinition(1),c._grid.addRowDefinition(0,!0),r.prototype.addControl.call(c,c._grid),c._grid.addControl(c._window,0,0),c._verticalBarSpace=new n.Rectangle,c._verticalBarSpace.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,c._verticalBarSpace.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_TOP,c._verticalBarSpace.thickness=1,c._grid.addControl(c._verticalBarSpace,0,1),c._addBar(c._verticalBar,c._verticalBarSpace,!0,Math.PI),c._horizontalBarSpace=new n.Rectangle,c._horizontalBarSpace.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,c._horizontalBarSpace.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_TOP,c._horizontalBarSpace.thickness=1,c._grid.addControl(c._horizontalBarSpace,1,0),c._addBar(c._horizontalBar,c._horizontalBarSpace,!1,0),c._dragSpace=new n.Rectangle,c._dragSpace.thickness=1,c._grid.addControl(c._dragSpace,1,1),c._grid.clipChildren=!1,c._useImageBar||(c.barColor="grey",c.barBackground="transparent"),c}return Object.defineProperty(o.prototype,"horizontalBar",{get:function(){return this._horizontalBar},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticalBar",{get:function(){return this._verticalBar},enumerable:!1,configurable:!0}),o.prototype.addControl=function(s){return s?(this._window.addControl(s),this):this},o.prototype.removeControl=function(s){return this._window.removeControl(s),this},Object.defineProperty(o.prototype,"children",{get:function(){return this._window.children},enumerable:!1,configurable:!0}),o.prototype._flagDescendantsAsMatrixDirty=function(){for(var s=0,l=this._children;s<l.length;s++){var c=l[s];c._markMatrixAsDirty()}},Object.defineProperty(o.prototype,"freezeControls",{get:function(){return this._window.freezeControls},set:function(s){this._window.freezeControls=s},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bucketWidth",{get:function(){return this._window.bucketWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bucketHeight",{get:function(){return this._window.bucketHeight},enumerable:!1,configurable:!0}),o.prototype.setBucketSizes=function(s,l){this._window.setBucketSizes(s,l)},Object.defineProperty(o.prototype,"forceHorizontalBar",{get:function(){return this._forceHorizontalBar},set:function(s){this._grid.setRowDefinition(1,s?this._barSize:0,!0),this._horizontalBar.isVisible=s,this._forceHorizontalBar=s},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"forceVerticalBar",{get:function(){return this._forceVerticalBar},set:function(s){this._grid.setColumnDefinition(1,s?this._barSize:0,!0),this._verticalBar.isVisible=s,this._forceVerticalBar=s},enumerable:!1,configurable:!0}),o.prototype.resetWindow=function(){this._window.width="100%",this._window.height="100%"},o.prototype._getTypeName=function(){return"ScrollViewer"},o.prototype._buildClientSizes=function(){var s=this.host.idealRatio;this._window.parentClientWidth=this._currentMeasure.width-(this._verticalBar.isVisible||this.forceVerticalBar?this._barSize*s:0)-2*this.thickness,this._window.parentClientHeight=this._currentMeasure.height-(this._horizontalBar.isVisible||this.forceHorizontalBar?this._barSize*s:0)-2*this.thickness,this._clientWidth=this._window.parentClientWidth,this._clientHeight=this._window.parentClientHeight},o.prototype._additionalProcessing=function(s,l){r.prototype._additionalProcessing.call(this,s,l),this._buildClientSizes()},o.prototype._postMeasure=function(){r.prototype._postMeasure.call(this),this._updateScroller(),this._setWindowPosition(!1)},Object.defineProperty(o.prototype,"wheelPrecision",{get:function(){return this._wheelPrecision},set:function(s){this._wheelPrecision!==s&&(s<0&&(s=0),s>1&&(s=1),this._wheelPrecision=s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scrollBackground",{get:function(){return this._horizontalBarSpace.background},set:function(s){this._horizontalBarSpace.background!==s&&(this._horizontalBarSpace.background=s,this._verticalBarSpace.background=s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"barColor",{get:function(){return this._barColor},set:function(s){this._barColor!==s&&(this._barColor=s,this._horizontalBar.color=s,this._verticalBar.color=s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbImage",{get:function(){return this._barImage},set:function(s){if(this._barImage!==s){this._barImage=s;var l=this._horizontalBar,c=this._verticalBar;l.thumbImage=s,c.thumbImage=s}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"horizontalThumbImage",{get:function(){return this._horizontalBarImage},set:function(s){if(this._horizontalBarImage!==s){this._horizontalBarImage=s;var l=this._horizontalBar;l.thumbImage=s}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticalThumbImage",{get:function(){return this._verticalBarImage},set:function(s){if(this._verticalBarImage!==s){this._verticalBarImage=s;var l=this._verticalBar;l.thumbImage=s}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"barSize",{get:function(){return this._barSize},set:function(s){this._barSize!==s&&(this._barSize=s,this._markAsDirty(),this._horizontalBar.isVisible&&this._grid.setRowDefinition(1,this._barSize,!0),this._verticalBar.isVisible&&this._grid.setColumnDefinition(1,this._barSize,!0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbLength",{get:function(){return this._thumbLength},set:function(s){if(this._thumbLength!==s){s<=0&&(s=.1),s>1&&(s=1),this._thumbLength=s;var l=this._horizontalBar,c=this._verticalBar;l.thumbLength=s,c.thumbLength=s,this._markAsDirty()}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"thumbHeight",{get:function(){return this._thumbHeight},set:function(s){if(this._thumbHeight!==s){s<=0&&(s=.1),s>1&&(s=1),this._thumbHeight=s;var l=this._horizontalBar,c=this._verticalBar;l.thumbHeight=s,c.thumbHeight=s,this._markAsDirty()}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"barImageHeight",{get:function(){return this._barImageHeight},set:function(s){if(this._barImageHeight!==s){s<=0&&(s=.1),s>1&&(s=1),this._barImageHeight=s;var l=this._horizontalBar,c=this._verticalBar;l.barImageHeight=s,c.barImageHeight=s,this._markAsDirty()}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"horizontalBarImageHeight",{get:function(){return this._horizontalBarImageHeight},set:function(s){if(this._horizontalBarImageHeight!==s){s<=0&&(s=.1),s>1&&(s=1),this._horizontalBarImageHeight=s;var l=this._horizontalBar;l.barImageHeight=s,this._markAsDirty()}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticalBarImageHeight",{get:function(){return this._verticalBarImageHeight},set:function(s){if(this._verticalBarImageHeight!==s){s<=0&&(s=.1),s>1&&(s=1),this._verticalBarImageHeight=s;var l=this._verticalBar;l.barImageHeight=s,this._markAsDirty()}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"barBackground",{get:function(){return this._barBackground},set:function(s){if(this._barBackground!==s){this._barBackground=s;var l=this._horizontalBar,c=this._verticalBar;l.background=s,c.background=s,this._dragSpace.background=s}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"barImage",{get:function(){return this._barBackgroundImage},set:function(s){this._barBackgroundImage=s;var l=this._horizontalBar,c=this._verticalBar;l.backgroundImage=s,c.backgroundImage=s},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"horizontalBarImage",{get:function(){return this._horizontalBarBackgroundImage},set:function(s){this._horizontalBarBackgroundImage=s;var l=this._horizontalBar;l.backgroundImage=s},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticalBarImage",{get:function(){return this._verticalBarBackgroundImage},set:function(s){this._verticalBarBackgroundImage=s;var l=this._verticalBar;l.backgroundImage=s},enumerable:!1,configurable:!0}),o.prototype._setWindowPosition=function(s){s===void 0&&(s=!0);var l=this.host.idealRatio,c=this._window._currentMeasure.width,d=this._window._currentMeasure.height;if(!(!s&&this._oldWindowContentsWidth===c&&this._oldWindowContentsHeight===d)){this._oldWindowContentsWidth=c,this._oldWindowContentsHeight=d;var p=this._clientWidth-c,u=this._clientHeight-d,g=this._horizontalBar.value/l*p+"px",E=this._verticalBar.value/l*u+"px";g!==this._window.left&&(this._window.left=g,this.freezeControls||(this._rebuildLayout=!0)),E!==this._window.top&&(this._window.top=E,this.freezeControls||(this._rebuildLayout=!0))}},o.prototype._updateScroller=function(){var s=this._window._currentMeasure.width,l=this._window._currentMeasure.height;this._horizontalBar.isVisible&&s<=this._clientWidth&&!this.forceHorizontalBar?(this._grid.setRowDefinition(1,0,!0),this._horizontalBar.isVisible=!1,this._horizontalBar.value=0,this._rebuildLayout=!0):!this._horizontalBar.isVisible&&(s>this._clientWidth||this.forceHorizontalBar)&&(this._grid.setRowDefinition(1,this._barSize,!0),this._horizontalBar.isVisible=!0,this._rebuildLayout=!0),this._verticalBar.isVisible&&l<=this._clientHeight&&!this.forceVerticalBar?(this._grid.setColumnDefinition(1,0,!0),this._verticalBar.isVisible=!1,this._verticalBar.value=0,this._rebuildLayout=!0):!this._verticalBar.isVisible&&(l>this._clientHeight||this.forceVerticalBar)&&(this._grid.setColumnDefinition(1,this._barSize,!0),this._verticalBar.isVisible=!0,this._rebuildLayout=!0),this._buildClientSizes();var c=this.host.idealRatio;this._horizontalBar.thumbWidth=this._thumbLength*.9*(this._clientWidth/c)+"px",this._verticalBar.thumbWidth=this._thumbLength*.9*(this._clientHeight/c)+"px"},o.prototype._link=function(s){r.prototype._link.call(this,s),this._attachWheel()},o.prototype._addBar=function(s,l,c,d){var p=this;s.paddingLeft=0,s.width="100%",s.height="100%",s.barOffset=0,s.value=0,s.maximum=1,s.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_CENTER,s.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_CENTER,s.isVertical=c,s.rotation=d,s.isVisible=!1,l.addControl(s),s.onValueChangedObservable.add(function(){p._setWindowPosition()})},o.prototype._attachWheel=function(){var s=this;!this._host||this._onWheelObserver||(this._onWheelObserver=this.onWheelObservable.add(function(l){!s._pointerIsOver||s.isReadOnly||(s._verticalBar.isVisible==!0&&(l.y<0&&s._verticalBar.value>0?s._verticalBar.value-=s._wheelPrecision:l.y>0&&s._verticalBar.value<s._verticalBar.maximum&&(s._verticalBar.value+=s._wheelPrecision)),s._horizontalBar.isVisible==!0&&(l.x<0&&s._horizontalBar.value<s._horizontalBar.maximum?s._horizontalBar.value+=s._wheelPrecision:l.x>0&&s._horizontalBar.value>0&&(s._horizontalBar.value-=s._wheelPrecision)))}))},o.prototype._renderHighlightSpecific=function(s){this.isHighlighted&&(r.prototype._renderHighlightSpecific.call(this,s),this._grid._renderHighlightSpecific(s),s.restore())},o.prototype.dispose=function(){this.onWheelObservable.remove(this._onWheelObserver),this._onWheelObserver=null,r.prototype.dispose.call(this)},(0,_.__decorate)([(0,t.serialize)()],o.prototype,"wheelPrecision",null),(0,_.__decorate)([(0,t.serialize)()],o.prototype,"scrollBackground",null),(0,_.__decorate)([(0,t.serialize)()],o.prototype,"barColor",null),(0,_.__decorate)([(0,t.serialize)()],o.prototype,"barSize",null),(0,_.__decorate)([(0,t.serialize)()],o.prototype,"barBackground",null),o}(n.Rectangle);(0,t.RegisterClass)("BABYLON.GUI.ScrollViewer",e)},"../../../dev/gui/src/2D/controls/scrollViewers/scrollViewerWindow.ts":(k,b,h)=>{h.r(b),h.d(b,{_ScrollViewerWindow:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/measure.ts"),m=h("../../../dev/gui/src/2D/controls/container.ts"),v=h("../../../dev/gui/src/2D/valueAndUnit.ts"),f=h("../../../dev/gui/src/2D/controls/control.ts"),a=function(i){(0,_.__extends)(t,i);function t(e){var r=i.call(this,e)||this;return r._freezeControls=!1,r._bucketWidth=0,r._bucketHeight=0,r._buckets={},r}return Object.defineProperty(t.prototype,"freezeControls",{get:function(){return this._freezeControls},set:function(e){if(this._freezeControls!==e){e||this._restoreMeasures(),this._freezeControls=!1;var r=this.host.getSize(),o=r.width,s=r.height,l=this.host.getContext(),c=new n.Measure(0,0,o,s);this.host._numLayoutCalls=0,this.host._rootContainer._layout(c,l),e&&(this._updateMeasures(),this._useBuckets()&&this._makeBuckets()),this._freezeControls=e,this.host.markAsDirty()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucketWidth",{get:function(){return this._bucketWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucketHeight",{get:function(){return this._bucketHeight},enumerable:!1,configurable:!0}),t.prototype.setBucketSizes=function(e,r){this._bucketWidth=e,this._bucketHeight=r,this._useBuckets()?this._freezeControls&&this._makeBuckets():this._buckets={}},t.prototype._useBuckets=function(){return this._bucketWidth>0&&this._bucketHeight>0},t.prototype._makeBuckets=function(){this._buckets={},this._bucketLen=Math.ceil(this.widthInPixels/this._bucketWidth),this._dispatchInBuckets(this._children),this._oldLeft=null,this._oldTop=null},t.prototype._dispatchInBuckets=function(e){for(var r=0;r<e.length;++r){for(var o=e[r],s=Math.max(0,Math.floor((o._customData._origLeft-this._customData.origLeft)/this._bucketWidth)),l=Math.floor((o._customData._origLeft-this._customData.origLeft+o._currentMeasure.width-1)/this._bucketWidth),c=Math.floor((o._customData._origTop-this._customData.origTop+o._currentMeasure.height-1)/this._bucketHeight),d=Math.max(0,Math.floor((o._customData._origTop-this._customData.origTop)/this._bucketHeight));d<=c;){for(var p=s;p<=l;++p){var u=d*this._bucketLen+p,g=this._buckets[u];g||(g=[],this._buckets[u]=g),g.push(o)}d++}o instanceof m.Container&&o._children.length>0&&this._dispatchInBuckets(o._children)}},t.prototype._updateMeasures=function(){var e=this.leftInPixels|0,r=this.topInPixels|0;this._measureForChildren.left-=e,this._measureForChildren.top-=r,this._currentMeasure.left-=e,this._currentMeasure.top-=r,this._customData.origLeftForChildren=this._measureForChildren.left,this._customData.origTopForChildren=this._measureForChildren.top,this._customData.origLeft=this._currentMeasure.left,this._customData.origTop=this._currentMeasure.top,this._updateChildrenMeasures(this._children,e,r)},t.prototype._updateChildrenMeasures=function(e,r,o){for(var s=0;s<e.length;++s){var l=e[s];l._currentMeasure.left-=r,l._currentMeasure.top-=o,l._customData._origLeft=l._currentMeasure.left,l._customData._origTop=l._currentMeasure.top,l instanceof m.Container&&l._children.length>0&&this._updateChildrenMeasures(l._children,r,o)}},t.prototype._restoreMeasures=function(){var e=this.leftInPixels|0,r=this.topInPixels|0;this._measureForChildren.left=this._customData.origLeftForChildren+e,this._measureForChildren.top=this._customData.origTopForChildren+r,this._currentMeasure.left=this._customData.origLeft+e,this._currentMeasure.top=this._customData.origTop+r},t.prototype._getTypeName=function(){return"ScrollViewerWindow"},t.prototype._additionalProcessing=function(e,r){i.prototype._additionalProcessing.call(this,e,r),this._parentMeasure=e,this._measureForChildren.left=this._currentMeasure.left,this._measureForChildren.top=this._currentMeasure.top,this._measureForChildren.width=e.width,this._measureForChildren.height=e.height},t.prototype._layout=function(e,r){return this._freezeControls?(this.invalidateRect(),!1):i.prototype._layout.call(this,e,r)},t.prototype._scrollChildren=function(e,r,o){for(var s=0;s<e.length;++s){var l=e[s];l._currentMeasure.left=l._customData._origLeft+r,l._currentMeasure.top=l._customData._origTop+o,l._isClipped=!1,l instanceof m.Container&&l._children.length>0&&this._scrollChildren(l._children,r,o)}},t.prototype._scrollChildrenWithBuckets=function(e,r,o,s){for(var l=Math.max(0,Math.floor(-e/this._bucketWidth)),c=Math.floor((-e+this._parentMeasure.width-1)/this._bucketWidth),d=Math.floor((-r+this._parentMeasure.height-1)/this._bucketHeight),p=Math.max(0,Math.floor(-r/this._bucketHeight));p<=d;){for(var u=l;u<=c;++u){var g=p*this._bucketLen+u,E=this._buckets[g];if(E)for(var C=0;C<E.length;++C){var y=E[C];y._currentMeasure.left=y._customData._origLeft+o,y._currentMeasure.top=y._customData._origTop+s,y._isClipped=!1}}p++}},t.prototype._draw=function(e,r){if(!this._freezeControls){i.prototype._draw.call(this,e,r);return}this._localDraw(e),this.clipChildren&&this._clipForChildren(e);var o=this.leftInPixels|0,s=this.topInPixels|0;this._useBuckets()?this._oldLeft!==null&&this._oldTop!==null?(this._scrollChildrenWithBuckets(this._oldLeft,this._oldTop,o,s),this._scrollChildrenWithBuckets(o,s,o,s)):this._scrollChildren(this._children,o,s):this._scrollChildren(this._children,o,s),this._oldLeft=o,this._oldTop=s;for(var l=0,c=this._children;l<c.length;l++){var d=c[l];d._intersectsRect(this._parentMeasure)&&d._render(e,this._parentMeasure)}},t.prototype._postMeasure=function(){if(this._freezeControls){i.prototype._postMeasure.call(this);return}for(var e=this.parentClientWidth,r=this.parentClientHeight,o=0,s=this.children;o<s.length;o++){var l=s[o];!l.isVisible||l.notRenderable||(l.horizontalAlignment===f.Control.HORIZONTAL_ALIGNMENT_CENTER&&l._offsetLeft(this._currentMeasure.left-l._currentMeasure.left),l.verticalAlignment===f.Control.VERTICAL_ALIGNMENT_CENTER&&l._offsetTop(this._currentMeasure.top-l._currentMeasure.top),e=Math.max(e,l._currentMeasure.left-this._currentMeasure.left+l._currentMeasure.width+l.paddingRightInPixels),r=Math.max(r,l._currentMeasure.top-this._currentMeasure.top+l._currentMeasure.height+l.paddingBottomInPixels))}this._currentMeasure.width!==e&&(this._width.updateInPlace(e,v.ValueAndUnit.UNITMODE_PIXEL),this._currentMeasure.width=e,this._rebuildLayout=!0,this._isDirty=!0),this._currentMeasure.height!==r&&(this._height.updateInPlace(r,v.ValueAndUnit.UNITMODE_PIXEL),this._currentMeasure.height=r,this._rebuildLayout=!0,this._isDirty=!0),i.prototype._postMeasure.call(this)},t}(m.Container)},"../../../dev/gui/src/2D/controls/selector.ts":(k,b,h)=>{h.r(b),h.d(b,{CheckboxGroup:()=>o,RadioGroup:()=>s,SelectionPanel:()=>c,SelectorGroup:()=>r,SliderGroup:()=>l});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/rectangle.ts"),m=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),v=h("../../../dev/gui/src/2D/controls/control.ts"),f=h("../../../dev/gui/src/2D/controls/textBlock.ts"),a=h("../../../dev/gui/src/2D/controls/checkbox.ts"),i=h("../../../dev/gui/src/2D/controls/radioButton.ts"),t=h("../../../dev/gui/src/2D/controls/sliders/slider.ts"),e=h("../../../dev/gui/src/2D/controls/container.ts"),r=function(){function d(p){this.name=p,this._groupPanel=new m.StackPanel,this._selectors=new Array,this._groupPanel.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_TOP,this._groupPanel.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,this._groupHeader=this._addGroupHeader(p)}return Object.defineProperty(d.prototype,"groupPanel",{get:function(){return this._groupPanel},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"selectors",{get:function(){return this._selectors},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"header",{get:function(){return this._groupHeader.text},set:function(p){this._groupHeader.text!=="label"&&(this._groupHeader.text=p)},enumerable:!1,configurable:!0}),d.prototype._addGroupHeader=function(p){var u=new f.TextBlock("groupHead",p);return u.width=.9,u.height="30px",u.textWrapping=!0,u.color="black",u.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,u.textHorizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,u.left="2px",this._groupPanel.addControl(u),u},d.prototype._getSelector=function(p){if(!(p<0||p>=this._selectors.length))return this._selectors[p]},d.prototype.removeSelector=function(p){p<0||p>=this._selectors.length||(this._groupPanel.removeControl(this._selectors[p]),this._selectors.splice(p,1))},d}(),o=function(d){(0,_.__extends)(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.addCheckbox=function(u,g,E){g===void 0&&(g=function(D){}),E===void 0&&(E=!1),E=E||!1;var C=new a.Checkbox;C.width="20px",C.height="20px",C.color="#364249",C.background="#CCCCCC",C.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,C.onIsCheckedChangedObservable.add(function(D){g(D)});var y=v.Control.AddHeader(C,u,"200px",{isHorizontal:!0,controlFirst:!0});y.height="30px",y.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,y.left="4px",this.groupPanel.addControl(y),this.selectors.push(y),C.isChecked=E,this.groupPanel.parent&&this.groupPanel.parent.parent&&(C.color=this.groupPanel.parent.parent.buttonColor,C.background=this.groupPanel.parent.parent.buttonBackground)},p.prototype._setSelectorLabel=function(u,g){this.selectors[u].children[1].text=g},p.prototype._setSelectorLabelColor=function(u,g){this.selectors[u].children[1].color=g},p.prototype._setSelectorButtonColor=function(u,g){this.selectors[u].children[0].color=g},p.prototype._setSelectorButtonBackground=function(u,g){this.selectors[u].children[0].background=g},p}(r),s=function(d){(0,_.__extends)(p,d);function p(){var u=d!==null&&d.apply(this,arguments)||this;return u._selectNb=0,u}return p.prototype.addRadio=function(u,g,E){g===void 0&&(g=function(F){}),E===void 0&&(E=!1);var C=this._selectNb++,y=new i.RadioButton;y.name=u,y.width="20px",y.height="20px",y.color="#364249",y.background="#CCCCCC",y.group=this.name,y.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,y.onIsCheckedChangedObservable.add(function(F){F&&g(C)});var D=v.Control.AddHeader(y,u,"200px",{isHorizontal:!0,controlFirst:!0});D.height="30px",D.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,D.left="4px",this.groupPanel.addControl(D),this.selectors.push(D),y.isChecked=E,this.groupPanel.parent&&this.groupPanel.parent.parent&&(y.color=this.groupPanel.parent.parent.buttonColor,y.background=this.groupPanel.parent.parent.buttonBackground)},p.prototype._setSelectorLabel=function(u,g){this.selectors[u].children[1].text=g},p.prototype._setSelectorLabelColor=function(u,g){this.selectors[u].children[1].color=g},p.prototype._setSelectorButtonColor=function(u,g){this.selectors[u].children[0].color=g},p.prototype._setSelectorButtonBackground=function(u,g){this.selectors[u].children[0].background=g},p}(r),l=function(d){(0,_.__extends)(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p.prototype.addSlider=function(u,g,E,C,y,D,F){g===void 0&&(g=function(w){}),E===void 0&&(E="Units"),C===void 0&&(C=0),y===void 0&&(y=0),D===void 0&&(D=0),F===void 0&&(F=function(w){return w|0});var I=new t.Slider;I.name=E,I.value=D,I.minimum=C,I.maximum=y,I.width=.9,I.height="20px",I.color="#364249",I.background="#CCCCCC",I.borderColor="black",I.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,I.left="4px",I.paddingBottom="4px",I.onValueChangedObservable.add(function(w){I.parent.children[0].text=I.parent.children[0].name+": "+F(w)+" "+I.name,g(w)});var R=v.Control.AddHeader(I,u+": "+F(D)+" "+E,"30px",{isHorizontal:!1,controlFirst:!1});R.height="60px",R.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,R.left="4px",R.children[0].name=u,this.groupPanel.addControl(R),this.selectors.push(R),this.groupPanel.parent&&this.groupPanel.parent.parent&&(I.color=this.groupPanel.parent.parent.buttonColor,I.background=this.groupPanel.parent.parent.buttonBackground)},p.prototype._setSelectorLabel=function(u,g){this.selectors[u].children[0].name=g,this.selectors[u].children[0].text=g+": "+this.selectors[u].children[1].value+" "+this.selectors[u].children[1].name},p.prototype._setSelectorLabelColor=function(u,g){this.selectors[u].children[0].color=g},p.prototype._setSelectorButtonColor=function(u,g){this.selectors[u].children[1].color=g},p.prototype._setSelectorButtonBackground=function(u,g){this.selectors[u].children[1].background=g},p}(r),c=function(d){(0,_.__extends)(p,d);function p(u,g){g===void 0&&(g=[]);var E=d.call(this,u)||this;if(E.name=u,E.groups=g,E._buttonColor="#364249",E._buttonBackground="#CCCCCC",E._headerColor="black",E._barColor="white",E._barHeight="2px",E._spacerHeight="20px",E._bars=new Array,E._groups=g,E.thickness=2,E._panel=new m.StackPanel,E._panel.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_TOP,E._panel.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,E._panel.top=5,E._panel.left=5,E._panel.width=.95,g.length>0){for(var C=0;C<g.length-1;C++)E._panel.addControl(g[C].groupPanel),E._addSpacer();E._panel.addControl(g[g.length-1].groupPanel)}return E.addControl(E._panel),E}return p.prototype._getTypeName=function(){return"SelectionPanel"},Object.defineProperty(p.prototype,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"headerColor",{get:function(){return this._headerColor},set:function(u){this._headerColor!==u&&(this._headerColor=u,this._setHeaderColor())},enumerable:!1,configurable:!0}),p.prototype._setHeaderColor=function(){for(var u=0;u<this._groups.length;u++)this._groups[u].groupPanel.children[0].color=this._headerColor},Object.defineProperty(p.prototype,"buttonColor",{get:function(){return this._buttonColor},set:function(u){this._buttonColor!==u&&(this._buttonColor=u,this._setbuttonColor())},enumerable:!1,configurable:!0}),p.prototype._setbuttonColor=function(){for(var u=0;u<this._groups.length;u++)for(var g=0;g<this._groups[u].selectors.length;g++)this._groups[u]._setSelectorButtonColor(g,this._buttonColor)},Object.defineProperty(p.prototype,"labelColor",{get:function(){return this._labelColor},set:function(u){this._labelColor!==u&&(this._labelColor=u,this._setLabelColor())},enumerable:!1,configurable:!0}),p.prototype._setLabelColor=function(){for(var u=0;u<this._groups.length;u++)for(var g=0;g<this._groups[u].selectors.length;g++)this._groups[u]._setSelectorLabelColor(g,this._labelColor)},Object.defineProperty(p.prototype,"buttonBackground",{get:function(){return this._buttonBackground},set:function(u){this._buttonBackground!==u&&(this._buttonBackground=u,this._setButtonBackground())},enumerable:!1,configurable:!0}),p.prototype._setButtonBackground=function(){for(var u=0;u<this._groups.length;u++)for(var g=0;g<this._groups[u].selectors.length;g++)this._groups[u]._setSelectorButtonBackground(g,this._buttonBackground)},Object.defineProperty(p.prototype,"barColor",{get:function(){return this._barColor},set:function(u){this._barColor!==u&&(this._barColor=u,this._setBarColor())},enumerable:!1,configurable:!0}),p.prototype._setBarColor=function(){for(var u=0;u<this._bars.length;u++)this._bars[u].children[0].background=this._barColor},Object.defineProperty(p.prototype,"barHeight",{get:function(){return this._barHeight},set:function(u){this._barHeight!==u&&(this._barHeight=u,this._setBarHeight())},enumerable:!1,configurable:!0}),p.prototype._setBarHeight=function(){for(var u=0;u<this._bars.length;u++)this._bars[u].children[0].height=this._barHeight},Object.defineProperty(p.prototype,"spacerHeight",{get:function(){return this._spacerHeight},set:function(u){this._spacerHeight!==u&&(this._spacerHeight=u,this._setSpacerHeight())},enumerable:!1,configurable:!0}),p.prototype._setSpacerHeight=function(){for(var u=0;u<this._bars.length;u++)this._bars[u].height=this._spacerHeight},p.prototype._addSpacer=function(){var u=new e.Container;u.width=1,u.height=this._spacerHeight,u.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT;var g=new n.Rectangle;g.width=1,g.height=this._barHeight,g.horizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,g.verticalAlignment=v.Control.VERTICAL_ALIGNMENT_CENTER,g.background=this._barColor,g.color="transparent",u.addControl(g),this._panel.addControl(u),this._bars.push(u)},p.prototype.addGroup=function(u){this._groups.length>0&&this._addSpacer(),this._panel.addControl(u.groupPanel),this._groups.push(u),u.groupPanel.children[0].color=this._headerColor;for(var g=0;g<u.selectors.length;g++)u._setSelectorButtonColor(g,this._buttonColor),u._setSelectorButtonBackground(g,this._buttonBackground)},p.prototype.removeGroup=function(u){if(!(u<0||u>=this._groups.length)){var g=this._groups[u];this._panel.removeControl(g.groupPanel),this._groups.splice(u,1),u<this._bars.length&&(this._panel.removeControl(this._bars[u]),this._bars.splice(u,1))}},p.prototype.setHeaderName=function(u,g){if(!(g<0||g>=this._groups.length)){var E=this._groups[g];E.groupPanel.children[0].text=u}},p.prototype.relabel=function(u,g,E){if(!(g<0||g>=this._groups.length)){var C=this._groups[g];E<0||E>=C.selectors.length||C._setSelectorLabel(E,u)}},p.prototype.removeFromGroupSelector=function(u,g){if(!(u<0||u>=this._groups.length)){var E=this._groups[u];g<0||g>=E.selectors.length||E.removeSelector(g)}},p.prototype.addToGroupCheckbox=function(u,g,E,C){if(E===void 0&&(E=function(){}),C===void 0&&(C=!1),!(u<0||u>=this._groups.length)){var y=this._groups[u];y.addCheckbox(g,E,C)}},p.prototype.addToGroupRadio=function(u,g,E,C){if(E===void 0&&(E=function(){}),C===void 0&&(C=!1),!(u<0||u>=this._groups.length)){var y=this._groups[u];y.addRadio(g,E,C)}},p.prototype.addToGroupSlider=function(u,g,E,C,y,D,F,I){if(E===void 0&&(E=function(){}),C===void 0&&(C="Units"),y===void 0&&(y=0),D===void 0&&(D=0),F===void 0&&(F=0),I===void 0&&(I=function(w){return w|0}),!(u<0||u>=this._groups.length)){var R=this._groups[u];R.addSlider(g,E,C,y,D,F,I)}},p}(n.Rectangle)},"../../../dev/gui/src/2D/controls/sliders/baseSlider.ts":(k,b,h)=>{h.r(b),h.d(b,{BaseSlider:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("../../../dev/gui/src/2D/valueAndUnit.ts"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._thumbWidth=new v.ValueAndUnit(20,v.ValueAndUnit.UNITMODE_PIXEL,!1),e._minimum=0,e._maximum=100,e._value=50,e._isVertical=!1,e._barOffset=new v.ValueAndUnit(5,v.ValueAndUnit.UNITMODE_PIXEL,!1),e._isThumbClamped=!1,e._displayThumb=!0,e._step=0,e._lastPointerDownId=-1,e._effectiveBarOffset=0,e.onValueChangedObservable=new n.Observable,e._pointerIsDown=!1,e.isPointerBlocker=!0,e}return Object.defineProperty(i.prototype,"displayThumb",{get:function(){return this._displayThumb},set:function(t){this._displayThumb!==t&&(this._displayThumb=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step!==t&&(this._step=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"barOffset",{get:function(){return this._barOffset.toString(this._host)},set:function(t){this._barOffset.toString(this._host)!==t&&this._barOffset.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"barOffsetInPixels",{get:function(){return this._barOffset.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbWidth",{get:function(){return this._thumbWidth.toString(this._host)},set:function(t){this._thumbWidth.toString(this._host)!==t&&this._thumbWidth.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbWidthInPixels",{get:function(){return this._thumbWidth.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minimum",{get:function(){return this._minimum},set:function(t){this._minimum!==t&&(this._minimum=t,this._markAsDirty(),this.value=Math.max(Math.min(this.value,this._maximum),this._minimum))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maximum",{get:function(){return this._maximum},set:function(t){this._maximum!==t&&(this._maximum=t,this._markAsDirty(),this.value=Math.max(Math.min(this.value,this._maximum),this._minimum))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=Math.max(Math.min(t,this._maximum),this._minimum),this._value!==t&&(this._value=t,this._markAsDirty(),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isThumbClamped",{get:function(){return this._isThumbClamped},set:function(t){this._isThumbClamped!==t&&(this._isThumbClamped=t,this._markAsDirty())},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"BaseSlider"},i.prototype._getThumbPosition=function(){return this.isVertical?(this.maximum-this.value)/(this.maximum-this.minimum)*this._backgroundBoxLength:(this.value-this.minimum)/(this.maximum-this.minimum)*this._backgroundBoxLength},i.prototype._getThumbThickness=function(t){var e=0;switch(t){case"circle":this._thumbWidth.isPixel?e=Math.max(this._thumbWidth.getValue(this._host),this._backgroundBoxThickness):e=this._backgroundBoxThickness*this._thumbWidth.getValue(this._host);break;case"rectangle":this._thumbWidth.isPixel?e=Math.min(this._thumbWidth.getValue(this._host),this._backgroundBoxThickness):e=this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)}return e},i.prototype._prepareRenderingData=function(t){if(this._effectiveBarOffset=0,this._renderLeft=this._currentMeasure.left,this._renderTop=this._currentMeasure.top,this._renderWidth=this._currentMeasure.width,this._renderHeight=this._currentMeasure.height,this._backgroundBoxLength=Math.max(this._currentMeasure.width,this._currentMeasure.height),this._backgroundBoxThickness=Math.min(this._currentMeasure.width,this._currentMeasure.height),this._effectiveThumbThickness=this._getThumbThickness(t),this.displayThumb&&(this._backgroundBoxLength-=this._effectiveThumbThickness),this.isVertical&&this._currentMeasure.height<this._currentMeasure.width){n.Logger.Error("Height should be greater than width");return}this._barOffset.isPixel?this._effectiveBarOffset=Math.min(this._barOffset.getValue(this._host),this._backgroundBoxThickness):this._effectiveBarOffset=this._backgroundBoxThickness*this._barOffset.getValue(this._host),this._backgroundBoxThickness-=this._effectiveBarOffset*2,this.isVertical?(this._renderLeft+=this._effectiveBarOffset,!this.isThumbClamped&&this.displayThumb&&(this._renderTop+=this._effectiveThumbThickness/2),this._renderHeight=this._backgroundBoxLength,this._renderWidth=this._backgroundBoxThickness):(this._renderTop+=this._effectiveBarOffset,!this.isThumbClamped&&this.displayThumb&&(this._renderLeft+=this._effectiveThumbThickness/2),this._renderHeight=this._backgroundBoxThickness,this._renderWidth=this._backgroundBoxLength)},i.prototype._updateValueFromPointer=function(t,e){this.rotation!=0&&(this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y);var r;this._isVertical?r=this._minimum+(1-(e-this._currentMeasure.top)/this._currentMeasure.height)*(this._maximum-this._minimum):r=this._minimum+(t-this._currentMeasure.left)/this._currentMeasure.width*(this._maximum-this._minimum),this.value=this._step?Math.round(r/this._step)*this._step:r},i.prototype._onPointerDown=function(t,e,r,o,s){return a.prototype._onPointerDown.call(this,t,e,r,o,s)?(this.isReadOnly||(this._pointerIsDown=!0,this._updateValueFromPointer(e.x,e.y),this._host._capturingControl[r]=this,this._lastPointerDownId=r),!0):!1},i.prototype._onPointerMove=function(t,e,r,o){r==this._lastPointerDownId&&(this._pointerIsDown&&!this.isReadOnly&&this._updateValueFromPointer(e.x,e.y),a.prototype._onPointerMove.call(this,t,e,r,o))},i.prototype._onPointerUp=function(t,e,r,o,s){this._pointerIsDown=!1,delete this._host._capturingControl[r],a.prototype._onPointerUp.call(this,t,e,r,o,s)},i.prototype._onCanvasBlur=function(){this._forcePointerUp(),a.prototype._onCanvasBlur.call(this)},(0,_.__decorate)([(0,n.serialize)()],i.prototype,"displayThumb",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"step",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"barOffset",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"thumbWidth",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"minimum",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"maximum",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"value",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isVertical",null),(0,_.__decorate)([(0,n.serialize)()],i.prototype,"isThumbClamped",null),i}(m.Control)},"../../../dev/gui/src/2D/controls/sliders/imageBasedSlider.ts":(k,b,h)=>{h.r(b),h.d(b,{ImageBasedSlider:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/sliders/baseSlider.ts"),m=h("../../../dev/gui/src/2D/measure.ts"),v=h("../../../dev/gui/src/2D/controls/image.ts"),f=h("babylonjs/Misc/perfCounter"),a=function(i){(0,_.__extends)(t,i);function t(e){var r=i.call(this,e)||this;return r.name=e,r._tempMeasure=new m.Measure(0,0,0,0),r}return Object.defineProperty(t.prototype,"displayThumb",{get:function(){return this._displayThumb&&this.thumbImage!=null},set:function(e){this._displayThumb!==e&&(this._displayThumb=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._backgroundImage},set:function(e){var r=this;this._backgroundImage!==e&&(this._backgroundImage=e,e&&!e.isLoaded&&e.onImageLoadedObservable.addOnce(function(){return r._markAsDirty()}),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueBarImage",{get:function(){return this._valueBarImage},set:function(e){var r=this;this._valueBarImage!==e&&(this._valueBarImage=e,e&&!e.isLoaded&&e.onImageLoadedObservable.addOnce(function(){return r._markAsDirty()}),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbImage",{get:function(){return this._thumbImage},set:function(e){var r=this;this._thumbImage!==e&&(this._thumbImage=e,e&&!e.isLoaded&&e.onImageLoadedObservable.addOnce(function(){return r._markAsDirty()}),this._markAsDirty())},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"ImageBasedSlider"},t.prototype._draw=function(e){e.save(),this._applyStates(e),this._prepareRenderingData("rectangle");var r=this._getThumbPosition(),o=this._renderLeft,s=this._renderTop,l=this._renderWidth,c=this._renderHeight;this._backgroundImage&&(this._tempMeasure.copyFromFloats(o,s,l,c),this.isThumbClamped&&this.displayThumb&&(this.isVertical?this._tempMeasure.height+=this._effectiveThumbThickness:this._tempMeasure.width+=this._effectiveThumbThickness),this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure),this._backgroundImage._draw(e)),this._valueBarImage&&(this.isVertical?this.isThumbClamped&&this.displayThumb?this._tempMeasure.copyFromFloats(o,s+r,l,c-r+this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(o,s+r,l,c-r):this.isThumbClamped&&this.displayThumb?this._tempMeasure.copyFromFloats(o,s,r+this._effectiveThumbThickness/2,c):this._tempMeasure.copyFromFloats(o,s,r,c),this._valueBarImage._currentMeasure.copyFrom(this._tempMeasure),this._valueBarImage._draw(e)),this.displayThumb&&(this.isVertical?this._tempMeasure.copyFromFloats(o-this._effectiveBarOffset,this._currentMeasure.top+r,this._currentMeasure.width,this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(this._currentMeasure.left+r,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height),this._thumbImage._currentMeasure.copyFrom(this._tempMeasure),this._thumbImage._draw(e)),e.restore()},t.prototype.serialize=function(e){i.prototype.serialize.call(this,e);var r={},o={},s={};this.backgroundImage.serialize(r),this.thumbImage.serialize(o),this.valueBarImage.serialize(s),e.backgroundImage=r,e.thumbImage=o,e.valueBarImage=s},t.prototype._parseFromContent=function(e,r){i.prototype._parseFromContent.call(this,e,r),this.backgroundImage=v.Image.Parse(e.backgroundImage,r),this.thumbImage=v.Image.Parse(e.thumbImage,r),this.valueBarImage=v.Image.Parse(e.valueBarImage,r)},(0,_.__decorate)([(0,f.serialize)()],t.prototype,"displayThumb",null),t}(n.BaseSlider);(0,f.RegisterClass)("BABYLON.GUI.ImageBasedSlider",a)},"../../../dev/gui/src/2D/controls/sliders/imageScrollBar.ts":(k,b,h)=>{h.r(b),h.d(b,{ImageScrollBar:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/sliders/baseSlider.ts"),m=h("../../../dev/gui/src/2D/measure.ts"),v=h("babylonjs/Misc/perfCounter"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._thumbLength=.5,e._thumbHeight=1,e._barImageHeight=1,e._tempMeasure=new m.Measure(0,0,0,0),e._invertScrollDirection=!1,e.num90RotationInVerticalMode=1,e}return Object.defineProperty(i.prototype,"invertScrollDirection",{get:function(){return this._invertScrollDirection},set:function(t){this._invertScrollDirection=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundImage",{get:function(){return this._backgroundBaseImage},set:function(t){var e=this;this._backgroundBaseImage!==t&&(this._backgroundBaseImage=t,this.isVertical&&this.num90RotationInVerticalMode!==0?t.isLoaded?(this._backgroundImage=t._rotate90(this.num90RotationInVerticalMode,!0),this._markAsDirty()):t.onImageLoadedObservable.addOnce(function(){var r=t._rotate90(e.num90RotationInVerticalMode,!0);e._backgroundImage=r,r.isLoaded||r.onImageLoadedObservable.addOnce(function(){e._markAsDirty()}),e._markAsDirty()}):(this._backgroundImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce(function(){e._markAsDirty()}),this._markAsDirty()))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbImage",{get:function(){return this._thumbBaseImage},set:function(t){var e=this;this._thumbBaseImage!==t&&(this._thumbBaseImage=t,this.isVertical&&this.num90RotationInVerticalMode!==0?t.isLoaded?(this._thumbImage=t._rotate90(-this.num90RotationInVerticalMode,!0),this._markAsDirty()):t.onImageLoadedObservable.addOnce(function(){var r=t._rotate90(-e.num90RotationInVerticalMode,!0);e._thumbImage=r,r.isLoaded||r.onImageLoadedObservable.addOnce(function(){e._markAsDirty()}),e._markAsDirty()}):(this._thumbImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce(function(){e._markAsDirty()}),this._markAsDirty()))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbLength",{get:function(){return this._thumbLength},set:function(t){this._thumbLength!==t&&(this._thumbLength=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"thumbHeight",{get:function(){return this._thumbHeight},set:function(t){this._thumbLength!==t&&(this._thumbHeight=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"barImageHeight",{get:function(){return this._barImageHeight},set:function(t){this._barImageHeight!==t&&(this._barImageHeight=t,this._markAsDirty())},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"ImageScrollBar"},i.prototype._getThumbThickness=function(){var t=0;return this._thumbWidth.isPixel?t=this._thumbWidth.getValue(this._host):t=this._backgroundBoxThickness*this._thumbWidth.getValue(this._host),t},i.prototype._draw=function(t){t.save(),this._applyStates(t),this._prepareRenderingData("rectangle");var e=this._getThumbPosition(),r=this._renderLeft,o=this._renderTop,s=this._renderWidth,l=this._renderHeight;this._backgroundImage&&(this._tempMeasure.copyFromFloats(r,o,s,l),this.isVertical?(this._tempMeasure.copyFromFloats(r+s*(1-this._barImageHeight)*.5,this._currentMeasure.top,s*this._barImageHeight,l),this._tempMeasure.height+=this._effectiveThumbThickness,this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure)):(this._tempMeasure.copyFromFloats(this._currentMeasure.left,o+l*(1-this._barImageHeight)*.5,s,l*this._barImageHeight),this._tempMeasure.width+=this._effectiveThumbThickness,this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure)),this._backgroundImage._draw(t)),this.isVertical?this._tempMeasure.copyFromFloats(r-this._effectiveBarOffset+this._currentMeasure.width*(1-this._thumbHeight)*.5,this._currentMeasure.top+e,this._currentMeasure.width*this._thumbHeight,this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(this._currentMeasure.left+e,this._currentMeasure.top+this._currentMeasure.height*(1-this._thumbHeight)*.5,this._effectiveThumbThickness,this._currentMeasure.height*this._thumbHeight),this._thumbImage&&(this._thumbImage._currentMeasure.copyFrom(this._tempMeasure),this._thumbImage._draw(t)),t.restore()},i.prototype._updateValueFromPointer=function(t,e){this.rotation!=0&&(this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y);var r=this._invertScrollDirection?-1:1;this._first&&(this._first=!1,this._originX=t,this._originY=e,(t<this._tempMeasure.left||t>this._tempMeasure.left+this._tempMeasure.width||e<this._tempMeasure.top||e>this._tempMeasure.top+this._tempMeasure.height)&&(this.isVertical?this.value=this.minimum+(1-(e-this._currentMeasure.top)/this._currentMeasure.height)*(this.maximum-this.minimum):this.value=this.minimum+(t-this._currentMeasure.left)/this._currentMeasure.width*(this.maximum-this.minimum)));var o=0;this.isVertical?o=-((e-this._originY)/(this._currentMeasure.height-this._effectiveThumbThickness)):o=(t-this._originX)/(this._currentMeasure.width-this._effectiveThumbThickness),this.value+=r*o*(this.maximum-this.minimum),this._originX=t,this._originY=e},i.prototype._onPointerDown=function(t,e,r,o,s){return this._first=!0,a.prototype._onPointerDown.call(this,t,e,r,o,s)},(0,_.__decorate)([(0,v.serialize)()],i.prototype,"num90RotationInVerticalMode",void 0),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"invertScrollDirection",null),i}(n.BaseSlider)},"../../../dev/gui/src/2D/controls/sliders/scrollBar.ts":(k,b,h)=>{h.r(b),h.d(b,{ScrollBar:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/sliders/baseSlider.ts"),m=h("../../../dev/gui/src/2D/measure.ts"),v=h("babylonjs/Misc/perfCounter"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._background="black",e._borderColor="white",e._tempMeasure=new m.Measure(0,0,0,0),e._invertScrollDirection=!1,e._backgroundGradient=null,e}return Object.defineProperty(i.prototype,"borderColor",{get:function(){return this._borderColor},set:function(t){this._borderColor!==t&&(this._borderColor=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"background",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundGradient",{get:function(){return this._backgroundGradient},set:function(t){this._backgroundGradient!==t&&(this._backgroundGradient=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"invertScrollDirection",{get:function(){return this._invertScrollDirection},set:function(t){this._invertScrollDirection=t},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"Scrollbar"},i.prototype._getThumbThickness=function(){var t=0;return this._thumbWidth.isPixel?t=this._thumbWidth.getValue(this._host):t=this._backgroundBoxThickness*this._thumbWidth.getValue(this._host),t},i.prototype._getBackgroundColor=function(t){return this._backgroundGradient?this._backgroundGradient.getCanvasGradient(t):this._background},i.prototype._draw=function(t){t.save(),this._applyStates(t),this._prepareRenderingData("rectangle");var e=this._renderLeft,r=this._getThumbPosition();t.fillStyle=this._getBackgroundColor(t),t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height),t.fillStyle=this._getColor(t),this.isVertical?(this._tempMeasure.left=e-this._effectiveBarOffset,this._tempMeasure.top=this._currentMeasure.top+r,this._tempMeasure.width=this._currentMeasure.width,this._tempMeasure.height=this._effectiveThumbThickness):(this._tempMeasure.left=this._currentMeasure.left+r,this._tempMeasure.top=this._currentMeasure.top,this._tempMeasure.width=this._effectiveThumbThickness,this._tempMeasure.height=this._currentMeasure.height),t.fillRect(this._tempMeasure.left,this._tempMeasure.top,this._tempMeasure.width,this._tempMeasure.height),t.restore()},i.prototype._updateValueFromPointer=function(t,e){this.rotation!=0&&(this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y);var r=this._invertScrollDirection?-1:1;this._first&&(this._first=!1,this._originX=t,this._originY=e,(t<this._tempMeasure.left||t>this._tempMeasure.left+this._tempMeasure.width||e<this._tempMeasure.top||e>this._tempMeasure.top+this._tempMeasure.height)&&(this.isVertical?this.value=this.minimum+(1-(e-this._currentMeasure.top)/this._currentMeasure.height)*(this.maximum-this.minimum):this.value=this.minimum+(t-this._currentMeasure.left)/this._currentMeasure.width*(this.maximum-this.minimum)));var o=0;this.isVertical?o=-((e-this._originY)/(this._currentMeasure.height-this._effectiveThumbThickness)):o=(t-this._originX)/(this._currentMeasure.width-this._effectiveThumbThickness),this.value+=r*o*(this.maximum-this.minimum),this._originX=t,this._originY=e},i.prototype._onPointerDown=function(t,e,r,o,s){return this._first=!0,a.prototype._onPointerDown.call(this,t,e,r,o,s)},i.prototype.serialize=function(t){a.prototype.serialize.call(this,t),this.backgroundGradient&&(t.backgroundGradient={},this.backgroundGradient.serialize(t.backgroundGradient))},i.prototype._parseFromContent=function(t,e){if(a.prototype._parseFromContent.call(this,t,e),t.backgroundGradient){var r=v.Tools.Instantiate("BABYLON.GUI."+t.backgroundGradient.className);this.backgroundGradient=new r,this.backgroundGradient.parse(t.backgroundGradient)}},(0,_.__decorate)([(0,v.serialize)()],i.prototype,"borderColor",null),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"background",null),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"invertScrollDirection",null),i}(n.BaseSlider);(0,v.RegisterClass)("BABYLON.GUI.Scrollbar",f)},"../../../dev/gui/src/2D/controls/sliders/slider.ts":(k,b,h)=>{h.r(b),h.d(b,{Slider:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/sliders/baseSlider.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t.name=i,t._background="black",t._borderColor="white",t._thumbColor="",t._isThumbCircle=!1,t._displayValueBar=!0,t._backgroundGradient=null,t}return Object.defineProperty(a.prototype,"displayValueBar",{get:function(){return this._displayValueBar},set:function(i){this._displayValueBar!==i&&(this._displayValueBar=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"borderColor",{get:function(){return this._borderColor},set:function(i){this._borderColor!==i&&(this._borderColor=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"background",{get:function(){return this._background},set:function(i){this._background!==i&&(this._background=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"backgroundGradient",{get:function(){return this._backgroundGradient},set:function(i){this._backgroundGradient!==i&&(this._backgroundGradient=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"thumbColor",{get:function(){return this._thumbColor},set:function(i){this._thumbColor!==i&&(this._thumbColor=i,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isThumbCircle",{get:function(){return this._isThumbCircle},set:function(i){this._isThumbCircle!==i&&(this._isThumbCircle=i,this._markAsDirty())},enumerable:!1,configurable:!0}),a.prototype._getTypeName=function(){return"Slider"},a.prototype._getBackgroundColor=function(i){return this._backgroundGradient?this._backgroundGradient.getCanvasGradient(i):this._background},a.prototype._draw=function(i){i.save(),this._applyStates(i),this._prepareRenderingData(this.isThumbCircle?"circle":"rectangle");var t=this._renderLeft,e=this._renderTop,r=this._renderWidth,o=this._renderHeight,s=0;this.isThumbClamped&&this.isThumbCircle?(this.isVertical?e+=this._effectiveThumbThickness/2:t+=this._effectiveThumbThickness/2,s=this._backgroundBoxThickness/2):s=(this._effectiveThumbThickness-this._effectiveBarOffset)/2,s=Math.max(0,s),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur,i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY);var l=this._getThumbPosition();i.fillStyle=this._getBackgroundColor(i),this.isVertical?this.isThumbClamped?this.isThumbCircle?(i.beginPath(),i.arc(t+this._backgroundBoxThickness/2,e,s,Math.PI,2*Math.PI),i.fill(),i.fillRect(t,e,r,o)):i.fillRect(t,e,r,o+this._effectiveThumbThickness):i.fillRect(t,e,r,o):this.isThumbClamped?this.isThumbCircle?(i.beginPath(),i.arc(t+this._backgroundBoxLength,e+this._backgroundBoxThickness/2,s,0,2*Math.PI),i.fill(),i.fillRect(t,e,r,o)):i.fillRect(t,e,r+this._effectiveThumbThickness,o):i.fillRect(t,e,r,o),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),i.fillStyle=this._getColor(i),this._displayValueBar&&(this.isVertical?this.isThumbClamped?this.isThumbCircle?(i.beginPath(),i.arc(t+this._backgroundBoxThickness/2,e+this._backgroundBoxLength,s,0,2*Math.PI),i.fill(),i.fillRect(t,e+l,r,o-l)):i.fillRect(t,e+l,r,o-l+this._effectiveThumbThickness):i.fillRect(t,e+l,r,o-l):(this.isThumbClamped&&this.isThumbCircle&&(i.beginPath(),i.arc(t,e+this._backgroundBoxThickness/2,s,0,2*Math.PI),i.fill()),i.fillRect(t,e,l,o))),i.fillStyle=this._thumbColor||this._getColor(i),this.displayThumb&&((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowColor=this.shadowColor,i.shadowBlur=this.shadowBlur,i.shadowOffsetX=this.shadowOffsetX,i.shadowOffsetY=this.shadowOffsetY),this._isThumbCircle?(i.beginPath(),this.isVertical?i.arc(t+this._backgroundBoxThickness/2,e+l,s,0,2*Math.PI):i.arc(t+l,e+this._backgroundBoxThickness/2,s,0,2*Math.PI),i.fill(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),i.strokeStyle=this._borderColor,i.stroke()):(this.isVertical?i.fillRect(t-this._effectiveBarOffset,this._currentMeasure.top+l,this._currentMeasure.width,this._effectiveThumbThickness):i.fillRect(this._currentMeasure.left+l,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0),i.strokeStyle=this._borderColor,this.isVertical?i.strokeRect(t-this._effectiveBarOffset,this._currentMeasure.top+l,this._currentMeasure.width,this._effectiveThumbThickness):i.strokeRect(this._currentMeasure.left+l,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height))),i.restore()},a.prototype.serialize=function(i){f.prototype.serialize.call(this,i),this.backgroundGradient&&(i.backgroundGradient={},this.backgroundGradient.serialize(i.backgroundGradient))},a.prototype._parseFromContent=function(i,t){if(f.prototype._parseFromContent.call(this,i,t),i.backgroundGradient){var e=m.Tools.Instantiate("BABYLON.GUI."+i.backgroundGradient.className);this.backgroundGradient=new e,this.backgroundGradient.parse(i.backgroundGradient)}},(0,_.__decorate)([(0,m.serialize)()],a.prototype,"displayValueBar",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"borderColor",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"background",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"thumbColor",null),(0,_.__decorate)([(0,m.serialize)()],a.prototype,"isThumbCircle",null),a}(n.BaseSlider);(0,m.RegisterClass)("BABYLON.GUI.Slider",v)},"../../../dev/gui/src/2D/controls/stackPanel.ts":(k,b,h)=>{h.r(b),h.d(b,{StackPanel:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/controls/container.ts"),m=h("../../../dev/gui/src/2D/controls/control.ts"),v=h("babylonjs/Misc/perfCounter"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e.name=t,e._isVertical=!0,e._manualWidth=!1,e._manualHeight=!1,e._doNotTrackManualChanges=!1,e._spacing=0,e.ignoreLayoutWarnings=!1,e}return Object.defineProperty(i.prototype,"isVertical",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width.toString(this._host)},set:function(t){this._doNotTrackManualChanges||(this._manualWidth=!0),this._width.toString(this._host)!==t&&this._width.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height.toString(this._host)},set:function(t){this._doNotTrackManualChanges||(this._manualHeight=!0),this._height.toString(this._host)!==t&&this._height.fromString(t)&&this._markAsDirty()},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"StackPanel"},i.prototype._preMeasure=function(t,e){for(var r=0,o=this._children;r<o.length;r++){var s=o[r];this._isVertical?s.verticalAlignment=m.Control.VERTICAL_ALIGNMENT_TOP:s.horizontalAlignment=m.Control.HORIZONTAL_ALIGNMENT_LEFT}a.prototype._preMeasure.call(this,t,e)},i.prototype._additionalProcessing=function(t,e){a.prototype._additionalProcessing.call(this,t,e),this._measureForChildren.copyFrom(t),this._measureForChildren.left=this._currentMeasure.left,this._measureForChildren.top=this._currentMeasure.top,(!this.isVertical||this._manualWidth)&&(this._measureForChildren.width=this._currentMeasure.width),(this.isVertical||this._manualHeight)&&(this._measureForChildren.height=this._currentMeasure.height)},i.prototype._postMeasure=function(){for(var t=0,e=0,r=this._children.length,o=0;o<r;o++){var s=this._children[o];!s.isVisible||s.notRenderable||(this._isVertical?(s.top!==e+"px"&&(s.top=e+"px",this._rebuildLayout=!0,s._top.ignoreAdaptiveScaling=!0),!this.ignoreLayoutWarnings&&!s.isDimensionFullyDefined("height")?v.Logger.Warn("Control (Name:".concat(s.name,", UniqueId:").concat(s.uniqueId,") is using height in percentage mode inside a vertical StackPanel"),1):e+=s._currentMeasure.height+s._paddingTopInPixels+s._paddingBottomInPixels+(o<r-1?this._spacing:0)):(s.left!==t+"px"&&(s.left=t+"px",this._rebuildLayout=!0,s._left.ignoreAdaptiveScaling=!0),!this.ignoreLayoutWarnings&&!s.isDimensionFullyDefined("width")?v.Logger.Warn("Control (Name:".concat(s.name,", UniqueId:").concat(s.uniqueId,") is using width in percentage mode inside a horizontal StackPanel"),1):t+=s._currentMeasure.width+s._paddingLeftInPixels+s._paddingRightInPixels+(o<r-1?this._spacing:0)))}t+=this._paddingLeftInPixels+this._paddingRightInPixels,e+=this._paddingTopInPixels+this._paddingBottomInPixels,this._doNotTrackManualChanges=!0;var l=!1,c=!1;if((!this._manualHeight||this.adaptHeightToChildren)&&this._isVertical){var d=this.height;this.height=e+"px",c=d!==this.height||!this._height.ignoreAdaptiveScaling}if((!this._manualWidth||this.adaptWidthToChildren)&&!this._isVertical){var p=this.width;this.width=t+"px",l=p!==this.width||!this._width.ignoreAdaptiveScaling}c&&(this._height.ignoreAdaptiveScaling=!0),l&&(this._width.ignoreAdaptiveScaling=!0),this._doNotTrackManualChanges=!1,(l||c)&&(this._rebuildLayout=!0),a.prototype._postMeasure.call(this)},i.prototype._getManualDim=function(t){return t==="width"?this._manualWidth:this._manualHeight},i.prototype.isDimensionFullyDefined=function(t){if(t==="height"?this.isVertical:!this.isVertical&&!this._getManualDim(t)){for(var e=0,r=this._children;e<r.length;e++){var o=r[e];if(!o.isDimensionFullyDefined(t))return!1}return!0}return this.getDimension(t).isPixel||this._getAdaptDimTo(t)},i.prototype.serialize=function(t,e){a.prototype.serialize.call(this,t,e),!(!this.isSerializable&&!e)&&(t.manualWidth=this._manualWidth,t.manualHeight=this._manualHeight)},i.prototype._parseFromContent=function(t,e){this._manualWidth=t.manualWidth,this._manualHeight=t.manualHeight,a.prototype._parseFromContent.call(this,t,e)},(0,_.__decorate)([(0,v.serialize)()],i.prototype,"ignoreLayoutWarnings",void 0),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"isVertical",null),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"spacing",null),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"width",null),(0,_.__decorate)([(0,v.serialize)()],i.prototype,"height",null),i}(n.Container);(0,v.RegisterClass)("BABYLON.GUI.StackPanel",f)},"../../../dev/gui/src/2D/controls/statics.ts":(k,b,h)=>{h.r(b),h.d(b,{name:()=>v});var _=h("../../../dev/gui/src/2D/controls/control.ts"),n=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),m=h("../../../dev/gui/src/2D/controls/textBlock.ts"),v="Statics";_.Control.AddHeader=function(f,a,i,t){var e=new n.StackPanel("panel"),r=t?t.isHorizontal:!0,o=t?t.controlFirst:!0;e.isVertical=!r;var s=new m.TextBlock("header");return s.text=a,s.textHorizontalAlignment=_.Control.HORIZONTAL_ALIGNMENT_LEFT,r?s.width=i:s.height=i,o?(e.addControl(f),e.addControl(s),s.paddingLeft="5px"):(e.addControl(s),e.addControl(f),s.paddingRight="5px"),s.shadowBlur=f.shadowBlur,s.shadowColor=f.shadowColor,s.shadowOffsetX=f.shadowOffsetX,s.shadowOffsetY=f.shadowOffsetY,e}},"../../../dev/gui/src/2D/controls/textBlock.ts":(k,b,h)=>{h.r(b),h.d(b,{TextBlock:()=>a,TextWrapping:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/valueAndUnit.ts"),v=h("../../../dev/gui/src/2D/controls/control.ts"),f;(function(i){i[i.Clip=0]="Clip",i[i.WordWrap=1]="WordWrap",i[i.Ellipsis=2]="Ellipsis",i[i.WordWrapEllipsis=3]="WordWrapEllipsis",i[i.HTML=4]="HTML"})(f||(f={}));var a=function(i){(0,_.__extends)(t,i);function t(e,r){r===void 0&&(r="");var o=i.call(this,e)||this;return o.name=e,o._text="",o._textWrapping=0,o._textHorizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_CENTER,o._textVerticalAlignment=v.Control.VERTICAL_ALIGNMENT_CENTER,o._resizeToFit=!1,o._lineSpacing=new m.ValueAndUnit(0),o._outlineWidth=0,o._outlineColor="white",o._underline=!1,o._lineThrough=!1,o._wordDivider=" ",o._forceResizeWidth=!1,o._applyOutlineToUnderline=!1,o.onTextChangedObservable=new n.Observable,o.onLinesReadyObservable=new n.Observable,o.reuseHTMLForWordWrapping=!1,o._linesTemp=[],o._htmlElement=null,o.text=r,o}return Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeToFit",{get:function(){return this._resizeToFit},set:function(e){this._resizeToFit!==e&&(this._resizeToFit=e,this._resizeToFit&&(this._width.ignoreAdaptiveScaling=!0,this._height.ignoreAdaptiveScaling=!0),this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWrapping",{get:function(){return this._textWrapping},set:function(e){this._textWrapping!==e&&(this._textWrapping=+e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e+"",this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHorizontalAlignment",{get:function(){return this._textHorizontalAlignment},set:function(e){this._textHorizontalAlignment!==e&&(this._textHorizontalAlignment=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textVerticalAlignment",{get:function(){return this._textVerticalAlignment},set:function(e){this._textVerticalAlignment!==e&&(this._textVerticalAlignment=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineSpacing",{get:function(){return this._lineSpacing.toString(this._host)},set:function(e){this._lineSpacing.fromString(e)&&this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!==e&&(this._outlineWidth=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"underline",{get:function(){return this._underline},set:function(e){this._underline!==e&&(this._underline=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineThrough",{get:function(){return this._lineThrough},set:function(e){this._lineThrough!==e&&(this._lineThrough=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyOutlineToUnderline",{get:function(){return this._applyOutlineToUnderline},set:function(e){this._applyOutlineToUnderline!==e&&(this._applyOutlineToUnderline=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(e){this._outlineColor!==e&&(this._outlineColor=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordDivider",{get:function(){return this._wordDivider},set:function(e){this._wordDivider!==e&&(this._wordDivider=e,this._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceResizeWidth",{get:function(){return this._forceResizeWidth},set:function(e){this._forceResizeWidth!==e&&(this._forceResizeWidth=e,this._markAsDirty())},enumerable:!1,configurable:!0}),t.prototype._getTypeName=function(){return"TextBlock"},t.prototype._processMeasures=function(e,r){var o;(!this._fontOffset||this.isDirty)&&(this._fontOffset=v.Control._GetFontOffset(r.font,(o=this._host.getScene())===null||o===void 0?void 0:o.getEngine())),i.prototype._processMeasures.call(this,e,r),this._lines=this._breakLines(this._currentMeasure.width,this._currentMeasure.height,r),this.onLinesReadyObservable.notifyObservers(this);for(var s=0,l=0;l<this._lines.length;l++){var c=this._lines[l];c.width>s&&(s=c.width)}if(this._resizeToFit){if(this._textWrapping===0||this._forceResizeWidth){var d=Math.ceil(this._paddingLeftInPixels)+Math.ceil(this._paddingRightInPixels)+Math.ceil(s);d!==this._width.getValueInPixel(this._host,this._tempParentMeasure.width)&&(this._width.updateInPlace(d,m.ValueAndUnit.UNITMODE_PIXEL),this._rebuildLayout=!0)}var p=this._paddingTopInPixels+this._paddingBottomInPixels+this._fontOffset.height*this._lines.length|0;if(this._lines.length>0&&this._lineSpacing.internalValue!==0){var u=0;this._lineSpacing.isPixel?u=this._lineSpacing.getValue(this._host):u=this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),p+=(this._lines.length-1)*u}p!==this._height.internalValue&&(this._height.updateInPlace(p,m.ValueAndUnit.UNITMODE_PIXEL),this._rebuildLayout=!0)}},t.prototype._drawText=function(e,r,o,s){var l=this._currentMeasure.width,c=0;switch(this._textHorizontalAlignment){case v.Control.HORIZONTAL_ALIGNMENT_LEFT:c=0;break;case v.Control.HORIZONTAL_ALIGNMENT_RIGHT:c=l-r;break;case v.Control.HORIZONTAL_ALIGNMENT_CENTER:c=(l-r)/2;break}(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur,s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY),this.outlineWidth&&s.strokeText(e,this._currentMeasure.left+c,o),s.fillText(e,this._currentMeasure.left+c,o),this._underline&&this._drawLine(this._currentMeasure.left+c,o+3,this._currentMeasure.left+c+r,o+3,s),this._lineThrough&&this._drawLine(this._currentMeasure.left+c,o-this.fontSizeInPixels/3,this._currentMeasure.left+c+r,o-this.fontSizeInPixels/3,s)},t.prototype._drawLine=function(e,r,o,s,l){if(l.beginPath(),l.lineWidth=Math.round(this.fontSizeInPixels*.05),l.moveTo(e,r),l.lineTo(o,s),this.outlineWidth&&this.applyOutlineToUnderline)l.stroke(),l.fill();else{var c=l.strokeStyle;l.strokeStyle=l.fillStyle,l.stroke(),l.strokeStyle=c}l.closePath()},t.prototype._draw=function(e){e.save(),this._applyStates(e),this._renderLines(e),e.restore()},t.prototype._applyStates=function(e){i.prototype._applyStates.call(this,e),this.outlineWidth&&(e.lineWidth=this.outlineWidth,e.strokeStyle=this.outlineColor,e.lineJoin="miter",e.miterLimit=2)},t.prototype._breakLines=function(e,r,o){var s,l;this._linesTemp.length=0;var c=this._textWrapping===4?this._parseHTMLText(e,r,o):this.text.split(`
`);switch(this._textWrapping){case 1:for(var d=0,p=c;d<p.length;d++){var u=p[d];(s=this._linesTemp).push.apply(s,this._parseLineWordWrap(u,e,o))}break;case 2:for(var g=0,E=c;g<E.length;g++){var u=E[g];this._linesTemp.push(this._parseLineEllipsis(u,e,o))}break;case 3:for(var C=0,y=c;C<y.length;C++){var u=y[C];(l=this._linesTemp).push.apply(l,this._parseLineWordWrapEllipsis(u,e,r,o))}break;case 4:default:for(var D=0,F=c;D<F.length;D++){var u=F[D];this._linesTemp.push(this._parseLine(u,o))}break}return this._linesTemp},t.prototype._parseHTMLText=function(e,r,o){var s,l=[];this._htmlElement||(this._htmlElement=document.createElement("div"),document.body.appendChild(this._htmlElement));var c=this._htmlElement;c.textContent=this.text,c.style.font=o.font,c.style.position="absolute",c.style.visibility="hidden",c.style.top="-1000px",c.style.left="-1000px",(s=this.adjustWordWrappingHTMLElement)===null||s===void 0||s.call(this,c),c.style.width=e+"px",c.style.height=r+"px";var d=c.textContent;if(!d)return l;for(var p=c.childNodes[0],u=document.createRange(),g=0,E=0,C=d;E<C.length;E++){var y=C[E];u.setStart(p,0),u.setEnd(p,g+1);var D=u.getClientRects().length-1;l[D]=(l[D]||"")+y,g++}return this.reuseHTMLForWordWrapping||(c.remove(),this._htmlElement=null),l},t.prototype._parseLine=function(e,r){return e===void 0&&(e=""),{text:e,width:this._getTextMetricsWidth(r.measureText(e))}},t.prototype._getCharsToRemove=function(e,r,o){var s=e>r?e-r:0,l=e/o,c=Math.max(Math.floor(s/l),1);return c},t.prototype._parseLineEllipsis=function(e,r,o){e===void 0&&(e="");var s=this._getTextMetricsWidth(o.measureText(e)),l=this._getCharsToRemove(s,r,e.length),c=Array.from&&Array.from(e);if(c)for(;c.length&&s>r;)c.splice(c.length-l,l),e="".concat(c.join(""),"…"),s=this._getTextMetricsWidth(o.measureText(e)),l=this._getCharsToRemove(s,r,e.length);else{for(;e.length>2&&s>r;)e=e.slice(0,-l),s=this._getTextMetricsWidth(o.measureText(e+"…")),l=this._getCharsToRemove(s,r,e.length);e+="…"}return{text:e,width:s}},t.prototype._getTextMetricsWidth=function(e){return e.actualBoundingBoxLeft!==void 0?Math.abs(e.actualBoundingBoxLeft)+Math.abs(e.actualBoundingBoxRight):e.width},t.prototype._parseLineWordWrap=function(e,r,o){e===void 0&&(e="");for(var s=[],l=this.wordSplittingFunction?this.wordSplittingFunction(e):e.split(this._wordDivider),c=this._getTextMetricsWidth(o.measureText(e)),d=0;d<l.length;d++){var p=d>0?e+this._wordDivider+l[d]:l[0],u=this._getTextMetricsWidth(o.measureText(p));u>r&&d>0?(s.push({text:e,width:c}),e=l[d],c=this._getTextMetricsWidth(o.measureText(e))):(c=u,e=p)}return s.push({text:e,width:c}),s},t.prototype._parseLineWordWrapEllipsis=function(e,r,o,s){e===void 0&&(e="");for(var l=this._parseLineWordWrap(e,r,s),c=1;c<=l.length;c++){var d=this._computeHeightForLinesOf(c);if(d>o&&c>1){var p=l[c-2],u=l[c-1];l[c-2]=this._parseLineEllipsis(p.text+this._wordDivider+u.text,r,s);for(var g=l.length-c+1,E=0;E<g;E++)l.pop();return l}}return l},t.prototype._renderLines=function(e){if(!(!this._fontOffset||!this._lines)){var r=this._currentMeasure.height,o=0;switch(this._textVerticalAlignment){case v.Control.VERTICAL_ALIGNMENT_TOP:o=this._fontOffset.ascent;break;case v.Control.VERTICAL_ALIGNMENT_BOTTOM:o=r-this._fontOffset.height*(this._lines.length-1)-this._fontOffset.descent;break;case v.Control.VERTICAL_ALIGNMENT_CENTER:o=this._fontOffset.ascent+(r-this._fontOffset.height*this._lines.length)/2;break}o+=this._currentMeasure.top;for(var s=0;s<this._lines.length;s++){var l=this._lines[s];s!==0&&this._lineSpacing.internalValue!==0&&(this._lineSpacing.isPixel?o+=this._lineSpacing.getValue(this._host):o=o+this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)),this._drawText(l.text,l.width,o,e),o+=this._fontOffset.height}}},t.prototype._computeHeightForLinesOf=function(e){var r=this._paddingTopInPixels+this._paddingBottomInPixels+this._fontOffset.height*e;if(e>0&&this._lineSpacing.internalValue!==0){var o=0;this._lineSpacing.isPixel?o=this._lineSpacing.getValue(this._host):o=this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),r+=(e-1)*o}return r},t.prototype.isDimensionFullyDefined=function(e){return this.resizeToFit?!0:i.prototype.isDimensionFullyDefined.call(this,e)},t.prototype.computeExpectedHeight=function(){var e,r;if(this.text&&this.widthInPixels){var o=(e=n.EngineStore.LastCreatedEngine)===null||e===void 0?void 0:e.createCanvas(0,0).getContext("2d");if(o){this._applyStates(o),this._fontOffset||(this._fontOffset=v.Control._GetFontOffset(o.font,(r=this._host.getScene())===null||r===void 0?void 0:r.getEngine()));var s=this._lines?this._lines:this._breakLines(this.widthInPixels-this._paddingLeftInPixels-this._paddingRightInPixels,this.heightInPixels-this._paddingTopInPixels-this._paddingBottomInPixels,o);return this._computeHeightForLinesOf(s.length)}}return 0},t.prototype.dispose=function(){var e;i.prototype.dispose.call(this),this.onTextChangedObservable.clear(),(e=this._htmlElement)===null||e===void 0||e.remove(),this._htmlElement=null},(0,_.__decorate)([(0,n.serialize)()],t.prototype,"resizeToFit",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"textWrapping",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"text",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"textHorizontalAlignment",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"textVerticalAlignment",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"lineSpacing",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"outlineWidth",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"underline",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"lineThrough",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"applyOutlineToUnderline",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"outlineColor",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"wordDivider",null),(0,_.__decorate)([(0,n.serialize)()],t.prototype,"forceResizeWidth",null),t}(v.Control);(0,n.RegisterClass)("BABYLON.GUI.TextBlock",a)},"../../../dev/gui/src/2D/controls/textWrapper.ts":(k,b,h)=>{h.r(b),h.d(b,{TextWrapper:()=>n});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=function(){function m(){}return Object.defineProperty(m.prototype,"text",{get:function(){return this._characters?this._characters.join(""):this._text},set:function(v){this._text=v,this._characters=Array.from&&Array.from(v)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"length",{get:function(){return this._characters?this._characters.length:this._text.length},enumerable:!1,configurable:!0}),m.prototype.removePart=function(v,f,a){var i;if(this._text=this._text.slice(0,v)+(a||"")+this._text.slice(f),this._characters){var t=a?Array.from(a):[];(i=this._characters).splice.apply(i,(0,_.__spreadArray)([v,f-v],t,!1))}},m.prototype.charAt=function(v){return this._characters?this._characters[v]:this._text.charAt(v)},m.prototype.substr=function(v,f){if(this._characters){isNaN(v)?v=0:v>=0?v=Math.min(v,this._characters.length):v=this._characters.length+Math.max(v,-this._characters.length),f===void 0?f=this._characters.length-v:(isNaN(f)||f<0)&&(f=0);for(var a=[];--f>=0;)a[f]=this._characters[v+f];return a.join("")}return this._text.substring(v,f?f+v:void 0)},m.prototype.substring=function(v,f){if(this._characters){isNaN(v)?v=0:v>this._characters.length?v=this._characters.length:v<0&&(v=0),f===void 0?f=this._characters.length:isNaN(f)?f=0:f>this._characters.length?f=this._characters.length:f<0&&(f=0);for(var a=[],i=0;v<f;)a[i++]=this._characters[v++];return a.join("")}return this._text.substring(v,f)},m.prototype.isWord=function(v){var f=/\w/g;return this._characters?this._characters[v].search(f)!==-1:this._text.search(f)!==-1},m}()},"../../../dev/gui/src/2D/controls/toggleButton.ts":(k,b,h)=>{h.r(b),h.d(b,{ToggleButton:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/rectangle.ts"),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i)||this;e.name=i,e.onIsActiveChangedObservable=new n.Observable,e.delegatePickingToChildren=!1,e._isActive=!1,e.group=t??"",e.thickness=0,e.isPointerBlocker=!0;var r=null;return e.toActiveAnimation=function(){e.thickness=1},e.toInactiveAnimation=function(){e.thickness=0},e.pointerEnterActiveAnimation=function(){r=e.alpha,e.alpha-=.1},e.pointerOutActiveAnimation=function(){r!==null&&(e.alpha=r)},e.pointerDownActiveAnimation=function(){e.scaleX-=.05,e.scaleY-=.05},e.pointerUpActiveAnimation=function(){e.scaleX+=.05,e.scaleY+=.05},e.pointerEnterInactiveAnimation=function(){r=e.alpha,e.alpha-=.1},e.pointerOutInactiveAnimation=function(){r!==null&&(e.alpha=r)},e.pointerDownInactiveAnimation=function(){e.scaleX-=.05,e.scaleY-=.05},e.pointerUpInactiveAnimation=function(){e.scaleX+=.05,e.scaleY+=.05},e}return Object.defineProperty(a.prototype,"group",{get:function(){return this._group},set:function(i){this._group!==i&&(this._group=i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isActive",{get:function(){return this._isActive},set:function(i){var t=this,e,r;this._isActive!==i&&(this._isActive=i,this._isActive?(e=this.toActiveAnimation)===null||e===void 0||e.call(this):(r=this.toInactiveAnimation)===null||r===void 0||r.call(this),this._markAsDirty(),this.onIsActiveChangedObservable.notifyObservers(i),this._isActive&&this._host&&this._group&&this._host.executeOnAllControls(function(o){if(o.typeName==="ToggleButton"){if(o===t)return;var s=o;s.group===t.group&&(s.isActive=!1)}}))},enumerable:!1,configurable:!0}),a.prototype._getTypeName=function(){return"ToggleButton"},a.prototype._processPicking=function(i,t,e,r,o,s,l,c){if(!this._isEnabled||!this.isHitTestVisible||!this.isVisible||this.notRenderable||!f.prototype.contains.call(this,i,t))return!1;if(this.delegatePickingToChildren){for(var d=!1,p=this._children.length-1;p>=0;p--){var u=this._children[p];if(u.isEnabled&&u.isHitTestVisible&&u.isVisible&&!u.notRenderable&&u.contains(i,t)){d=!0;break}}if(!d)return!1}return this._processObservables(r,i,t,e,o,s,l,c),!0},a.prototype._onPointerEnter=function(i,t){return f.prototype._onPointerEnter.call(this,i,t)?(this.isReadOnly||(this._isActive?this.pointerEnterActiveAnimation&&this.pointerEnterActiveAnimation():this.pointerEnterInactiveAnimation&&this.pointerEnterInactiveAnimation()),!0):!1},a.prototype._onPointerOut=function(i,t,e){e===void 0&&(e=!1),this.isReadOnly||(this._isActive?this.pointerOutActiveAnimation&&this.pointerOutActiveAnimation():this.pointerOutInactiveAnimation&&this.pointerOutInactiveAnimation()),f.prototype._onPointerOut.call(this,i,t,e)},a.prototype._onPointerDown=function(i,t,e,r,o){return f.prototype._onPointerDown.call(this,i,t,e,r,o)?(this.isReadOnly||(this._isActive?this.pointerDownActiveAnimation&&this.pointerDownActiveAnimation():this.pointerDownInactiveAnimation&&this.pointerDownInactiveAnimation()),!0):!1},a.prototype._onPointerUp=function(i,t,e,r,o,s){this.isReadOnly||(this._isActive?this.pointerUpActiveAnimation&&this.pointerUpActiveAnimation():this.pointerUpInactiveAnimation&&this.pointerUpInactiveAnimation()),f.prototype._onPointerUp.call(this,i,t,e,r,o,s)},a}(m.Rectangle);(0,n.RegisterClass)("BABYLON.GUI.ToggleButton",v)},"../../../dev/gui/src/2D/controls/virtualKeyboard.ts":(k,b,h)=>{h.r(b),h.d(b,{KeyPropertySet:()=>a,VirtualKeyboard:()=>i});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),v=h("../../../dev/gui/src/2D/controls/button.ts"),f=h("../../../dev/gui/src/2D/controls/inputTextArea.ts"),a=function(){function t(){}return t}(),i=function(t){(0,_.__extends)(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.onKeyPressObservable=new n.Observable,r.defaultButtonWidth="40px",r.defaultButtonHeight="40px",r.defaultButtonPaddingLeft="2px",r.defaultButtonPaddingRight="2px",r.defaultButtonPaddingTop="2px",r.defaultButtonPaddingBottom="2px",r.defaultButtonColor="#DDD",r.defaultButtonBackground="#070707",r.shiftButtonColor="#7799FF",r.selectedShiftThickness=1,r.shiftState=0,r._currentlyConnectedInputText=null,r._connectedInputTexts=[],r._onKeyPressObserver=null,r}return e.prototype._getTypeName=function(){return"VirtualKeyboard"},e.prototype._createKey=function(r,o){var s=this,l=v.Button.CreateSimpleButton(r,r);return l.width=o&&o.width?o.width:this.defaultButtonWidth,l.height=o&&o.height?o.height:this.defaultButtonHeight,l.color=o&&o.color?o.color:this.defaultButtonColor,l.background=o&&o.background?o.background:this.defaultButtonBackground,l.paddingLeft=o&&o.paddingLeft?o.paddingLeft:this.defaultButtonPaddingLeft,l.paddingRight=o&&o.paddingRight?o.paddingRight:this.defaultButtonPaddingRight,l.paddingTop=o&&o.paddingTop?o.paddingTop:this.defaultButtonPaddingTop,l.paddingBottom=o&&o.paddingBottom?o.paddingBottom:this.defaultButtonPaddingBottom,l.thickness=0,l.isFocusInvisible=!0,l.shadowColor=this.shadowColor,l.shadowBlur=this.shadowBlur,l.shadowOffsetX=this.shadowOffsetX,l.shadowOffsetY=this.shadowOffsetY,l.onPointerUpObservable.add(function(){s.onKeyPressObservable.notifyObservers(r)}),l},e.prototype.addKeysRow=function(r,o){var s=new m.StackPanel;s.isVertical=!1,s.isFocusInvisible=!0;for(var l=null,c=0;c<r.length;c++){var d=null;o&&o.length===r.length&&(d=o[c]);var p=this._createKey(r[c],d);(!l||p.heightInPixels>l.heightInPixels)&&(l=p),s.addControl(p)}s.height=l?l.height:this.defaultButtonHeight,this.addControl(s)},e.prototype.applyShiftState=function(r){if(this.children)for(var o=0;o<this.children.length;o++){var s=this.children[o];if(!(!s||!s.children))for(var l=s,c=0;c<l.children.length;c++){var d=l.children[c];if(!(!d||!d.children[0])){var p=d.children[0];p.text==="⇧"&&(d.color=r?this.shiftButtonColor:this.defaultButtonColor,d.thickness=r>1?this.selectedShiftThickness:0),p.text=r>0?p.text.toUpperCase():p.text.toLowerCase()}}}},Object.defineProperty(e.prototype,"connectedInputText",{get:function(){return this._currentlyConnectedInputText},enumerable:!1,configurable:!0}),e.prototype.connect=function(r){var o=this,s=this._connectedInputTexts.some(function(d){return d.input===r});if(!s){this._onKeyPressObserver===null&&(this._onKeyPressObserver=this.onKeyPressObservable.add(function(d){if(o._currentlyConnectedInputText){switch(o._currentlyConnectedInputText._host.focusedControl=o._currentlyConnectedInputText,d){case"⇧":o.shiftState++,o.shiftState>2&&(o.shiftState=0),o.applyShiftState(o.shiftState);return;case"←":o._currentlyConnectedInputText instanceof f.InputTextArea?o._currentlyConnectedInputText.alternativeProcessKey("Backspace"):o._currentlyConnectedInputText.processKey(8);return;case"↵":o._currentlyConnectedInputText instanceof f.InputTextArea?o._currentlyConnectedInputText.alternativeProcessKey("Enter"):o._currentlyConnectedInputText.processKey(13);return}o._currentlyConnectedInputText instanceof f.InputTextArea?o._currentlyConnectedInputText.alternativeProcessKey("",o.shiftState?d.toUpperCase():d):o._currentlyConnectedInputText.processKey(-1,o.shiftState?d.toUpperCase():d),o.shiftState===1&&(o.shiftState=0,o.applyShiftState(o.shiftState))}})),this.isVisible=!1,this._currentlyConnectedInputText=r,r._connectedVirtualKeyboard=this;var l=r.onFocusObservable.add(function(){o._currentlyConnectedInputText=r,r._connectedVirtualKeyboard=o,o.isVisible=!0}),c=r.onBlurObservable.add(function(){r._connectedVirtualKeyboard=null,o._currentlyConnectedInputText=null,o.isVisible=!1});this._connectedInputTexts.push({input:r,onBlurObserver:c,onFocusObserver:l})}},e.prototype.disconnect=function(r){var o=this;if(r){var s=this._connectedInputTexts.filter(function(l){return l.input===r});s.length===1&&(this._removeConnectedInputObservables(s[0]),this._connectedInputTexts=this._connectedInputTexts.filter(function(l){return l.input!==r}),this._currentlyConnectedInputText===r&&(this._currentlyConnectedInputText=null))}else this._connectedInputTexts.forEach(function(l){o._removeConnectedInputObservables(l)}),this._connectedInputTexts.length=0;this._connectedInputTexts.length===0&&(this._currentlyConnectedInputText=null,this.onKeyPressObservable.remove(this._onKeyPressObserver),this._onKeyPressObserver=null)},e.prototype._removeConnectedInputObservables=function(r){r.input._connectedVirtualKeyboard=null,r.input.onFocusObservable.remove(r.onFocusObserver),r.input.onBlurObservable.remove(r.onBlurObserver)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disconnect()},e.CreateDefaultLayout=function(r){var o=new e(r);return o.addKeysRow(["1","2","3","4","5","6","7","8","9","0","←"]),o.addKeysRow(["q","w","e","r","t","y","u","i","o","p"]),o.addKeysRow(["a","s","d","f","g","h","j","k","l",";","'","↵"]),o.addKeysRow(["⇧","z","x","c","v","b","n","m",",",".","/"]),o.addKeysRow([" "],[{width:"200px"}]),o},e.prototype._parseFromContent=function(r,o){var s=this;t.prototype._parseFromContent.call(this,r,o);for(var l=0,c=this.children;l<c.length;l++){var d=c[l];if(d.getClassName()==="StackPanel")for(var p=d,u=function(y){y.getClassName()==="Button"&&y.name&&y.onPointerUpObservable.add(function(){s.onKeyPressObservable.notifyObservers(y.name)})},g=0,E=p.children;g<E.length;g++){var C=E[g];u(C)}}},e}(m.StackPanel);(0,n.RegisterClass)("BABYLON.GUI.VirtualKeyboard",i)},"../../../dev/gui/src/2D/index.ts":(k,b,h)=>{h.r(b),h.d(b,{AdvancedDynamicTexture:()=>n.AdvancedDynamicTexture,AdvancedDynamicTextureInstrumentation:()=>m.AdvancedDynamicTextureInstrumentation,BaseGradient:()=>_.BaseGradient,BaseSlider:()=>_.BaseSlider,Button:()=>_.Button,Checkbox:()=>_.Checkbox,CheckboxGroup:()=>_.CheckboxGroup,ColorPicker:()=>_.ColorPicker,Container:()=>_.Container,Control:()=>_.Control,DisplayGrid:()=>_.DisplayGrid,Ellipse:()=>_.Ellipse,FocusableButton:()=>_.FocusableButton,FrameGraphGUITask:()=>i.FrameGraphGUITask,Grid:()=>_.Grid,Image:()=>_.Image,ImageBasedSlider:()=>_.ImageBasedSlider,ImageScrollBar:()=>_.ImageScrollBar,InputPassword:()=>_.InputPassword,InputText:()=>_.InputText,InputTextArea:()=>_.InputTextArea,KeyPropertySet:()=>_.KeyPropertySet,Line:()=>_.Line,LinearGradient:()=>_.LinearGradient,MathTools:()=>v.MathTools,Matrix2D:()=>v.Matrix2D,Measure:()=>f.Measure,MultiLine:()=>_.MultiLine,MultiLinePoint:()=>a.MultiLinePoint,NodeRenderGraphGUIBlock:()=>t.NodeRenderGraphGUIBlock,RadialGradient:()=>_.RadialGradient,RadioButton:()=>_.RadioButton,RadioGroup:()=>_.RadioGroup,Rectangle:()=>_.Rectangle,ScrollBar:()=>_.ScrollBar,ScrollViewer:()=>_.ScrollViewer,SelectionPanel:()=>_.SelectionPanel,SelectorGroup:()=>_.SelectorGroup,Slider:()=>_.Slider,SliderGroup:()=>_.SliderGroup,StackPanel:()=>_.StackPanel,Style:()=>e.Style,TextBlock:()=>_.TextBlock,TextWrapper:()=>_.TextWrapper,TextWrapping:()=>_.TextWrapping,ToggleButton:()=>_.ToggleButton,ValueAndUnit:()=>r.ValueAndUnit,Vector2WithInfo:()=>v.Vector2WithInfo,VirtualKeyboard:()=>_.VirtualKeyboard,XmlLoader:()=>o.XmlLoader,name:()=>_.name});var _=h("../../../dev/gui/src/2D/controls/index.ts"),n=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),m=h("../../../dev/gui/src/2D/adtInstrumentation.ts"),v=h("../../../dev/gui/src/2D/math2D.ts"),f=h("../../../dev/gui/src/2D/measure.ts"),a=h("../../../dev/gui/src/2D/multiLinePoint.ts"),i=h("../../../dev/gui/src/2D/FrameGraph/guiTask.ts"),t=h("../../../dev/gui/src/2D/FrameGraph/renderGraphGUIBlock.ts"),e=h("../../../dev/gui/src/2D/style.ts"),r=h("../../../dev/gui/src/2D/valueAndUnit.ts"),o=h("../../../dev/gui/src/2D/xmlLoader.ts")},"../../../dev/gui/src/2D/math2D.ts":(k,b,h)=>{h.r(b),h.d(b,{MathTools:()=>f,Matrix2D:()=>v,Vector2WithInfo:()=>m});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=function(a){(0,_.__extends)(i,a);function i(t,e){e===void 0&&(e=0);var r=a.call(this,t.x,t.y)||this;return r.buttonIndex=e,r}return i}(n.Vector2),v=function(){function a(i,t,e,r,o,s){this.m=new Float32Array(6),this.fromValues(i,t,e,r,o,s)}return a.prototype.fromValues=function(i,t,e,r,o,s){return this.m[0]=i,this.m[1]=t,this.m[2]=e,this.m[3]=r,this.m[4]=o,this.m[5]=s,this},a.prototype.determinant=function(){return this.m[0]*this.m[3]-this.m[1]*this.m[2]},a.prototype.invertToRef=function(i){var t=this.m[0],e=this.m[1],r=this.m[2],o=this.m[3],s=this.m[4],l=this.m[5],c=this.determinant();if(c<n.Epsilon*n.Epsilon)return i.m[0]=0,i.m[1]=0,i.m[2]=0,i.m[3]=0,i.m[4]=0,i.m[5]=0,this;var d=1/c,p=r*l-o*s,u=e*s-t*l;return i.m[0]=o*d,i.m[1]=-e*d,i.m[2]=-r*d,i.m[3]=t*d,i.m[4]=p*d,i.m[5]=u*d,this},a.prototype.multiplyToRef=function(i,t){var e=this.m[0],r=this.m[1],o=this.m[2],s=this.m[3],l=this.m[4],c=this.m[5],d=i.m[0],p=i.m[1],u=i.m[2],g=i.m[3],E=i.m[4],C=i.m[5];return t.m[0]=e*d+r*u,t.m[1]=e*p+r*g,t.m[2]=o*d+s*u,t.m[3]=o*p+s*g,t.m[4]=l*d+c*u+E,t.m[5]=l*p+c*g+C,this},a.prototype.transformCoordinates=function(i,t,e){return e.x=i*this.m[0]+t*this.m[2]+this.m[4],e.y=i*this.m[1]+t*this.m[3]+this.m[5],this},a.Identity=function(){return new a(1,0,0,1,0,0)},a.IdentityToRef=function(i){i.m[0]=1,i.m[1]=0,i.m[2]=0,i.m[3]=1,i.m[4]=0,i.m[5]=0},a.TranslationToRef=function(i,t,e){e.fromValues(1,0,0,1,i,t)},a.ScalingToRef=function(i,t,e){e.fromValues(i,0,0,t,0,0)},a.RotationToRef=function(i,t){var e=Math.sin(i),r=Math.cos(i);t.fromValues(r,e,-e,r,0,0)},a.ComposeToRef=function(i,t,e,r,o,s,l){a.TranslationToRef(i,t,a._TempPreTranslationMatrix),a.ScalingToRef(r,o,a._TempScalingMatrix),a.RotationToRef(e,a._TempRotationMatrix),a.TranslationToRef(-i,-t,a._TempPostTranslationMatrix),a._TempPreTranslationMatrix.multiplyToRef(a._TempScalingMatrix,a._TempCompose0),a._TempCompose0.multiplyToRef(a._TempRotationMatrix,a._TempCompose1),s?(a._TempCompose1.multiplyToRef(a._TempPostTranslationMatrix,a._TempCompose2),a._TempCompose2.multiplyToRef(s,l)):a._TempCompose1.multiplyToRef(a._TempPostTranslationMatrix,l)},a._TempPreTranslationMatrix=a.Identity(),a._TempPostTranslationMatrix=a.Identity(),a._TempRotationMatrix=a.Identity(),a._TempScalingMatrix=a.Identity(),a._TempCompose0=a.Identity(),a._TempCompose1=a.Identity(),a._TempCompose2=a.Identity(),a}(),f=function(){function a(){}return a.Round=function(i,t){return t===void 0&&(t=a.DefaultRoundingPrecision),Math.round(i*t)/t},a.DefaultRoundingPrecision=100,a}()},"../../../dev/gui/src/2D/measure.ts":(k,b,h)=>{h.r(b),h.d(b,{Measure:()=>a});var _=h("babylonjs/Misc/perfCounter"),n=[new _.Vector2(0,0),new _.Vector2(0,0),new _.Vector2(0,0),new _.Vector2(0,0)],m=[new _.Vector2(0,0),new _.Vector2(0,0),new _.Vector2(0,0),new _.Vector2(0,0)],v=new _.Vector2(0,0),f=new _.Vector2(0,0),a=function(){function i(t,e,r,o){this.left=t,this.top=e,this.width=r,this.height=o}return i.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},i.prototype.copyFromFloats=function(t,e,r,o){this.left=t,this.top=e,this.width=r,this.height=o},i.CombineToRef=function(t,e,r){var o=Math.min(t.left,e.left),s=Math.min(t.top,e.top),l=Math.max(t.left+t.width,e.left+e.width),c=Math.max(t.top+t.height,e.top+e.height);r.left=o,r.top=s,r.width=l-o,r.height=c-s},i.prototype.addAndTransformToRef=function(t,e,r,o,s,l){var c=this.left+e,d=this.top+r,p=this.width+o,u=this.height+s;n[0].copyFromFloats(c,d),n[1].copyFromFloats(c+p,d),n[2].copyFromFloats(c+p,d+u),n[3].copyFromFloats(c,d+u),v.copyFromFloats(Number.MAX_VALUE,Number.MAX_VALUE),f.copyFromFloats(0,0);for(var g=0;g<4;g++)t.transformCoordinates(n[g].x,n[g].y,m[g]),v.x=Math.floor(Math.min(v.x,m[g].x)),v.y=Math.floor(Math.min(v.y,m[g].y)),f.x=Math.ceil(Math.max(f.x,m[g].x)),f.y=Math.ceil(Math.max(f.y,m[g].y));l.left=v.x,l.top=v.y,l.width=f.x-v.x,l.height=f.y-v.y},i.prototype.transformToRef=function(t,e){this.addAndTransformToRef(t,0,0,0,0,e)},i.prototype.isEqualsTo=function(t){return!(this.left!==t.left||this.top!==t.top||this.width!==t.width||this.height!==t.height)},i.Empty=function(){return new i(0,0,0,0)},i}()},"../../../dev/gui/src/2D/multiLinePoint.ts":(k,b,h)=>{h.r(b),h.d(b,{MultiLinePoint:()=>m});var _=h("babylonjs/Misc/perfCounter"),n=h("../../../dev/gui/src/2D/valueAndUnit.ts"),m=function(){function v(f){this._multiLine=f,this._x=new n.ValueAndUnit(0),this._y=new n.ValueAndUnit(0),this._point=new _.Vector3(0,0,0)}return Object.defineProperty(v.prototype,"x",{get:function(){return this._x.toString(this._multiLine._host)},set:function(f){this._x.toString(this._multiLine._host)!==f&&this._x.fromString(f)&&this._multiLine._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"y",{get:function(){return this._y.toString(this._multiLine._host)},set:function(f){this._y.toString(this._multiLine._host)!==f&&this._y.fromString(f)&&this._multiLine._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"control",{get:function(){return this._control},set:function(f){this._control!==f&&(this._control&&this._controlObserver&&(this._control.onDirtyObservable.remove(this._controlObserver),this._controlObserver=null),this._control=f,this._control&&(this._controlObserver=this._control.onDirtyObservable.add(this._multiLine.onPointUpdate)),this._multiLine._markAsDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mesh",{get:function(){return this._mesh},set:function(f){this._mesh!==f&&(this._mesh&&this._meshObserver&&this._mesh.getScene().onAfterCameraRenderObservable.remove(this._meshObserver),this._mesh=f,this._mesh&&(this._meshObserver=this._mesh.getScene().onAfterCameraRenderObservable.add(this._multiLine.onPointUpdate)),this._multiLine._markAsDirty())},enumerable:!1,configurable:!0}),v.prototype.resetLinks=function(){this.control=null,this.mesh=null},v.prototype.translate=function(){return this._point=this._translatePoint(),this._point},v.prototype._translatePoint=function(){if(this._mesh!=null)return this._multiLine._host.getProjectedPositionWithZ(this._mesh.getBoundingInfo().boundingSphere.center,this._mesh.getWorldMatrix());if(this._control!=null)return new _.Vector3(this._control.centerX,this._control.centerY,1-_.Epsilon);var f=this._multiLine._host,a=this._x.getValueInPixel(f,Number(f._canvas.width)),i=this._y.getValueInPixel(f,Number(f._canvas.height));return new _.Vector3(a,i,1-_.Epsilon)},v.prototype.dispose=function(){this.resetLinks()},v}()},"../../../dev/gui/src/2D/style.ts":(k,b,h)=>{h.r(b),h.d(b,{Style:()=>m});var _=h("babylonjs/Misc/perfCounter"),n=h("../../../dev/gui/src/2D/valueAndUnit.ts"),m=function(){function v(f){this._fontFamily="Arial",this._fontStyle="",this._fontWeight="",this._fontSize=new n.ValueAndUnit(18,n.ValueAndUnit.UNITMODE_PIXEL,!1),this.onChangedObservable=new _.Observable,this._host=f}return Object.defineProperty(v.prototype,"fontSize",{get:function(){return this._fontSize.toString(this._host)},set:function(f){this._fontSize.toString(this._host)!==f&&this._fontSize.fromString(f)&&this.onChangedObservable.notifyObservers(this)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(f){this._fontFamily!==f&&(this._fontFamily=f,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(f){this._fontStyle!==f&&(this._fontStyle=f,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(f){this._fontWeight!==f&&(this._fontWeight=f,this.onChangedObservable.notifyObservers(this))},enumerable:!1,configurable:!0}),v.prototype.dispose=function(){this.onChangedObservable.clear()},v}()},"../../../dev/gui/src/2D/valueAndUnit.ts":(k,b,h)=>{h.r(b),h.d(b,{ValueAndUnit:()=>n});var _=h("babylonjs/Misc/perfCounter"),n=function(){function m(v,f,a){f===void 0&&(f=m.UNITMODE_PIXEL),a===void 0&&(a=!0),this.negativeValueAllowed=a,this._value=1,this._unit=m.UNITMODE_PIXEL,this.ignoreAdaptiveScaling=!1,this.onChangedObservable=new _.Observable,this._value=v,this._unit=f,this._originalUnit=f}return Object.defineProperty(m.prototype,"isPercentage",{get:function(){return this._unit===m.UNITMODE_PERCENTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isPixel",{get:function(){return this._unit===m.UNITMODE_PIXEL},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"internalValue",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"value",{get:function(){return this._value},set:function(v){v!==this._value&&(this._value=v,this.onChangedObservable.notifyObservers())},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"unit",{get:function(){return this._unit},set:function(v){v!==this._unit&&(this._unit=v,this.onChangedObservable.notifyObservers())},enumerable:!1,configurable:!0}),m.prototype.getValueInPixel=function(v,f){return this.isPixel?this.getValue(v):this.getValue(v)*f},m.prototype.updateInPlace=function(v,f){return f===void 0&&(f=m.UNITMODE_PIXEL),(this.value!==v||this.unit!==f)&&(this._value=v,this._unit=f,this.onChangedObservable.notifyObservers()),this},m.prototype.getValue=function(v){if(v&&!this.ignoreAdaptiveScaling&&this.unit!==m.UNITMODE_PERCENTAGE){var f=0,a=0;if(v.idealWidth&&(f=Math.ceil(this._value*v.getSize().width/v.idealWidth)),v.idealHeight&&(a=Math.ceil(this._value*v.getSize().height/v.idealHeight)),v.useSmallestIdeal&&v.idealWidth&&v.idealHeight)return window.innerWidth<window.innerHeight?f:a;if(v.idealWidth)return f;if(v.idealHeight)return a}return this._value},m.prototype.toString=function(v,f){switch(this._unit){case m.UNITMODE_PERCENTAGE:{var a=this.getValue(v)*100;return(f?a.toFixed(f):a)+"%"}case m.UNITMODE_PIXEL:{var i=this.getValue(v);return(f?i.toFixed(f):i)+"px"}}return this._unit.toString()},m.prototype.fromString=function(v){var f=m._Regex.exec(v.toString());if(!f||f.length===0)return!1;var a=parseFloat(f[1]),i=this._originalUnit;if(this.negativeValueAllowed||a<0&&(a=0),f.length===4)switch(f[3]){case"px":i=m.UNITMODE_PIXEL;break;case"%":i=m.UNITMODE_PERCENTAGE,a/=100;break}return a===this._value&&i===this._unit?!1:(this._value=a,this._unit=i,this.onChangedObservable.notifyObservers(),!0)},Object.defineProperty(m,"UNITMODE_PERCENTAGE",{get:function(){return m._UNITMODE_PERCENTAGE},enumerable:!1,configurable:!0}),Object.defineProperty(m,"UNITMODE_PIXEL",{get:function(){return m._UNITMODE_PIXEL},enumerable:!1,configurable:!0}),m._Regex=/(^-?\d*(\.\d+)?)(%|px)?/,m._UNITMODE_PERCENTAGE=0,m._UNITMODE_PIXEL=1,m}()},"../../../dev/gui/src/2D/xmlLoader.ts":(k,b,h)=>{h.r(b),h.d(b,{XmlLoader:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m="XmlLoader Exception : XML file is malformed or corrupted.",v=function(){function f(a){a===void 0&&(a=null),this._nodes={},this._nodeTypes={element:1,attribute:2,text:3},this._isLoaded=!1,this._objectAttributes={textHorizontalAlignment:1,textVerticalAlignment:2,horizontalAlignment:3,verticalAlignment:4,stretch:5},a&&(this._parentClass=a)}return f.prototype._getChainElement=function(a){var i=window;this._parentClass&&(i=this._parentClass);var t=a;t=t.split(".");for(var e=0;e<t.length;e++)i=i[t[e]];return i},f.prototype._getClassAttribute=function(a){var i=a.split("."),t=(0,n.GetClass)("BABYLON.GUI."+i[0]);return t[i[1]]},f.prototype._createGuiElement=function(a,i,t){t===void 0&&(t=!0);try{var e=(0,n.GetClass)("BABYLON.GUI."+a.nodeName),r=new e;i&&t&&i.addControl(r);for(var o=0;o<a.attributes.length;o++)if(!a.attributes[o].name.toLowerCase().includes("datasource"))if(a.attributes[o].name.toLowerCase().includes("observable")){var s=this._getChainElement(a.attributes[o].value);r[a.attributes[o].name].add(s);continue}else if(a.attributes[o].name=="linkWithMesh")this._parentClass?r.linkWithMesh(this._parentClass[a.attributes[o].value]):r.linkWithMesh(window[a.attributes[o].value]);else if(a.attributes[o].value.match(/{{.*}}/)){var l=a.attributes[o].value.match(/{{(.*)}}/),s=this._getChainElement(l[1]);a.attributes[o].value.startsWith("{{")&&a.attributes[o].value.endsWith("}}")||(s=a.attributes[o].value.replace(/{{.*}}/,"".concat(s))),r[a.attributes[o].name]=s}else this._objectAttributes[a.attributes[o].name]?r[a.attributes[o].name]=this._getClassAttribute(a.attributes[o].value):a.attributes[o].value=="true"||a.attributes[o].value=="false"?r[a.attributes[o].name]=a.attributes[o].value=="true":r[a.attributes[o].name]=isNaN(Number(a.attributes[o].value))?a.attributes[o].value:Number(a.attributes[o].value);if(!a.attributes.getNamedItem("id"))return this._nodes[a.nodeName+Object.keys(this._nodes).length+"_gen"]=r,r;var c=a.attributes.getNamedItem("id").value;if(c.startsWith("{{")&&c.endsWith("}}")&&(c=this._getChainElement(c.substring(2,c.length-2))),!this._nodes[c])this._nodes[c]=r;else throw"XmlLoader Exception : Duplicate ID, every element should have an unique ID attribute";return r}catch(d){throw"XmlLoader Exception : Error parsing Control "+a.nodeName+","+d+"."}},f.prototype._parseGrid=function(a,i,t){for(var e,r,o,s=a.children,l,c=!1,d,p=-1,u=-1,g=0,E=0;E<s.length;E++)if(s[E].nodeType==this._nodeTypes.element){if(s[E].nodeName!="Row")throw"XmlLoader Exception : Expecting Row node, received "+s[E].nodeName;if(p+=1,o=s[E].children,!s[E].attributes.getNamedItem("height"))throw"XmlLoader Exception : Height must be defined for grid rows";r=Number(s[E].attributes.getNamedItem("height").nodeValue),c=s[E].attributes.getNamedItem("isPixel")?JSON.parse(s[E].attributes.getNamedItem("isPixel").nodeValue):!1,i.addRowDefinition(r,c);for(var C=0;C<o.length;C++)if(o[C].nodeType==this._nodeTypes.element){if(o[C].nodeName!="Column")throw"XmlLoader Exception : Expecting Column node, received "+o[C].nodeName;if(u+=1,p>0&&u>g)throw"XmlLoader Exception : In the Grid element, the number of columns is defined in the first row, do not add more columns in the subsequent rows.";if(p==0){if(!o[C].attributes.getNamedItem("width"))throw"XmlLoader Exception : Width must be defined for all the grid columns in the first row";e=Number(o[C].attributes.getNamedItem("width").nodeValue),c=o[C].attributes.getNamedItem("isPixel")?JSON.parse(o[C].attributes.getNamedItem("isPixel").nodeValue):!1,i.addColumnDefinition(e,c)}l=o[C].children;for(var y=0;y<l.length;y++)l[y].nodeType==this._nodeTypes.element&&(d=this._createGuiElement(l[y],i,!1),i.addControl(d,p,u),l[y].firstChild&&this._parseXml(l[y].firstChild,d))}p==0&&(g=u),u=-1}a.nextSibling&&this._parseXml(a.nextSibling,t)},f.prototype._parseElement=function(a,i,t){a.firstChild&&this._parseXml(a.firstChild,i),a.nextSibling&&this._parseXml(a.nextSibling,t)},f.prototype._prepareSourceElement=function(a,i,t,e,r){this._parentClass?this._parentClass[t]=e[r]:window[t]=e[r],a.firstChild&&this._parseXml(a.firstChild,i,!0)},f.prototype._parseElementsFromSource=function(a,i,t){var e=a.attributes.getNamedItem("dataSource").value;if(e.includes(" in ")){var r=!0,o=e.split(" in ");if(o.length<2)throw"XmlLoader Exception : Malformed XML, Data Source must have an iterator and a source";var s=o[1];if(s.startsWith("{")&&s.endsWith("}")&&(r=!1),(!r||s.startsWith("[")&&s.endsWith("]"))&&(s=s.substring(1,s.length-1)),this._parentClass?s=this._parentClass[s]:s=window[s],r)for(var l=0;l<s.length;l++)this._prepareSourceElement(a,i,o[0],s,l);else for(var l in s)this._prepareSourceElement(a,i,o[0],s,l);a.nextSibling&&this._parseXml(a.nextSibling,t)}else throw"XmlLoader Exception : Malformed XML, Data Source must include an in"},f.prototype._parseXml=function(a,i,t){if(t===void 0&&(t=!1),a.nodeType!=this._nodeTypes.element){a.nextSibling&&this._parseXml(a.nextSibling,i,t);return}t&&a.setAttribute("id",i.id+(i._children.length+1));var e=this._createGuiElement(a,i);this._rootNode||(this._rootNode=e),a.nodeName=="Grid"?this._parseGrid(a,e,i):a.attributes.getNamedItem("dataSource")?this._parseElementsFromSource(a,e,i):this._parseElement(a,e,i)},f.prototype.isLoaded=function(){return this._isLoaded},f.prototype.getNodeById=function(a){return this._nodes[a]},f.prototype.getNodes=function(){return this._nodes},f.prototype.dispose=function(){this._rootNode&&(this._rootNode.dispose(),this._rootNode=null,this._nodes={})},f.prototype.loadLayout=function(a,i,t,e){var r=this;t===void 0&&(t=null),e===void 0&&(e=null);var o=new XMLHttpRequest;o.onload=function(){if(o.readyState===4&&o.status===200){if(!o.responseXML)if(e){e(m);return}else throw m;var s=o.responseXML.documentElement;r._parseXml(s.firstChild,i),r._isLoaded=!0,t&&t()}},o.onerror=function(){e&&e("an error occurred during loading the layout")},o.open("GET",a,!0),o.send()},f.prototype.loadLayoutAsync=function(a,i){return(0,_.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,_.__generator)(this,function(e){return[2,new Promise(function(r,o){t.loadLayout(a,i,r,o)})]})})},f}()},"../../../dev/gui/src/3D/behaviors/defaultBehavior.ts":(k,b,h)=>{h.r(b),h.d(b,{DefaultBehavior:()=>n});var _=h("babylonjs/Misc/perfCounter"),n=function(){function m(){this.followBehaviorEnabled=!1,this.sixDofDragBehaviorEnabled=!0,this.surfaceMagnetismBehaviorEnabled=!0,this._followBehavior=new _.FollowBehavior,this._sixDofDragBehavior=new _.SixDofDragBehavior,this._surfaceMagnetismBehavior=new _.SurfaceMagnetismBehavior}return Object.defineProperty(m.prototype,"name",{get:function(){return"Default"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"followBehavior",{get:function(){return this._followBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"sixDofDragBehavior",{get:function(){return this._sixDofDragBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"surfaceMagnetismBehavior",{get:function(){return this._surfaceMagnetismBehavior},enumerable:!1,configurable:!0}),m.prototype.init=function(){},m.prototype.attach=function(v,f,a){this._scene=v.getScene(),this.attachedNode=v,this._addObservables(),this._followBehavior.attach(v),this._sixDofDragBehavior.attach(v),this._sixDofDragBehavior.draggableMeshes=f||null,this._sixDofDragBehavior.faceCameraOnDragStart=!0,this._surfaceMagnetismBehavior.attach(v,this._scene),a&&(this._surfaceMagnetismBehavior.meshes=a),this._surfaceMagnetismBehavior.enabled=!1},m.prototype.detach=function(){this.attachedNode=null,this._removeObservables(),this._followBehavior.detach(),this._sixDofDragBehavior.detach(),this._surfaceMagnetismBehavior.detach()},m.prototype._addObservables=function(){var v=this;this._onBeforeRenderObserver=this._scene.onBeforeRenderObservable.add(function(){v._followBehavior._enabled=!v._sixDofDragBehavior.isMoving&&v.followBehaviorEnabled}),this._onDragObserver=this._sixDofDragBehavior.onDragObservable.add(function(f){v._sixDofDragBehavior.disableMovement=v._surfaceMagnetismBehavior.findAndUpdateTarget(f.pickInfo)})},m.prototype._removeObservables=function(){this._scene.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),this._sixDofDragBehavior.onDragObservable.remove(this._onDragObserver)},m}()},"../../../dev/gui/src/3D/controls/MRTK3/touchHolographicButton.ts":(k,b,h)=>{h.r(b),h.d(b,{TouchHolographicButton:()=>d});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),m=h("babylonjs/Misc/perfCounter"),v=h("../../../dev/gui/src/2D/controls/control.ts"),f=h("../../../dev/gui/src/2D/controls/grid.ts"),a=h("../../../dev/gui/src/2D/controls/image.ts"),i=h("../../../dev/gui/src/3D/materials/mrdl/mrdlBackglowMaterial.ts"),t=h("../../../dev/gui/src/3D/materials/mrdl/mrdlBackplateMaterial.ts"),e=h("../../../dev/gui/src/3D/materials/mrdl/mrdlFrontplateMaterial.ts"),r=h("../../../dev/gui/src/3D/materials/mrdl/mrdlInnerquadMaterial.ts"),o=h("../../../dev/gui/src/2D/controls/rectangle.ts"),s=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),l=h("../../../dev/gui/src/2D/controls/textBlock.ts"),c=h("../../../dev/gui/src/3D/controls/touchButton3D.ts"),d=function(p){(0,_.__extends)(u,p);function u(g,E){E===void 0&&(E=!0);var C=p.call(this,g)||this;return C.width=1,C.height=1,C.radius=.14,C.textSizeInPixels=18,C.imageSizeInPixels=40,C.plateMaterialColor=new m.Color3(.4,.4,.4),C.frontPlateDepth=.2,C.backPlateDepth=.04,C.backGlowOffset=.1,C.flatPlaneDepth=.001,C.innerQuadRadius=C.radius-.04,C.innerQuadColor=new m.Color4(0,0,0,0),C.innerQuadToggledColor=new m.Color4(.5197843,.6485234,.9607843,.6),C.innerQuadHoverColor=new m.Color4(1,1,1,.05),C.innerQuadToggledHoverColor=new m.Color4(.5197843,.6485234,.9607843,1),C._isBackplateVisible=!0,C._shareMaterials=!0,C._shareMaterials=E,C.pointerEnterAnimation=function(){C._frontPlate&&C._textPlate&&!C.isToggleButton&&C._performEnterExitAnimation(1),C.isToggleButton&&C._innerQuadMaterial&&(C.isToggled?C._innerQuadMaterial.color=C.innerQuadToggledHoverColor:C._innerQuadMaterial.color=C.innerQuadHoverColor)},C.pointerOutAnimation=function(){C._frontPlate&&C._textPlate&&!C.isToggleButton&&C._performEnterExitAnimation(-.8),C.isToggleButton&&C._innerQuadMaterial&&C._onToggle(C.isToggled)},C.pointerDownAnimation=function(){},C.pointerUpAnimation=function(){},C._pointerClickObserver=C.onPointerClickObservable.add(function(){C._frontPlate&&C._backGlow&&!C.isActiveNearInteraction&&C._performClickAnimation(),C.isToggleButton&&C._innerQuadMaterial&&C._onToggle(C.isToggled)}),C._pointerEnterObserver=C.onPointerEnterObservable.add(function(){C.pointerEnterAnimation()}),C._pointerOutObserver=C.onPointerOutObservable.add(function(){C.pointerOutAnimation()}),C._toggleObserver=C.onToggleObservable.add(function(y){y?C._innerQuadMaterial.color=C.innerQuadToggledColor:C._innerQuadMaterial.color=C.innerQuadColor}),C}return u.prototype._disposeTooltip=function(){this._tooltipFade=null,this._tooltipTextBlock&&this._tooltipTextBlock.dispose(),this._tooltipTexture&&this._tooltipTexture.dispose(),this._tooltipMesh&&this._tooltipMesh.dispose(),this.onPointerEnterObservable.remove(this._tooltipHoverObserver),this.onPointerOutObservable.remove(this._tooltipOutObserver)},Object.defineProperty(u.prototype,"renderingGroupId",{get:function(){return this._backPlate.renderingGroupId},set:function(g){this._backPlate.renderingGroupId=g,this._textPlate.renderingGroupId=g,this._frontPlate.renderingGroupId=g,this._backGlow.renderingGroupId=g,this._innerQuad.renderingGroupId=g,this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"mesh",{get:function(){return this._backPlate},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tooltipText",{get:function(){var g;return((g=this._tooltipTextBlock)===null||g===void 0?void 0:g.text)||null},set:function(g){var E=this;if(!g){this._disposeTooltip();return}if(!this._tooltipFade){var C=this._backPlate._scene.useRightHandedSystem;this._tooltipMesh=(0,m.CreatePlane)("",{size:1},this._backPlate._scene),this._tooltipMesh.position=m.Vector3.Down().scale(.7).add(m.Vector3.Forward(C).scale(-.15)),this._tooltipMesh.isPickable=!1,this._tooltipMesh.parent=this._frontPlateCollisionMesh,this._tooltipTexture=n.AdvancedDynamicTexture.CreateForMesh(this._tooltipMesh);var y=new o.Rectangle;y.height=.25,y.width=.8,y.cornerRadius=25,y.color="#ffffff",y.thickness=20,y.background="#060668",this._tooltipTexture.addControl(y),this._tooltipTextBlock=new l.TextBlock,this._tooltipTextBlock.color="white",this._tooltipTextBlock.fontSize=100,this._tooltipTexture.addControl(this._tooltipTextBlock),this._tooltipFade=new m.FadeInOutBehavior,this._tooltipFade.delay=500,this._tooltipMesh.addBehavior(this._tooltipFade),this._tooltipHoverObserver=this.onPointerEnterObservable.add(function(){E._tooltipFade&&E._tooltipFade.fadeIn(!0)}),this._tooltipOutObserver=this.onPointerOutObservable.add(function(){E._tooltipFade&&E._tooltipFade.fadeIn(!1)})}this._tooltipTextBlock&&(this._tooltipTextBlock.text=g)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"text",{get:function(){return this._text},set:function(g){this._text!==g&&(this._text=g,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"subtext",{get:function(){return this._subtext},set:function(g){this._subtext!==g&&(this._subtext=g,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(g){this._imageUrl!==g&&(this._imageUrl=g,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"backMaterial",{get:function(){return this._backMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"frontMaterial",{get:function(){return this._frontMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"backGlowMaterial",{get:function(){return this._backGlowMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"innerQuadMaterial",{get:function(){return this._innerQuadMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"plateMaterial",{get:function(){return this._plateMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isBackplateVisible",{set:function(g){this.mesh&&this._backMaterial&&(g&&!this._isBackplateVisible?this._backPlate.visibility=1:!g&&this._isBackplateVisible&&(this._backPlate.visibility=0)),this._isBackplateVisible=g},enumerable:!1,configurable:!0}),u.prototype._getTypeName=function(){return"TouchHolographicButton"},u.prototype._rebuildContent=function(){var g;this._getAspectRatio()<=1?g=this._alignContentVertically():g=this._alignContentHorizontally(),this.content=g},u.prototype._getAspectRatio=function(){return this.width/this.height},u.prototype._alignContentVertically=function(){var g=new s.StackPanel;if(g.isVertical=!0,(0,m.IsDocumentAvailable)()&&document.createElement&&this._imageUrl){var E=new a.Image;E.source=this._imageUrl,E.heightInPixels=180,E.widthInPixels=100,E.paddingTopInPixels=40,E.paddingBottomInPixels=40,g.addControl(E)}if(this._text){var C=new l.TextBlock;C.text=this._text,C.color="white",C.heightInPixels=30,C.fontSize=24,g.addControl(C)}return g},u.prototype._alignContentHorizontally=function(){var g=240,E=15,C=new o.Rectangle;C.widthInPixels=g,C.heightInPixels=g,C.color="transparent",C.setPaddingInPixels(E,E,E,E),g-=E*2;var y=new s.StackPanel;if(y.isVertical=!1,y.scaleY=this._getAspectRatio(),(0,m.IsDocumentAvailable)()&&document.createElement&&this._imageUrl){var D=new o.Rectangle("".concat(this.name,"_image"));D.widthInPixels=this.imageSizeInPixels,D.heightInPixels=this.imageSizeInPixels,D.color="transparent",g-=this.imageSizeInPixels;var F=new a.Image;F.source=this._imageUrl,D.addControl(F),y.addControl(D)}if(this._text){var I=new l.TextBlock("".concat(this.name,"_text"));if(I.text=this._text,I.color="white",I.fontSize=this.textSizeInPixels,I.widthInPixels=g,this._imageUrl&&(I.textHorizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,I.paddingLeftInPixels=E),this._subtext){var R=new f.Grid;R.addColumnDefinition(1),R.addRowDefinition(.5),R.addRowDefinition(.5),R.widthInPixels=g,R.heightInPixels=45;var w=new l.TextBlock("".concat(this.name,"_subtext"));w.text=this._subtext,w.color="#EEEEEEAB",w.fontSize=this.textSizeInPixels*.75,w.fontWeight="600",this._imageUrl&&(w.textHorizontalAlignment=v.Control.HORIZONTAL_ALIGNMENT_LEFT,w.paddingLeftInPixels=E),R.addControl(I,0),R.addControl(w,1),y.addControl(R)}else y.addControl(I)}return C.addControl(y),C},u.prototype._createNode=function(g){var E;this.name=(E=this.name)!==null&&E!==void 0?E:"TouchHolographicButton";var C=this._createBackPlate(g),y=this._createFrontPlate(g),D=this._createInnerQuad(g),F=this._createBackGlow(g);this._frontPlateCollisionMesh=y,this._textPlate=p.prototype._createNode.call(this,g),this._textPlate.name="".concat(this.name,"_textPlate"),this._textPlate.isPickable=!1,this._textPlate.scaling.x=this.width,this._textPlate.parent=y,this._backPlate=C,this._backPlate.position=m.Vector3.Forward(g.useRightHandedSystem).scale(this.backPlateDepth/2),this._backPlate.isPickable=!1,this._backPlate.addChild(y),this._backPlate.addChild(D),F&&this._backPlate.addChild(F);var I=new m.TransformNode("".concat(this.name,"_root"),g);return this._backPlate.setParent(I),this.collisionMesh=y,this.collidableFrontDirection=this._backPlate.forward.negate(),I},u.prototype._createBackPlate=function(g){var E=this,C=(0,m.CreateBox)("".concat(this.name,"_backPlate"),{},g);return C.isPickable=!1,C.visibility=0,C.scaling.z=.2,m.SceneLoader.ImportMeshAsync(void 0,u.MRTK_ASSET_BASE_URL,u.BACKPLATE_MODEL_FILENAME,g).then(function(y){var D=y.meshes[1];D.visibility=0,E._isBackplateVisible&&(D.visibility=1,D.name="".concat(E.name,"_backPlate"),D.isPickable=!1,D.scaling.x=E.width,D.scaling.y=E.height,D.parent=C),E._backMaterial&&(D.material=E._backMaterial),E._backPlate=D}),C},u.prototype._createFrontPlate=function(g){var E=this,C=(0,m.CreateBox)("".concat(this.name,"_frontPlate"),{width:this.width,height:this.height,depth:this.frontPlateDepth},g);return C.isPickable=!0,C.isNearPickable=!0,C.visibility=0,C.position=m.Vector3.Forward(g.useRightHandedSystem).scale((this.backPlateDepth-this.frontPlateDepth)/2),m.SceneLoader.ImportMeshAsync(void 0,u.MRTK_ASSET_BASE_URL,u.FRONTPLATE_MODEL_FILENAME,g).then(function(y){var D=(0,m.CreateBox)("".concat(E.name,"_collisionPlate"),{width:E.width,height:E.height},g);D.isPickable=!1,D.scaling.z=E.frontPlateDepth,D.visibility=0,D.parent=C,E._collisionPlate=D;var F=y.meshes[1];F.name="".concat(E.name,"_frontPlate"),F.isPickable=!1,F.scaling.x=E.width-E.backGlowOffset,F.scaling.y=E.height-E.backGlowOffset,F.position=m.Vector3.Forward(g.useRightHandedSystem).scale(-.5),F.parent=D,E.isToggleButton&&(F.visibility=0),E._frontMaterial&&(F.material=E._frontMaterial),E._textPlate.scaling.x=1,E._textPlate.parent=F,E._frontPlate=F}),C},u.prototype._createInnerQuad=function(g){var E=this,C=(0,m.CreateBox)("".concat(this.name,"_innerQuad"),{},g);return C.isPickable=!1,C.visibility=0,C.scaling.z=this.flatPlaneDepth,C.position.z+=this.backPlateDepth/2-this.flatPlaneDepth,m.SceneLoader.ImportMeshAsync(void 0,u.MRTK_ASSET_BASE_URL,u.INNERQUAD_MODEL_FILENAME,g).then(function(y){var D=y.meshes[1];D.name="".concat(E.name,"_innerQuad"),D.isPickable=!1,D.scaling.x=E.width-E.backGlowOffset,D.scaling.y=E.height-E.backGlowOffset,D.parent=C,E._innerQuadMaterial&&(D.material=E._innerQuadMaterial),E._innerQuad=D}),C},u.prototype._createBackGlow=function(g){var E=this;if(!this.isToggleButton){var C=(0,m.CreateBox)("".concat(this.name,"_backGlow"),{},g);return C.isPickable=!1,C.visibility=0,C.scaling.z=this.flatPlaneDepth,C.position.z+=this.backPlateDepth/2-this.flatPlaneDepth*2,m.SceneLoader.ImportMeshAsync(void 0,u.MRTK_ASSET_BASE_URL,u.BACKGLOW_MODEL_FILENAME,g).then(function(y){var D=y.meshes[1];D.name="".concat(E.name,"_backGlow"),D.isPickable=!1,D.scaling.x=E.width-E.backGlowOffset,D.scaling.y=E.height-E.backGlowOffset,D.parent=C,E._backGlowMaterial&&(D.material=E._backGlowMaterial),E._backGlow=D}),C}},u.prototype._applyFacade=function(g){this._plateMaterial.emissiveTexture=g,this._plateMaterial.opacityTexture=g,this._plateMaterial.diffuseColor=this.plateMaterialColor},u.prototype._performClickAnimation=function(){for(var g=60,E=new m.AnimationGroup("Click Animation Group"),C=[{name:"backGlowMotion",mesh:this._backGlow,property:"material.motion",keys:[{frame:0,values:[0,0,0]},{frame:20,values:[1,.0144,.0144]},{frame:40,values:[.0027713229489760476,0,0]},{frame:45,values:[.0027713229489760476]}]},{name:"_collisionPlateZSlide",mesh:this._collisionPlate,property:"position.z",keys:[{frame:0,values:[0,0,0]},{frame:20,values:[m.Vector3.Forward(this._collisionPlate._scene.useRightHandedSystem).scale(this.frontPlateDepth/2).z,0,0]},{frame:40,values:[0,.005403332496794331]},{frame:45,values:[0]}]},{name:"_collisionPlateZScale",mesh:this._collisionPlate,property:"scaling.z",keys:[{frame:0,values:[this.frontPlateDepth,0,0]},{frame:20,values:[this.backPlateDepth,0,0]},{frame:40,values:[this.frontPlateDepth,.0054]},{frame:45,values:[this.frontPlateDepth]}]}],y=0,D=C;y<D.length;y++){for(var F=D[y],I=new m.Animation(F.name,F.property,g,m.Animation.ANIMATIONTYPE_FLOAT,m.Animation.ANIMATIONLOOPMODE_CYCLE),R=[],w=0,V=F.keys;w<V.length;w++){var Q=V[w];R.push({frame:Q.frame,value:Q.values[0],inTangent:Q.values[1],outTangent:Q.values[2],interpolation:Q.values[3]})}I.setKeys(R),F.mesh&&E.addTargetedAnimation(I,F.mesh)}E.normalize(0,45),E.speedRatio=1,E.play()},u.prototype._performEnterExitAnimation=function(g){for(var E=60,C=new m.AnimationGroup("Enter Exit Animation Group"),y=[{name:"frontPlateFadeOut",mesh:this._frontPlate,property:"material.fadeOut",keys:[{frame:0,values:[0,0,.025045314830017686,0]},{frame:40,values:[1.00205599570012,.025045314830017686,0,0]}]},{name:"textPlateZSlide",mesh:this._textPlate,property:"position.z",keys:[{frame:0,values:[0,0,0]},{frame:40,values:[m.Vector3.Forward(this._textPlate._scene.useRightHandedSystem).scale(-.15).z,0,0]}]}],D=0,F=y;D<F.length;D++){for(var I=F[D],R=new m.Animation(I.name,I.property,E,m.Animation.ANIMATIONTYPE_FLOAT,m.Animation.ANIMATIONLOOPMODE_CYCLE),w=[],V=0,Q=I.keys;V<Q.length;V++){var Y=Q[V];w.push({frame:Y.frame,value:Y.values[0],inTangent:Y.values[1],outTangent:Y.values[2],interpolation:Y.values[3]})}R.setKeys(w),I.mesh&&C.addTargetedAnimation(R,I.mesh)}C.normalize(0,45),C.speedRatio=g,C.play()},u.prototype._createBackMaterial=function(g){var E;this._backMaterial=(E=this._backMaterial)!==null&&E!==void 0?E:new t.MRDLBackplateMaterial(this.name+"backPlateMaterial",g.getScene()),this._backMaterial.absoluteSizes=!0,this._backMaterial.radius=this.radius,this._backMaterial.lineWidth=.02},u.prototype._createFrontMaterial=function(g){var E;this._frontMaterial=(E=this._frontMaterial)!==null&&E!==void 0?E:new e.MRDLFrontplateMaterial(this.name+"Front Material",g.getScene()),this.frontMaterial.radius=this.innerQuadRadius,this.frontMaterial.fadeOut=0},u.prototype._createBackGlowMaterial=function(g){var E,C=this.radius+.04;this._backGlowMaterial=(E=this._backGlowMaterial)!==null&&E!==void 0?E:new i.MRDLBackglowMaterial(this.name+"Back Glow Material",g.getScene()),this._backGlowMaterial.bevelRadius=C,this._backGlowMaterial.lineWidth=C,this._backGlowMaterial.motion=0},u.prototype._createInnerQuadMaterial=function(g){var E;this._innerQuadMaterial=(E=this._innerQuadMaterial)!==null&&E!==void 0?E:new r.MRDLInnerquadMaterial("inner_quad",g.getScene()),this._innerQuadMaterial.radius=this.innerQuadRadius,this.isToggleButton&&(this._innerQuadMaterial.color=this.innerQuadColor)},u.prototype._createPlateMaterial=function(g){var E;this._plateMaterial=(E=this._plateMaterial)!==null&&E!==void 0?E:new m.StandardMaterial(this.name+"Plate Material",g.getScene()),this._plateMaterial.specularColor=m.Color3.Black()},u.prototype._onToggle=function(g){p.prototype._onToggle.call(this,g)},u.prototype._affectMaterial=function(g){this._shareMaterials?(this._host._touchSharedMaterials.mrdlBackplateMaterial?this._backMaterial=this._host._touchSharedMaterials.mrdlBackplateMaterial:(this._createBackMaterial(g),this._host._touchSharedMaterials.mrdlBackplateMaterial=this._backMaterial),this._host._touchSharedMaterials.mrdlFrontplateMaterial?this._frontMaterial=this._host._touchSharedMaterials.mrdlFrontplateMaterial:(this._createFrontMaterial(g),this._host._touchSharedMaterials.mrdlFrontplateMaterial=this._frontMaterial),this._host._touchSharedMaterials.mrdlBackglowMaterial?this._backGlowMaterial=this._host._touchSharedMaterials.mrdlBackglowMaterial:(this._createBackGlowMaterial(g),this._host._touchSharedMaterials.mrdlBackglowMaterial=this._backGlowMaterial),this._host._touchSharedMaterials.mrdlInnerQuadMaterial?this._innerQuadMaterial=this._host._touchSharedMaterials.mrdlInnerQuadMaterial:(this._createInnerQuadMaterial(g),this._host._touchSharedMaterials.mrdlInnerQuadMaterial=this._innerQuadMaterial)):(this._createBackMaterial(g),this._createFrontMaterial(g),this._createBackGlowMaterial(g),this._createInnerQuadMaterial(g)),this._createPlateMaterial(g),this._backPlate.material=this._backMaterial,this._textPlate.material=this._plateMaterial,this._isBackplateVisible||(this._backPlate.visibility=0),this._frontPlate&&(this._frontPlate.material=this._frontMaterial),this._backGlow&&(this._backGlow.material=this._backGlowMaterial),this._innerQuad&&(this._innerQuad.material=this._innerQuadMaterial),this._rebuildContent()},u.prototype.dispose=function(){p.prototype.dispose.call(this),this._disposeTooltip(),this.onPointerClickObservable.remove(this._pointerClickObserver),this.onPointerEnterObservable.remove(this._pointerEnterObserver),this.onPointerOutObservable.remove(this._pointerOutObserver),this.onToggleObservable.remove(this._toggleObserver),this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),this._plateMaterial.dispose(),this._backGlowMaterial.dispose(),this._innerQuadMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))},u.MRTK_ASSET_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",u.FRONTPLATE_MODEL_FILENAME="mrtk-fluent-frontplate.glb",u.BACKPLATE_MODEL_FILENAME="mrtk-fluent-backplate.glb",u.BACKGLOW_MODEL_FILENAME="mrtk-fluent-button.glb",u.INNERQUAD_MODEL_FILENAME="SlateProximity.glb",u}(c.TouchButton3D)},"../../../dev/gui/src/3D/controls/abstractButton3D.ts":(k,b,h)=>{h.r(b),h.d(b,{AbstractButton3D:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/contentDisplay3D.ts"),v=function(f){(0,_.__extends)(a,f);function a(i){return f.call(this,i)||this}return a.prototype._getTypeName=function(){return"AbstractButton3D"},a.prototype._createNode=function(i){return new n.TransformNode("button"+this.name,i)},a}(m.ContentDisplay3D)},"../../../dev/gui/src/3D/controls/button3D.ts":(k,b,h)=>{h.r(b),h.d(b,{Button3D:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/abstractButton3D.ts"),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i)||this;return e._options=(0,_.__assign)({width:1,height:1,depth:.08},t),e.pointerEnterAnimation=function(){e.mesh&&(e._currentMaterial.emissiveColor=n.Color3.Red())},e.pointerOutAnimation=function(){e._currentMaterial.emissiveColor=n.Color3.Black()},e.pointerDownAnimation=function(){e.mesh&&e.mesh.scaling.scaleInPlace(.95)},e.pointerUpAnimation=function(){e.mesh&&e.mesh.scaling.scaleInPlace(1/.95)},e}return a.prototype._applyFacade=function(i){this._currentMaterial.emissiveTexture=i},a.prototype._getTypeName=function(){return"Button3D"},a.prototype._createNode=function(i){for(var t=new Array(6),e=0;e<6;e++)t[e]=new n.Vector4(0,0,0,0);i.useRightHandedSystem?t[0].copyFromFloats(1,0,0,1):t[1].copyFromFloats(0,0,1,1);var r=(0,n.CreateBox)(this.name+"_rootMesh",{width:this._options.width,height:this._options.height,depth:this._options.depth,faceUV:t,wrap:!0},i);return this._contentScaleRatioY=this._contentScaleRatio*this._options.width/this._options.height,this._setFacadeTextureScaling(),r},a.prototype._affectMaterial=function(i){var t=new n.StandardMaterial(this.name+"Material",i.getScene());t.specularColor=n.Color3.Black(),i.material=t,this._currentMaterial=t,this._resetContent()},a.prototype.dispose=function(){f.prototype.dispose.call(this),this._disposeFacadeTexture(),this._currentMaterial&&this._currentMaterial.dispose()},a}(m.AbstractButton3D)},"../../../dev/gui/src/3D/controls/container3D.ts":(k,b,h)=>{h.r(b),h.d(b,{Container3D:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/control3D.ts"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t._blockLayout=!1,t._children=new Array,t}return Object.defineProperty(a.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"blockLayout",{get:function(){return this._blockLayout},set:function(i){this._blockLayout!==i&&(this._blockLayout=i,this._blockLayout||this._arrangeChildren())},enumerable:!1,configurable:!0}),a.prototype.updateLayout=function(){return this._arrangeChildren(),this},a.prototype.containsControl=function(i){return this._children.indexOf(i)!==-1},a.prototype.addControl=function(i){var t=this._children.indexOf(i);return t!==-1?this:(i.parent=this,i._host=this._host,this._children.push(i),this._host.utilityLayer&&(i._prepareNode(this._host.utilityLayer.utilityLayerScene),i.node&&(i.node.parent=this.node),this.blockLayout||this._arrangeChildren()),this)},a.prototype._arrangeChildren=function(){},a.prototype._createNode=function(i){return new n.TransformNode("ContainerNode",i)},a.prototype.removeControl=function(i){var t=this._children.indexOf(i);return t!==-1&&(this._children.splice(t,1),i.parent=null,i._disposeNode()),this},a.prototype._getTypeName=function(){return"Container3D"},a.prototype.dispose=function(){for(var i=0,t=this._children;i<t.length;i++){var e=t[i];e.dispose()}this._children.length=0,f.prototype.dispose.call(this)},a.UNSET_ORIENTATION=0,a.FACEORIGIN_ORIENTATION=1,a.FACEORIGINREVERSED_ORIENTATION=2,a.FACEFORWARD_ORIENTATION=3,a.FACEFORWARDREVERSED_ORIENTATION=4,a}(m.Control3D)},"../../../dev/gui/src/3D/controls/contentDisplay3D.ts":(k,b,h)=>{h.r(b),h.d(b,{ContentDisplay3D:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),m=h("../../../dev/gui/src/3D/controls/control3D.ts"),v=h("babylonjs/Misc/perfCounter"),f=function(a){(0,_.__extends)(i,a);function i(){var t=a!==null&&a.apply(this,arguments)||this;return t._contentResolution=512,t._contentScaleRatio=2,t}return Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){if(this._content=t,!(!t||!this._host||!this._host.utilityLayer)){if(this._facadeTexture)this._facadeTexture.rootContainer.clearControls();else{var e=typeof this._contentResolution=="number"?this._contentResolution:this._contentResolution.width,r=typeof this._contentResolution=="number"?this._contentResolution:this._contentResolution.height;this._facadeTexture=new n.AdvancedDynamicTexture("Facade",e,r,this._host.utilityLayer.utilityLayerScene,!0,v.Texture.TRILINEAR_SAMPLINGMODE),this._setFacadeTextureScaling(),this._facadeTexture.premulAlpha=!0}this._facadeTexture.addControl(t),this._applyFacade(this._facadeTexture)}},enumerable:!1,configurable:!0}),i.prototype._setFacadeTextureScaling=function(){var t;this._facadeTexture&&(typeof this._contentResolution!="number"&&(this._contentScaleRatioY=this._contentResolution.height/this._contentResolution.width*this._contentScaleRatio),this._facadeTexture.rootContainer.scaleX=this._contentScaleRatio,this._facadeTexture.rootContainer.scaleY=(t=this._contentScaleRatioY)!==null&&t!==void 0?t:this._contentScaleRatio)},Object.defineProperty(i.prototype,"contentResolution",{get:function(){return this._contentResolution},set:function(t){var e=typeof t=="number"?t:t.width,r=typeof t=="number"?t:t.height,o=typeof this._contentResolution=="number"?this._contentResolution:this._contentResolution.width,s=typeof this._contentResolution=="number"?this._contentResolution:this._contentResolution.height;e===o&&r===s||(this._contentResolution=t,this._resetContent())},enumerable:!1,configurable:!0}),i.prototype._disposeFacadeTexture=function(){this._facadeTexture&&(this._facadeTexture.dispose(),this._facadeTexture=null)},i.prototype._resetContent=function(){this._disposeFacadeTexture(),this.content=this._content},i.prototype._applyFacade=function(t){},i}(m.Control3D)},"../../../dev/gui/src/3D/controls/control3D.ts":(k,b,h)=>{h.r(b),h.d(b,{Control3D:()=>m});var _=h("babylonjs/Misc/perfCounter"),n=h("../../../dev/gui/src/3D/vector3WithInfo.ts"),m=function(){function v(f){this.name=f,this._downCount=0,this._enterCount=-1,this._downPointerIds={},this._isVisible=!0,this._isScaledByManager=!1,this.onPointerMoveObservable=new _.Observable,this.onPointerOutObservable=new _.Observable,this.onPointerDownObservable=new _.Observable,this.onPointerUpObservable=new _.Observable,this.onPointerClickObservable=new _.Observable,this.onPointerEnterObservable=new _.Observable,this._behaviors=new Array}return Object.defineProperty(v.prototype,"position",{get:function(){return this._node?this._node.position:(this._position=this._position||_.Vector3.Zero(),this._position)},set:function(f){this._position=f,this._node&&(this._node.position=this._position)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"scaling",{get:function(){return this._node?this._node.scaling:(this._scaling=this.scaling||new _.Vector3(1,1,1),this._scaling)},set:function(f){this._scaling=f,this._node&&(this._isScaledByManager=!1,this._node.scaling=this._scaling)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"behaviors",{get:function(){return this._behaviors},enumerable:!1,configurable:!0}),v.prototype.addBehavior=function(f){var a=this,i=this._behaviors.indexOf(f);if(i!==-1)return this;f.init();var t=this._host.scene;return t.isLoading?t.onDataLoadedObservable.addOnce(function(){f.attach(a)}):f.attach(this),this._behaviors.push(f),this},v.prototype.removeBehavior=function(f){var a=this._behaviors.indexOf(f);return a===-1?this:(this._behaviors[a].detach(),this._behaviors.splice(a,1),this)},v.prototype.getBehaviorByName=function(f){for(var a=0,i=this._behaviors;a<i.length;a++){var t=i[a];if(t.name===f)return t}return null},Object.defineProperty(v.prototype,"isVisible",{get:function(){return this._isVisible},set:function(f){if(this._isVisible!==f){this._isVisible=f;var a=this.mesh;a&&a.setEnabled(f)}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"typeName",{get:function(){return this._getTypeName()},enumerable:!1,configurable:!0}),v.prototype.getClassName=function(){return this._getTypeName()},v.prototype._getTypeName=function(){return"Control3D"},Object.defineProperty(v.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"mesh",{get:function(){return this._node instanceof _.AbstractMesh?this._node:null},enumerable:!1,configurable:!0}),v.prototype.linkToTransformNode=function(f){return this._node&&(this._node.parent=f),this},v.prototype._prepareNode=function(f){if(!this._node){if(this._node=this._createNode(f),!this.node)return;this._position&&(this.node.position=this._position),this._scaling&&(this.node.scaling=this._scaling),this._injectGUI3DReservedDataStore(this.node).control=this;var a=this.mesh;a&&(a.isPickable=!0,this._affectMaterial(a))}},v.prototype._injectGUI3DReservedDataStore=function(f){var a,i;return f.reservedDataStore=(a=f.reservedDataStore)!==null&&a!==void 0?a:{},f.reservedDataStore.GUI3D=(i=f.reservedDataStore.GUI3D)!==null&&i!==void 0?i:{},f.reservedDataStore.GUI3D},v.prototype._createNode=function(f){return null},v.prototype._affectMaterial=function(f){f.material=null},v.prototype._isTouchButton3D=function(f){return f._generatePointerEventType!==void 0},v.prototype._onPointerMove=function(f,a){this.onPointerMoveObservable.notifyObservers(a,-1,f,this)},v.prototype._onPointerEnter=function(f){return this._enterCount===-1&&(this._enterCount=0),this._enterCount++,this._enterCount>1?!1:(this.onPointerEnterObservable.notifyObservers(this,-1,f,this),this.pointerEnterAnimation&&this.pointerEnterAnimation(),!0)},v.prototype._onPointerOut=function(f){this._enterCount--,!(this._enterCount>0)&&(this._enterCount=0,this.onPointerOutObservable.notifyObservers(this,-1,f,this),this.pointerOutAnimation&&this.pointerOutAnimation())},v.prototype._onPointerDown=function(f,a,i,t){return this._downCount++,this._downPointerIds[i]=this._downPointerIds[i]+1||1,this._downCount!==1?!1:(this.onPointerDownObservable.notifyObservers(new n.Vector3WithInfo(a,t),-1,f,this),this.pointerDownAnimation&&this.pointerDownAnimation(),!0)},v.prototype._onPointerUp=function(f,a,i,t,e){if(this._downCount--,this._downPointerIds[i]--,this._downPointerIds[i]<=0&&delete this._downPointerIds[i],this._downCount<0){this._downCount=0;return}this._downCount==0&&(e&&(this._enterCount>0||this._enterCount===-1)&&this.onPointerClickObservable.notifyObservers(new n.Vector3WithInfo(a,t),-1,f,this),this.onPointerUpObservable.notifyObservers(new n.Vector3WithInfo(a,t),-1,f,this),this.pointerUpAnimation&&this.pointerUpAnimation())},v.prototype.forcePointerUp=function(f){if(f===void 0&&(f=null),f!==null)this._onPointerUp(this,_.Vector3.Zero(),f,0,!0);else{for(var a in this._downPointerIds)this._onPointerUp(this,_.Vector3.Zero(),+a,0,!0);this._downCount>0&&(this._downCount=1,this._onPointerUp(this,_.Vector3.Zero(),0,0,!0))}},v.prototype._processObservables=function(f,a,i,t,e){if(this._isTouchButton3D(this)&&i&&(f=this._generatePointerEventType(f,i,this._downCount)),f===_.PointerEventTypes.POINTERMOVE){this._onPointerMove(this,a);var r=this._host._lastControlOver[t];return r&&r!==this&&r._onPointerOut(this),r!==this&&this._onPointerEnter(this),this._host._lastControlOver[t]=this,!0}return f===_.PointerEventTypes.POINTERDOWN?(this._onPointerDown(this,a,t,e),this._host._lastControlDown[t]=this,this._host._lastPickedControl=this,!0):f===_.PointerEventTypes.POINTERUP||f===_.PointerEventTypes.POINTERDOUBLETAP?(this._host._lastControlDown[t]&&this._host._lastControlDown[t]._onPointerUp(this,a,t,e,!0),delete this._host._lastControlDown[t],!0):!1},v.prototype._disposeNode=function(){this._node&&(this._node.dispose(),this._node=null)},v.prototype.dispose=function(){this.onPointerDownObservable.clear(),this.onPointerEnterObservable.clear(),this.onPointerMoveObservable.clear(),this.onPointerOutObservable.clear(),this.onPointerUpObservable.clear(),this.onPointerClickObservable.clear(),this._disposeNode();for(var f=0,a=this._behaviors;f<a.length;f++){var i=a[f];i.detach()}},v}()},"../../../dev/gui/src/3D/controls/cylinderPanel.ts":(k,b,h)=>{h.r(b),h.d(b,{CylinderPanel:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/volumeBasedPanel.ts"),v=h("../../../dev/gui/src/3D/controls/container3D.ts"),f=function(a){(0,_.__extends)(i,a);function i(){var t=a!==null&&a.apply(this,arguments)||this;return t._radius=5,t}return Object.defineProperty(i.prototype,"radius",{get:function(){return this._radius},set:function(t){var e=this;this._radius!==t&&(this._radius=t,n.Tools.SetImmediate(function(){e._arrangeChildren()}))},enumerable:!1,configurable:!0}),i.prototype._mapGridNode=function(t,e){var r=t.mesh;if(r){var o=this._cylindricalMapping(e);switch(t.position=o,this.orientation){case v.Container3D.FACEORIGIN_ORIENTATION:r.lookAt(new n.Vector3(2*o.x,o.y,2*o.z));break;case v.Container3D.FACEORIGINREVERSED_ORIENTATION:r.lookAt(new n.Vector3(-o.x,o.y,-o.z));break;case v.Container3D.FACEFORWARD_ORIENTATION:break;case v.Container3D.FACEFORWARDREVERSED_ORIENTATION:r.rotate(n.Axis.Y,Math.PI,0);break}}},i.prototype._cylindricalMapping=function(t){var e=new n.Vector3(0,t.y,this._radius),r=t.x/this._radius;return n.Matrix.RotationYawPitchRollToRef(r,0,0,n.TmpVectors.Matrix[0]),n.Vector3.TransformNormal(e,n.TmpVectors.Matrix[0])},i}(m.VolumeBasedPanel)},"../../../dev/gui/src/3D/controls/handMenu.ts":(k,b,h)=>{h.r(b),h.d(b,{HandMenu:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/touchHolographicMenu.ts"),m=h("babylonjs/Misc/perfCounter"),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,t)||this;return e._handConstraintBehavior=new m.HandConstraintBehavior,e._handConstraintBehavior.linkToXRExperience(i),e.backPlateMargin=.15,e.rows=3,e}return Object.defineProperty(a.prototype,"handConstraintBehavior",{get:function(){return this._handConstraintBehavior},enumerable:!1,configurable:!0}),a.prototype._createNode=function(i){var t=f.prototype._createNode.call(this,i);return this._handConstraintBehavior.attach(t),t},a.prototype.dispose=function(){f.prototype.dispose.call(this),this._handConstraintBehavior.detach()},a}(n.TouchHolographicMenu)},"../../../dev/gui/src/3D/controls/holographicBackplate.ts":(k,b,h)=>{h.r(b),h.d(b,{HolographicBackplate:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/materials/fluentBackplate/fluentBackplateMaterial.ts"),v=h("../../../dev/gui/src/3D/controls/control3D.ts"),f=function(a){(0,_.__extends)(i,a);function i(t,e){e===void 0&&(e=!0);var r=a.call(this,t)||this;return r._shareMaterials=e,r}return Object.defineProperty(i.prototype,"renderingGroupId",{get:function(){return this._model.renderingGroupId},set:function(t){this._model.renderingGroupId=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"material",{get:function(){return this._material},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),i.prototype._getTypeName=function(){return"HolographicBackplate"},i.prototype._createNode=function(t){var e=this,r,o=(0,n.CreateBox)(((r=this.name)!==null&&r!==void 0?r:"HolographicBackplate")+"_CollisionMesh",{width:1,height:1,depth:1},t);return o.isPickable=!0,o.visibility=0,n.SceneLoader.ImportMeshAsync(void 0,i.MODEL_BASE_URL,i.MODEL_FILENAME,t).then(function(s){var l=s.meshes[1];l.name="".concat(e.name,"_frontPlate"),l.isPickable=!1,l.parent=o,e._material&&(l.material=e._material),e._model=l}),o},i.prototype._createMaterial=function(t){this._material=new m.FluentBackplateMaterial(this.name+" Material",t.getScene())},i.prototype._affectMaterial=function(t){this._shareMaterials?this._host._touchSharedMaterials.fluentBackplateMaterial?this._material=this._host._touchSharedMaterials.fluentBackplateMaterial:(this._createMaterial(t),this._host._touchSharedMaterials.fluentBackplateMaterial=this._material):this._createMaterial(t)},i.prototype.dispose=function(){a.prototype.dispose.call(this),this.shareMaterials||this._material.dispose(),this._model.dispose()},i.MODEL_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",i.MODEL_FILENAME="mrtk-fluent-backplate.glb",i}(v.Control3D)},"../../../dev/gui/src/3D/controls/holographicButton.ts":(k,b,h)=>{h.r(b),h.d(b,{HolographicButton:()=>e});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/button3D.ts"),m=h("babylonjs/Misc/perfCounter"),v=h("../../../dev/gui/src/3D/materials/fluent/fluentMaterial.ts"),f=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),a=h("../../../dev/gui/src/2D/controls/image.ts"),i=h("../../../dev/gui/src/2D/controls/textBlock.ts"),t=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),e=function(r){(0,_.__extends)(o,r);function o(s,l){l===void 0&&(l=!0);var c=r.call(this,s)||this;return c._shareMaterials=!0,c._shareMaterials=l,c.pointerEnterAnimation=function(){c.mesh&&c._frontPlate.setEnabled(!0)},c.pointerOutAnimation=function(){c.mesh&&c._frontPlate.setEnabled(!1)},c}return o.prototype._disposeTooltip=function(){this._tooltipFade=null,this._tooltipTextBlock&&this._tooltipTextBlock.dispose(),this._tooltipTexture&&this._tooltipTexture.dispose(),this._tooltipMesh&&this._tooltipMesh.dispose(),this.onPointerEnterObservable.remove(this._tooltipHoverObserver),this.onPointerOutObservable.remove(this._tooltipOutObserver)},Object.defineProperty(o.prototype,"renderingGroupId",{get:function(){return this._backPlate.renderingGroupId},set:function(s){this._backPlate.renderingGroupId=s,this._textPlate.renderingGroupId=s,this._frontPlate.renderingGroupId=s,this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tooltipText",{get:function(){return this._tooltipTextBlock?this._tooltipTextBlock.text:null},set:function(s){var l=this;if(!s){this._disposeTooltip();return}if(!this._tooltipFade){var c=this._backPlate._scene.useRightHandedSystem;this._tooltipMesh=(0,m.CreatePlane)("",{size:1},this._backPlate._scene);var d=(0,m.CreatePlane)("",{size:1,sideOrientation:m.Mesh.DOUBLESIDE},this._backPlate._scene),p=new m.StandardMaterial("",this._backPlate._scene);p.diffuseColor=m.Color3.FromHexString("#212121"),d.material=p,d.isPickable=!1,this._tooltipMesh.addChild(d),d.position=m.Vector3.Forward(c).scale(.05),this._tooltipMesh.scaling.y=1/3,this._tooltipMesh.position=m.Vector3.Up().scale(.7).add(m.Vector3.Forward(c).scale(-.15)),this._tooltipMesh.isPickable=!1,this._tooltipMesh.parent=this._backPlate,this._tooltipTexture=t.AdvancedDynamicTexture.CreateForMesh(this._tooltipMesh),this._tooltipTextBlock=new i.TextBlock,this._tooltipTextBlock.scaleY=3,this._tooltipTextBlock.color="white",this._tooltipTextBlock.fontSize=130,this._tooltipTexture.addControl(this._tooltipTextBlock),this._tooltipFade=new m.FadeInOutBehavior,this._tooltipFade.delay=500,this._tooltipMesh.addBehavior(this._tooltipFade),this._tooltipHoverObserver=this.onPointerEnterObservable.add(function(){l._tooltipFade&&l._tooltipFade.fadeIn(!0)}),this._tooltipOutObserver=this.onPointerOutObservable.add(function(){l._tooltipFade&&l._tooltipFade.fadeIn(!1)})}this._tooltipTextBlock&&(this._tooltipTextBlock.text=s)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(s){this._text!==s&&(this._text=s,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(s){this._imageUrl!==s&&(this._imageUrl=s,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"backMaterial",{get:function(){return this._backMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frontMaterial",{get:function(){return this._frontMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"plateMaterial",{get:function(){return this._plateMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),o.prototype._getTypeName=function(){return"HolographicButton"},o.prototype._rebuildContent=function(){this._disposeFacadeTexture();var s=new f.StackPanel;if(s.isVertical=!0,(0,m.IsDocumentAvailable)()&&document.createElement&&this._imageUrl){var l=new a.Image;l.source=this._imageUrl,l.paddingTop="40px",l.height="180px",l.width="100px",l.paddingBottom="40px",s.addControl(l)}if(this._text){var c=new i.TextBlock;c.text=this._text,c.color="white",c.height="30px",c.fontSize=24,s.addControl(c)}this._frontPlate&&(this.content=s)},o.prototype._createNode=function(s){return this._backPlate=(0,m.CreateBox)(this.name+"BackMesh",{width:1,height:1,depth:.08},s),this._frontPlate=(0,m.CreateBox)(this.name+"FrontMesh",{width:1,height:1,depth:.08},s),this._frontPlate.parent=this._backPlate,this._frontPlate.position=m.Vector3.Forward(s.useRightHandedSystem).scale(-.08),this._frontPlate.isPickable=!1,this._frontPlate.setEnabled(!1),this._textPlate=r.prototype._createNode.call(this,s),this._textPlate.parent=this._backPlate,this._textPlate.position=m.Vector3.Forward(s.useRightHandedSystem).scale(-.08),this._textPlate.isPickable=!1,this._backPlate},o.prototype._applyFacade=function(s){this._plateMaterial.emissiveTexture=s,this._plateMaterial.opacityTexture=s},o.prototype._createBackMaterial=function(s){var l=this;this._backMaterial=new v.FluentMaterial(this.name+"Back Material",s.getScene()),this._backMaterial.renderHoverLight=!0,this._pickedPointObserver=this._host.onPickedPointChangedObservable.add(function(c){c?(l._backMaterial.hoverPosition=c,l._backMaterial.hoverColor.a=1):l._backMaterial.hoverColor.a=0})},o.prototype._createFrontMaterial=function(s){this._frontMaterial=new v.FluentMaterial(this.name+"Front Material",s.getScene()),this._frontMaterial.innerGlowColorIntensity=0,this._frontMaterial.alpha=.5,this._frontMaterial.renderBorders=!0},o.prototype._createPlateMaterial=function(s){this._plateMaterial=new m.StandardMaterial(this.name+"Plate Material",s.getScene()),this._plateMaterial.specularColor=m.Color3.Black()},o.prototype._affectMaterial=function(s){this._shareMaterials?(this._host._sharedMaterials.backFluentMaterial?this._backMaterial=this._host._sharedMaterials.backFluentMaterial:(this._createBackMaterial(s),this._host._sharedMaterials.backFluentMaterial=this._backMaterial),this._host._sharedMaterials.frontFluentMaterial?this._frontMaterial=this._host._sharedMaterials.frontFluentMaterial:(this._createFrontMaterial(s),this._host._sharedMaterials.frontFluentMaterial=this._frontMaterial)):(this._createBackMaterial(s),this._createFrontMaterial(s)),this._createPlateMaterial(s),this._backPlate.material=this._backMaterial,this._frontPlate.material=this._frontMaterial,this._textPlate.material=this._plateMaterial,this._rebuildContent()},o.prototype.dispose=function(){r.prototype.dispose.call(this),this._disposeTooltip(),this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),this._plateMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))},o}(n.Button3D)},"../../../dev/gui/src/3D/controls/holographicSlate.ts":(k,b,h)=>{h.r(b),h.d(b,{HolographicSlate:()=>s});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/contentDisplay3D.ts"),m=h("../../../dev/gui/src/3D/controls/touchHolographicButton.ts"),v=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),f=h("../../../dev/gui/src/2D/controls/control.ts"),a=h("../../../dev/gui/src/2D/controls/textBlock.ts"),i=h("../../../dev/gui/src/3D/behaviors/defaultBehavior.ts"),t=h("../../../dev/gui/src/3D/gizmos/slateGizmo.ts"),e=h("../../../dev/gui/src/3D/materials/fluent/fluentMaterial.ts"),r=h("../../../dev/gui/src/3D/materials/fluentBackplate/fluentBackplateMaterial.ts"),o=h("babylonjs/Misc/perfCounter"),s=function(l){(0,_.__extends)(c,l);function c(d){var p=l.call(this,d)||this;return p.titleBarMargin=.005,p.origin=new o.Vector3(0,0,0),p._dimensions=new o.Vector2(21.875,12.5),p._titleBarHeight=.625,p._titleText="",p.fitContentToDimensions=!1,p._contentScaleRatio=1,p.minDimensions=new o.Vector2(15.625,6.25),p.defaultDimensions=p._dimensions.clone(),p._followButton=new m.TouchHolographicButton("followButton"+p.name),p._followButton.isToggleButton=!0,p._closeButton=new m.TouchHolographicButton("closeButton"+p.name),p._contentViewport=new o.Viewport(0,0,1,1),p._contentDragBehavior=new o.PointerDragBehavior({dragPlaneNormal:new o.Vector3(0,0,-1)}),p}return Object.defineProperty(c.prototype,"defaultBehavior",{get:function(){return this._defaultBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dimensions",{get:function(){return this._dimensions},set:function(d){var p=1;if(d.x<this.minDimensions.x||d.y<this.minDimensions.y){var u=d.x/d.y,g=this.minDimensions.x/this.minDimensions.y;g>u?p=this.minDimensions.x/d.x:p=this.minDimensions.y/d.y}this._dimensions.copyFrom(d).scaleInPlace(p),this._updatePivot(),this._positionElements()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"titleBarHeight",{get:function(){return this._titleBarHeight},set:function(d){this._titleBarHeight=d},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderingGroupId",{get:function(){return this._titleBar.renderingGroupId},set:function(d){this._titleBar.renderingGroupId=d,this._titleBarTitle.renderingGroupId=d,this._contentPlate.renderingGroupId=d,this._backPlate.renderingGroupId=d},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"title",{get:function(){return this._titleText},set:function(d){this._titleText=d,this._titleTextComponent&&(this._titleTextComponent.text=d)},enumerable:!1,configurable:!0}),c.prototype._applyFacade=function(d){this._contentMaterial.albedoTexture=d,this._resetContentPositionAndZoom(),this._applyContentViewport(),d.attachToMesh(this._contentPlate,!0)},c.prototype._addControl=function(d){d._host=this._host,this._host.utilityLayer&&d._prepareNode(this._host.utilityLayer.utilityLayerScene)},c.prototype._getTypeName=function(){return"HolographicSlate"},c.prototype._positionElements=function(){var d=this._followButton,p=this._closeButton,u=this._titleBar,g=this._titleBarTitle,E=this._contentPlate,C=this._backPlate;if(d&&p&&u){p.scaling.setAll(this.titleBarHeight),d.scaling.setAll(this.titleBarHeight),p.position.copyFromFloats(this.dimensions.x-this.titleBarHeight/2,-this.titleBarHeight/2,0).addInPlace(this.origin),d.position.copyFromFloats(this.dimensions.x-3*this.titleBarHeight/2,-this.titleBarHeight/2,0).addInPlace(this.origin);var y=this.dimensions.y-this.titleBarHeight-this.titleBarMargin,D=E.getScene().useRightHandedSystem;u.scaling.set(this.dimensions.x,this.titleBarHeight,o.Epsilon),g.scaling.set(this.dimensions.x-2*this.titleBarHeight,this.titleBarHeight,o.Epsilon),E.scaling.copyFromFloats(this.dimensions.x,y,o.Epsilon),C.scaling.copyFromFloats(this.dimensions.x,y,o.Epsilon),u.position.copyFromFloats(this.dimensions.x/2,-(this.titleBarHeight/2),0).addInPlace(this.origin),g.position.copyFromFloats(this.dimensions.x/2-this.titleBarHeight,-(this.titleBarHeight/2),D?o.Epsilon:-o.Epsilon).addInPlace(this.origin),E.position.copyFromFloats(this.dimensions.x/2,-(this.titleBarHeight+this.titleBarMargin+y/2),0).addInPlace(this.origin),C.position.copyFromFloats(this.dimensions.x/2,-(this.titleBarHeight+this.titleBarMargin+y/2),D?-o.Epsilon:o.Epsilon).addInPlace(this.origin),this._titleTextComponent.host.scaleTo(c._DEFAULT_TEXT_RESOLUTION_Y*g.scaling.x/g.scaling.y,c._DEFAULT_TEXT_RESOLUTION_Y);var F=this.dimensions.x/y;this._contentViewport.width=this._contentScaleRatio,this._contentViewport.height=this._contentScaleRatio/F,this._applyContentViewport(),this._gizmo&&this._gizmo.updateBoundingBox()}},c.prototype._applyContentViewport=function(){var d;if(!((d=this._contentPlate)===null||d===void 0)&&d.material&&this._contentPlate.material.albedoTexture){var p=this._contentPlate.material.albedoTexture;p.uScale=this._contentScaleRatio,p.vScale=this.fitContentToDimensions?this._contentScaleRatio:this._contentScaleRatio/this._contentViewport.width*this._contentViewport.height,p.uOffset=this._contentViewport.x,p.vOffset=this._contentViewport.y}},c.prototype._resetContentPositionAndZoom=function(){this._contentViewport.x=0,this._contentViewport.y=0,this._contentScaleRatio=1},c.prototype._updatePivot=function(){if(this.mesh){var d=new o.Vector3(this.dimensions.x*.5,-this.dimensions.y*.5,o.Epsilon);d.addInPlace(this.origin),d.z=0;var p=new o.Vector3(0,0,0);o.Vector3.TransformCoordinatesToRef(p,this.mesh.computeWorldMatrix(!0),p),this.mesh.setPivotPoint(d);var u=new o.Vector3(0,0,0);o.Vector3.TransformCoordinatesToRef(u,this.mesh.computeWorldMatrix(!0),u),this.mesh.position.addInPlace(p).subtractInPlace(u)}},c.prototype._createNode=function(d){var p=this,u=new o.Mesh("slate_"+this.name,d);this._titleBar=(0,o.CreateBox)("titleBar_"+this.name,{size:1},d),this._titleBarTitle=(0,o.CreatePlane)("titleText_"+this.name,{size:1},d),this._titleBarTitle.parent=u,this._titleBarTitle.isPickable=!1;var g=v.AdvancedDynamicTexture.CreateForMesh(this._titleBarTitle);if(this._titleTextComponent=new a.TextBlock("titleText_"+this.name,this._titleText),this._titleTextComponent.textWrapping=2,this._titleTextComponent.textHorizontalAlignment=f.Control.HORIZONTAL_ALIGNMENT_LEFT,this._titleTextComponent.color="white",this._titleTextComponent.fontSize=c._DEFAULT_TEXT_RESOLUTION_Y/2,this._titleTextComponent.paddingLeft=c._DEFAULT_TEXT_RESOLUTION_Y/4,g.addControl(this._titleTextComponent),d.useRightHandedSystem){var E=new o.Vector4(0,0,1,1);this._contentPlate=(0,o.CreatePlane)("contentPlate_"+this.name,{size:1,sideOrientation:o.VertexData.BACKSIDE,frontUVs:E},d),this._backPlate=(0,o.CreatePlane)("backPlate_"+this.name,{size:1,sideOrientation:o.VertexData.FRONTSIDE},d)}else{var E=new o.Vector4(0,0,1,1);this._contentPlate=(0,o.CreatePlane)("contentPlate_"+this.name,{size:1,sideOrientation:o.VertexData.FRONTSIDE,frontUVs:E},d),this._backPlate=(0,o.CreatePlane)("backPlate_"+this.name,{size:1,sideOrientation:o.VertexData.BACKSIDE},d)}this._titleBar.parent=u,this._titleBar.isNearGrabbable=!0,this._contentPlate.parent=u,this._backPlate.parent=u,this._attachContentPlateBehavior(),this._addControl(this._followButton),this._addControl(this._closeButton);var C=this._followButton,y=this._closeButton;return C.node.parent=u,y.node.parent=u,this._positionElements(),this._followButton.imageUrl=c.ASSETS_BASE_URL+c.FOLLOW_ICON_FILENAME,this._closeButton.imageUrl=c.ASSETS_BASE_URL+c.CLOSE_ICON_FILENAME,this._followButton.isBackplateVisible=!1,this._closeButton.isBackplateVisible=!1,this._followButton.onToggleObservable.add(function(D){p._defaultBehavior.followBehaviorEnabled=D,p._defaultBehavior.followBehaviorEnabled&&p._defaultBehavior.followBehavior.recenter()}),this._closeButton.onPointerClickObservable.add(function(){p.dispose()}),u.rotationQuaternion=o.Quaternion.Identity(),u.isVisible=!1,u},c.prototype._attachContentPlateBehavior=function(){var d=this;this._contentDragBehavior.attach(this._contentPlate),this._contentDragBehavior.moveAttached=!1,this._contentDragBehavior.useObjectOrientationForDragging=!0,this._contentDragBehavior.updateDragPlane=!1;var p=new o.Vector3,u=new o.Vector3,g=new o.Vector3,E=new o.Vector3,C=new o.Vector2,y,D;this._contentDragBehavior.onDragStartObservable.add(function(I){d.node&&(y=d._contentViewport.clone(),D=d.node.computeWorldMatrix(!0),p.copyFrom(I.dragPlanePoint),u.set(d.dimensions.x,d.dimensions.y,o.Epsilon),u.y-=d.titleBarHeight+d.titleBarMargin,o.Vector3.TransformNormalToRef(u,D,u),g.copyFromFloats(0,1,0),o.Vector3.TransformNormalToRef(g,D,g),E.copyFromFloats(1,0,0),o.Vector3.TransformNormalToRef(E,D,E),g.normalize(),g.scaleInPlace(1/o.Vector3.Dot(g,u)),E.normalize(),E.scaleInPlace(1/o.Vector3.Dot(E,u)))});var F=new o.Vector3;this._contentDragBehavior.onDragObservable.add(function(I){d.fitContentToDimensions||(F.copyFrom(I.dragPlanePoint),F.subtractInPlace(p),C.copyFromFloats(o.Vector3.Dot(F,E),o.Vector3.Dot(F,g)),d._contentViewport.x=o.Scalar.Clamp(y.x-F.x,0,1-d._contentViewport.width*d._contentScaleRatio),d._contentViewport.y=o.Scalar.Clamp(y.y-F.y,0,1-d._contentViewport.height*d._contentScaleRatio),d._applyContentViewport())})},c.prototype._affectMaterial=function(d){this._titleBarMaterial=new r.FluentBackplateMaterial("".concat(this.name," plateMaterial"),d.getScene()),this._contentMaterial=new e.FluentMaterial("".concat(this.name," contentMaterial"),d.getScene()),this._contentMaterial.renderBorders=!0,this._backMaterial=new r.FluentBackplateMaterial("".concat(this.name," backPlate"),d.getScene()),this._backMaterial.lineWidth=o.Epsilon,this._backMaterial.radius=.005,this._backMaterial.backFaceCulling=!0,this._titleBar.material=this._titleBarMaterial,this._contentPlate.material=this._contentMaterial,this._backPlate.material=this._backMaterial,this._resetContent(),this._applyContentViewport()},c.prototype._prepareNode=function(d){var p=this;l.prototype._prepareNode.call(this,d),this._gizmo=new t.SlateGizmo(this._host.utilityLayer),this._gizmo.attachedSlate=this,this._defaultBehavior=new i.DefaultBehavior,this._defaultBehavior.attach(this.node,[this._titleBar]),this._defaultBehavior.sixDofDragBehavior.onDragStartObservable.add(function(){p._followButton.isToggled=!1}),this._positionChangedObserver=this._defaultBehavior.sixDofDragBehavior.onPositionChangedObservable.add(function(){p._gizmo.updateBoundingBox()}),this._updatePivot(),this.resetDefaultAspectAndPose(!1)},c.prototype.resetDefaultAspectAndPose=function(d){if(d===void 0&&(d=!0),!(!this._host||!this._host.utilityLayer||!this.node)){var p=this._host.utilityLayer.utilityLayerScene,u=p.activeCamera;if(u){var g=u.getWorldMatrix(),E=o.Vector3.TransformNormal(o.Vector3.Backward(p.useRightHandedSystem),g);this.origin.setAll(0),this._gizmo.updateBoundingBox();var C=this.node.getAbsolutePivotPoint();this.node.position.equalsToFloats(0,0,0)&&this.node.position.copyFrom(u.position).subtractInPlace(E).subtractInPlace(C),this.node.rotationQuaternion=o.Quaternion.FromLookDirectionLH(E,new o.Vector3(0,1,0)),d&&(this.dimensions=this.defaultDimensions)}}},c.prototype.dispose=function(){l.prototype.dispose.call(this),this._titleBarMaterial.dispose(),this._contentMaterial.dispose(),this._titleBar.dispose(),this._titleBarTitle.dispose(),this._contentPlate.dispose(),this._backPlate.dispose(),this._followButton.dispose(),this._closeButton.dispose(),this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._defaultBehavior.sixDofDragBehavior.onPositionChangedObservable.remove(this._positionChangedObserver),this._defaultBehavior.detach(),this._gizmo.dispose(),this._contentDragBehavior.detach()},c.ASSETS_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",c.CLOSE_ICON_FILENAME="IconClose.png",c.FOLLOW_ICON_FILENAME="IconFollowMe.png",c._DEFAULT_TEXT_RESOLUTION_Y=102.4,c}(n.ContentDisplay3D)},"../../../dev/gui/src/3D/controls/index.ts":(k,b,h)=>{h.r(b),h.d(b,{AbstractButton3D:()=>_.AbstractButton3D,Button3D:()=>n.Button3D,Container3D:()=>m.Container3D,Control3D:()=>v.Control3D,CylinderPanel:()=>f.CylinderPanel,HandMenu:()=>a.HandMenu,HolographicBackplate:()=>i.HolographicBackplate,HolographicButton:()=>t.HolographicButton,HolographicSlate:()=>e.HolographicSlate,MeshButton3D:()=>r.MeshButton3D,NearMenu:()=>o.NearMenu,PlanePanel:()=>s.PlanePanel,ScatterPanel:()=>l.ScatterPanel,Slider3D:()=>c.Slider3D,SpherePanel:()=>d.SpherePanel,StackPanel3D:()=>p.StackPanel3D,TouchButton3D:()=>u.TouchButton3D,TouchHolographicButton:()=>E.TouchHolographicButton,TouchHolographicButtonV3:()=>D.TouchHolographicButton,TouchHolographicMenu:()=>C.TouchHolographicMenu,TouchMeshButton3D:()=>g.TouchMeshButton3D,VolumeBasedPanel:()=>y.VolumeBasedPanel});var _=h("../../../dev/gui/src/3D/controls/abstractButton3D.ts"),n=h("../../../dev/gui/src/3D/controls/button3D.ts"),m=h("../../../dev/gui/src/3D/controls/container3D.ts"),v=h("../../../dev/gui/src/3D/controls/control3D.ts"),f=h("../../../dev/gui/src/3D/controls/cylinderPanel.ts"),a=h("../../../dev/gui/src/3D/controls/handMenu.ts"),i=h("../../../dev/gui/src/3D/controls/holographicBackplate.ts"),t=h("../../../dev/gui/src/3D/controls/holographicButton.ts"),e=h("../../../dev/gui/src/3D/controls/holographicSlate.ts"),r=h("../../../dev/gui/src/3D/controls/meshButton3D.ts"),o=h("../../../dev/gui/src/3D/controls/nearMenu.ts"),s=h("../../../dev/gui/src/3D/controls/planePanel.ts"),l=h("../../../dev/gui/src/3D/controls/scatterPanel.ts"),c=h("../../../dev/gui/src/3D/controls/slider3D.ts"),d=h("../../../dev/gui/src/3D/controls/spherePanel.ts"),p=h("../../../dev/gui/src/3D/controls/stackPanel3D.ts"),u=h("../../../dev/gui/src/3D/controls/touchButton3D.ts"),g=h("../../../dev/gui/src/3D/controls/touchMeshButton3D.ts"),E=h("../../../dev/gui/src/3D/controls/touchHolographicButton.ts"),C=h("../../../dev/gui/src/3D/controls/touchHolographicMenu.ts"),y=h("../../../dev/gui/src/3D/controls/volumeBasedPanel.ts"),D=h("../../../dev/gui/src/3D/controls/MRTK3/touchHolographicButton.ts")},"../../../dev/gui/src/3D/controls/meshButton3D.ts":(k,b,h)=>{h.r(b),h.d(b,{MeshButton3D:()=>m});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/button3D.ts"),m=function(v){(0,_.__extends)(f,v);function f(a,i){var t=v.call(this,i)||this;return t._currentMesh=a,t.pointerEnterAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(1.1)},t.pointerOutAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(1/1.1)},t.pointerDownAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(.95)},t.pointerUpAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(1/.95)},t}return f.prototype._getTypeName=function(){return"MeshButton3D"},f.prototype._createNode=function(a){var i=this;return this._currentMesh.getChildMeshes().forEach(function(t){i._injectGUI3DReservedDataStore(t).control=i}),this._currentMesh},f.prototype._affectMaterial=function(a){},f}(n.Button3D)},"../../../dev/gui/src/3D/controls/nearMenu.ts":(k,b,h)=>{h.r(b),h.d(b,{NearMenu:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/touchHolographicButton.ts"),m=h("../../../dev/gui/src/3D/behaviors/defaultBehavior.ts"),v=h("../../../dev/gui/src/3D/controls/touchHolographicMenu.ts"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e._isPinned=!1,e._defaultBehavior=new m.DefaultBehavior,e._dragObserver=e._defaultBehavior.sixDofDragBehavior.onDragObservable.add(function(){e.isPinned=!0}),e.backPlateMargin=1,e}return Object.defineProperty(i.prototype,"defaultBehavior",{get:function(){return this._defaultBehavior},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPinned",{get:function(){return this._isPinned},set:function(t){if(this._pinButton.isToggled!==t){this._pinButton.isToggled=t;return}this._isPinned=t,t?this._defaultBehavior.followBehaviorEnabled=!1:this._defaultBehavior.followBehaviorEnabled=!0},enumerable:!1,configurable:!0}),i.prototype._createPinButton=function(t){var e=this,r=new n.TouchHolographicButton("pin"+this.name,!1);return r.imageUrl=i._ASSETS_BASE_URL+i._PIN_ICON_FILENAME,r.parent=this,r._host=this._host,r.isToggleButton=!0,r.onToggleObservable.add(function(o){e.isPinned=o}),this._host.utilityLayer&&(r._prepareNode(this._host.utilityLayer.utilityLayerScene),r.scaling.scaleInPlace(v.TouchHolographicMenu.MENU_BUTTON_SCALE),r.node&&(r.node.parent=t)),r},i.prototype._createNode=function(t){var e=a.prototype._createNode.call(this,t);return this._pinButton=this._createPinButton(e),this.isPinned=!1,this._defaultBehavior.attach(e,[this._backPlate]),this._defaultBehavior.followBehavior.ignoreCameraPitchAndRoll=!0,this._defaultBehavior.followBehavior.pitchOffset=-15,this._defaultBehavior.followBehavior.minimumDistance=.3,this._defaultBehavior.followBehavior.defaultDistance=.4,this._defaultBehavior.followBehavior.maximumDistance=.6,this._backPlate.isNearGrabbable=!0,e.isVisible=!1,e},i.prototype._finalProcessing=function(){a.prototype._finalProcessing.call(this),this._pinButton.position.copyFromFloats((this._backPlate.scaling.x+v.TouchHolographicMenu.MENU_BUTTON_SCALE)/2,this._backPlate.scaling.y/2,0)},i.prototype.dispose=function(){a.prototype.dispose.call(this),this._defaultBehavior.sixDofDragBehavior.onDragObservable.remove(this._dragObserver),this._defaultBehavior.detach()},i._ASSETS_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",i._PIN_ICON_FILENAME="IconPin.png",i}(v.TouchHolographicMenu)},"../../../dev/gui/src/3D/controls/planePanel.ts":(k,b,h)=>{h.r(b),h.d(b,{PlanePanel:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/container3D.ts"),v=h("../../../dev/gui/src/3D/controls/volumeBasedPanel.ts"),f=function(a){(0,_.__extends)(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i.prototype._mapGridNode=function(t,e){var r=t.mesh;if(r){t.position=e.clone();var o=n.TmpVectors.Vector3[0];switch(o.copyFrom(e),this.orientation){case m.Container3D.FACEORIGIN_ORIENTATION:case m.Container3D.FACEFORWARD_ORIENTATION:o.addInPlace(new n.Vector3(0,0,1)),r.lookAt(o);break;case m.Container3D.FACEFORWARDREVERSED_ORIENTATION:case m.Container3D.FACEORIGINREVERSED_ORIENTATION:o.addInPlace(new n.Vector3(0,0,-1)),r.lookAt(o);break}}},i}(v.VolumeBasedPanel)},"../../../dev/gui/src/3D/controls/scatterPanel.ts":(k,b,h)=>{h.r(b),h.d(b,{ScatterPanel:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/volumeBasedPanel.ts"),v=h("../../../dev/gui/src/3D/controls/container3D.ts"),f=function(a){(0,_.__extends)(i,a);function i(){var t=a!==null&&a.apply(this,arguments)||this;return t._iteration=100,t}return Object.defineProperty(i.prototype,"iteration",{get:function(){return this._iteration},set:function(t){var e=this;this._iteration!==t&&(this._iteration=t,n.Tools.SetImmediate(function(){e._arrangeChildren()}))},enumerable:!1,configurable:!0}),i.prototype._mapGridNode=function(t,e){var r=t.mesh,o=this._scatterMapping(e);if(r){switch(this.orientation){case v.Container3D.FACEORIGIN_ORIENTATION:case v.Container3D.FACEFORWARD_ORIENTATION:r.lookAt(new n.Vector3(0,0,1));break;case v.Container3D.FACEFORWARDREVERSED_ORIENTATION:case v.Container3D.FACEORIGINREVERSED_ORIENTATION:r.lookAt(new n.Vector3(0,0,-1));break}t.position=o}},i.prototype._scatterMapping=function(t){return t.x=(1-Math.random()*2)*this._cellWidth,t.y=(1-Math.random()*2)*this._cellHeight,t},i.prototype._finalProcessing=function(){for(var t=[],e=0,r=this._children;e<r.length;e++){var o=r[e];o.mesh&&t.push(o.mesh)}for(var s=0;s<this._iteration;s++){t.sort(function(D,F){var I=D.position.lengthSquared(),R=F.position.lengthSquared();return I<R?1:I>R?-1:0});for(var l=Math.pow(this.margin,2),c=Math.max(this._cellWidth,this._cellHeight),d=n.TmpVectors.Vector2[0],p=n.TmpVectors.Vector3[0],u=0;u<t.length-1;u++)for(var g=u+1;g<t.length;g++)if(u!=g){t[g].position.subtractToRef(t[u].position,p),d.x=p.x,d.y=p.y;var E=c,C=d.lengthSquared()-l,y=Math.min(C,l);C-=y,C<Math.pow(E,2)&&(d.normalize(),p.scaleInPlace((E-Math.sqrt(C))*.5),t[g].position.addInPlace(p),t[u].position.subtractInPlace(p))}}},i}(m.VolumeBasedPanel)},"../../../dev/gui/src/3D/controls/slider3D.ts":(k,b,h)=>{h.r(b),h.d(b,{Slider3D:()=>l});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/control3D.ts"),v=h("../../../dev/gui/src/3D/materials/mrdl/mrdlSliderBarMaterial.ts"),f=h("../../../dev/gui/src/3D/materials/mrdl/mrdlSliderThumbMaterial.ts"),a=h("../../../dev/gui/src/3D/materials/mrdl/mrdlBackplateMaterial.ts"),i=0,t=100,e=50,r=0,o=1,s=.2,l=function(c){(0,_.__extends)(d,c);function d(p,u){var g=c.call(this,p)||this;return g.onValueChangedObservable=new n.Observable,g._sliderBackplateVisible=u||!1,g._minimum=i,g._maximum=t,g._step=r,g._value=e,g}return Object.defineProperty(d.prototype,"mesh",{get:function(){return this.node?this._sliderThumb:null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minimum",{get:function(){return this._minimum},set:function(p){this._minimum!==p&&(this._minimum=Math.max(p,i),this._value=Math.max(Math.min(this._value,this._maximum),this._minimum))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maximum",{get:function(){return this._maximum},set:function(p){this._maximum!==p&&(this._maximum=Math.max(p,this._minimum),this._value=Math.max(Math.min(this._value,this._maximum),this._minimum))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"step",{get:function(){return this._step},set:function(p){this._step!==p&&(this._step=Math.max(Math.min(p,this._maximum-this._minimum),r))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return this._value},set:function(p){this._value!==p&&(this._value=Math.max(Math.min(p,this._maximum),this._minimum),this._sliderThumb&&(this._sliderThumb.position.x=this._convertToPosition(this.value)),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){return this.node?this._sliderBar.position.x-this._sliderBar.scaling.x/2:-o/2},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){return this.node?this._sliderBar.position.x+this._sliderBar.scaling.x/2:o/2},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sliderBarMaterial",{get:function(){return this._sliderBarMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sliderThumbMaterial",{get:function(){return this._sliderThumbMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sliderBackplateMaterial",{get:function(){return this._sliderBackplateMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sliderBar",{get:function(){return this._sliderBar},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sliderThumb",{get:function(){return this._sliderThumb},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"sliderBackplate",{get:function(){return this._sliderBackplate},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isVisible",{set:function(p){var u;this._isVisible!==p&&(this._isVisible=p,(u=this.node)===null||u===void 0||u.setEnabled(p))},enumerable:!1,configurable:!0}),d.prototype._createNode=function(p){var u=this,g=(0,n.CreateBox)("".concat(this.name,"_sliderbackplate"),{width:1,height:1,depth:1},p);return g.isPickable=!1,g.visibility=0,g.scaling=new n.Vector3(1,.5,.8),n.SceneLoader.ImportMeshAsync(void 0,d.MODEL_BASE_URL,d.MODEL_FILENAME,p).then(function(E){E.meshes.forEach(function(F){F.isPickable=!1});var C=E.meshes[1],y=E.meshes[1].clone("".concat(u.name,"_sliderbar"),g),D=E.meshes[1].clone("".concat(u.name,"_sliderthumb"),g);C.visibility=0,u._sliderBackplateVisible&&(C.visibility=1,C.name="".concat(u.name,"_sliderbackplate"),C.scaling.x=1,C.scaling.z=.2,C.parent=g,u._sliderBackplateMaterial&&(C.material=u._sliderBackplateMaterial),u._sliderBackplate=C),y&&(y.parent=g,y.position.z=-.1,y.scaling=new n.Vector3(o-s,.04,.3),u._sliderBarMaterial&&(y.material=u._sliderBarMaterial),u._sliderBar=y),D&&(D.parent=g,D.isPickable=!0,D.position.z=-.115,D.scaling=new n.Vector3(.025,.3,.6),D.position.x=u._convertToPosition(u.value),D.addBehavior(u._createBehavior()),u._sliderThumbMaterial&&(D.material=u._sliderThumbMaterial),u._sliderThumb=D),u._injectGUI3DReservedDataStore(g).control=u,g.getChildMeshes().forEach(function(F){u._injectGUI3DReservedDataStore(F).control=u})}),this._affectMaterial(g),g},d.prototype._affectMaterial=function(p){var u,g,E;this._sliderBackplateMaterial=(u=this._sliderBackplateMaterial)!==null&&u!==void 0?u:new a.MRDLBackplateMaterial("".concat(this.name,"_sliderbackplate_material"),p.getScene()),this._sliderBarMaterial=(g=this._sliderBarMaterial)!==null&&g!==void 0?g:new v.MRDLSliderBarMaterial("".concat(this.name,"_sliderbar_material"),p.getScene()),this._sliderThumbMaterial=(E=this._sliderThumbMaterial)!==null&&E!==void 0?E:new f.MRDLSliderThumbMaterial("".concat(this.name,"_sliderthumb_material"),p.getScene())},d.prototype._createBehavior=function(){var p=this,u=new n.PointerDragBehavior({dragAxis:n.Vector3.Right()});return u.moveAttached=!1,u.onDragStartObservable.add(function(){p._draggedPosition=p._sliderThumb.position.x}),u.onDragObservable.add(function(g){p._draggedPosition+=g.dragDistance/p.scaling.x,p.value=p._convertToValue(p._draggedPosition)}),u},d.prototype._convertToPosition=function(p){var u=(p-this.minimum)/(this.maximum-this.minimum)*(this.end-this.start)+this.start;return Math.min(Math.max(u,this.start),this.end)},d.prototype._convertToValue=function(p){var u=(p-this.start)/(this.end-this.start)*(this.maximum-this.minimum);return u=this.step?Math.round(u/this.step)*this.step:u,Math.max(Math.min(this.minimum+u,this._maximum),this._minimum)},d.prototype.dispose=function(){var p,u,g,E,C,y;c.prototype.dispose.call(this),(p=this._sliderBar)===null||p===void 0||p.dispose(),(u=this._sliderThumb)===null||u===void 0||u.dispose(),(g=this._sliderBarMaterial)===null||g===void 0||g.dispose(),(E=this._sliderThumbMaterial)===null||E===void 0||E.dispose(),(C=this._sliderBackplate)===null||C===void 0||C.dispose(),(y=this._sliderBackplateMaterial)===null||y===void 0||y.dispose()},d.MODEL_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",d.MODEL_FILENAME="mrtk-fluent-backplate.glb",d}(m.Control3D)},"../../../dev/gui/src/3D/controls/spherePanel.ts":(k,b,h)=>{h.r(b),h.d(b,{SpherePanel:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/volumeBasedPanel.ts"),v=h("../../../dev/gui/src/3D/controls/container3D.ts"),f=function(a){(0,_.__extends)(i,a);function i(){var t=a!==null&&a.apply(this,arguments)||this;return t._radius=5,t}return Object.defineProperty(i.prototype,"radius",{get:function(){return this._radius},set:function(t){var e=this;this._radius!==t&&(this._radius=t,n.Tools.SetImmediate(function(){e._arrangeChildren()}))},enumerable:!1,configurable:!0}),i.prototype._mapGridNode=function(t,e){var r=t.mesh;if(r){var o=this._sphericalMapping(e);switch(t.position=o,this.orientation){case v.Container3D.FACEORIGIN_ORIENTATION:r.lookAt(new n.Vector3(2*o.x,2*o.y,2*o.z));break;case v.Container3D.FACEORIGINREVERSED_ORIENTATION:r.lookAt(new n.Vector3(-o.x,-o.y,-o.z));break;case v.Container3D.FACEFORWARD_ORIENTATION:break;case v.Container3D.FACEFORWARDREVERSED_ORIENTATION:r.rotate(n.Axis.Y,Math.PI,0);break}}},i.prototype._sphericalMapping=function(t){var e=new n.Vector3(0,0,this._radius),r=t.y/this._radius,o=-(t.x/this._radius);return n.Matrix.RotationYawPitchRollToRef(o,r,0,n.TmpVectors.Matrix[0]),n.Vector3.TransformNormal(e,n.TmpVectors.Matrix[0])},i}(m.VolumeBasedPanel)},"../../../dev/gui/src/3D/controls/stackPanel3D.ts":(k,b,h)=>{h.r(b),h.d(b,{StackPanel3D:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/container3D.ts"),v=function(f){(0,_.__extends)(a,f);function a(i){i===void 0&&(i=!1);var t=f.call(this)||this;return t._isVertical=!1,t.margin=.1,t._isVertical=i,t}return Object.defineProperty(a.prototype,"isVertical",{get:function(){return this._isVertical},set:function(i){var t=this;this._isVertical!==i&&(this._isVertical=i,n.Tools.SetImmediate(function(){t._arrangeChildren()}))},enumerable:!1,configurable:!0}),a.prototype._arrangeChildren=function(){for(var i=0,t=0,e=0,r=[],o=n.Matrix.Invert(this.node.computeWorldMatrix(!0)),s=0,l=this._children;s<l.length;s++){var c=l[s];if(c.mesh){e++,c.mesh.computeWorldMatrix(!0),c.mesh.getWorldMatrix().multiplyToRef(o,n.TmpVectors.Matrix[0]);var d=c.mesh.getBoundingInfo().boundingBox,p=n.Vector3.TransformNormal(d.extendSize,n.TmpVectors.Matrix[0]);r.push(p),this._isVertical?t+=p.y:i+=p.x}}this._isVertical?t+=(e-1)*this.margin/2:i+=(e-1)*this.margin/2;var u;this._isVertical?u=-t:u=-i;for(var g=0,E=0,C=this._children;E<C.length;E++){var c=C[E];if(c.mesh){e--;var p=r[g++];this._isVertical?(c.position.y=u+p.y,c.position.x=0,u+=p.y*2):(c.position.x=u+p.x,c.position.y=0,u+=p.x*2),u+=e>0?this.margin:0}}},a}(m.Container3D)},"../../../dev/gui/src/3D/controls/touchButton3D.ts":(k,b,h)=>{h.r(b),h.d(b,{TouchButton3D:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/button3D.ts"),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i)||this;return e._isNearPressed=!1,e._interactionSurfaceHeight=0,e._isToggleButton=!1,e._toggleState=!1,e._toggleButtonCallback=function(){e._onToggle(!e._toggleState)},e.onToggleObservable=new n.Observable,e.collidableFrontDirection=n.Vector3.Zero(),t&&(e.collisionMesh=t),e}return Object.defineProperty(a.prototype,"isActiveNearInteraction",{get:function(){return this._isNearPressed},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"collidableFrontDirection",{get:function(){if(this._collisionMesh){var i=n.TmpVectors.Vector3[0];return n.Vector3.TransformNormalToRef(this._collidableFrontDirection,this._collisionMesh.getWorldMatrix(),i),i.normalize()}return this._collidableFrontDirection},set:function(i){if(this._collidableFrontDirection=i.normalize(),this._collisionMesh){var t=n.TmpVectors.Matrix[0];t.copyFrom(this._collisionMesh.getWorldMatrix()),t.invert(),n.Vector3.TransformNormalToRef(this._collidableFrontDirection,t,this._collidableFrontDirection),this._collidableFrontDirection.normalize()}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"collisionMesh",{set:function(i){var t=this,e;this._collisionMesh&&(this._collisionMesh.isNearPickable=!1,!((e=this._collisionMesh.reservedDataStore)===null||e===void 0)&&e.GUI3D&&(this._collisionMesh.reservedDataStore.GUI3D={}),this._collisionMesh.getChildMeshes().forEach(function(r){var o;r.isNearPickable=!1,!((o=r.reservedDataStore)===null||o===void 0)&&o.GUI3D&&(r.reservedDataStore.GUI3D={})})),this._collisionMesh=i,this._injectGUI3DReservedDataStore(this._collisionMesh).control=this,this._collisionMesh.isNearPickable=!0,this._collisionMesh.getChildMeshes().forEach(function(r){t._injectGUI3DReservedDataStore(r).control=t,r.isNearPickable=!0}),this.collidableFrontDirection=i.forward},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isToggleButton",{get:function(){return this._isToggleButton},set:function(i){i!==this._isToggleButton&&(this._isToggleButton=i,i?this.onPointerUpObservable.add(this._toggleButtonCallback):(this.onPointerUpObservable.removeCallback(this._toggleButtonCallback),this._toggleState&&this._onToggle(!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isToggled",{get:function(){return this._toggleState},set:function(i){this._isToggleButton&&this._toggleState!==i&&this._onToggle(i)},enumerable:!1,configurable:!0}),a.prototype._onToggle=function(i){this._toggleState=i,this.onToggleObservable.notifyObservers(i)},a.prototype._isInteractionInFrontOfButton=function(i){return this._getInteractionHeight(i,this._collisionMesh.getAbsolutePosition())>0},a.prototype.getPressDepth=function(i){if(!this._isNearPressed)return 0;var t=this._getInteractionHeight(i,this._collisionMesh.getAbsolutePosition());return this._interactionSurfaceHeight-t},a.prototype._getInteractionHeight=function(i,t){var e=this.collidableFrontDirection;if(e.length()===0)return n.Vector3.Distance(i,t);var r=n.Vector3.Dot(t,e),o=n.Vector3.Dot(i,e);return o-r},a.prototype._generatePointerEventType=function(i,t,e){if(i===n.PointerEventTypes.POINTERDOWN||i===n.PointerEventTypes.POINTERMOVE)if(this._isInteractionInFrontOfButton(t))this._isNearPressed=!0,this._interactionSurfaceHeight=this._getInteractionHeight(t,this._collisionMesh.getAbsolutePosition());else return n.PointerEventTypes.POINTERMOVE;if(i===n.PointerEventTypes.POINTERUP){if(e==0)return n.PointerEventTypes.POINTERMOVE;this._isNearPressed=!1}return i},a.prototype._getTypeName=function(){return"TouchButton3D"},a.prototype._createNode=function(i){return f.prototype._createNode.call(this,i)},a.prototype.dispose=function(){f.prototype.dispose.call(this),this.onPointerUpObservable.removeCallback(this._toggleButtonCallback),this.onToggleObservable.clear(),this._collisionMesh&&this._collisionMesh.dispose()},a}(m.Button3D)},"../../../dev/gui/src/3D/controls/touchHolographicButton.ts":(k,b,h)=>{h.r(b),h.d(b,{TouchHolographicButton:()=>r});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/materials/fluent/fluentMaterial.ts"),v=h("../../../dev/gui/src/3D/materials/fluentButton/fluentButtonMaterial.ts"),f=h("../../../dev/gui/src/2D/controls/stackPanel.ts"),a=h("../../../dev/gui/src/2D/controls/image.ts"),i=h("../../../dev/gui/src/2D/controls/textBlock.ts"),t=h("../../../dev/gui/src/2D/advancedDynamicTexture.ts"),e=h("../../../dev/gui/src/3D/controls/touchButton3D.ts"),r=function(o){(0,_.__extends)(s,o);function s(l,c){c===void 0&&(c=!0);var d=o.call(this,l)||this;return d._shareMaterials=!0,d._isBackplateVisible=!0,d._frontPlateDepth=.5,d._backPlateDepth=.04,d._backplateColor=new n.Color3(.08,.15,.55),d._backplateToggledColor=new n.Color3(.25,.4,.95),d._shareMaterials=c,d.pointerEnterAnimation=function(){d._frontMaterial.leftBlobEnable=!0,d._frontMaterial.rightBlobEnable=!0},d.pointerOutAnimation=function(){d._frontMaterial.leftBlobEnable=!1,d._frontMaterial.rightBlobEnable=!1},d.pointerDownAnimation=function(){d._frontPlate&&!d.isActiveNearInteraction&&(d._frontPlate.scaling.z=d._frontPlateDepth*.2,d._frontPlate.position=n.Vector3.Forward(d._frontPlate._scene.useRightHandedSystem).scale((d._frontPlateDepth-.2*d._frontPlateDepth)/2),d._textPlate.position=n.Vector3.Forward(d._textPlate._scene.useRightHandedSystem).scale(-(d._backPlateDepth+.2*d._frontPlateDepth)/2))},d.pointerUpAnimation=function(){d._frontPlate&&(d._frontPlate.scaling.z=d._frontPlateDepth,d._frontPlate.position=n.Vector3.Forward(d._frontPlate._scene.useRightHandedSystem).scale((d._frontPlateDepth-d._frontPlateDepth)/2),d._textPlate.position=n.Vector3.Forward(d._textPlate._scene.useRightHandedSystem).scale(-(d._backPlateDepth+d._frontPlateDepth)/2))},d.onPointerMoveObservable.add(function(p){if(d._frontPlate&&d.isActiveNearInteraction){var u=n.Vector3.Zero();if(d._backPlate.getWorldMatrix().decompose(u,void 0,void 0)){var g=d._getInteractionHeight(p,d._backPlate.getAbsolutePosition())/u.z;g=n.Scalar.Clamp(g-d._backPlateDepth/2,.2*d._frontPlateDepth,d._frontPlateDepth),d._frontPlate.scaling.z=g,d._frontPlate.position=n.Vector3.Forward(d._frontPlate._scene.useRightHandedSystem).scale((d._frontPlateDepth-g)/2),d._textPlate.position=n.Vector3.Forward(d._textPlate._scene.useRightHandedSystem).scale(-(d._backPlateDepth+g)/2)}}}),d._pointerHoverObserver=d.onPointerMoveObservable.add(function(p){d._frontMaterial.globalLeftIndexTipPosition=p}),d}return s.prototype._disposeTooltip=function(){this._tooltipFade=null,this._tooltipTextBlock&&this._tooltipTextBlock.dispose(),this._tooltipTexture&&this._tooltipTexture.dispose(),this._tooltipMesh&&this._tooltipMesh.dispose(),this.onPointerEnterObservable.remove(this._tooltipHoverObserver),this.onPointerOutObservable.remove(this._tooltipOutObserver)},Object.defineProperty(s.prototype,"renderingGroupId",{get:function(){return this._backPlate.renderingGroupId},set:function(l){this._backPlate.renderingGroupId=l,this._textPlate.renderingGroupId=l,this._frontPlate.renderingGroupId=l,this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mesh",{get:function(){return this._backPlate},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tooltipText",{get:function(){return this._tooltipTextBlock?this._tooltipTextBlock.text:null},set:function(l){var c=this;if(!l){this._disposeTooltip();return}if(!this._tooltipFade){var d=this._backPlate._scene.useRightHandedSystem;this._tooltipMesh=(0,n.CreatePlane)("",{size:1},this._backPlate._scene);var p=(0,n.CreatePlane)("",{size:1,sideOrientation:n.Mesh.DOUBLESIDE},this._backPlate._scene),u=new n.StandardMaterial("",this._backPlate._scene);u.diffuseColor=n.Color3.FromHexString("#212121"),p.material=u,p.isPickable=!1,this._tooltipMesh.addChild(p),p.position=n.Vector3.Forward(d).scale(.05),this._tooltipMesh.scaling.y=1/3,this._tooltipMesh.position=n.Vector3.Up().scale(.7).add(n.Vector3.Forward(d).scale(-.15)),this._tooltipMesh.isPickable=!1,this._tooltipMesh.parent=this._backPlate,this._tooltipTexture=t.AdvancedDynamicTexture.CreateForMesh(this._tooltipMesh),this._tooltipTextBlock=new i.TextBlock,this._tooltipTextBlock.scaleY=3,this._tooltipTextBlock.color="white",this._tooltipTextBlock.fontSize=130,this._tooltipTexture.addControl(this._tooltipTextBlock),this._tooltipFade=new n.FadeInOutBehavior,this._tooltipFade.delay=500,this._tooltipMesh.addBehavior(this._tooltipFade),this._tooltipHoverObserver=this.onPointerEnterObservable.add(function(){c._tooltipFade&&c._tooltipFade.fadeIn(!0)}),this._tooltipOutObserver=this.onPointerOutObservable.add(function(){c._tooltipFade&&c._tooltipFade.fadeIn(!1)})}this._tooltipTextBlock&&(this._tooltipTextBlock.text=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(l){this._text!==l&&(this._text=l,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(l){this._imageUrl!==l&&(this._imageUrl=l,this._rebuildContent())},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"backMaterial",{get:function(){return this._backMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"frontMaterial",{get:function(){return this._frontMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"plateMaterial",{get:function(){return this._plateMaterial},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"shareMaterials",{get:function(){return this._shareMaterials},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isBackplateVisible",{set:function(l){this.mesh&&this._backMaterial&&(l&&!this._isBackplateVisible?this._backPlate.visibility=1:!l&&this._isBackplateVisible&&(this._backPlate.visibility=0)),this._isBackplateVisible=l},enumerable:!1,configurable:!0}),s.prototype._getTypeName=function(){return"TouchHolographicButton"},s.prototype._rebuildContent=function(){this._disposeFacadeTexture();var l=new f.StackPanel;if(l.isVertical=!0,(0,n.IsDocumentAvailable)()&&document.createElement&&this._imageUrl){var c=new a.Image;c.source=this._imageUrl,c.paddingTop="40px",c.height="180px",c.width="100px",c.paddingBottom="40px",l.addControl(c)}if(this._text){var d=new i.TextBlock;d.text=this._text,d.color="white",d.height="30px",d.fontSize=24,l.addControl(d)}this.content=l},s.prototype._createNode=function(l){var c=this,d;this.name=(d=this.name)!==null&&d!==void 0?d:"TouchHolographicButton";var p=(0,n.CreateBox)("".concat(this.name,"_collisionMesh"),{width:1,height:1,depth:this._frontPlateDepth},l);p.isPickable=!0,p.isNearPickable=!0,p.visibility=0,p.position=n.Vector3.Forward(l.useRightHandedSystem).scale(-this._frontPlateDepth/2),n.SceneLoader.ImportMeshAsync(void 0,s.MODEL_BASE_URL,s.MODEL_FILENAME,l).then(function(g){var E=(0,n.CreateBox)("${this.name}_alphaMesh",{width:1,height:1,depth:1},l);E.isPickable=!1,E.material=new n.StandardMaterial("${this.name}_alphaMesh_material",l),E.material.alpha=.15;var C=g.meshes[1];C.name="".concat(c.name,"_frontPlate"),C.isPickable=!1,C.scaling.z=c._frontPlateDepth,E.parent=C,C.parent=p,c._frontMaterial&&(C.material=c._frontMaterial),c._frontPlate=C}),this._backPlate=(0,n.CreateBox)("".concat(this.name,"_backPlate"),{width:1,height:1,depth:this._backPlateDepth},l),this._backPlate.position=n.Vector3.Forward(l.useRightHandedSystem).scale(this._backPlateDepth/2),this._backPlate.isPickable=!1,this._textPlate=o.prototype._createNode.call(this,l),this._textPlate.name="".concat(this.name,"_textPlate"),this._textPlate.isPickable=!1,this._textPlate.position=n.Vector3.Forward(l.useRightHandedSystem).scale(-this._frontPlateDepth/2),this._backPlate.addChild(p),this._backPlate.addChild(this._textPlate);var u=new n.TransformNode("{this.name}_root",l);return this._backPlate.setParent(u),this.collisionMesh=p,this.collidableFrontDirection=this._backPlate.forward.negate(),u},s.prototype._applyFacade=function(l){this._plateMaterial.emissiveTexture=l,this._plateMaterial.opacityTexture=l,this._plateMaterial.diffuseColor=new n.Color3(.4,.4,.4)},s.prototype._createBackMaterial=function(l){this._backMaterial=new m.FluentMaterial(this.name+"backPlateMaterial",l.getScene()),this._backMaterial.albedoColor=this._backplateColor,this._backMaterial.renderBorders=!0,this._backMaterial.renderHoverLight=!1},s.prototype._createFrontMaterial=function(l){this._frontMaterial=new v.FluentButtonMaterial(this.name+"Front Material",l.getScene())},s.prototype._createPlateMaterial=function(l){this._plateMaterial=new n.StandardMaterial(this.name+"Plate Material",l.getScene()),this._plateMaterial.specularColor=n.Color3.Black()},s.prototype._onToggle=function(l){this._backMaterial&&(l?this._backMaterial.albedoColor=this._backplateToggledColor:this._backMaterial.albedoColor=this._backplateColor),o.prototype._onToggle.call(this,l)},s.prototype._affectMaterial=function(l){this._shareMaterials?(this._host._touchSharedMaterials.backFluentMaterial?this._backMaterial=this._host._touchSharedMaterials.backFluentMaterial:(this._createBackMaterial(l),this._host._touchSharedMaterials.backFluentMaterial=this._backMaterial),this._host._touchSharedMaterials.frontFluentMaterial?this._frontMaterial=this._host._touchSharedMaterials.frontFluentMaterial:(this._createFrontMaterial(l),this._host._touchSharedMaterials.frontFluentMaterial=this._frontMaterial)):(this._createBackMaterial(l),this._createFrontMaterial(l)),this._createPlateMaterial(l),this._backPlate.material=this._backMaterial,this._textPlate.material=this._plateMaterial,this._isBackplateVisible||(this._backPlate.visibility=0),this._frontPlate&&(this._frontPlate.material=this._frontMaterial),this._rebuildContent()},s.prototype.dispose=function(){o.prototype.dispose.call(this),this._disposeTooltip(),this.onPointerMoveObservable.remove(this._pointerHoverObserver),this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),this._plateMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))},s.MODEL_BASE_URL="https://assets.babylonjs.com/meshes/MRTK/",s.MODEL_FILENAME="mrtk-fluent-button.glb",s}(e.TouchButton3D)},"../../../dev/gui/src/3D/controls/touchHolographicMenu.ts":(k,b,h)=>{h.r(b),h.d(b,{TouchHolographicMenu:()=>f});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/volumeBasedPanel.ts"),m=h("babylonjs/Misc/perfCounter"),v=h("../../../dev/gui/src/3D/materials/fluent/fluentMaterial.ts"),f=function(a){(0,_.__extends)(i,a);function i(t){var e=a.call(this,t)||this;return e._backPlateMargin=1.25,e}return Object.defineProperty(i.prototype,"backPlateMargin",{get:function(){return this._backPlateMargin},set:function(t){var e=this;this._backPlateMargin=t,this._children.length>=1&&(this.children.forEach(function(r){e._updateCurrentMinMax(r.position)}),this._updateMargins())},enumerable:!1,configurable:!0}),i.prototype._createNode=function(t){var e=new m.Mesh("menu_".concat(this.name),t);return this._backPlate=(0,m.CreateBox)("backPlate"+this.name,{size:1},t),this._backPlate.parent=e,e},i.prototype._affectMaterial=function(t){var e=this;this._backPlateMaterial=new v.FluentMaterial(this.name+"backPlateMaterial",t.getScene()),this._backPlateMaterial.albedoColor=new m.Color3(.08,.15,.55),this._backPlateMaterial.renderBorders=!0,this._backPlateMaterial.renderHoverLight=!0,this._pickedPointObserver=this._host.onPickedPointChangedObservable.add(function(r){r?(e._backPlateMaterial.hoverPosition=r,e._backPlateMaterial.hoverColor.a=1):e._backPlateMaterial.hoverColor.a=0}),this._backPlate.material=this._backPlateMaterial},i.prototype._mapGridNode=function(t,e){var r=t.mesh;r&&(t.position=e.clone(),this._updateCurrentMinMax(e))},i.prototype._finalProcessing=function(){this._updateMargins()},i.prototype._updateCurrentMinMax=function(t){this._currentMin||(this._currentMin=t.clone(),this._currentMax=t.clone()),this._currentMin.minimizeInPlace(t),this._currentMax.maximizeInPlace(t)},i.prototype._updateMargins=function(){if(this._children.length>0){this._currentMin.addInPlaceFromFloats(-this._cellWidth/2,-this._cellHeight/2,0),this._currentMax.addInPlaceFromFloats(this._cellWidth/2,this._cellHeight/2,0);var t=this._currentMax.subtract(this._currentMin);this._backPlate.scaling.x=t.x+this._cellWidth*this.backPlateMargin,this._backPlate.scaling.y=t.y+this._cellHeight*this.backPlateMargin,this._backPlate.scaling.z=.001;for(var e=0;e<this._children.length;e++)this._children[e].position.subtractInPlace(this._currentMin).subtractInPlace(t.scale(.5)),this._children[e].position.z-=.01}this._currentMin=null,this._currentMax=null},i.prototype.addButton=function(t){var e=this.blockLayout;return e||(this.blockLayout=!0),a.prototype.addControl.call(this,t),t.isBackplateVisible=!1,t.scaling.scaleInPlace(i.MENU_BUTTON_SCALE),e||(this.blockLayout=!1),this},i.prototype.addControl=function(t){return m.Logger.Warn("TouchHolographicMenu can only contain buttons. Please use the method `addButton` instead."),this},i.prototype.dispose=function(){a.prototype.dispose.call(this),this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver)},i.MENU_BUTTON_SCALE=1,i}(n.VolumeBasedPanel)},"../../../dev/gui/src/3D/controls/touchMeshButton3D.ts":(k,b,h)=>{h.r(b),h.d(b,{TouchMeshButton3D:()=>m});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("../../../dev/gui/src/3D/controls/touchButton3D.ts"),m=function(v){(0,_.__extends)(f,v);function f(a,i){var t=v.call(this,i,a)||this;return t._currentMesh=a,t.pointerEnterAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(1.1)},t.pointerOutAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(1/1.1)},t.pointerDownAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(.95)},t.pointerUpAnimation=function(){t.mesh&&t.mesh.scaling.scaleInPlace(1/.95)},t}return f.prototype._getTypeName=function(){return"TouchMeshButton3D"},f.prototype._createNode=function(){var a=this;return this._currentMesh.getChildMeshes().forEach(function(i){a._injectGUI3DReservedDataStore(i).control=a}),this._currentMesh},f.prototype._affectMaterial=function(a){},f}(n.TouchButton3D)},"../../../dev/gui/src/3D/controls/volumeBasedPanel.ts":(k,b,h)=>{h.r(b),h.d(b,{VolumeBasedPanel:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/controls/container3D.ts"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t._columns=10,t._rows=0,t._rowThenColum=!0,t._orientation=m.Container3D.FACEORIGIN_ORIENTATION,t.margin=0,t}return Object.defineProperty(a.prototype,"orientation",{get:function(){return this._orientation},set:function(i){var t=this;this._orientation!==i&&(this._orientation=i,n.Tools.SetImmediate(function(){t._arrangeChildren()}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"columns",{get:function(){return this._columns},set:function(i){var t=this;this._columns!==i&&(this._columns=i,this._rowThenColum=!0,n.Tools.SetImmediate(function(){t._arrangeChildren()}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rows",{get:function(){return this._rows},set:function(i){var t=this;this._rows!==i&&(this._rows=i,this._rowThenColum=!1,n.Tools.SetImmediate(function(){t._arrangeChildren()}))},enumerable:!1,configurable:!0}),a.prototype._arrangeChildren=function(){this._cellWidth=0,this._cellHeight=0;for(var i=0,t=0,e=0,r=0,o=this._children;r<o.length;r++){var s=o[r];if(s.mesh){e++,s.mesh.computeWorldMatrix(!0);for(var l=s.mesh.getBoundingInfo().boundingBox.extendSize,c=s.mesh.getDescendants(!1),d=0,p=c;d<p.length;d++){var u=p[d];u.computeWorldMatrix(!0);var g=u;if(typeof g.getBoundingInfo=="function"){var E=g.getBoundingInfo().boundingBox.extendSize;l.x=Math.max(l.x,E.x),l.y=Math.max(l.y,E.y),l.z=Math.max(l.z,E.z)}}this._cellWidth=Math.max(this._cellWidth,l.x*2),this._cellHeight=Math.max(this._cellHeight,l.y*2)}}this._cellWidth+=this.margin*2,this._cellHeight+=this.margin*2,this._rowThenColum?(t=this._columns,i=Math.ceil(e/this._columns)):(i=this._rows,t=Math.ceil(e/this._rows));var C=t*.5*this._cellWidth,y=i*.5*this._cellHeight,D=[],F=0;if(this._rowThenColum)for(var I=0;I<i;I++)for(var R=0;R<t&&(D.push(new n.Vector3(R*this._cellWidth-C+this._cellWidth/2,I*this._cellHeight-y+this._cellHeight/2,0)),F++,!(F>e));R++);else for(var R=0;R<t;R++)for(var I=0;I<i&&(D.push(new n.Vector3(R*this._cellWidth-C+this._cellWidth/2,I*this._cellHeight-y+this._cellHeight/2,0)),F++,!(F>e));I++);F=0;for(var w=0,V=this._children;w<V.length;w++){var s=V[w];s.mesh&&(this._mapGridNode(s,D[F]),F++)}this._finalProcessing()},a.prototype._finalProcessing=function(){},a}(m.Container3D)},"../../../dev/gui/src/3D/gizmos/gizmoHandle.ts":(k,b,h)=>{h.r(b),h.d(b,{CornerHandle:()=>i,GizmoHandle:()=>f,HandleState:()=>v,SideHandle:()=>a});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/materials/handle/handleMaterial.ts"),v;(function(t){t[t.IDLE=0]="IDLE",t[t.HOVER=1]="HOVER",t[t.DRAG=2]="DRAG"})(v||(v={}));var f=function(){function t(e,r){this._state=0,this._materials=[],this._scene=r,this._gizmo=e,this.node=this.createNode(),this.node.reservedDataStore={handle:this}}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gizmo",{get:function(){return this._gizmo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hover",{set:function(e){e?this._state|=1:this._state&=-2,this._updateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drag",{set:function(e){e?this._state|=2:this._state&=-3,this._updateMaterial()},enumerable:!1,configurable:!0}),t.prototype._createMaterial=function(e){var r=new m.HandleMaterial("handle",this._scene);return e&&(r._positionOffset=e),r},t.prototype._updateMaterial=function(){for(var e=this._state,r=0,o=this._materials;r<o.length;r++){var s=o[r];s.hover=!1,s.drag=!1}if(e&2)for(var l=0,c=this._materials;l<c.length;l++){var s=c[l];s.drag=!0}else if(e&1)for(var d=0,p=this._materials;d<p.length;d++){var s=p[d];s.hover=!0}},t.prototype.setDragBehavior=function(e,r,o){var s=new n.BaseSixDofDragBehavior;this._dragBehavior=s,this._dragStartObserver=s.onDragStartObservable.add(e),this._draggingObserver=s.onDragObservable.add(r),this._dragEndObserver=s.onDragEndObservable.add(o),this._dragBehavior.attach(this.node)},t.prototype.dispose=function(){this._dragBehavior.onDragStartObservable.remove(this._dragStartObserver),this._dragBehavior.onDragObservable.remove(this._draggingObserver),this._dragBehavior.onDragEndObservable.remove(this._dragEndObserver),this._dragBehavior.detach();for(var e=0,r=this._materials;e<r.length;e++){var o=r[e];o.dispose()}this.node.dispose()},t}(),a=function(t){(0,_.__extends)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createNode=function(){var r=(0,n.CreateBox)("sideVert",{width:1,height:10,depth:.1},this._scene),o=new n.TransformNode("side",this._scene);r.parent=o;var s=this._createMaterial();return r.material=s,r.isNearGrabbable=!0,this._materials.push(s),o},e}(f),i=function(t){(0,_.__extends)(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createNode=function(){var r=(0,n.CreateBox)("angleHor",{width:3,height:1,depth:.1},this._scene),o=(0,n.CreateBox)("angleVert",{width:1,height:3,depth:.1},this._scene),s=new n.TransformNode("angle",this._scene);return r.parent=s,o.parent=s,r.material=this._createMaterial(new n.Vector3(1,0,0)),o.material=this._createMaterial(new n.Vector3(0,1,0)),o.isNearGrabbable=!0,r.isNearGrabbable=!0,this._materials.push(r.material),this._materials.push(o.material),s},e}(f)},"../../../dev/gui/src/3D/gizmos/index.ts":(k,b,h)=>{h.r(b),h.d(b,{CornerHandle:()=>n.CornerHandle,GizmoHandle:()=>n.GizmoHandle,HandleState:()=>n.HandleState,SideHandle:()=>n.SideHandle,SlateGizmo:()=>_.SlateGizmo});var _=h("../../../dev/gui/src/3D/gizmos/slateGizmo.ts"),n=h("../../../dev/gui/src/3D/gizmos/gizmoHandle.ts")},"../../../dev/gui/src/3D/gizmos/slateGizmo.ts":(k,b,h)=>{h.r(b),h.d(b,{SlateGizmo:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=h("../../../dev/gui/src/3D/gizmos/gizmoHandle.ts"),v=function(f){(0,_.__extends)(a,f);function a(i){var t=f.call(this,i)||this;return t._boundingDimensions=new n.Vector3(0,0,0),t._renderObserver=null,t._tmpQuaternion=new n.Quaternion,t._tmpVector=new n.Vector3(0,0,0),t._corners=[],t._sides=[],t._boundingBoxGizmo={min:new n.Vector3,max:new n.Vector3},t._margin=.35,t._handleSize=.075,t._attachedSlate=null,t._existingSlateScale=new n.Vector3,t.fixedScreenSize=!1,t.fixedScreenSizeDistanceFactor=10,t._createNode(),t.updateScale=!1,t._renderObserver=t.gizmoLayer.originalScene.onBeforeRenderObservable.add(function(){t.attachedMesh&&!t._existingSlateScale.equals(t.attachedMesh.scaling)&&t.updateBoundingBox()}),t}return Object.defineProperty(a.prototype,"attachedSlate",{get:function(){return this._attachedSlate},set:function(i){var t=this;i?(this.attachedMesh=i.mesh,this.updateBoundingBox(),this._pickedPointObserver=i._host.onPickingObservable.add(function(e){if(t._handleHovered&&(!e||e.parent!==t._handleHovered.node)&&(t._handleHovered.hover=!1,t._handleHovered=null),e&&e.parent&&e.parent.reservedDataStore&&e.parent.reservedDataStore.handle){var r=e.parent.reservedDataStore.handle;r.gizmo===t&&(t._handleHovered=r,t._handleHovered.hover=!0)}})):this._attachedSlate&&this._attachedSlate._host.onPickingObservable.remove(this._pickedPointObserver),this._attachedSlate=i},enumerable:!1,configurable:!0}),a.prototype._createNode=function(){var i=this;this._handlesParent=new n.TransformNode("handlesParent",this.gizmoLayer.utilityLayerScene),this._handlesParent.rotationQuaternion=n.Quaternion.Identity();for(var t=[{dimensions:new n.Vector3(-1,-1,0),origin:new n.Vector3(1,0,0)},{dimensions:new n.Vector3(1,-1,0),origin:new n.Vector3(0,0,0)},{dimensions:new n.Vector3(1,1,0),origin:new n.Vector3(0,1,0)},{dimensions:new n.Vector3(-1,1,0),origin:new n.Vector3(1,1,0)}],e=0;e<4;e++){var r=new m.CornerHandle(this,this.gizmoLayer.utilityLayerScene);this._corners.push(r),r.node.rotation.z=Math.PI/2*e,r.node.parent=this._handlesParent,this._assignDragBehaviorCorners(r,function(s,l,c,d){return i._moveHandle(s,l,c,d,!0)},t[e])}for(var e=0;e<4;e++){var o=new m.SideHandle(this,this.gizmoLayer.utilityLayerScene);this._sides.push(o),o.node.rotation.z=Math.PI/2*e,o.node.parent=this._handlesParent,this._assignDragBehaviorSides(o,e%2===0?new n.Vector3(0,1,0):new n.Vector3(1,0,0))}this._handlesParent.parent=this._rootMesh},a.prototype._keepAspectRatio=function(i,t,e){e===void 0&&(e=!1);var r=n.TmpVectors.Vector3[0];r.copyFromFloats(t,1,0).normalize(),e&&(r.y*=-1);var o=n.Vector3.Dot(i,r);i.copyFrom(r).scaleInPlace(o)},a.prototype._clampDimensions=function(i,t,e,r){r===void 0&&(r=!1);var o=n.TmpVectors.Vector3[0];o.copyFrom(i).multiplyInPlace(e);var s=n.TmpVectors.Vector3[1];if(s.copyFromFloats(Math.max(this._attachedSlate.minDimensions.x,o.x+t.x),Math.max(this._attachedSlate.minDimensions.y,o.y+t.y),0),r){var l=t.x/t.y;s.x=Math.max(s.x,s.y*l),s.y=Math.max(s.y,s.x/l)}o.copyFrom(s).subtractInPlace(t),i.x=Math.sign(i.x)*Math.abs(o.x),i.y=Math.sign(i.y)*Math.abs(o.y)},a.prototype._moveHandle=function(i,t,e,r,o){if(this._attachedSlate){if(o){var s=t.x/t.y;this._keepAspectRatio(e,s,r.dimensions.x*r.dimensions.y<0)}this._clampDimensions(e,t,r.dimensions,o);var l=n.TmpVectors.Vector3[0],c=n.TmpVectors.Vector3[1];l.copyFrom(e).multiplyInPlace(r.origin),c.copyFrom(e).multiplyInPlace(r.dimensions),this._attachedSlate.origin.copyFrom(i).addInPlace(l),this._attachedSlate.dimensions.set(t.x+c.x,t.y+c.y)}},a.prototype._assignDragBehaviorCorners=function(i,t,e){var r=this,o=new n.Vector3,s=new n.Vector3,l=new n.Vector3,c=new n.Matrix,d=new n.Vector3,p=function(C,y,D,F){C.subtractToRef(D,n.TmpVectors.Vector3[0]);var I=n.Vector3.Dot(n.TmpVectors.Vector3[0],y);n.TmpVectors.Vector3[1].copyFrom(y).scaleInPlace(I),n.TmpVectors.Vector3[0].subtractInPlace(n.TmpVectors.Vector3[1]),n.TmpVectors.Vector3[0].addToRef(D,F)},u=function(C){r.attachedSlate&&r.attachedMesh&&(o.set(r.attachedSlate.dimensions.x,r.attachedSlate.dimensions.y,n.Epsilon),s.copyFrom(r.attachedSlate.origin),l.copyFrom(C.position),c.copyFrom(r.attachedMesh.computeWorldMatrix(!0)),c.invert(),r.attachedSlate._followButton.isToggled=!1,n.Vector3.TransformNormalToRef(n.Vector3.Forward(),r.attachedMesh.getWorldMatrix(),d),d.normalize(),r._handleHovered&&(r._handleDragged=r._handleHovered,r._handleDragged.drag=!0))},g=function(C){r.attachedSlate&&r.attachedMesh&&(p(C.position,d,l,r._tmpVector),r._tmpVector.subtractInPlace(l),n.Vector3.TransformNormalToRef(r._tmpVector,c,r._tmpVector),t(s,o,r._tmpVector,e),r.attachedSlate._positionElements(),r.updateBoundingBox())},E=function(){r.attachedSlate&&r.attachedNode&&(r.attachedSlate._updatePivot(),r._handleDragged&&(r._handleDragged.drag=!1,r._handleDragged=null))};i.setDragBehavior(u,g,E)},a.prototype._assignDragBehaviorSides=function(i,t){var e=this,r=new n.Quaternion,o=new n.Vector3,s=new n.Vector3,l=new n.Vector3,c=new n.Vector3,d=function(g){e.attachedSlate&&e.attachedMesh&&(r.copyFrom(e.attachedMesh.rotationQuaternion),o.copyFrom(g.position),l.copyFrom(e.attachedMesh.getAbsolutePivotPoint()),s.copyFrom(o).subtractInPlace(l).normalize(),e.attachedSlate._followButton.isToggled=!1,n.Vector3.TransformNormalToRef(t,e.attachedMesh.getWorldMatrix(),c),c.normalize(),e._handleHovered&&(e._handleDragged=e._handleHovered,e._handleDragged.drag=!0))},p=function(g){if(e.attachedSlate&&e.attachedMesh){e._tmpVector.copyFrom(g.position),e._tmpVector.subtractInPlace(l),e._tmpVector.normalize();var E=-n.Vector3.GetAngleBetweenVectorsOnPlane(e._tmpVector,s,c);n.Quaternion.RotationAxisToRef(t,E,e._tmpQuaternion),r.multiplyToRef(e._tmpQuaternion,e.attachedMesh.rotationQuaternion)}},u=function(){e.attachedSlate&&e.attachedNode&&(e.attachedSlate._updatePivot(),e._handleDragged&&(e._handleDragged.drag=!1,e._handleDragged=null))};i.setDragBehavior(d,p,u)},a.prototype._attachedNodeChanged=function(i){i&&this.updateBoundingBox()},a.prototype.updateBoundingBox=function(){if(this.attachedMesh){n.PivotTools._RemoveAndStorePivotPoint(this.attachedMesh);var i=this.attachedMesh.parent;this.attachedMesh.setParent(null),this._update(),this.attachedMesh.rotationQuaternion||(this.attachedMesh.rotationQuaternion=n.Quaternion.RotationYawPitchRoll(this.attachedMesh.rotation.y,this.attachedMesh.rotation.x,this.attachedMesh.rotation.z)),this._tmpQuaternion.copyFrom(this.attachedMesh.rotationQuaternion),this._tmpVector.copyFrom(this.attachedMesh.position),this.attachedMesh.rotationQuaternion.set(0,0,0,1),this.attachedMesh.position.set(0,0,0);var t=this.attachedMesh.getHierarchyBoundingVectors();t.max.subtractToRef(t.min,this._boundingDimensions),this._boundingBoxGizmo.min=t.min,this._boundingBoxGizmo.max=t.max,this._updateHandlesPosition(),this._updateHandlesScaling(),this.attachedMesh.rotationQuaternion.copyFrom(this._tmpQuaternion),this.attachedMesh.position.copyFrom(this._tmpVector),n.PivotTools._RestorePivotPoint(this.attachedMesh),this.attachedMesh.setParent(i),this.attachedMesh.computeWorldMatrix(!0),this._existingSlateScale.copyFrom(this.attachedMesh.scaling)}},a.prototype._updateHandlesPosition=function(){var i=this._boundingBoxGizmo.min.clone(),t=this._boundingBoxGizmo.max.clone(),e=this._corners[0].node.scaling.length();i.x-=this._margin*e,i.y-=this._margin*e,t.x+=this._margin*e,t.y+=this._margin*e;var r=i.add(t).scaleInPlace(.5);this._corners[0].node.position.copyFromFloats(i.x,i.y,0),this._corners[1].node.position.copyFromFloats(t.x,i.y,0),this._corners[2].node.position.copyFromFloats(t.x,t.y,0),this._corners[3].node.position.copyFromFloats(i.x,t.y,0),this._sides[0].node.position.copyFromFloats(i.x,r.y,0),this._sides[1].node.position.copyFromFloats(r.x,i.y,0),this._sides[2].node.position.copyFromFloats(t.x,r.y,0),this._sides[3].node.position.copyFromFloats(r.x,t.y,0)},a.prototype._updateHandlesScaling=function(){if(this._attachedSlate&&this._attachedSlate.mesh){for(var i=this._attachedSlate.mesh.scaling.x*this._attachedSlate.dimensions.x,t=this._attachedSlate.mesh.scaling.y*this._attachedSlate.dimensions.y,e=Math.min(i,t)*this._handleSize,r=0;r<this._corners.length;r++)this._corners[r].node.scaling.setAll(e);for(var r=0;r<this._sides.length;r++)this._sides[r].node.scaling.setAll(e)}},a.prototype._update=function(){if(f.prototype._update.call(this),!!this.gizmoLayer.utilityLayerScene.activeCamera&&this._attachedSlate&&this._attachedSlate.mesh){if(this.fixedScreenSize){this._attachedSlate.mesh.absolutePosition.subtractToRef(this.gizmoLayer.utilityLayerScene.activeCamera.position,this._tmpVector);for(var i=this._handleSize*this._tmpVector.length()/this.fixedScreenSizeDistanceFactor,t=0;t<this._corners.length;t++)this._corners[t].node.scaling.set(i,i,i);for(var t=0;t<this._sides.length;t++)this._sides[t].node.scaling.set(i,i,i)}this._updateHandlesPosition()}},a.prototype.dispose=function(){this.gizmoLayer.originalScene.onBeforeRenderObservable.remove(this._renderObserver),f.prototype.dispose.call(this);for(var i=0,t=this._corners;i<t.length;i++){var e=t[i];e.dispose()}for(var r=0,o=this._sides;r<o.length;r++){var s=o[r];s.dispose()}},a}(n.Gizmo)},"../../../dev/gui/src/3D/gui3DManager.ts":(k,b,h)=>{h.r(b),h.d(b,{GUI3DManager:()=>m});var _=h("babylonjs/Misc/perfCounter"),n=h("../../../dev/gui/src/3D/controls/container3D.ts"),m=function(){function v(f){var a=this;this._customControlScaling=1,this._lastControlOver={},this._lastControlDown={},this.onPickedPointChangedObservable=new _.Observable,this.onPickingObservable=new _.Observable,this._sharedMaterials={},this._touchSharedMaterials={},this._scene=f||_.EngineStore.LastCreatedScene,this._sceneDisposeObserver=this._scene.onDisposeObservable.add(function(){a._sceneDisposeObserver=null,a._utilityLayer=null,a.dispose()}),this._utilityLayer=_.UtilityLayerRenderer._CreateDefaultUtilityLayerFromScene(this._scene),this._utilityLayer.onlyCheckPointerDownEvents=!1,this._utilityLayer.pickUtilitySceneFirst=!1,this._utilityLayer.mainSceneTrackerPredicate=function(t){var e,r,o;return t&&((o=(r=(e=t.reservedDataStore)===null||e===void 0?void 0:e.GUI3D)===null||r===void 0?void 0:r.control)===null||o===void 0?void 0:o._node)},this._rootContainer=new n.Container3D("RootContainer"),this._rootContainer._host=this;var i=this._utilityLayer.utilityLayerScene;this._pointerOutObserver=this._utilityLayer.onPointerOutObservable.add(function(t){a._handlePointerOut(t,!0)}),this._pointerObserver=i.onPointerObservable.add(function(t){a._doPicking(t)}),this._utilityLayer.utilityLayerScene.autoClear=!1,this._utilityLayer.utilityLayerScene.autoClearDepthAndStencil=!1,new _.HemisphericLight("hemi",_.Vector3.Up(),this._utilityLayer.utilityLayerScene)}return Object.defineProperty(v.prototype,"scene",{get:function(){return this._scene},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"utilityLayer",{get:function(){return this._utilityLayer},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"controlScaling",{get:function(){return this._customControlScaling},set:function(f){if(this._customControlScaling!==f&&f>0){var a=f/this._customControlScaling;this._customControlScaling=f,this._rootContainer.children.forEach(function(i){i.scaling.scaleInPlace(a),f!==1&&(i._isScaledByManager=!0)})}},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"useRealisticScaling",{get:function(){return this.controlScaling===v.MRTK_REALISTIC_SCALING},set:function(f){this.controlScaling=f?v.MRTK_REALISTIC_SCALING:1},enumerable:!1,configurable:!0}),v.prototype._handlePointerOut=function(f,a){var i=this._lastControlOver[f];i&&(i._onPointerOut(i),delete this._lastControlOver[f]),a&&this._lastControlDown[f]&&(this._lastControlDown[f].forcePointerUp(),delete this._lastControlDown[f]),this.onPickedPointChangedObservable.notifyObservers(null)},v.prototype._doPicking=function(f){var a,i,t;if(!this._utilityLayer||!this._utilityLayer.shouldRender||!this._utilityLayer.utilityLayerScene.activeCamera)return!1;var e=f.event,r=e.pointerId||0,o=e.button,s=f.pickInfo;if(s&&this.onPickingObservable.notifyObservers(s.pickedMesh),!s||!s.hit)return this._handlePointerOut(r,f.type===_.PointerEventTypes.POINTERUP),!1;s.pickedPoint&&this.onPickedPointChangedObservable.notifyObservers(s.pickedPoint);var l=(i=(a=s.pickedMesh.reservedDataStore)===null||a===void 0?void 0:a.GUI3D)===null||i===void 0?void 0:i.control;return l&&!l._processObservables(f.type,s.pickedPoint,((t=s.originMesh)===null||t===void 0?void 0:t.position)||null,r,o)&&f.type===_.PointerEventTypes.POINTERMOVE&&(this._lastControlOver[r]&&this._lastControlOver[r]._onPointerOut(this._lastControlOver[r]),delete this._lastControlOver[r]),f.type===_.PointerEventTypes.POINTERUP&&(this._lastControlDown[e.pointerId]&&(this._lastControlDown[e.pointerId].forcePointerUp(),delete this._lastControlDown[e.pointerId]),(e.pointerType==="touch"||e.pointerType==="xr"&&this._scene.getEngine().hostInformation.isMobile)&&this._handlePointerOut(r,!1)),!0},Object.defineProperty(v.prototype,"rootContainer",{get:function(){return this._rootContainer},enumerable:!1,configurable:!0}),v.prototype.containsControl=function(f){return this._rootContainer.containsControl(f)},v.prototype.addControl=function(f){return this._rootContainer.addControl(f),this._customControlScaling!==1&&(f.scaling.scaleInPlace(this._customControlScaling),f._isScaledByManager=!0),this},v.prototype.removeControl=function(f){return this._rootContainer.removeControl(f),f._isScaledByManager&&(f.scaling.scaleInPlace(1/this._customControlScaling),f._isScaledByManager=!1),this},v.prototype.dispose=function(){this._rootContainer.dispose();for(var f in this._sharedMaterials)Object.prototype.hasOwnProperty.call(this._sharedMaterials,f)&&this._sharedMaterials[f].dispose();this._sharedMaterials={};for(var f in this._touchSharedMaterials)Object.prototype.hasOwnProperty.call(this._touchSharedMaterials,f)&&this._touchSharedMaterials[f].dispose();this._touchSharedMaterials={},this._pointerOutObserver&&this._utilityLayer&&(this._utilityLayer.onPointerOutObservable.remove(this._pointerOutObserver),this._pointerOutObserver=null),this.onPickedPointChangedObservable.clear(),this.onPickingObservable.clear();var a=this._utilityLayer?this._utilityLayer.utilityLayerScene:null;a&&this._pointerObserver&&(a.onPointerObservable.remove(this._pointerObserver),this._pointerObserver=null),this._scene&&this._sceneDisposeObserver&&(this._scene.onDisposeObservable.remove(this._sceneDisposeObserver),this._sceneDisposeObserver=null),this._utilityLayer&&this._utilityLayer.dispose()},v.MRTK_REALISTIC_SCALING=.032,v}()},"../../../dev/gui/src/3D/index.ts":(k,b,h)=>{h.r(b),h.d(b,{AbstractButton3D:()=>_.AbstractButton3D,Button3D:()=>_.Button3D,Container3D:()=>_.Container3D,Control3D:()=>_.Control3D,CornerHandle:()=>m.CornerHandle,CylinderPanel:()=>_.CylinderPanel,FluentBackplateMaterial:()=>n.FluentBackplateMaterial,FluentButtonMaterial:()=>n.FluentButtonMaterial,FluentMaterial:()=>n.FluentMaterial,FluentMaterialDefines:()=>n.FluentMaterialDefines,GUI3DManager:()=>v.GUI3DManager,GizmoHandle:()=>m.GizmoHandle,HandMenu:()=>_.HandMenu,HandleMaterial:()=>n.HandleMaterial,HandleState:()=>m.HandleState,HolographicBackplate:()=>_.HolographicBackplate,HolographicButton:()=>_.HolographicButton,HolographicSlate:()=>_.HolographicSlate,MRDLBackplateMaterial:()=>n.MRDLBackplateMaterial,MRDLSliderBarMaterial:()=>n.MRDLSliderBarMaterial,MRDLSliderThumbMaterial:()=>n.MRDLSliderThumbMaterial,MeshButton3D:()=>_.MeshButton3D,NearMenu:()=>_.NearMenu,PlanePanel:()=>_.PlanePanel,ScatterPanel:()=>_.ScatterPanel,SideHandle:()=>m.SideHandle,SlateGizmo:()=>m.SlateGizmo,Slider3D:()=>_.Slider3D,SpherePanel:()=>_.SpherePanel,StackPanel3D:()=>_.StackPanel3D,TouchButton3D:()=>_.TouchButton3D,TouchHolographicButton:()=>_.TouchHolographicButton,TouchHolographicButtonV3:()=>_.TouchHolographicButtonV3,TouchHolographicMenu:()=>_.TouchHolographicMenu,TouchMeshButton3D:()=>_.TouchMeshButton3D,Vector3WithInfo:()=>f.Vector3WithInfo,VolumeBasedPanel:()=>_.VolumeBasedPanel});var _=h("../../../dev/gui/src/3D/controls/index.ts"),n=h("../../../dev/gui/src/3D/materials/index.ts"),m=h("../../../dev/gui/src/3D/gizmos/index.ts"),v=h("../../../dev/gui/src/3D/gui3DManager.ts"),f=h("../../../dev/gui/src/3D/vector3WithInfo.ts")},"../../../dev/gui/src/3D/materials/fluent/fluentMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentMaterial:()=>v,FluentMaterialDefines:()=>m});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/fluent/shaders/fluent.vertex.ts"),h("../../../dev/gui/src/3D/materials/fluent/shaders/fluent.fragment.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.INNERGLOW=!1,i.BORDER=!1,i.HOVERLIGHT=!1,i.TEXTURE=!1,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.innerGlowColorIntensity=.5,e.innerGlowColor=new n.Color3(1,1,1),e.albedoColor=new n.Color3(.3,.35,.4),e.renderBorders=!1,e.borderWidth=.5,e.edgeSmoothingValue=.02,e.borderMinValue=.1,e.renderHoverLight=!1,e.hoverRadius=.01,e.hoverColor=new n.Color4(.3,.3,.3,1),e.hoverPosition=n.Vector3.Zero(),e}return a.prototype.needAlphaBlending=function(){return this.alpha!==1},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=this.getScene(),o=t.materialDefines;if(!this.checkReadyOnEveryCall&&t.effect&&o._renderId===r.getRenderId())return!0;if(o._areTexturesDirty)if(o.INNERGLOW=this.innerGlowColorIntensity>0,o.BORDER=this.renderBorders,o.HOVERLIGHT=this.renderHoverLight,this._albedoTexture)if(this._albedoTexture.isReadyOrNotBlocking())o.TEXTURE=!0;else return!1;else o.TEXTURE=!1;var s=r.getEngine();if(o.isDirty){o.markAsProcessed(),r.resetCachedMaterial();var l=[n.VertexBuffer.PositionKind];l.push(n.VertexBuffer.NormalKind),l.push(n.VertexBuffer.UVKind);var c="fluent",d=["world","viewProjection","innerGlowColor","albedoColor","borderWidth","edgeSmoothingValue","scaleFactor","borderMinValue","hoverColor","hoverPosition","hoverRadius","textureMatrix"],p=["albedoSampler"],u=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:d,uniformBuffersNames:u,samplers:p,defines:o,maxSimultaneousLights:4});var g=o.toString();t.setEffect(r.getEngine().createEffect(c,{attributes:l,uniformsNames:d,uniformBuffersNames:u,samplers:p,defines:g,fallbacks:null,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),o,this._materialContext)}return!t.effect||!t.effect.isReady()?!1:(o._renderId=r.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=this.getScene(),o=e.materialDefines;if(o){var s=e.effect;if(s){if(this._activeEffect=s,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",r.getTransformMatrix()),this._mustRebind(r,s,e)&&(this._activeEffect.setColor4("albedoColor",this.albedoColor,this.alpha),o.INNERGLOW&&this._activeEffect.setColor4("innerGlowColor",this.innerGlowColor,this.innerGlowColorIntensity),o.BORDER&&(this._activeEffect.setFloat("borderWidth",this.borderWidth),this._activeEffect.setFloat("edgeSmoothingValue",this.edgeSmoothingValue),this._activeEffect.setFloat("borderMinValue",this.borderMinValue),t.getBoundingInfo().boundingBox.extendSize.multiplyToRef(t.scaling,n.TmpVectors.Vector3[0]),this._activeEffect.setVector3("scaleFactor",n.TmpVectors.Vector3[0])),o.HOVERLIGHT&&(this._activeEffect.setDirectColor4("hoverColor",this.hoverColor),this._activeEffect.setFloat("hoverRadius",this.hoverRadius),this._activeEffect.setVector3("hoverPosition",this.hoverPosition)),o.TEXTURE&&this._albedoTexture)){this._activeEffect.setTexture("albedoSampler",this._albedoTexture);var l=this._albedoTexture.getTextureMatrix();this._activeEffect.setMatrix("textureMatrix",l)}this._afterBind(t,this._activeEffect,e)}}},a.prototype.getActiveTextures=function(){var i=f.prototype.getActiveTextures.call(this);return i},a.prototype.hasTexture=function(i){return!!f.prototype.hasTexture.call(this,i)},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i)},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=f.prototype.serialize.call(this);return i.customType="BABYLON.GUI.FluentMaterial",i},a.prototype.getClassName=function(){return"FluentMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},(0,_.__decorate)([(0,n.serialize)(),(0,n.expandToProperty)("_markAllSubMeshesAsTexturesDirty")],a.prototype,"innerGlowColorIntensity",void 0),(0,_.__decorate)([(0,n.serializeAsColor3)()],a.prototype,"innerGlowColor",void 0),(0,_.__decorate)([(0,n.serializeAsColor3)()],a.prototype,"albedoColor",void 0),(0,_.__decorate)([(0,n.serialize)(),(0,n.expandToProperty)("_markAllSubMeshesAsTexturesDirty")],a.prototype,"renderBorders",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"borderWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeSmoothingValue",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"borderMinValue",void 0),(0,_.__decorate)([(0,n.serialize)(),(0,n.expandToProperty)("_markAllSubMeshesAsTexturesDirty")],a.prototype,"renderHoverLight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"hoverRadius",void 0),(0,_.__decorate)([(0,n.serializeAsColor4)()],a.prototype,"hoverColor",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"hoverPosition",void 0),(0,_.__decorate)([(0,n.serializeAsTexture)("albedoTexture")],a.prototype,"_albedoTexture",void 0),(0,_.__decorate)([(0,n.expandToProperty)("_markAllSubMeshesAsTexturesAndMiscDirty")],a.prototype,"albedoTexture",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.FluentMaterial",v)},"../../../dev/gui/src/3D/materials/fluent/index.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentMaterial:()=>_.FluentMaterial,FluentMaterialDefines:()=>_.FluentMaterialDefines});var _=h("../../../dev/gui/src/3D/materials/fluent/fluentMaterial.ts")},"../../../dev/gui/src/3D/materials/fluent/shaders/fluent.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{fluentPixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="fluentPixelShader",m=`precision highp float;varying vec2 vUV;uniform vec4 albedoColor;
#ifdef INNERGLOW
uniform vec4 innerGlowColor;
#endif
#ifdef BORDER
varying vec2 scaleInfo;uniform float edgeSmoothingValue;uniform float borderMinValue;
#endif
#ifdef HOVERLIGHT
varying vec3 worldPosition;uniform vec3 hoverPosition;uniform vec4 hoverColor;uniform float hoverRadius;
#endif
#ifdef TEXTURE
uniform sampler2D albedoSampler;uniform mat4 textureMatrix;vec2 finalUV;
#endif
void main(void) {vec3 albedo=albedoColor.rgb;float alpha=albedoColor.a;
#ifdef TEXTURE
finalUV=vec2(textureMatrix*vec4(vUV,1.0,0.0));albedo=texture2D(albedoSampler,finalUV).rgb;
#endif
#ifdef HOVERLIGHT
float pointToHover=(1.0-clamp(length(hoverPosition-worldPosition)/hoverRadius,0.,1.))*hoverColor.a;albedo=clamp(albedo+hoverColor.rgb*pointToHover,0.,1.);
#else
float pointToHover=1.0;
#endif
#ifdef BORDER 
float borderPower=10.0;float inverseBorderPower=1.0/borderPower;vec3 borderColor=albedo*borderPower;vec2 distanceToEdge;distanceToEdge.x=abs(vUV.x-0.5)*2.0;distanceToEdge.y=abs(vUV.y-0.5)*2.0;float borderValue=max(smoothstep(scaleInfo.x-edgeSmoothingValue,scaleInfo.x+edgeSmoothingValue,distanceToEdge.x),
smoothstep(scaleInfo.y-edgeSmoothingValue,scaleInfo.y+edgeSmoothingValue,distanceToEdge.y));borderColor=borderColor*borderValue*max(borderMinValue*inverseBorderPower,pointToHover); 
albedo+=borderColor;alpha=max(alpha,borderValue);
#endif
#ifdef INNERGLOW
vec2 uvGlow=(vUV-vec2(0.5,0.5))*(innerGlowColor.a*2.0);uvGlow=uvGlow*uvGlow;uvGlow=uvGlow*uvGlow;albedo+=mix(vec3(0.0,0.0,0.0),innerGlowColor.rgb,uvGlow.x+uvGlow.y); 
#endif
gl_FragColor=vec4(albedo,alpha);}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/fluent/shaders/fluent.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{fluentVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="fluentVertexShader",m=`precision highp float;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;uniform mat4 world;uniform mat4 viewProjection;varying vec2 vUV;
#ifdef BORDER
varying vec2 scaleInfo;uniform float borderWidth;uniform vec3 scaleFactor;
#endif
#ifdef HOVERLIGHT
varying vec3 worldPosition;
#endif
void main(void) {vUV=uv;
#ifdef BORDER
vec3 scale=scaleFactor;float minScale=min(min(scale.x,scale.y),scale.z);float maxScale=max(max(scale.x,scale.y),scale.z);float minOverMiddleScale=minScale/(scale.x+scale.y+scale.z-minScale-maxScale);float areaYZ=scale.y*scale.z;float areaXZ=scale.x*scale.z;float areaXY=scale.x*scale.y;float scaledBorderWidth=borderWidth; 
if (abs(normal.x)==1.0) 
{scale.x=scale.y;scale.y=scale.z;if (areaYZ>areaXZ && areaYZ>areaXY)
{scaledBorderWidth*=minOverMiddleScale;}}
else if (abs(normal.y)==1.0) 
{scale.x=scale.z;if (areaXZ>areaXY && areaXZ>areaYZ)
{scaledBorderWidth*=minOverMiddleScale;}}
else 
{if (areaXY>areaYZ && areaXY>areaXZ)
{scaledBorderWidth*=minOverMiddleScale;}}
float scaleRatio=min(scale.x,scale.y)/max(scale.x,scale.y);if (scale.x>scale.y)
{scaleInfo.x=1.0-(scaledBorderWidth*scaleRatio);scaleInfo.y=1.0-scaledBorderWidth;}
else
{scaleInfo.x=1.0-scaledBorderWidth;scaleInfo.y=1.0-(scaledBorderWidth*scaleRatio);} 
#endif 
vec4 worldPos=world*vec4(position,1.0);
#ifdef HOVERLIGHT
worldPosition=worldPos.xyz;
#endif
gl_Position=viewProjection*worldPos;}
`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/fluentBackplate/fluentBackplateMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentBackplateMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/fluentBackplate/shaders/fluentBackplate.fragment.ts"),h("../../../dev/gui/src/3D/materials/fluentBackplate/shaders/fluentBackplate.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.BLOB_ENABLE=!0,i.BLOB_ENABLE_2=!0,i.SMOOTH_EDGES=!0,i.IRIDESCENT_MAP_ENABLE=!0,i._needNormals=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.radius=.03,e.lineWidth=.01,e.absoluteSizes=!1,e._filterWidth=1,e.baseColor=new n.Color4(.0392157,.0666667,.207843,1),e.lineColor=new n.Color4(.14902,.133333,.384314,1),e.blobIntensity=.98,e.blobFarSize=.04,e.blobNearDistance=0,e.blobFarDistance=.08,e.blobFadeLength=.08,e.blobNearSize=.22,e.blobPulse=0,e.blobFade=0,e.blobNearSize2=.22,e.blobPulse2=0,e.blobFade2=0,e._rate=.135,e.highlightColor=new n.Color4(.98,.98,.98,1),e.highlightWidth=.25,e._highlightTransform=new n.Vector4(1,1,0,0),e._highlight=1,e.iridescenceIntensity=0,e.iridescenceEdgeIntensity=1,e._angle=-45,e.fadeOut=1,e._reflected=!0,e._frequency=1,e._verticalOffset=0,e.globalLeftIndexTipPosition=n.Vector3.Zero(),e._globalLeftIndexTipPosition4=n.Vector4.Zero(),e.globalRightIndexTipPosition=n.Vector3.Zero(),e._globalRightIndexTipPosition4=n.Vector4.Zero(),e.alphaMode=n.Constants.ALPHA_DISABLE,e.backFaceCulling=!1,e._blobTexture=new n.Texture(a.BLOB_TEXTURE_URL,e.getScene(),!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e._iridescentMap=new n.Texture(a.IM_TEXTURE_URL,e.getScene(),!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e}return a.prototype.needAlphaBlending=function(){return!1},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!1,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="fluentBackplate",p=r.toString(),u=["world","viewProjection","cameraPosition","_Radius_","_Line_Width_","_Absolute_Sizes_","_Filter_Width_","_Base_Color_","_Line_Color_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Rate_","_Highlight_Color_","_Highlight_Width_","_Highlight_Transform_","_Highlight_","_Iridescence_Intensity_","_Iridescence_Edge_Intensity_","_Angle_","_Fade_Out_","_Reflected_","_Frequency_","_Vertical_Offset_","_Iridescent_Map_","_Use_Global_Left_Index_","_Use_Global_Right_Index_","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position"],g=["_Blob_Texture_","_Iridescent_Map_"],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r,this._materialContext)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r,o,s=e.materialDefines;if(s){var l=e.effect;l&&(this._activeEffect=l,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",(o=(r=this.getScene().activeCamera)===null||r===void 0?void 0:r.position)!==null&&o!==void 0?o:n.Vector3.ZeroReadOnly),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Line_Width_",this.lineWidth),this._activeEffect.setFloat("_Absolute_Sizes_",this.absoluteSizes?1:0),this._activeEffect.setFloat("_Filter_Width_",this._filterWidth),this._activeEffect.setDirectColor4("_Base_Color_",this.baseColor),this._activeEffect.setDirectColor4("_Line_Color_",this.lineColor),this._activeEffect.setFloat("_Radius_Top_Left_",1),this._activeEffect.setFloat("_Radius_Top_Right_",1),this._activeEffect.setFloat("_Radius_Bottom_Left_",1),this._activeEffect.setFloat("_Radius_Bottom_Right_",1),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setTexture("_Blob_Texture_",this._blobTexture),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setFloat("_Rate_",this._rate),this._activeEffect.setDirectColor4("_Highlight_Color_",this.highlightColor),this._activeEffect.setFloat("_Highlight_Width_",this.highlightWidth),this._activeEffect.setVector4("_Highlight_Transform_",this._highlightTransform),this._activeEffect.setFloat("_Highlight_",this._highlight),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setFloat("_Iridescence_Edge_Intensity_",this.iridescenceEdgeIntensity),this._activeEffect.setFloat("_Angle_",this._angle),this._activeEffect.setFloat("_Fade_Out_",this.fadeOut),this._activeEffect.setFloat("_Reflected_",this._reflected?1:0),this._activeEffect.setFloat("_Frequency_",this._frequency),this._activeEffect.setFloat("_Vertical_Offset_",this._verticalOffset),this._activeEffect.setTexture("_Iridescent_Map_",this._iridescentMap),this._activeEffect.setFloat("_Use_Global_Left_Index_",1),this._activeEffect.setFloat("_Use_Global_Right_Index_",1),this._globalLeftIndexTipPosition4.set(this.globalLeftIndexTipPosition.x,this.globalLeftIndexTipPosition.y,this.globalLeftIndexTipPosition.z,1),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",this._globalLeftIndexTipPosition4),this._globalRightIndexTipPosition4.set(this.globalRightIndexTipPosition.x,this.globalRightIndexTipPosition.y,this.globalRightIndexTipPosition.z,1),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",this._globalRightIndexTipPosition4),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i),this._blobTexture.dispose(),this._iridescentMap.dispose()},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=f.prototype.serialize.call(this);return i.customType="BABYLON.FluentBackplateMaterial",i},a.prototype.getClassName=function(){return"FluentBackplateMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},a.BLOB_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/mrtk-fluent-backplate-blob.png",a.IM_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/mrtk-fluent-backplate-iridescence.png",(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"lineWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"absoluteSizes",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"baseColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"lineColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"highlightColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"highlightWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceEdgeIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"fadeOut",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"globalLeftIndexTipPosition",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"globalRightIndexTipPosition",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.FluentBackplateMaterial",v)},"../../../dev/gui/src/3D/materials/fluentBackplate/index.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentBackplateMaterial:()=>_.FluentBackplateMaterial});var _=h("../../../dev/gui/src/3D/materials/fluentBackplate/fluentBackplateMaterial.ts")},"../../../dev/gui/src/3D/materials/fluentBackplate/shaders/fluentBackplate.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{fluentBackplatePixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="fluentBackplatePixelShader",m=`uniform vec3 cameraPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;uniform float _Radius_;uniform float _Line_Width_;uniform bool _Absolute_Sizes_;uniform float _Filter_Width_;uniform vec4 _Base_Color_;uniform vec4 _Line_Color_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform float _Rate_;uniform vec4 _Highlight_Color_;uniform float _Highlight_Width_;uniform vec4 _Highlight_Transform_;uniform float _Highlight_;uniform float _Iridescence_Intensity_;uniform float _Iridescence_Edge_Intensity_;uniform float _Angle_;uniform float _Fade_Out_;uniform bool _Reflected_;uniform float _Frequency_;uniform float _Vertical_Offset_;uniform sampler2D _Iridescent_Map_;uniform bool _Use_Global_Left_Index_;uniform bool _Use_Global_Right_Index_;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;void Round_Rect_Fragment_B31(
float Radius,
float Line_Width,
vec4 Line_Color,
float Filter_Width,
vec2 UV,
float Line_Visibility,
vec4 Rect_Parms,
vec4 Fill_Color,
out vec4 Color)
{float d=length(max(abs(UV)-Rect_Parms.xy,0.0));float dx=max(fwidth(d)*Filter_Width,0.00001);float g=min(Rect_Parms.z,Rect_Parms.w);float dgrad=max(fwidth(g)*Filter_Width,0.00001);float Inside_Rect=clamp(g/dgrad,0.0,1.0);float inner=clamp((d+dx*0.5-max(Radius-Line_Width,d-dx*0.5))/dx,0.0,1.0);Color=clamp(mix(Fill_Color,Line_Color,inner),0.0,1.0)*Inside_Rect;}
void Blob_Fragment_B71(
sampler2D Blob_Texture,
vec4 Blob_Info1,
vec4 Blob_Info2,
out vec4 Blob_Color)
{float k1=dot(Blob_Info1.xy,Blob_Info1.xy);float k2=dot(Blob_Info2.xy,Blob_Info2.xy);vec3 closer=k1<k2 ? vec3(k1,Blob_Info1.z,Blob_Info1.w) : vec3(k2,Blob_Info2.z,Blob_Info2.w);Blob_Color=closer.z*texture(Blob_Texture,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);}
void Line_Fragment_B48(
vec4 Base_Color,
vec4 Highlight_Color,
float Highlight_Width,
vec3 Line_Vertex,
float Highlight,
out vec4 Line_Color)
{float k2=1.0-clamp(abs(Line_Vertex.y/Highlight_Width),0.0,1.0);Line_Color=mix(Base_Color,Highlight_Color,Highlight*k2);}
void Scale_RGB_B54(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=vec4(Scalar,Scalar,Scalar,1)*Color;}
void Conditional_Float_B38(
bool Which,
float If_True,
float If_False,
out float Result)
{Result=Which ? If_True : If_False;}
void main()
{float R_Q72;float G_Q72;float B_Q72;float A_Q72;R_Q72=vColor.r; G_Q72=vColor.g; B_Q72=vColor.b; A_Q72=vColor.a;vec4 Blob_Color_Q71;
#if BLOB_ENABLE
float k1=dot(vExtra2.xy,vExtra2.xy);float k2=dot(vExtra3.xy,vExtra3.xy);vec3 closer=k1<k2 ? vec3(k1,vExtra2.z,vExtra2.w) : vec3(k2,vExtra3.z,vExtra3.w);Blob_Color_Q71=closer.z*texture(_Blob_Texture_,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);
#else
Blob_Color_Q71=vec4(0,0,0,0);
#endif
vec4 Line_Color_Q48;Line_Fragment_B48(_Line_Color_,_Highlight_Color_,_Highlight_Width_,vTangent,_Highlight_,Line_Color_Q48);float X_Q67;float Y_Q67;X_Q67=vUV.x;Y_Q67=vUV.y;vec3 Incident_Q66=normalize(vPosition-cameraPosition);vec3 Reflected_Q60=reflect(Incident_Q66,vBinormal);float Product_Q63=Y_Q67*_Vertical_Offset_;float Dot_Q68=dot(Incident_Q66, Reflected_Q60);float Dot_Q57=dot(vNormal, Incident_Q66);float Result_Q38;Conditional_Float_B38(_Reflected_,Dot_Q68,Dot_Q57,Result_Q38);float Product_Q64=Result_Q38*_Frequency_;float Sum_Q69=Product_Q64+1.0;float Product_Q70=Sum_Q69*0.5;float Sum_Q62=Product_Q63+Product_Q70;float FractF_Q59=fract(Sum_Q62);vec2 Vec2_Q65=vec2(FractF_Q59,0.5);vec4 Color_Q58;
#if IRIDESCENT_MAP_ENABLE
Color_Q58=texture(_Iridescent_Map_,Vec2_Q65);
#else
Color_Q58=vec4(0,0,0,0);
#endif
vec4 Result_Q54;Scale_RGB_B54(Color_Q58,_Iridescence_Edge_Intensity_,Result_Q54);vec4 Result_Q55;Scale_RGB_B54(Color_Q58,_Iridescence_Intensity_,Result_Q55);vec4 Base_And_Iridescent_Q53;Base_And_Iridescent_Q53=Line_Color_Q48+vec4(Result_Q54.rgb,0.0);vec4 Base_And_Iridescent_Q56;Base_And_Iridescent_Q56=_Base_Color_+vec4(Result_Q55.rgb,0.0);vec4 Result_Q52=Base_And_Iridescent_Q53; Result_Q52.a=1.0;vec4 Result_Q35=Blob_Color_Q71+(1.0-Blob_Color_Q71.a)*Base_And_Iridescent_Q56;vec4 Color_Q31;Round_Rect_Fragment_B31(R_Q72,G_Q72,Result_Q52,_Filter_Width_,vUV,1.0,vExtra1,Result_Q35,Color_Q31);vec4 Result_Q47=_Fade_Out_*Color_Q31;vec4 Out_Color=Result_Q47;float Clip_Threshold=0.001;bool To_sRGB=false;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/fluentBackplate/shaders/fluentBackplate.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{fluentBackplateVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="fluentBackplateVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;
#ifdef TANGENT
attribute vec3 tangent;
#else
const vec3 tangent=vec3(0.);
#endif
uniform float _Radius_;uniform float _Line_Width_;uniform bool _Absolute_Sizes_;uniform float _Filter_Width_;uniform vec4 _Base_Color_;uniform vec4 _Line_Color_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform float _Rate_;uniform vec4 _Highlight_Color_;uniform float _Highlight_Width_;uniform vec4 _Highlight_Transform_;uniform float _Highlight_;uniform float _Iridescence_Intensity_;uniform float _Iridescence_Edge_Intensity_;uniform float _Angle_;uniform float _Fade_Out_;uniform bool _Reflected_;uniform float _Frequency_;uniform float _Vertical_Offset_;uniform sampler2D _Iridescent_Map_;uniform bool _Use_Global_Left_Index_;uniform bool _Use_Global_Right_Index_;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;void Object_To_World_Pos_B115(
vec3 Pos_Object,
out vec3 Pos_World)
{Pos_World=(world*vec4(Pos_Object,1.0)).xyz;}
void PickDir_B140(
float Degrees,
vec3 DirX,
vec3 DirY,
out vec3 Dir)
{float a=Degrees*3.14159/180.0;Dir=cos(a)*DirX+sin(a)*DirY;}
void Round_Rect_Vertex_B139(
vec2 UV,
float Radius,
float Margin,
float Anisotropy,
float Gradient1,
float Gradient2,
out vec2 Rect_UV,
out vec4 Rect_Parms,
out vec2 Scale_XY,
out vec2 Line_UV)
{Scale_XY=vec2(Anisotropy,1.0);Line_UV=(UV-vec2(0.5,0.5));Rect_UV=Line_UV*Scale_XY;Rect_Parms.xy=Scale_XY*0.5-vec2(Radius,Radius)-vec2(Margin,Margin);Rect_Parms.z=Gradient1; 
Rect_Parms.w=Gradient2;}
void Line_Vertex_B135(
vec2 Scale_XY,
vec2 UV,
float Time,
float Rate,
vec4 Highlight_Transform,
out vec3 Line_Vertex)
{float angle2=(Rate*Time)*2.0*3.1416;float sinAngle2=sin(angle2);float cosAngle2=cos(angle2);vec2 xformUV=UV*Highlight_Transform.xy+Highlight_Transform.zw;Line_Vertex.x=0.0;Line_Vertex.y=cosAngle2*xformUV.x-sinAngle2*xformUV.y;Line_Vertex.z=0.0; }
void Blob_Vertex_B180(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
float Blob_Fade_Length,
float Blob_Pulse,
float Blob_Fade,
out vec4 Blob_Info)
{vec3 blob=Blob_Position;vec3 delta=blob-Position;float dist=dot(Normal,delta);float lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);float fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;vec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);float Fade=fadeValue*Intensity*Blob_Fade;float Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);Blob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);}
void Move_Verts_B129(
float Anisotropy,
vec3 P,
float Radius,
out vec3 New_P,
out vec2 New_UV,
out float Radial_Gradient,
out vec3 Radial_Dir)
{vec2 UV=P.xy*2.0+0.5;vec2 center=clamp(UV,0.0,1.0);vec2 delta=UV-center;vec2 r2=2.0*vec2(Radius/Anisotropy,Radius);New_UV=center+r2*(UV-2.0*center+0.5);New_P=vec3(New_UV-0.5,P.z);Radial_Gradient=1.0-length(delta)*2.0;Radial_Dir=vec3(delta*r2,0.0);}
void Object_To_World_Dir_B132(
vec3 Dir_Object,
out vec3 Binormal_World,
out vec3 Binormal_World_N,
out float Binormal_Length)
{Binormal_World=(world*vec4(Dir_Object,0.0)).xyz;Binormal_Length=length(Binormal_World);Binormal_World_N=Binormal_World/Binormal_Length;}
void RelativeOrAbsoluteDetail_B147(
float Nominal_Radius,
float Nominal_LineWidth,
bool Absolute_Measurements,
float Height,
out float Radius,
out float Line_Width)
{float scale=Absolute_Measurements ? 1.0/Height : 1.0;Radius=Nominal_Radius*scale;Line_Width=Nominal_LineWidth*scale;}
void Edge_AA_Vertex_B130(
vec3 Position_World,
vec3 Position_Object,
vec3 Normal_Object,
vec3 Eye,
float Radial_Gradient,
vec3 Radial_Dir,
vec3 Tangent,
out float Gradient1,
out float Gradient2)
{vec3 I=(Eye-Position_World);vec3 T=(world* vec4(Tangent,0.0)).xyz;float g=(dot(T,I)<0.0) ? 0.0 : 1.0;if (Normal_Object.z==0.0) { 
Gradient1=Position_Object.z>0.0 ? g : 1.0;Gradient2=Position_Object.z>0.0 ? 1.0 : g;} else {Gradient1=g+(1.0-g)*(Radial_Gradient);Gradient2=1.0;}}
void Pick_Radius_B144(
float Radius,
float Radius_Top_Left,
float Radius_Top_Right,
float Radius_Bottom_Left,
float Radius_Bottom_Right,
vec3 Position,
out float Result)
{bool whichY=Position.y>0.0;Result=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);Result*=Radius;}
void main()
{vec3 Nrm_World_Q128;Nrm_World_Q128=normalize((world*vec4(normal,0.0)).xyz);vec3 Tangent_World_Q131;vec3 Tangent_World_N_Q131;float Tangent_Length_Q131;Tangent_World_Q131=(world*vec4(vec3(1,0,0),0.0)).xyz;Tangent_Length_Q131=length(Tangent_World_Q131);Tangent_World_N_Q131=Tangent_World_Q131/Tangent_Length_Q131;vec3 Binormal_World_Q132;vec3 Binormal_World_N_Q132;float Binormal_Length_Q132;Object_To_World_Dir_B132(vec3(0,1,0),Binormal_World_Q132,Binormal_World_N_Q132,Binormal_Length_Q132);float Anisotropy_Q133=Tangent_Length_Q131/Binormal_Length_Q132;vec3 Result_Q177;Result_Q177=mix(_Blob_Position_,Global_Left_Index_Tip_Position.xyz,float(_Use_Global_Left_Index_));vec3 Result_Q178;Result_Q178=mix(_Blob_Position_2_,Global_Right_Index_Tip_Position.xyz,float(_Use_Global_Right_Index_));float Result_Q144;Pick_Radius_B144(_Radius_,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q144);vec3 Dir_Q140;PickDir_B140(_Angle_,Tangent_World_N_Q131,Binormal_World_N_Q132,Dir_Q140);float Radius_Q147;float Line_Width_Q147;RelativeOrAbsoluteDetail_B147(Result_Q144,_Line_Width_,_Absolute_Sizes_,Binormal_Length_Q132,Radius_Q147,Line_Width_Q147);vec4 Out_Color_Q145=vec4(Radius_Q147,Line_Width_Q147,0,1);vec3 New_P_Q129;vec2 New_UV_Q129;float Radial_Gradient_Q129;vec3 Radial_Dir_Q129;Move_Verts_B129(Anisotropy_Q133,position,Radius_Q147,New_P_Q129,New_UV_Q129,Radial_Gradient_Q129,Radial_Dir_Q129);vec3 Pos_World_Q115;Object_To_World_Pos_B115(New_P_Q129,Pos_World_Q115);vec4 Blob_Info_Q180;
#if BLOB_ENABLE
Blob_Vertex_B180(Pos_World_Q115,Nrm_World_Q128,Tangent_World_N_Q131,Binormal_World_N_Q132,Result_Q177,_Blob_Intensity_,_Blob_Near_Size_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_,_Blob_Fade_,Blob_Info_Q180);
#else
Blob_Info_Q180=vec4(0,0,0,0);
#endif
vec4 Blob_Info_Q181;
#if BLOB_ENABLE_2
Blob_Vertex_B180(Pos_World_Q115,Nrm_World_Q128,Tangent_World_N_Q131,Binormal_World_N_Q132,Result_Q178,_Blob_Intensity_,_Blob_Near_Size_2_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_2_,_Blob_Fade_2_,Blob_Info_Q181);
#else
Blob_Info_Q181=vec4(0,0,0,0);
#endif
float Gradient1_Q130;float Gradient2_Q130;
#if SMOOTH_EDGES
Edge_AA_Vertex_B130(Pos_World_Q115,position,normal,cameraPosition,Radial_Gradient_Q129,Radial_Dir_Q129,tangent,Gradient1_Q130,Gradient2_Q130);
#else
Gradient1_Q130=1.0;Gradient2_Q130=1.0;
#endif
vec2 Rect_UV_Q139;vec4 Rect_Parms_Q139;vec2 Scale_XY_Q139;vec2 Line_UV_Q139;Round_Rect_Vertex_B139(New_UV_Q129,Radius_Q147,0.0,Anisotropy_Q133,Gradient1_Q130,Gradient2_Q130,Rect_UV_Q139,Rect_Parms_Q139,Scale_XY_Q139,Line_UV_Q139);vec3 Line_Vertex_Q135;Line_Vertex_B135(Scale_XY_Q139,Line_UV_Q139,0.0,_Rate_,_Highlight_Transform_,Line_Vertex_Q135);vec3 Position=Pos_World_Q115;vec3 Normal=Dir_Q140;vec2 UV=Rect_UV_Q139;vec3 Tangent=Line_Vertex_Q135;vec3 Binormal=Nrm_World_Q128;vec4 Color=Out_Color_Q145;vec4 Extra1=Rect_Parms_Q139;vec4 Extra2=Blob_Info_Q180;vec4 Extra3=Blob_Info_Q181;gl_Position=viewProjection*vec4(Position,1);vPosition=Position;vNormal=Normal;vUV=UV;vTangent=Tangent;vBinormal=Binormal;vColor=Color;vExtra1=Extra1;vExtra2=Extra2;vExtra3=Extra3;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/fluentButton/fluentButtonMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentButtonMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/fluentButton/shaders/fluentButton.fragment.ts"),h("../../../dev/gui/src/3D/materials/fluentButton/shaders/fluentButton.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.RELATIVE_WIDTH=!0,i.ENABLE_FADE=!0,i._needNormals=!0,i._needUVs=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.edgeWidth=.04,e.edgeColor=new n.Color4(.592157,.592157,.592157,1),e.proximityMaxIntensity=.45,e.proximityFarDistance=.16,e.proximityNearRadius=1.5,e.proximityAnisotropy=1,e.selectionFuzz=.5,e.selected=0,e.selectionFade=0,e.selectionFadeSize=.3,e.selectedDistance=.08,e.selectedFadeLength=.08,e.blobIntensity=.5,e.blobFarSize=.05,e.blobNearDistance=0,e.blobFarDistance=.08,e.blobFadeLength=.08,e.leftBlobEnable=!0,e.leftBlobNearSize=.025,e.leftBlobPulse=0,e.leftBlobFade=1,e.leftBlobInnerFade=.01,e.rightBlobEnable=!0,e.rightBlobNearSize=.025,e.rightBlobPulse=0,e.rightBlobFade=1,e.rightBlobInnerFade=.01,e.activeFaceDir=new n.Vector3(0,0,-1),e.activeFaceUp=new n.Vector3(0,1,0),e.enableFade=!0,e.fadeWidth=1.5,e.smoothActiveFace=!0,e.showFrame=!1,e.useBlobTexture=!0,e.globalLeftIndexTipPosition=n.Vector3.Zero(),e.globalRightIndexTipPosition=n.Vector3.Zero(),e.alphaMode=n.Constants.ALPHA_ADD,e.disableDepthWrite=!0,e.backFaceCulling=!1,e._blobTexture=new n.Texture(a.BLOB_TEXTURE_URL,e.getScene(),!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e}return a.prototype.needAlphaBlending=function(){return!0},a.prototype.needAlphaTesting=function(){return!0},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!0,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="fluentButton",p=r.toString(),u=["world","viewProjection","cameraPosition","_Edge_Width_","_Edge_Color_","_Relative_Width_","_Proximity_Max_Intensity_","_Proximity_Far_Distance_","_Proximity_Near_Radius_","_Proximity_Anisotropy_","_Selection_Fuzz_","_Selected_","_Selection_Fade_","_Selection_Fade_Size_","_Selected_Distance_","_Selected_Fade_Length_","_Blob_Enable_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Inner_Fade_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Enable_2_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Inner_Fade_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Active_Face_Dir_","_Active_Face_Up_","_Enable_Fade_","_Fade_Width_","_Smooth_Active_Face_","_Show_Frame_","_Use_Blob_Texture_","Use_Global_Left_Index","Use_Global_Right_Index","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","Global_Left_Thumb_Tip_Position","Global_Right_Thumb_Tip_Position","Global_Left_Index_Tip_Proximity","Global_Right_Index_Tip_Proximity"],g=["_Blob_Texture_"],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r,this._materialContext)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=this.getScene(),o=e.materialDefines;if(o){var s=e.effect;s&&(this._activeEffect=s,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",r.getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",r.activeCamera.position),this._activeEffect.setTexture("_Blob_Texture_",this._blobTexture),this._activeEffect.setFloat("_Edge_Width_",this.edgeWidth),this._activeEffect.setColor4("_Edge_Color_",new n.Color3(this.edgeColor.r,this.edgeColor.g,this.edgeColor.b),this.edgeColor.a),this._activeEffect.setFloat("_Proximity_Max_Intensity_",this.proximityMaxIntensity),this._activeEffect.setFloat("_Proximity_Far_Distance_",this.proximityFarDistance),this._activeEffect.setFloat("_Proximity_Near_Radius_",this.proximityNearRadius),this._activeEffect.setFloat("_Proximity_Anisotropy_",this.proximityAnisotropy),this._activeEffect.setFloat("_Selection_Fuzz_",this.selectionFuzz),this._activeEffect.setFloat("_Selected_",this.selected),this._activeEffect.setFloat("_Selection_Fade_",this.selectionFade),this._activeEffect.setFloat("_Selection_Fade_Size_",this.selectionFadeSize),this._activeEffect.setFloat("_Selected_Distance_",this.selectedDistance),this._activeEffect.setFloat("_Selected_Fade_Length_",this.selectedFadeLength),this._activeEffect.setFloat("_Blob_Enable_",this.leftBlobEnable?1:0),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.leftBlobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Inner_Fade_",this.leftBlobInnerFade),this._activeEffect.setFloat("_Blob_Pulse_",this.leftBlobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.leftBlobFade),this._activeEffect.setFloat("_Blob_Enable_2_",this.rightBlobEnable?1:0),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.rightBlobNearSize),this._activeEffect.setFloat("_Blob_Inner_Fade_2_",this.rightBlobInnerFade),this._activeEffect.setFloat("_Blob_Pulse_2_",this.rightBlobPulse),this._activeEffect.setFloat("_Blob_Fade_2_",this.rightBlobFade),this._activeEffect.setVector3("_Active_Face_Dir_",this.activeFaceDir),this._activeEffect.setVector3("_Active_Face_Up_",this.activeFaceUp),this._activeEffect.setFloat("_Fade_Width_",this.fadeWidth),this._activeEffect.setFloat("_Smooth_Active_Face_",this.smoothActiveFace?1:0),this._activeEffect.setFloat("_Show_Frame_",this.showFrame?1:0),this._activeEffect.setFloat("_Use_Blob_Texture_",this.useBlobTexture?1:0),this._activeEffect.setFloat("Use_Global_Left_Index",1),this._activeEffect.setFloat("Use_Global_Right_Index",1),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",new n.Vector4(this.globalLeftIndexTipPosition.x,this.globalLeftIndexTipPosition.y,this.globalLeftIndexTipPosition.z,1)),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",new n.Vector4(this.globalRightIndexTipPosition.x,this.globalRightIndexTipPosition.y,this.globalRightIndexTipPosition.z,1)),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i)},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=f.prototype.serialize.call(this);return i.customType="BABYLON.FluentButtonMaterial",i},a.prototype.getClassName=function(){return"FluentButtonMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},a.BLOB_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/mrtk-fluent-button-blob.png",(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeWidth",void 0),(0,_.__decorate)([(0,n.serializeAsColor4)()],a.prototype,"edgeColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityMaxIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityNearRadius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityAnisotropy",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectionFuzz",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selected",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectionFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectionFadeSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectedDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectedFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftBlobEnable",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftBlobNearSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftBlobPulse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftBlobFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftBlobInnerFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightBlobEnable",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightBlobNearSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightBlobPulse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightBlobFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightBlobInnerFade",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"activeFaceDir",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"activeFaceUp",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"enableFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"fadeWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"smoothActiveFace",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"showFrame",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"useBlobTexture",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"globalLeftIndexTipPosition",void 0),(0,_.__decorate)([(0,n.serializeAsVector3)()],a.prototype,"globalRightIndexTipPosition",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.FluentButtonMaterial",v)},"../../../dev/gui/src/3D/materials/fluentButton/index.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentButtonMaterial:()=>_.FluentButtonMaterial});var _=h("../../../dev/gui/src/3D/materials/fluentButton/fluentButtonMaterial.ts")},"../../../dev/gui/src/3D/materials/fluentButton/shaders/fluentButton.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{fluentButtonPixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="fluentButtonPixelShader",m=`uniform vec3 cameraPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;uniform float _Edge_Width_;uniform vec4 _Edge_Color_;uniform bool _Relative_Width_;uniform float _Proximity_Max_Intensity_;uniform float _Proximity_Far_Distance_;uniform float _Proximity_Near_Radius_;uniform float _Proximity_Anisotropy_;uniform float _Selection_Fuzz_;uniform float _Selected_;uniform float _Selection_Fade_;uniform float _Selection_Fade_Size_;uniform float _Selected_Distance_;uniform float _Selected_Fade_Length_;uniform bool _Blob_Enable_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Inner_Fade_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform bool _Blob_Enable_2_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Inner_Fade_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform vec3 _Active_Face_Dir_;uniform vec3 _Active_Face_Up_;uniform bool Enable_Fade;uniform float _Fade_Width_;uniform bool _Smooth_Active_Face_;uniform bool _Show_Frame_;uniform bool _Use_Blob_Texture_;uniform bool Use_Global_Left_Index;uniform bool Use_Global_Right_Index;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;uniform vec4 Global_Left_Thumb_Tip_Position;uniform vec4 Global_Right_Thumb_Tip_Position;uniform float Global_Left_Index_Tip_Proximity;uniform float Global_Right_Index_Tip_Proximity;void Holo_Edge_Fragment_B35(
vec4 Edges,
float Edge_Width,
out float NotEdge)
{vec2 c=vec2(min(Edges.r,Edges.g),min(Edges.b,Edges.a));vec2 df=fwidth(c)*Edge_Width;vec2 g=clamp(c/df,0.0,1.0);NotEdge=g.x*g.y;}
void Blob_Fragment_B39(
vec2 UV,
vec3 Blob_Info,
sampler2D Blob_Texture,
out vec4 Blob_Color)
{float k=dot(UV,UV);Blob_Color=Blob_Info.y*texture(Blob_Texture,vec2(vec2(sqrt(k),Blob_Info.x).x,1.0-vec2(sqrt(k),Blob_Info.x).y))*(1.0-clamp(k,0.0,1.0));}
vec2 FilterStep(vec2 Edge,vec2 X)
{vec2 dX=max(fwidth(X),vec2(0.00001,0.00001));return clamp( (X+dX-max(Edge,X-dX))/(dX*2.0),0.0,1.0);}
void Wireframe_Fragment_B59(
vec3 Widths,
vec2 UV,
float Proximity,
vec4 Edge_Color,
out vec4 Wireframe)
{vec2 c=min(UV,vec2(1.0,1.0)-UV);vec2 g=FilterStep(Widths.xy*0.5,c); 
Wireframe=(1.0-min(g.x,g.y))*Proximity*Edge_Color;}
void Proximity_B53(
vec3 Proximity_Center,
vec3 Proximity_Center_2,
float Proximity_Max_Intensity,
float Proximity_Near_Radius,
vec3 Position,
vec3 Show_Selection,
vec4 Extra1,
float Dist_To_Face,
float Intensity,
out float Proximity)
{vec2 delta1=Extra1.xy;vec2 delta2=Extra1.zw;float d2=sqrt(min(dot(delta1,delta1),dot(delta2,delta2))+Dist_To_Face*Dist_To_Face);Proximity=Intensity*Proximity_Max_Intensity*(1.0-clamp(d2/Proximity_Near_Radius,0.0,1.0))*(1.0-Show_Selection.x)+Show_Selection.x;}
void To_XYZ_B46(
vec3 Vec3,
out float X,
out float Y,
out float Z)
{X=Vec3.x;Y=Vec3.y;Z=Vec3.z;}
void main()
{float NotEdge_Q35;
#if ENABLE_FADE
Holo_Edge_Fragment_B35(vColor,_Fade_Width_,NotEdge_Q35);
#else
NotEdge_Q35=1.0;
#endif
vec4 Blob_Color_Q39;float k=dot(vUV,vUV);vec2 blobTextureCoord=vec2(vec2(sqrt(k),vTangent.x).x,1.0-vec2(sqrt(k),vTangent.x).y);vec4 blobColor=mix(vec4(1.0,1.0,1.0,1.0)*step(1.0-vTangent.x,clamp(sqrt(k)+0.1,0.0,1.0)),texture(_Blob_Texture_,blobTextureCoord),float(_Use_Blob_Texture_));Blob_Color_Q39=vTangent.y*blobColor*(1.0-clamp(k,0.0,1.0));float Is_Quad_Q24;Is_Quad_Q24=vNormal.z;vec3 Blob_Position_Q41= mix(_Blob_Position_,Global_Left_Index_Tip_Position.xyz,float(Use_Global_Left_Index));vec3 Blob_Position_Q42= mix(_Blob_Position_2_,Global_Right_Index_Tip_Position.xyz,float(Use_Global_Right_Index));float X_Q46;float Y_Q46;float Z_Q46;To_XYZ_B46(vBinormal,X_Q46,Y_Q46,Z_Q46);float Proximity_Q53;Proximity_B53(Blob_Position_Q41,Blob_Position_Q42,_Proximity_Max_Intensity_,_Proximity_Near_Radius_,vPosition,vBinormal,vExtra1,Y_Q46,Z_Q46,Proximity_Q53);vec4 Wireframe_Q59;Wireframe_Fragment_B59(vNormal,vUV,Proximity_Q53,_Edge_Color_,Wireframe_Q59);vec4 Wire_Or_Blob_Q23=mix(Wireframe_Q59,Blob_Color_Q39,Is_Quad_Q24);vec4 Result_Q22;Result_Q22=mix(Wire_Or_Blob_Q23,vec4(0.3,0.3,0.3,0.3),float(_Show_Frame_));vec4 Final_Color_Q37=NotEdge_Q35*Result_Q22;vec4 Out_Color=Final_Color_Q37;float Clip_Threshold=0.0;bool To_sRGB=false;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/fluentButton/shaders/fluentButton.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{fluentButtonVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="fluentButtonVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec3 tangent;attribute vec4 color;uniform float _Edge_Width_;uniform vec4 _Edge_Color_;uniform float _Proximity_Max_Intensity_;uniform float _Proximity_Far_Distance_;uniform float _Proximity_Near_Radius_;uniform float _Proximity_Anisotropy_;uniform float _Selection_Fuzz_;uniform float _Selected_;uniform float _Selection_Fade_;uniform float _Selection_Fade_Size_;uniform float _Selected_Distance_;uniform float _Selected_Fade_Length_;uniform bool _Blob_Enable_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Inner_Fade_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform bool _Blob_Enable_2_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Inner_Fade_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform vec3 _Active_Face_Dir_;uniform vec3 _Active_Face_Up_;uniform bool _Enable_Fade_;uniform float _Fade_Width_;uniform bool _Smooth_Active_Face_;uniform bool _Show_Frame_;uniform bool Use_Global_Left_Index;uniform bool Use_Global_Right_Index;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;uniform vec4 Global_Left_Thumb_Tip_Position;uniform vec4 Global_Right_Thumb_Tip_Position;uniform float Global_Left_Index_Tip_Proximity;uniform float Global_Right_Index_Tip_Proximity;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;void Blob_Vertex_B47(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
vec4 Vx_Color,
vec2 UV,
vec3 Face_Center,
vec2 Face_Size,
vec2 In_UV,
float Blob_Fade_Length,
float Selection_Fade,
float Selection_Fade_Size,
float Inner_Fade,
vec3 Active_Face_Center,
float Blob_Pulse,
float Blob_Fade,
float Blob_Enabled,
out vec3 Out_Position,
out vec2 Out_UV,
out vec3 Blob_Info)
{float blobSize,fadeIn;vec3 Hit_Position;Blob_Info=vec3(0.0,0.0,0.0);float Hit_Distance=dot(Blob_Position-Face_Center,Normal);Hit_Position=Blob_Position-Hit_Distance*Normal;float absD=abs(Hit_Distance);float lerpVal=clamp((absD-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);fadeIn=1.0-clamp((absD-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float innerFade=1.0-clamp(-Hit_Distance/Inner_Fade,0.0,1.0);float farClip=clamp(1.0-step(Blob_Far_Distance+Blob_Fade_Length,absD),0.0,1.0);float size=mix(Blob_Near_Size,Blob_Far_Size,lerpVal)*farClip;blobSize=mix(size,Selection_Fade_Size,Selection_Fade)*innerFade*Blob_Enabled;Blob_Info.x=lerpVal*0.5+0.5;Blob_Info.y=fadeIn*Intensity*(1.0-Selection_Fade)*Blob_Fade;Blob_Info.x*=(1.0-Blob_Pulse);vec3 delta=Hit_Position-Face_Center;vec2 blobCenterXY=vec2(dot(delta,Tangent),dot(delta,Bitangent));vec2 quadUVin=2.0*UV-1.0; 
vec2 blobXY=blobCenterXY+quadUVin*blobSize;vec2 blobClipped=clamp(blobXY,-Face_Size*0.5,Face_Size*0.5);vec2 blobUV=(blobClipped-blobCenterXY)/max(blobSize,0.0001)*2.0;vec3 blobCorner=Face_Center+blobClipped.x*Tangent+blobClipped.y*Bitangent;Out_Position=mix(Position,blobCorner,Vx_Color.rrr);Out_UV=mix(In_UV,blobUV,Vx_Color.rr);}
vec2 ProjectProximity(
vec3 blobPosition,
vec3 position,
vec3 center,
vec3 dir,
vec3 xdir,
vec3 ydir,
out float vdistance
)
{vec3 delta=blobPosition-position;vec2 xy=vec2(dot(delta,xdir),dot(delta,ydir));vdistance=abs(dot(delta,dir));return xy;}
void Proximity_Vertex_B66(
vec3 Blob_Position,
vec3 Blob_Position_2,
vec3 Active_Face_Center,
vec3 Active_Face_Dir,
vec3 Position,
float Proximity_Far_Distance,
float Relative_Scale,
float Proximity_Anisotropy,
vec3 Up,
out vec4 Extra1,
out float Distance_To_Face,
out float Intensity)
{vec3 Active_Face_Dir_X=normalize(cross(Active_Face_Dir,Up));vec3 Active_Face_Dir_Y=cross(Active_Face_Dir,Active_Face_Dir_X);float distz1,distz2;Extra1.xy=ProjectProximity(Blob_Position,Position,Active_Face_Center,Active_Face_Dir,Active_Face_Dir_X*Proximity_Anisotropy,Active_Face_Dir_Y,distz1)/Relative_Scale;Extra1.zw=ProjectProximity(Blob_Position_2,Position,Active_Face_Center,Active_Face_Dir,Active_Face_Dir_X*Proximity_Anisotropy,Active_Face_Dir_Y,distz2)/Relative_Scale;Distance_To_Face=dot(Active_Face_Dir,Position-Active_Face_Center);Intensity=1.0-clamp(min(distz1,distz2)/Proximity_Far_Distance,0.0,1.0);}
void Holo_Edge_Vertex_B44(
vec3 Incident,
vec3 Normal,
vec2 UV,
vec3 Tangent,
vec3 Bitangent,
bool Smooth_Active_Face,
float Active,
out vec4 Holo_Edges)
{float NdotI=dot(Incident,Normal);vec2 flip=(UV-vec2(0.5,0.5));float udot=dot(Incident,Tangent)*flip.x*NdotI;float uval=1.0-float(udot>0.0);float vdot=-dot(Incident,Bitangent)*flip.y*NdotI;float vval=1.0-float(vdot>0.0);float Smooth_And_Active=step(1.0,float(Smooth_Active_Face && Active>0.0));uval=mix(uval,max(1.0,uval),Smooth_And_Active); 
vval=mix(vval,max(1.0,vval),Smooth_And_Active);Holo_Edges=vec4(1.0,1.0,1.0,1.0)-vec4(uval*UV.x,uval*(1.0-UV.x),vval*UV.y,vval*(1.0-UV.y));}
void Object_To_World_Pos_B13(
vec3 Pos_Object,
out vec3 Pos_World)
{Pos_World=(world*vec4(Pos_Object,1.0)).xyz;}
void Choose_Blob_B38(
vec4 Vx_Color,
vec3 Position1,
vec3 Position2,
bool Blob_Enable_1,
bool Blob_Enable_2,
float Near_Size_1,
float Near_Size_2,
float Blob_Inner_Fade_1,
float Blob_Inner_Fade_2,
float Blob_Pulse_1,
float Blob_Pulse_2,
float Blob_Fade_1,
float Blob_Fade_2,
out vec3 Position,
out float Near_Size,
out float Inner_Fade,
out float Blob_Enable,
out float Fade,
out float Pulse)
{Position=Position1*(1.0-Vx_Color.g)+Vx_Color.g*Position2;float b1=float(Blob_Enable_1);float b2=float(Blob_Enable_2);Blob_Enable=b1+(b2-b1)*Vx_Color.g;Pulse=Blob_Pulse_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Pulse_2;Fade=Blob_Fade_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Fade_2;Near_Size=Near_Size_1*(1.0-Vx_Color.g)+Vx_Color.g*Near_Size_2;Inner_Fade=Blob_Inner_Fade_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Inner_Fade_2;}
void Wireframe_Vertex_B51(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
float Edge_Width,
vec2 Face_Size,
out vec3 Wire_Vx_Pos,
out vec2 UV,
out vec2 Widths)
{Widths.xy=Edge_Width/Face_Size;float x=dot(Position,Tangent);float y=dot(Position,Bitangent);float dx=0.5-abs(x);float newx=(0.5-dx*Widths.x*2.0)*sign(x);float dy=0.5-abs(y);float newy=(0.5-dy*Widths.y*2.0)*sign(y);Wire_Vx_Pos=Normal*0.5+newx*Tangent+newy*Bitangent;UV.x=dot(Wire_Vx_Pos,Tangent)+0.5;UV.y=dot(Wire_Vx_Pos,Bitangent)+0.5;}
vec2 ramp2(vec2 start,vec2 end,vec2 x)
{return clamp((x-start)/(end-start),vec2(0.0,0.0),vec2(1.0,1.0));}
float computeSelection(
vec3 blobPosition,
vec3 normal,
vec3 tangent,
vec3 bitangent,
vec3 faceCenter,
vec2 faceSize,
float selectionFuzz,
float farDistance,
float fadeLength
)
{vec3 delta=blobPosition-faceCenter;float absD=abs(dot(delta,normal));float fadeIn=1.0-clamp((absD-farDistance)/fadeLength,0.0,1.0);vec2 blobCenterXY=vec2(dot(delta,tangent),dot(delta,bitangent));vec2 innerFace=faceSize*(1.0-selectionFuzz)*0.5;vec2 selectPulse=ramp2(-faceSize*0.5,-innerFace,blobCenterXY)-ramp2(innerFace,faceSize*0.5,blobCenterXY);return selectPulse.x*selectPulse.y*fadeIn;}
void Selection_Vertex_B48(
vec3 Blob_Position,
vec3 Blob_Position_2,
vec3 Face_Center,
vec2 Face_Size,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
float Selection_Fuzz,
float Selected,
float Far_Distance,
float Fade_Length,
vec3 Active_Face_Dir,
out float Show_Selection)
{float select1=computeSelection(Blob_Position,Normal,Tangent,Bitangent,Face_Center,Face_Size,Selection_Fuzz,Far_Distance,Fade_Length);float select2=computeSelection(Blob_Position_2,Normal,Tangent,Bitangent,Face_Center,Face_Size,Selection_Fuzz,Far_Distance,Fade_Length);float Active=max(0.0,dot(Active_Face_Dir,Normal));Show_Selection=mix(max(select1,select2),1.0,Selected)*Active;}
void Proximity_Visibility_B54(
float Selection,
vec3 Proximity_Center,
vec3 Proximity_Center_2,
float Input_Width,
float Proximity_Far_Distance,
float Proximity_Radius,
vec3 Active_Face_Center,
vec3 Active_Face_Dir,
out float Width)
{vec3 boxEdges=(world*vec4(vec3(0.5,0.5,0.5),0.0)).xyz;float boxMaxSize=length(boxEdges);float d1=dot(Proximity_Center-Active_Face_Center,Active_Face_Dir);vec3 blob1=Proximity_Center-d1*Active_Face_Dir;float d2=dot(Proximity_Center_2-Active_Face_Center,Active_Face_Dir);vec3 blob2=Proximity_Center_2-d2*Active_Face_Dir;vec3 delta1=blob1-Active_Face_Center;vec3 delta2=blob2-Active_Face_Center;float dist1=dot(delta1,delta1);float dist2=dot(delta2,delta2);float nearestProxDist=sqrt(min(dist1,dist2));Width=Input_Width*(1.0-step(boxMaxSize+Proximity_Radius,nearestProxDist))*(1.0-step(Proximity_Far_Distance,min(d1,d2))*(1.0-step(0.0001,Selection)));}
void Object_To_World_Dir_B67(
vec3 Dir_Object,
out vec3 Dir_World)
{Dir_World=(world*vec4(Dir_Object,0.0)).xyz;}
void main()
{vec3 Active_Face_Center_Q49;Active_Face_Center_Q49=(world*vec4(_Active_Face_Dir_*0.5,1.0)).xyz;vec3 Blob_Position_Q41= mix(_Blob_Position_,Global_Left_Index_Tip_Position.xyz,float(Use_Global_Left_Index));vec3 Blob_Position_Q42= mix(_Blob_Position_2_,Global_Right_Index_Tip_Position.xyz,float(Use_Global_Right_Index));vec3 Active_Face_Dir_Q64=normalize((world*vec4(_Active_Face_Dir_,0.0)).xyz);float Relative_Scale_Q57;
#if RELATIVE_WIDTH
Relative_Scale_Q57=length((world*vec4(vec3(0,1,0),0.0)).xyz);
#else
Relative_Scale_Q57=1.0;
#endif
vec3 Tangent_World_Q30;Tangent_World_Q30=(world*vec4(tangent,0.0)).xyz;vec3 Binormal_World_Q31;Binormal_World_Q31=(world*vec4((cross(normal,tangent)),0.0)).xyz;vec3 Normal_World_Q60;Normal_World_Q60=(world*vec4(normal,0.0)).xyz;vec3 Result_Q18=0.5*normal;vec3 Dir_World_Q67;Object_To_World_Dir_B67(_Active_Face_Up_,Dir_World_Q67);float Product_Q56=_Edge_Width_*Relative_Scale_Q57;vec3 Normal_World_N_Q29=normalize(Normal_World_Q60);vec3 Tangent_World_N_Q28=normalize(Tangent_World_Q30);vec3 Binormal_World_N_Q32=normalize(Binormal_World_Q31);vec3 Position_Q38;float Near_Size_Q38;float Inner_Fade_Q38;float Blob_Enable_Q38;float Fade_Q38;float Pulse_Q38;Choose_Blob_B38(color,Blob_Position_Q41,Blob_Position_Q42,_Blob_Enable_,_Blob_Enable_2_,_Blob_Near_Size_,_Blob_Near_Size_2_,_Blob_Inner_Fade_,_Blob_Inner_Fade_2_,_Blob_Pulse_,_Blob_Pulse_2_,_Blob_Fade_,_Blob_Fade_2_,Position_Q38,Near_Size_Q38,Inner_Fade_Q38,Blob_Enable_Q38,Fade_Q38,Pulse_Q38);vec3 Face_Center_Q33;Face_Center_Q33=(world*vec4(Result_Q18,1.0)).xyz;vec2 Face_Size_Q50=vec2(length(Tangent_World_Q30),length(Binormal_World_Q31));float Show_Selection_Q48;Selection_Vertex_B48(Blob_Position_Q41,Blob_Position_Q42,Face_Center_Q33,Face_Size_Q50,Normal_World_N_Q29,Tangent_World_N_Q28,Binormal_World_N_Q32,_Selection_Fuzz_,_Selected_,_Selected_Distance_,_Selected_Fade_Length_,Active_Face_Dir_Q64,Show_Selection_Q48);vec3 Normalized_Q72=normalize(Dir_World_Q67);float Active_Q34=max(0.0,dot(Active_Face_Dir_Q64,Normal_World_N_Q29));float Width_Q54;Proximity_Visibility_B54(Show_Selection_Q48,Blob_Position_Q41,Blob_Position_Q42,Product_Q56,_Proximity_Far_Distance_,_Proximity_Near_Radius_,Active_Face_Center_Q49,Active_Face_Dir_Q64,Width_Q54);vec3 Wire_Vx_Pos_Q51;vec2 UV_Q51;vec2 Widths_Q51;Wireframe_Vertex_B51(position,normal,tangent,(cross(normal,tangent)),Width_Q54,Face_Size_Q50,Wire_Vx_Pos_Q51,UV_Q51,Widths_Q51);vec3 Vec3_Q27=vec3(Widths_Q51.x,Widths_Q51.y,color.r);vec3 Pos_World_Q13;Object_To_World_Pos_B13(Wire_Vx_Pos_Q51,Pos_World_Q13);vec3 Incident_Q36=normalize(Pos_World_Q13-cameraPosition);vec3 Out_Position_Q47;vec2 Out_UV_Q47;vec3 Blob_Info_Q47;Blob_Vertex_B47(Pos_World_Q13,Normal_World_N_Q29,Tangent_World_N_Q28,Binormal_World_N_Q32,Position_Q38,_Blob_Intensity_,Near_Size_Q38,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,color,uv,Face_Center_Q33,Face_Size_Q50,UV_Q51,_Blob_Fade_Length_,_Selection_Fade_,_Selection_Fade_Size_,Inner_Fade_Q38,Active_Face_Center_Q49,Pulse_Q38,Fade_Q38,Blob_Enable_Q38,Out_Position_Q47,Out_UV_Q47,Blob_Info_Q47);vec4 Extra1_Q66;float Distance_To_Face_Q66;float Intensity_Q66;Proximity_Vertex_B66(Blob_Position_Q41,Blob_Position_Q42,Active_Face_Center_Q49,Active_Face_Dir_Q64,Pos_World_Q13,_Proximity_Far_Distance_,Relative_Scale_Q57,_Proximity_Anisotropy_,Normalized_Q72,Extra1_Q66,Distance_To_Face_Q66,Intensity_Q66);vec4 Holo_Edges_Q44;Holo_Edge_Vertex_B44(Incident_Q36,Normal_World_N_Q29,uv,Tangent_World_Q30,Binormal_World_Q31,_Smooth_Active_Face_,Active_Q34,Holo_Edges_Q44);vec3 Vec3_Q19=vec3(Show_Selection_Q48,Distance_To_Face_Q66,Intensity_Q66);vec3 Position=Out_Position_Q47;vec2 UV=Out_UV_Q47;vec3 Tangent=Blob_Info_Q47;vec3 Binormal=Vec3_Q19;vec3 Normal=Vec3_Q27;vec4 Extra1=Extra1_Q66;vec4 Color=Holo_Edges_Q44;gl_Position=viewProjection*vec4(Position,1);vPosition=Position;vNormal=Normal;vUV=UV;vTangent=Tangent;vBinormal=Binormal;vColor=Color;vExtra1=Extra1;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/handle/handleMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{HandleMaterial:()=>m});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/handle/shaders/handle.vertex.ts"),h("../../../dev/gui/src/3D/materials/handle/shaders/handle.fragment.ts");var m=function(v){(0,_.__extends)(f,v);function f(a,i){var t=v.call(this,a,i,"handle",{attributes:["position"],uniforms:["worldViewProjection","color","scale","positionOffset"],needAlphaBlending:!1,needAlphaTesting:!1})||this;return t._hover=!1,t._drag=!1,t._color=new n.Color3,t._scale=1,t._lastTick=-1,t.animationLength=100,t.hoverColor=new n.Color3(0,.467,.84),t.baseColor=new n.Color3(1,1,1),t.hoverScale=.75,t.baseScale=.35,t.dragScale=.55,t._positionOffset=n.Vector3.Zero(),t._updateInterpolationTarget(),t._lastTick=Date.now(),t._onBeforeRender=t.getScene().onBeforeRenderObservable.add(function(){var e=Date.now(),r=e-t._lastTick,o=t._targetScale-t._scale,s=n.TmpColors.Color3[0].copyFrom(t._targetColor).subtractToRef(t._color,n.TmpColors.Color3[0]);t._scale=t._scale+o*r/t.animationLength,s.scaleToRef(r/t.animationLength,s),t._color.addToRef(s,t._color),t.setColor3("color",t._color),t.setFloat("scale",t._scale),t.setVector3("positionOffset",t._positionOffset),t._lastTick=e}),t}return Object.defineProperty(f.prototype,"hover",{get:function(){return this._hover},set:function(a){this._hover=a,this._updateInterpolationTarget()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"drag",{get:function(){return this._drag},set:function(a){this._drag=a,this._updateInterpolationTarget()},enumerable:!1,configurable:!0}),f.prototype._updateInterpolationTarget=function(){this.drag?(this._targetColor=this.hoverColor,this._targetScale=this.dragScale):this.hover?(this._targetColor=this.hoverColor,this._targetScale=this.hoverScale):(this._targetColor=this.baseColor,this._targetScale=this.baseScale)},f.prototype.dispose=function(){v.prototype.dispose.call(this),this.getScene().onBeforeRenderObservable.remove(this._onBeforeRender)},f}(n.ShaderMaterial)},"../../../dev/gui/src/3D/materials/handle/index.ts":(k,b,h)=>{h.r(b),h.d(b,{HandleMaterial:()=>_.HandleMaterial});var _=h("../../../dev/gui/src/3D/materials/handle/handleMaterial.ts")},"../../../dev/gui/src/3D/materials/handle/shaders/handle.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{handlePixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="handlePixelShader",m="uniform vec3 color;void main(void) {gl_FragColor=vec4(color,1.0);}";_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/handle/shaders/handle.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{handleVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="handleVertexShader",m="precision highp float;attribute vec3 position;uniform vec3 positionOffset;uniform mat4 worldViewProjection;uniform float scale;void main(void) {vec4 vPos=vec4((vec3(position)+positionOffset)*scale,1.0);gl_Position=worldViewProjection*vPos;}";_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/index.ts":(k,b,h)=>{h.r(b),h.d(b,{FluentBackplateMaterial:()=>m.FluentBackplateMaterial,FluentButtonMaterial:()=>n.FluentButtonMaterial,FluentMaterial:()=>_.FluentMaterial,FluentMaterialDefines:()=>_.FluentMaterialDefines,HandleMaterial:()=>v.HandleMaterial,MRDLBackplateMaterial:()=>f.MRDLBackplateMaterial,MRDLSliderBarMaterial:()=>f.MRDLSliderBarMaterial,MRDLSliderThumbMaterial:()=>f.MRDLSliderThumbMaterial});var _=h("../../../dev/gui/src/3D/materials/fluent/index.ts"),n=h("../../../dev/gui/src/3D/materials/fluentButton/index.ts"),m=h("../../../dev/gui/src/3D/materials/fluentBackplate/index.ts"),v=h("../../../dev/gui/src/3D/materials/handle/index.ts"),f=h("../../../dev/gui/src/3D/materials/mrdl/index.ts")},"../../../dev/gui/src/3D/materials/mrdl/index.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLBackplateMaterial:()=>m.MRDLBackplateMaterial,MRDLSliderBarMaterial:()=>_.MRDLSliderBarMaterial,MRDLSliderThumbMaterial:()=>n.MRDLSliderThumbMaterial});var _=h("../../../dev/gui/src/3D/materials/mrdl/mrdlSliderBarMaterial.ts"),n=h("../../../dev/gui/src/3D/materials/mrdl/mrdlSliderThumbMaterial.ts"),m=h("../../../dev/gui/src/3D/materials/mrdl/mrdlBackplateMaterial.ts")},"../../../dev/gui/src/3D/materials/mrdl/mrdlBackglowMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLBackglowMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackglow.fragment.ts"),h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackglow.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i._needNormals=!0,i._needUVs=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.bevelRadius=.16,e.lineWidth=.16,e.absoluteSizes=!1,e.tuningMotion=0,e.motion=1,e.maxIntensity=.7,e.intensityFadeInExponent=2,e.outerFuzzStart=.04,e.outerFuzzEnd=.04,e.color=new n.Color4(.682353,.698039,1,1),e.innerColor=new n.Color4(.356863,.392157,.796078,1),e.blendExponent=1.5,e.falloff=2,e.bias=.5,e.alphaMode=n.Constants.ALPHA_ADD,e.disableDepthWrite=!0,e.backFaceCulling=!1,e}return a.prototype.needAlphaBlending=function(){return!0},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!1,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="mrdlBackglow",p=r.toString(),u=["world","worldView","worldViewProjection","view","projection","viewProjection","cameraPosition","_Bevel_Radius_","_Line_Width_","_Absolute_Sizes_","_Tuning_Motion_","_Motion_","_Max_Intensity_","_Intensity_Fade_In_Exponent_","_Outer_Fuzz_Start_","_Outer_Fuzz_End_","_Color_","_Inner_Color_","_Blend_Exponent_","_Falloff_","_Bias_"],g=[],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=this.getScene(),o=e.materialDefines;if(o){var s=e.effect;s&&(this._activeEffect=s,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",r.getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",r.activeCamera.position),this._activeEffect.setFloat("_Bevel_Radius_",this.bevelRadius),this._activeEffect.setFloat("_Line_Width_",this.lineWidth),this._activeEffect.setFloat("_Absolute_Sizes_",this.absoluteSizes?1:0),this._activeEffect.setFloat("_Tuning_Motion_",this.tuningMotion),this._activeEffect.setFloat("_Motion_",this.motion),this._activeEffect.setFloat("_Max_Intensity_",this.maxIntensity),this._activeEffect.setFloat("_Intensity_Fade_In_Exponent_",this.intensityFadeInExponent),this._activeEffect.setFloat("_Outer_Fuzz_Start_",this.outerFuzzStart),this._activeEffect.setFloat("_Outer_Fuzz_End_",this.outerFuzzEnd),this._activeEffect.setDirectColor4("_Color_",this.color),this._activeEffect.setDirectColor4("_Inner_Color_",this.innerColor),this._activeEffect.setFloat("_Blend_Exponent_",this.blendExponent),this._activeEffect.setFloat("_Falloff_",this.falloff),this._activeEffect.setFloat("_Bias_",this.bias),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i)},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=n.SerializationHelper.Serialize(this);return i.customType="BABYLON.MRDLBackglowMaterial",i},a.prototype.getClassName=function(){return"MRDLBackglowMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelRadius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"lineWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"absoluteSizes",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"tuningMotion",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"motion",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"maxIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"intensityFadeInExponent",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"outerFuzzStart",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"outerFuzzEnd",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"color",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"innerColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blendExponent",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"falloff",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bias",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.MRDLBackglowMaterial",v)},"../../../dev/gui/src/3D/materials/mrdl/mrdlBackplateMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLBackplateMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackplate.fragment.ts"),h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackplate.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.IRIDESCENCE_ENABLE=!0,i.SMOOTH_EDGES=!0,i._needNormals=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.radius=.3,e.lineWidth=.003,e.absoluteSizes=!1,e._filterWidth=1,e.baseColor=new n.Color4(0,0,0,1),e.lineColor=new n.Color4(.2,.262745,.4,1),e.radiusTopLeft=1,e.radiusTopRight=1,e.radiusBottomLeft=1,e.radiusBottomRight=1,e._rate=0,e.highlightColor=new n.Color4(.239216,.435294,.827451,1),e.highlightWidth=0,e._highlightTransform=new n.Vector4(1,1,0,0),e._highlight=1,e.iridescenceIntensity=.45,e.iridescenceEdgeIntensity=1,e.iridescenceTint=new n.Color4(1,1,1,1),e._angle=-45,e.fadeOut=1,e._reflected=!0,e._frequency=1,e._verticalOffset=0,e.gradientColor=new n.Color4(.74902,.74902,.74902,1),e.topLeftGradientColor=new n.Color4(.00784314,.294118,.580392,1),e.topRightGradientColor=new n.Color4(.305882,0,1,1),e.bottomLeftGradientColor=new n.Color4(.133333,.258824,.992157,1),e.bottomRightGradientColor=new n.Color4(.176471,.176471,.619608,1),e.edgeWidth=.5,e.edgePower=1,e.edgeLineGradientBlend=.5,e.alphaMode=n.Constants.ALPHA_DISABLE,e.backFaceCulling=!1,e._iridescentMapTexture=new n.Texture(a.IRIDESCENT_MAP_TEXTURE_URL,e.getScene(),!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e}return a.prototype.needAlphaBlending=function(){return!1},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!1,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="mrdlBackplate",p=r.toString(),u=["world","viewProjection","cameraPosition","_Radius_","_Line_Width_","_Absolute_Sizes_","_Filter_Width_","_Base_Color_","_Line_Color_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Rate_","_Highlight_Color_","_Highlight_Width_","_Highlight_Transform_","_Highlight_","_Iridescence_Intensity_","_Iridescence_Edge_Intensity_","_Iridescence_Tint_","_Iridescent_Map_","_Angle_","_Reflected_","_Frequency_","_Vertical_Offset_","_Gradient_Color_","_Top_Left_","_Top_Right_","_Bottom_Left_","_Bottom_Right_","_Edge_Width_","_Edge_Power_","_Line_Gradient_Blend_","_Fade_Out_"],g=["_Iridescent_Map_"],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=e.materialDefines;if(r){var o=e.effect;o&&(this._activeEffect=o,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",this.getScene().activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Line_Width_",this.lineWidth),this._activeEffect.setFloat("_Absolute_Sizes_",this.absoluteSizes?1:0),this._activeEffect.setFloat("_Filter_Width_",this._filterWidth),this._activeEffect.setDirectColor4("_Base_Color_",this.baseColor),this._activeEffect.setDirectColor4("_Line_Color_",this.lineColor),this._activeEffect.setFloat("_Radius_Top_Left_",this.radiusTopLeft),this._activeEffect.setFloat("_Radius_Top_Right_",this.radiusTopRight),this._activeEffect.setFloat("_Radius_Bottom_Left_",this.radiusBottomLeft),this._activeEffect.setFloat("_Radius_Bottom_Right_",this.radiusBottomRight),this._activeEffect.setFloat("_Rate_",this._rate),this._activeEffect.setDirectColor4("_Highlight_Color_",this.highlightColor),this._activeEffect.setFloat("_Highlight_Width_",this.highlightWidth),this._activeEffect.setVector4("_Highlight_Transform_",this._highlightTransform),this._activeEffect.setFloat("_Highlight_",this._highlight),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setFloat("_Iridescence_Edge_Intensity_",this.iridescenceEdgeIntensity),this._activeEffect.setDirectColor4("_Iridescence_Tint_",this.iridescenceTint),this._activeEffect.setTexture("_Iridescent_Map_",this._iridescentMapTexture),this._activeEffect.setFloat("_Angle_",this._angle),this._activeEffect.setFloat("_Reflected_",this._reflected?1:0),this._activeEffect.setFloat("_Frequency_",this._frequency),this._activeEffect.setFloat("_Vertical_Offset_",this._verticalOffset),this._activeEffect.setDirectColor4("_Gradient_Color_",this.gradientColor),this._activeEffect.setDirectColor4("_Top_Left_",this.topLeftGradientColor),this._activeEffect.setDirectColor4("_Top_Right_",this.topRightGradientColor),this._activeEffect.setDirectColor4("_Bottom_Left_",this.bottomLeftGradientColor),this._activeEffect.setDirectColor4("_Bottom_Right_",this.bottomRightGradientColor),this._activeEffect.setFloat("_Edge_Width_",this.edgeWidth),this._activeEffect.setFloat("_Edge_Power_",this.edgePower),this._activeEffect.setFloat("_Line_Gradient_Blend_",this.edgeLineGradientBlend),this._activeEffect.setFloat("_Fade_Out_",this.fadeOut),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i)},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=f.prototype.serialize.call(this);return i.customType="BABYLON.MRDLBackplateMaterial",i},a.prototype.getClassName=function(){return"MRDLBackplateMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},a.IRIDESCENT_MAP_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/MRDL/mrtk-mrdl-backplate-iridescence.png",(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"lineWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"absoluteSizes",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"baseColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"lineColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusTopLeft",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusTopRight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusBottomLeft",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusBottomRight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"highlightColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"highlightWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceEdgeIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceTint",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"fadeOut",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"gradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"topLeftGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"topRightGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bottomLeftGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bottomRightGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgePower",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeLineGradientBlend",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.MRDLBackplateMaterial",v)},"../../../dev/gui/src/3D/materials/mrdl/mrdlFrontplateMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLFrontplateMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlFrontplate.fragment.ts"),h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlFrontplate.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.SMOOTH_EDGES=!0,i._needNormals=!0,i._needUVs=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.radius=.12,e.lineWidth=.01,e.relativeToHeight=!1,e._filterWidth=1,e.edgeColor=new n.Color4(.53,.53,.53,1),e.blobEnable=!0,e.blobPosition=new n.Vector3(100,100,100),e.blobIntensity=.5,e.blobNearSize=.032,e.blobFarSize=.048,e.blobNearDistance=.008,e.blobFarDistance=.064,e.blobFadeLength=.04,e.blobInnerFade=.01,e.blobPulse=0,e.blobFade=1,e.blobPulseMaxSize=.05,e.blobEnable2=!0,e.blobPosition2=new n.Vector3(10,10.1,-.6),e.blobNearSize2=.008,e.blobInnerFade2=.1,e.blobPulse2=0,e.blobFade2=1,e.gazeIntensity=.8,e.gazeFocus=0,e.selectionFuzz=.5,e.selected=1,e.selectionFade=.2,e.selectionFadeSize=0,e.selectedDistance=.08,e.selectedFadeLength=.08,e.proximityMaxIntensity=.45,e.proximityFarDistance=.16,e.proximityNearRadius=.016,e.proximityAnisotropy=1,e.useGlobalLeftIndex=!0,e.useGlobalRightIndex=!0,e.fadeOut=1,e.alphaMode=n.Constants.ALPHA_ADD,e.disableDepthWrite=!0,e.backFaceCulling=!1,e._blobTexture=new n.Texture(a.BLOB_TEXTURE_URL,t,!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e}return a.prototype.needAlphaBlending=function(){return!0},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!1,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="mrdlFrontplate",p=r.toString(),u=["world","worldView","worldViewProjection","view","projection","viewProjection","cameraPosition","_Radius_","_Line_Width_","_Relative_To_Height_","_Filter_Width_","_Edge_Color_","_Fade_Out_","_Smooth_Edges_","_Blob_Enable_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Inner_Fade_","_Blob_Pulse_","_Blob_Fade_","_Blob_Pulse_Max_Size_","_Blob_Enable_2_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Inner_Fade_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Gaze_Intensity_","_Gaze_Focus_","_Blob_Texture_","_Selection_Fuzz_","_Selected_","_Selection_Fade_","_Selection_Fade_Size_","_Selected_Distance_","_Selected_Fade_Length_","_Proximity_Max_Intensity_","_Proximity_Far_Distance_","_Proximity_Near_Radius_","_Proximity_Anisotropy_","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","_Use_Global_Left_Index_","_Use_Global_Right_Index_"],g=[],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=this.getScene(),o=e.materialDefines;if(o){var s=e.effect;s&&(this._activeEffect=s,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",r.getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",r.activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Line_Width_",this.lineWidth),this._activeEffect.setFloat("_Relative_To_Height_",this.relativeToHeight?1:0),this._activeEffect.setFloat("_Filter_Width_",this._filterWidth),this._activeEffect.setDirectColor4("_Edge_Color_",this.edgeColor),this._activeEffect.setFloat("_Fade_Out_",this.fadeOut),this._activeEffect.setFloat("_Blob_Enable_",this.blobEnable?1:0),this._activeEffect.setVector3("_Blob_Position_",this.blobPosition),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Inner_Fade_",this.blobInnerFade),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setFloat("_Blob_Pulse_Max_Size_",this.blobPulseMaxSize),this._activeEffect.setFloat("_Blob_Enable_2_",this.blobEnable2?1:0),this._activeEffect.setVector3("_Blob_Position_2_",this.blobPosition2),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Inner_Fade_2_",this.blobInnerFade2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setFloat("_Gaze_Intensity_",this.gazeIntensity),this._activeEffect.setFloat("_Gaze_Focus_",this.gazeFocus),this._activeEffect.setTexture("_Blob_Texture_",this._blobTexture),this._activeEffect.setFloat("_Selection_Fuzz_",this.selectionFuzz),this._activeEffect.setFloat("_Selected_",this.selected),this._activeEffect.setFloat("_Selection_Fade_",this.selectionFade),this._activeEffect.setFloat("_Selection_Fade_Size_",this.selectionFadeSize),this._activeEffect.setFloat("_Selected_Distance_",this.selectedDistance),this._activeEffect.setFloat("_Selected_Fade_Length_",this.selectedFadeLength),this._activeEffect.setFloat("_Proximity_Max_Intensity_",this.proximityMaxIntensity),this._activeEffect.setFloat("_Proximity_Far_Distance_",this.proximityFarDistance),this._activeEffect.setFloat("_Proximity_Near_Radius_",this.proximityNearRadius),this._activeEffect.setFloat("_Proximity_Anisotropy_",this.proximityAnisotropy),this._activeEffect.setFloat("_Use_Global_Left_Index_",this.useGlobalLeftIndex?1:0),this._activeEffect.setFloat("_Use_Global_Right_Index_",this.useGlobalRightIndex?1:0),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i)},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=n.SerializationHelper.Serialize(this);return i.customType="BABYLON.MRDLFrontplateMaterial",i},a.prototype.getClassName=function(){return"MRDLFrontplateMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},a.BLOB_TEXTURE_URL="",(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"lineWidth",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"relativeToHeight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobEnable",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobInnerFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulseMaxSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobEnable2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPosition2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobInnerFade2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"gazeIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"gazeFocus",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectionFuzz",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selected",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectionFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectionFadeSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectedDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"selectedFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityMaxIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityNearRadius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"proximityAnisotropy",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"useGlobalLeftIndex",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"useGlobalRightIndex",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.MRDLFrontplateMaterial",v)},"../../../dev/gui/src/3D/materials/mrdl/mrdlInnerquadMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLInnerquadMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlInnerquad.fragment.ts"),h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlInnerquad.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i._needNormals=!0,i._needUVs=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.color=new n.Color4(1,1,1,.05),e.radius=.12,e.fixedRadius=!0,e._filterWidth=1,e.glowFraction=0,e.glowMax=.5,e.glowFalloff=2,e.alphaMode=n.Constants.ALPHA_COMBINE,e.backFaceCulling=!1,e}return a.prototype.needAlphaBlending=function(){return!0},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!0,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="mrdlInnerquad",p=r.toString(),u=["world","worldView","worldViewProjection","view","projection","viewProjection","cameraPosition","_Color_","_Radius_","_Fixed_Radius_","_Filter_Width_","_Glow_Fraction_","_Glow_Max_","_Glow_Falloff_"],g=[],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=this.getScene(),o=e.materialDefines;if(o){var s=e.effect;s&&(this._activeEffect=s,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",r.getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",r.activeCamera.position),this._activeEffect.setDirectColor4("_Color_",this.color),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Fixed_Radius_",this.fixedRadius?1:0),this._activeEffect.setFloat("_Filter_Width_",this._filterWidth),this._activeEffect.setFloat("_Glow_Fraction_",this.glowFraction),this._activeEffect.setFloat("_Glow_Max_",this.glowMax),this._activeEffect.setFloat("_Glow_Falloff_",this.glowFalloff),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i)},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=n.SerializationHelper.Serialize(this);return i.customType="BABYLON.MRDLInnerquadMaterial",i},a.prototype.getClassName=function(){return"MRDLInnerquadMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},(0,_.__decorate)([(0,n.serialize)()],a.prototype,"color",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"fixedRadius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"glowFraction",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"glowMax",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"glowFalloff",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.MRDLInnerquadMaterial",v)},"../../../dev/gui/src/3D/materials/mrdl/mrdlSliderBarMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLSliderBarMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderBar.fragment.ts"),h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderBar.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.SKY_ENABLED=!0,i.BLOB_ENABLE_2=!0,i.IRIDESCENCE_ENABLED=!0,i._needNormals=!0,i._needUVs=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.radius=.6,e.bevelFront=.6,e.bevelFrontStretch=.077,e.bevelBack=0,e.bevelBackStretch=0,e.radiusTopLeft=1,e.radiusTopRight=1,e.radiusBottomLeft=1,e.radiusBottomRight=1,e.bulgeEnabled=!1,e.bulgeHeight=-.323,e.bulgeRadius=.73,e.sunIntensity=1.102,e.sunTheta=.76,e.sunPhi=.526,e.indirectDiffuse=.658,e.albedo=new n.Color4(.0117647,.505882,.996078,1),e.specular=0,e.shininess=10,e.sharpness=0,e.subsurface=0,e.leftGradientColor=new n.Color4(.0117647,.505882,.996078,1),e.rightGradientColor=new n.Color4(.0117647,.505882,.996078,1),e.reflection=.749,e.frontReflect=0,e.edgeReflect=.09,e.power=8.13,e.skyColor=new n.Color4(.0117647,.964706,.996078,1),e.horizonColor=new n.Color4(.0117647,.333333,.996078,1),e.groundColor=new n.Color4(0,.254902,.996078,1),e.horizonPower=1,e.width=.02,e.fuzz=.5,e.minFuzz=.001,e.clipFade=.01,e.hueShift=0,e.saturationShift=0,e.valueShift=0,e.blobPosition=new n.Vector3(0,0,.1),e.blobIntensity=.5,e.blobNearSize=.01,e.blobFarSize=.03,e.blobNearDistance=0,e.blobFarDistance=.08,e.blobFadeLength=.576,e.blobPulse=0,e.blobFade=1,e.blobPosition2=new n.Vector3(.2,0,.1),e.blobNearSize2=.01,e.blobPulse2=0,e.blobFade2=1,e.blobTexture=new n.Texture("",e.getScene()),e.leftIndexPosition=new n.Vector3(0,0,1),e.rightIndexPosition=new n.Vector3(-1,-1,-1),e.leftIndexMiddlePosition=new n.Vector3(0,0,0),e.rightIndexMiddlePosition=new n.Vector3(0,0,0),e.decalScaleXY=new n.Vector2(1.5,1.5),e.decalFrontOnly=!0,e.rimIntensity=.287,e.rimHueShift=0,e.rimSaturationShift=0,e.rimValueShift=-1,e.iridescenceIntensity=0,e.useGlobalLeftIndex=1,e.useGlobalRightIndex=1,e.globalLeftIndexTipProximity=0,e.globalRightIndexTipProximity=0,e.globalLeftIndexTipPosition=new n.Vector4(.5,0,-.55,1),e.globaRightIndexTipPosition=new n.Vector4(0,0,0,1),e.globalLeftThumbTipPosition=new n.Vector4(.5,0,-.55,1),e.globalRightThumbTipPosition=new n.Vector4(0,0,0,1),e.globalLeftIndexMiddlePosition=new n.Vector4(.5,0,-.55,1),e.globalRightIndexMiddlePosition=new n.Vector4(0,0,0,1),e.alphaMode=n.Constants.ALPHA_DISABLE,e.backFaceCulling=!1,e._blueGradientTexture=new n.Texture(a.BLUE_GRADIENT_TEXTURE_URL,e.getScene(),!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e._decalTexture=new n.Texture("",e.getScene()),e._reflectionMapTexture=new n.Texture("",e.getScene()),e._indirectEnvTexture=new n.Texture("",e.getScene()),e}return a.prototype.needAlphaBlending=function(){return!1},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!1,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="mrdlSliderBar",p=r.toString(),u=["world","viewProjection","cameraPosition","_Radius_","_Bevel_Front_","_Bevel_Front_Stretch_","_Bevel_Back_","_Bevel_Back_Stretch_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Bulge_Enabled_","_Bulge_Height_","_Bulge_Radius_","_Sun_Intensity_","_Sun_Theta_","_Sun_Phi_","_Indirect_Diffuse_","_Albedo_","_Specular_","_Shininess_","_Sharpness_","_Subsurface_","_Left_Color_","_Right_Color_","_Reflection_","_Front_Reflect_","_Edge_Reflect_","_Power_","_Sky_Color_","_Horizon_Color_","_Ground_Color_","_Horizon_Power_","_Reflection_Map_","_Indirect_Environment_","_Width_","_Fuzz_","_Min_Fuzz_","_Clip_Fade_","_Hue_Shift_","_Saturation_Shift_","_Value_Shift_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Left_Index_Pos_","_Right_Index_Pos_","_Left_Index_Middle_Pos_","_Right_Index_Middle_Pos_","_Decal_","_Decal_Scale_XY_","_Decal_Front_Only_","_Rim_Intensity_","_Rim_Texture_","_Rim_Hue_Shift_","_Rim_Saturation_Shift_","_Rim_Value_Shift_","_Iridescence_Intensity_","_Iridescence_Texture_","Use_Global_Left_Index","Use_Global_Right_Index","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","Global_Left_Thumb_Tip_Position","Global_Right_Thumb_Tip_Position","Global_Left_Index_Middle_Position;","Global_Right_Index_Middle_Position","Global_Left_Index_Tip_Proximity","Global_Right_Index_Tip_Proximity"],g=["_Rim_Texture_","_Iridescence_Texture_"],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r,this._materialContext)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=e.materialDefines;if(r){var o=e.effect;o&&(this._activeEffect=o,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",this.getScene().activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Bevel_Front_",this.bevelFront),this._activeEffect.setFloat("_Bevel_Front_Stretch_",this.bevelFrontStretch),this._activeEffect.setFloat("_Bevel_Back_",this.bevelBack),this._activeEffect.setFloat("_Bevel_Back_Stretch_",this.bevelBackStretch),this._activeEffect.setFloat("_Radius_Top_Left_",this.radiusTopLeft),this._activeEffect.setFloat("_Radius_Top_Right_",this.radiusTopRight),this._activeEffect.setFloat("_Radius_Bottom_Left_",this.radiusBottomLeft),this._activeEffect.setFloat("_Radius_Bottom_Right_",this.radiusBottomRight),this._activeEffect.setFloat("_Bulge_Enabled_",this.bulgeEnabled?1:0),this._activeEffect.setFloat("_Bulge_Height_",this.bulgeHeight),this._activeEffect.setFloat("_Bulge_Radius_",this.bulgeRadius),this._activeEffect.setFloat("_Sun_Intensity_",this.sunIntensity),this._activeEffect.setFloat("_Sun_Theta_",this.sunTheta),this._activeEffect.setFloat("_Sun_Phi_",this.sunPhi),this._activeEffect.setFloat("_Indirect_Diffuse_",this.indirectDiffuse),this._activeEffect.setDirectColor4("_Albedo_",this.albedo),this._activeEffect.setFloat("_Specular_",this.specular),this._activeEffect.setFloat("_Shininess_",this.shininess),this._activeEffect.setFloat("_Sharpness_",this.sharpness),this._activeEffect.setFloat("_Subsurface_",this.subsurface),this._activeEffect.setDirectColor4("_Left_Color_",this.leftGradientColor),this._activeEffect.setDirectColor4("_Right_Color_",this.rightGradientColor),this._activeEffect.setFloat("_Reflection_",this.reflection),this._activeEffect.setFloat("_Front_Reflect_",this.frontReflect),this._activeEffect.setFloat("_Edge_Reflect_",this.edgeReflect),this._activeEffect.setFloat("_Power_",this.power),this._activeEffect.setDirectColor4("_Sky_Color_",this.skyColor),this._activeEffect.setDirectColor4("_Horizon_Color_",this.horizonColor),this._activeEffect.setDirectColor4("_Ground_Color_",this.groundColor),this._activeEffect.setFloat("_Horizon_Power_",this.horizonPower),this._activeEffect.setTexture("_Reflection_Map_",this._reflectionMapTexture),this._activeEffect.setTexture("_Indirect_Environment_",this._indirectEnvTexture),this._activeEffect.setFloat("_Width_",this.width),this._activeEffect.setFloat("_Fuzz_",this.fuzz),this._activeEffect.setFloat("_Min_Fuzz_",this.minFuzz),this._activeEffect.setFloat("_Clip_Fade_",this.clipFade),this._activeEffect.setFloat("_Hue_Shift_",this.hueShift),this._activeEffect.setFloat("_Saturation_Shift_",this.saturationShift),this._activeEffect.setFloat("_Value_Shift_",this.valueShift),this._activeEffect.setVector3("_Blob_Position_",this.blobPosition),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setTexture("_Blob_Texture_",this.blobTexture),this._activeEffect.setVector3("_Blob_Position_2_",this.blobPosition2),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setVector3("_Left_Index_Pos_",this.leftIndexPosition),this._activeEffect.setVector3("_Right_Index_Pos_",this.rightIndexPosition),this._activeEffect.setVector3("_Left_Index_Middle_Pos_",this.leftIndexMiddlePosition),this._activeEffect.setVector3("_Right_Index_Middle_Pos_",this.rightIndexMiddlePosition),this._activeEffect.setTexture("_Decal_",this._decalTexture),this._activeEffect.setVector2("_Decal_Scale_XY_",this.decalScaleXY),this._activeEffect.setFloat("_Decal_Front_Only_",this.decalFrontOnly?1:0),this._activeEffect.setFloat("_Rim_Intensity_",this.rimIntensity),this._activeEffect.setTexture("_Rim_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("_Rim_Hue_Shift_",this.rimHueShift),this._activeEffect.setFloat("_Rim_Saturation_Shift_",this.rimSaturationShift),this._activeEffect.setFloat("_Rim_Value_Shift_",this.rimValueShift),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setTexture("_Iridescence_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("Use_Global_Left_Index",this.useGlobalLeftIndex),this._activeEffect.setFloat("Use_Global_Right_Index",this.useGlobalRightIndex),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",this.globalLeftIndexTipPosition),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",this.globaRightIndexTipPosition),this._activeEffect.setVector4("Global_Left_Thumb_Tip_Position",this.globalLeftThumbTipPosition),this._activeEffect.setVector4("Global_Right_Thumb_Tip_Position",this.globalRightThumbTipPosition),this._activeEffect.setVector4("Global_Left_Index_Middle_Position",this.globalLeftIndexMiddlePosition),this._activeEffect.setVector4("Global_Right_Index_Middle_Position",this.globalRightIndexMiddlePosition),this._activeEffect.setFloat("Global_Left_Index_Tip_Proximity",this.globalLeftIndexTipProximity),this._activeEffect.setFloat("Global_Right_Index_Tip_Proximity",this.globalRightIndexTipProximity),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i),this._reflectionMapTexture.dispose(),this._indirectEnvTexture.dispose(),this._blueGradientTexture.dispose(),this._decalTexture.dispose()},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=f.prototype.serialize.call(this);return i.customType="BABYLON.MRDLSliderBarMaterial",i},a.prototype.getClassName=function(){return"MRDLSliderBarMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},a.BLUE_GRADIENT_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/MRDL/mrtk-mrdl-blue-gradient.png",(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelFront",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelFrontStretch",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelBack",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelBackStretch",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusTopLeft",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusTopRight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusBottomLeft",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusBottomRight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bulgeEnabled",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bulgeHeight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bulgeRadius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sunIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sunTheta",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sunPhi",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"indirectDiffuse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"albedo",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"specular",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"shininess",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sharpness",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"subsurface",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"reflection",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"frontReflect",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeReflect",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"power",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"skyColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"horizonColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"groundColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"horizonPower",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"width",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"fuzz",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"minFuzz",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"clipFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"hueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"saturationShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"valueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPosition2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobTexture",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftIndexPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightIndexPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftIndexMiddlePosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightIndexMiddlePosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"decalScaleXY",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"decalFrontOnly",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimHueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimSaturationShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimValueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceIntensity",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.MRDLSliderBarMaterial",v)},"../../../dev/gui/src/3D/materials/mrdl/mrdlSliderThumbMaterial.ts":(k,b,h)=>{h.r(b),h.d(b,{MRDLSliderThumbMaterial:()=>v});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter");h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderThumb.fragment.ts"),h("../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderThumb.vertex.ts");var m=function(f){(0,_.__extends)(a,f);function a(){var i=f.call(this)||this;return i.SKY_ENABLED=!0,i.BLOB_ENABLE_2=!0,i.IRIDESCENCE_ENABLED=!0,i._needNormals=!0,i._needUVs=!0,i.rebuild(),i}return a}(n.MaterialDefines),v=function(f){(0,_.__extends)(a,f);function a(i,t){var e=f.call(this,i,t)||this;return e.radius=.157,e.bevelFront=.065,e.bevelFrontStretch=.077,e.bevelBack=.031,e.bevelBackStretch=0,e.radiusTopLeft=1,e.radiusTopRight=1,e.radiusBottomLeft=1,e.radiusBottomRight=1,e.bulgeEnabled=!1,e.bulgeHeight=-.323,e.bulgeRadius=.73,e.sunIntensity=2,e.sunTheta=.937,e.sunPhi=.555,e.indirectDiffuse=1,e.albedo=new n.Color4(.0117647,.505882,.996078,1),e.specular=0,e.shininess=10,e.sharpness=0,e.subsurface=.31,e.leftGradientColor=new n.Color4(.0117647,.505882,.996078,1),e.rightGradientColor=new n.Color4(.0117647,.505882,.996078,1),e.reflection=.749,e.frontReflect=0,e.edgeReflect=.09,e.power=8.1,e.skyColor=new n.Color4(.0117647,.960784,.996078,1),e.horizonColor=new n.Color4(.0117647,.333333,.996078,1),e.groundColor=new n.Color4(0,.254902,.996078,1),e.horizonPower=1,e.width=.02,e.fuzz=.5,e.minFuzz=.001,e.clipFade=.01,e.hueShift=0,e.saturationShift=0,e.valueShift=0,e.blobPosition=new n.Vector3(0,0,.1),e.blobIntensity=.5,e.blobNearSize=.01,e.blobFarSize=.03,e.blobNearDistance=0,e.blobFarDistance=.08,e.blobFadeLength=.576,e.blobPulse=0,e.blobFade=1,e.blobPosition2=new n.Vector3(.2,0,.1),e.blobNearSize2=.01,e.blobPulse2=0,e.blobFade2=1,e.blobTexture=new n.Texture("",e.getScene()),e.leftIndexPosition=new n.Vector3(0,0,1),e.rightIndexPosition=new n.Vector3(-1,-1,-1),e.leftIndexMiddlePosition=new n.Vector3(0,0,0),e.rightIndexMiddlePosition=new n.Vector3(0,0,0),e.decalScaleXY=new n.Vector2(1.5,1.5),e.decalFrontOnly=!0,e.rimIntensity=.287,e.rimHueShift=0,e.rimSaturationShift=0,e.rimValueShift=-1,e.iridescenceIntensity=0,e.useGlobalLeftIndex=1,e.useGlobalRightIndex=1,e.globalLeftIndexTipProximity=0,e.globalRightIndexTipProximity=0,e.globalLeftIndexTipPosition=new n.Vector4(.5,0,-.55,1),e.globaRightIndexTipPosition=new n.Vector4(0,0,0,1),e.globalLeftThumbTipPosition=new n.Vector4(.5,0,-.55,1),e.globalRightThumbTipPosition=new n.Vector4(0,0,0,1),e.globalLeftIndexMiddlePosition=new n.Vector4(.5,0,-.55,1),e.globalRightIndexMiddlePosition=new n.Vector4(0,0,0,1),e.alphaMode=n.Constants.ALPHA_DISABLE,e.backFaceCulling=!1,e._blueGradientTexture=new n.Texture(a.BLUE_GRADIENT_TEXTURE_URL,t,!0,!1,n.Texture.NEAREST_SAMPLINGMODE),e._decalTexture=new n.Texture("",e.getScene()),e._reflectionMapTexture=new n.Texture("",e.getScene()),e._indirectEnvTexture=new n.Texture("",e.getScene()),e}return a.prototype.needAlphaBlending=function(){return!1},a.prototype.needAlphaTesting=function(){return!1},a.prototype.getAlphaTestTexture=function(){return null},a.prototype.isReadyForSubMesh=function(i,t){var e=t._drawWrapper;if(this.isFrozen&&e.effect&&e._wasPreviouslyReady)return!0;t.materialDefines||(t.materialDefines=new m);var r=t.materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var s=o.getEngine();if((0,n.PrepareDefinesForAttributes)(i,r,!1,!1),r.isDirty){r.markAsProcessed(),o.resetCachedMaterial();var l=new n.EffectFallbacks;r.FOG&&l.addFallback(1,"FOG"),(0,n.HandleFallbacksForShadows)(r,l),r.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var c=[n.VertexBuffer.PositionKind];r.NORMAL&&c.push(n.VertexBuffer.NormalKind),r.UV1&&c.push(n.VertexBuffer.UVKind),r.UV2&&c.push(n.VertexBuffer.UV2Kind),r.VERTEXCOLOR&&c.push(n.VertexBuffer.ColorKind),r.TANGENT&&c.push(n.VertexBuffer.TangentKind),(0,n.PrepareAttributesForInstances)(c,r);var d="mrdlSliderThumb",p=r.toString(),u=["world","viewProjection","cameraPosition","_Radius_","_Bevel_Front_","_Bevel_Front_Stretch_","_Bevel_Back_","_Bevel_Back_Stretch_","_Radius_Top_Left_","_Radius_Top_Right_","_Radius_Bottom_Left_","_Radius_Bottom_Right_","_Bulge_Enabled_","_Bulge_Height_","_Bulge_Radius_","_Sun_Intensity_","_Sun_Theta_","_Sun_Phi_","_Indirect_Diffuse_","_Albedo_","_Specular_","_Shininess_","_Sharpness_","_Subsurface_","_Left_Color_","_Right_Color_","_Reflection_","_Front_Reflect_","_Edge_Reflect_","_Power_","_Sky_Color_","_Horizon_Color_","_Ground_Color_","_Horizon_Power_","_Reflection_Map_","_Indirect_Environment_","_Width_","_Fuzz_","_Min_Fuzz_","_Clip_Fade_","_Hue_Shift_","_Saturation_Shift_","_Value_Shift_","_Blob_Position_","_Blob_Intensity_","_Blob_Near_Size_","_Blob_Far_Size_","_Blob_Near_Distance_","_Blob_Far_Distance_","_Blob_Fade_Length_","_Blob_Pulse_","_Blob_Fade_","_Blob_Texture_","_Blob_Position_2_","_Blob_Near_Size_2_","_Blob_Pulse_2_","_Blob_Fade_2_","_Left_Index_Pos_","_Right_Index_Pos_","_Left_Index_Middle_Pos_","_Right_Index_Middle_Pos_","_Decal_","_Decal_Scale_XY_","_Decal_Front_Only_","_Rim_Intensity_","_Rim_Texture_","_Rim_Hue_Shift_","_Rim_Saturation_Shift_","_Rim_Value_Shift_","_Iridescence_Intensity_","_Iridescence_Texture_","Use_Global_Left_Index","Use_Global_Right_Index","Global_Left_Index_Tip_Position","Global_Right_Index_Tip_Position","Global_Left_Thumb_Tip_Position","Global_Right_Thumb_Tip_Position","Global_Left_Index_Middle_Position;","Global_Right_Index_Middle_Position","Global_Left_Index_Tip_Proximity","Global_Right_Index_Tip_Proximity"],g=["_Rim_Texture_","_Iridescence_Texture_"],E=[];(0,n.PrepareUniformsAndSamplersList)({uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:r,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(d,{attributes:c,uniformsNames:u,uniformBuffersNames:E,samplers:g,defines:p,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},s),r)}return!t.effect||!t.effect.isReady()?!1:(r._renderId=o.getRenderId(),e._wasPreviouslyReady=!0,!0)},a.prototype.bindForSubMesh=function(i,t,e){var r=e.materialDefines;if(r){var o=e.effect;o&&(this._activeEffect=o,this.bindOnlyWorldMatrix(i),this._activeEffect.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._activeEffect.setVector3("cameraPosition",this.getScene().activeCamera.position),this._activeEffect.setFloat("_Radius_",this.radius),this._activeEffect.setFloat("_Bevel_Front_",this.bevelFront),this._activeEffect.setFloat("_Bevel_Front_Stretch_",this.bevelFrontStretch),this._activeEffect.setFloat("_Bevel_Back_",this.bevelBack),this._activeEffect.setFloat("_Bevel_Back_Stretch_",this.bevelBackStretch),this._activeEffect.setFloat("_Radius_Top_Left_",this.radiusTopLeft),this._activeEffect.setFloat("_Radius_Top_Right_",this.radiusTopRight),this._activeEffect.setFloat("_Radius_Bottom_Left_",this.radiusBottomLeft),this._activeEffect.setFloat("_Radius_Bottom_Right_",this.radiusBottomRight),this._activeEffect.setFloat("_Bulge_Enabled_",this.bulgeEnabled?1:0),this._activeEffect.setFloat("_Bulge_Height_",this.bulgeHeight),this._activeEffect.setFloat("_Bulge_Radius_",this.bulgeRadius),this._activeEffect.setFloat("_Sun_Intensity_",this.sunIntensity),this._activeEffect.setFloat("_Sun_Theta_",this.sunTheta),this._activeEffect.setFloat("_Sun_Phi_",this.sunPhi),this._activeEffect.setFloat("_Indirect_Diffuse_",this.indirectDiffuse),this._activeEffect.setDirectColor4("_Albedo_",this.albedo),this._activeEffect.setFloat("_Specular_",this.specular),this._activeEffect.setFloat("_Shininess_",this.shininess),this._activeEffect.setFloat("_Sharpness_",this.sharpness),this._activeEffect.setFloat("_Subsurface_",this.subsurface),this._activeEffect.setDirectColor4("_Left_Color_",this.leftGradientColor),this._activeEffect.setDirectColor4("_Right_Color_",this.rightGradientColor),this._activeEffect.setFloat("_Reflection_",this.reflection),this._activeEffect.setFloat("_Front_Reflect_",this.frontReflect),this._activeEffect.setFloat("_Edge_Reflect_",this.edgeReflect),this._activeEffect.setFloat("_Power_",this.power),this._activeEffect.setDirectColor4("_Sky_Color_",this.skyColor),this._activeEffect.setDirectColor4("_Horizon_Color_",this.horizonColor),this._activeEffect.setDirectColor4("_Ground_Color_",this.groundColor),this._activeEffect.setFloat("_Horizon_Power_",this.horizonPower),this._activeEffect.setTexture("_Reflection_Map_",this._reflectionMapTexture),this._activeEffect.setTexture("_Indirect_Environment_",this._indirectEnvTexture),this._activeEffect.setFloat("_Width_",this.width),this._activeEffect.setFloat("_Fuzz_",this.fuzz),this._activeEffect.setFloat("_Min_Fuzz_",this.minFuzz),this._activeEffect.setFloat("_Clip_Fade_",this.clipFade),this._activeEffect.setFloat("_Hue_Shift_",this.hueShift),this._activeEffect.setFloat("_Saturation_Shift_",this.saturationShift),this._activeEffect.setFloat("_Value_Shift_",this.valueShift),this._activeEffect.setVector3("_Blob_Position_",this.blobPosition),this._activeEffect.setFloat("_Blob_Intensity_",this.blobIntensity),this._activeEffect.setFloat("_Blob_Near_Size_",this.blobNearSize),this._activeEffect.setFloat("_Blob_Far_Size_",this.blobFarSize),this._activeEffect.setFloat("_Blob_Near_Distance_",this.blobNearDistance),this._activeEffect.setFloat("_Blob_Far_Distance_",this.blobFarDistance),this._activeEffect.setFloat("_Blob_Fade_Length_",this.blobFadeLength),this._activeEffect.setFloat("_Blob_Pulse_",this.blobPulse),this._activeEffect.setFloat("_Blob_Fade_",this.blobFade),this._activeEffect.setTexture("_Blob_Texture_",this.blobTexture),this._activeEffect.setVector3("_Blob_Position_2_",this.blobPosition2),this._activeEffect.setFloat("_Blob_Near_Size_2_",this.blobNearSize2),this._activeEffect.setFloat("_Blob_Pulse_2_",this.blobPulse2),this._activeEffect.setFloat("_Blob_Fade_2_",this.blobFade2),this._activeEffect.setVector3("_Left_Index_Pos_",this.leftIndexPosition),this._activeEffect.setVector3("_Right_Index_Pos_",this.rightIndexPosition),this._activeEffect.setVector3("_Left_Index_Middle_Pos_",this.leftIndexMiddlePosition),this._activeEffect.setVector3("_Right_Index_Middle_Pos_",this.rightIndexMiddlePosition),this._activeEffect.setTexture("_Decal_",this._decalTexture),this._activeEffect.setVector2("_Decal_Scale_XY_",this.decalScaleXY),this._activeEffect.setFloat("_Decal_Front_Only_",this.decalFrontOnly?1:0),this._activeEffect.setFloat("_Rim_Intensity_",this.rimIntensity),this._activeEffect.setTexture("_Rim_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("_Rim_Hue_Shift_",this.rimHueShift),this._activeEffect.setFloat("_Rim_Saturation_Shift_",this.rimSaturationShift),this._activeEffect.setFloat("_Rim_Value_Shift_",this.rimValueShift),this._activeEffect.setFloat("_Iridescence_Intensity_",this.iridescenceIntensity),this._activeEffect.setTexture("_Iridescence_Texture_",this._blueGradientTexture),this._activeEffect.setFloat("Use_Global_Left_Index",this.useGlobalLeftIndex),this._activeEffect.setFloat("Use_Global_Right_Index",this.useGlobalRightIndex),this._activeEffect.setVector4("Global_Left_Index_Tip_Position",this.globalLeftIndexTipPosition),this._activeEffect.setVector4("Global_Right_Index_Tip_Position",this.globaRightIndexTipPosition),this._activeEffect.setVector4("Global_Left_Thumb_Tip_Position",this.globalLeftThumbTipPosition),this._activeEffect.setVector4("Global_Right_Thumb_Tip_Position",this.globalRightThumbTipPosition),this._activeEffect.setVector4("Global_Left_Index_Middle_Position",this.globalLeftIndexMiddlePosition),this._activeEffect.setVector4("Global_Right_Index_Middle_Position",this.globalRightIndexMiddlePosition),this._activeEffect.setFloat("Global_Left_Index_Tip_Proximity",this.globalLeftIndexTipProximity),this._activeEffect.setFloat("Global_Right_Index_Tip_Proximity",this.globalRightIndexTipProximity),this._afterBind(t,this._activeEffect,e))}},a.prototype.getAnimatables=function(){return[]},a.prototype.dispose=function(i){f.prototype.dispose.call(this,i),this._reflectionMapTexture.dispose(),this._indirectEnvTexture.dispose(),this._blueGradientTexture.dispose(),this._decalTexture.dispose()},a.prototype.clone=function(i){var t=this;return n.SerializationHelper.Clone(function(){return new a(i,t.getScene())},this)},a.prototype.serialize=function(){var i=f.prototype.serialize.call(this);return i.customType="BABYLON.MRDLSliderThumbMaterial",i},a.prototype.getClassName=function(){return"MRDLSliderThumbMaterial"},a.Parse=function(i,t,e){return n.SerializationHelper.Parse(function(){return new a(i.name,t)},i,t,e)},a.BLUE_GRADIENT_TEXTURE_URL="https://assets.babylonjs.com/meshes/MRTK/MRDL/mrtk-mrdl-blue-gradient.png",(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelFront",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelFrontStretch",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelBack",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bevelBackStretch",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusTopLeft",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusTopRight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusBottomLeft",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"radiusBottomRight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bulgeEnabled",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bulgeHeight",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"bulgeRadius",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sunIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sunTheta",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sunPhi",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"indirectDiffuse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"albedo",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"specular",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"shininess",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"sharpness",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"subsurface",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightGradientColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"reflection",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"frontReflect",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"edgeReflect",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"power",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"skyColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"horizonColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"groundColor",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"horizonPower",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"width",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"fuzz",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"minFuzz",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"clipFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"hueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"saturationShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"valueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarSize",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFarDistance",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFadeLength",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPosition2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobNearSize2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobPulse2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobFade2",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"blobTexture",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftIndexPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightIndexPosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"leftIndexMiddlePosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rightIndexMiddlePosition",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"decalScaleXY",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"decalFrontOnly",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimIntensity",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimHueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimSaturationShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"rimValueShift",void 0),(0,_.__decorate)([(0,n.serialize)()],a.prototype,"iridescenceIntensity",void 0),a}(n.PushMaterial);(0,n.RegisterClass)("BABYLON.GUI.MRDLSliderThumbMaterial",v)},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackglow.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlBackglowPixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlBackglowPixelShader",m=`uniform vec3 cameraPosition;varying vec3 vNormal;varying vec2 vUV;uniform float _Bevel_Radius_;uniform float _Line_Width_;uniform bool _Absolute_Sizes_;uniform float _Tuning_Motion_;uniform float _Motion_;uniform float _Max_Intensity_;uniform float _Intensity_Fade_In_Exponent_;uniform float _Outer_Fuzz_Start_;uniform float _Outer_Fuzz_End_;uniform vec4 _Color_;uniform vec4 _Inner_Color_;uniform float _Blend_Exponent_;uniform float _Falloff_;uniform float _Bias_;float BiasFunc(float b,float v) {return pow(v,log(clamp(b,0.001,0.999))/log(0.5));}
void Fuzzy_Round_Rect_B33(
float Size_X,
float Size_Y,
float Radius_X,
float Radius_Y,
float Line_Width,
vec2 UV,
float Outer_Fuzz,
float Max_Outer_Fuzz,
out float Rect_Distance,
out float Inner_Distance)
{vec2 halfSize=vec2(Size_X,Size_Y)*0.5;vec2 r=max(min(vec2(Radius_X,Radius_Y),halfSize),vec2(0.001,0.001));float radius=min(r.x,r.y)-Max_Outer_Fuzz;vec2 v=abs(UV);vec2 nearestp=min(v,halfSize-r);float d=distance(nearestp,v);Inner_Distance=clamp(1.0-(radius-d)/Line_Width,0.0,1.0);Rect_Distance=clamp(1.0-(d-radius)/Outer_Fuzz,0.0,1.0)*Inner_Distance;}
void main()
{float X_Q42;float Y_Q42;X_Q42=vNormal.x;Y_Q42=vNormal.y;float MaxAB_Q24=max(_Tuning_Motion_,_Motion_);float Sqrt_F_Q27=sqrt(MaxAB_Q24);float Power_Q43=pow(MaxAB_Q24,_Intensity_Fade_In_Exponent_);float Value_At_T_Q26=mix(_Outer_Fuzz_Start_,_Outer_Fuzz_End_,Sqrt_F_Q27);float Product_Q23=_Max_Intensity_*Power_Q43;float Rect_Distance_Q33;float Inner_Distance_Q33;Fuzzy_Round_Rect_B33(X_Q42,Y_Q42,_Bevel_Radius_,_Bevel_Radius_,_Line_Width_,vUV,Value_At_T_Q26,_Outer_Fuzz_Start_,Rect_Distance_Q33,Inner_Distance_Q33);float Power_Q44=pow(Inner_Distance_Q33,_Blend_Exponent_);float Result_Q45=pow(BiasFunc(_Bias_,Rect_Distance_Q33),_Falloff_);vec4 Color_At_T_Q25=mix(_Inner_Color_,_Color_,Power_Q44);float Product_Q22=Result_Q45*Product_Q23;vec4 Result_Q28=Product_Q22*Color_At_T_Q25;vec4 Out_Color=Result_Q28;float Clip_Threshold=0.0;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackglow.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlBackglowVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlBackglowVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec3 tangent;uniform float _Bevel_Radius_;uniform float _Line_Width_;uniform bool _Absolute_Sizes_;uniform float _Tuning_Motion_;uniform float _Motion_;uniform float _Max_Intensity_;uniform float _Intensity_Fade_In_Exponent_;uniform float _Outer_Fuzz_Start_;uniform float _Outer_Fuzz_End_;uniform vec4 _Color_;uniform vec4 _Inner_Color_;uniform float _Blend_Exponent_;uniform float _Falloff_;uniform float _Bias_;varying vec3 vNormal;varying vec2 vUV;void main()
{vec3 Dir_World_Q41=(world*vec4(tangent,0.0)).xyz;vec3 Dir_World_Q40=(world*vec4((cross(normal,tangent)),0.0)).xyz;float MaxAB_Q24=max(_Tuning_Motion_,_Motion_);float Length_Q16=length(Dir_World_Q41);float Length_Q17=length(Dir_World_Q40);bool Greater_Than_Q37=MaxAB_Q24>0.0;vec3 Sizes_Q35;vec2 XY_Q35;Sizes_Q35=(_Absolute_Sizes_ ? vec3(Length_Q16,Length_Q17,0) : vec3(Length_Q16/Length_Q17,1,0));XY_Q35=(uv-vec2(0.5,0.5))*Sizes_Q35.xy;vec3 Result_Q38=Greater_Than_Q37 ? position : vec3(0,0,0);vec3 Pos_World_Q39=(world*vec4(Result_Q38,1.0)).xyz;vec3 Position=Pos_World_Q39;vec3 Normal=Sizes_Q35;vec2 UV=XY_Q35;vec3 Tangent=vec3(0,0,0);vec3 Binormal=vec3(0,0,0);vec4 Color=vec4(1,1,1,1);gl_Position=viewProjection*vec4(Position,1);vNormal=Normal;vUV=UV;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackplate.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlBackplatePixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlBackplatePixelShader",m=`uniform vec3 cameraPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vExtra1;varying vec4 vExtra2;uniform float _Radius_;uniform float _Line_Width_;uniform bool _Absolute_Sizes_;uniform float _Filter_Width_;uniform vec4 _Base_Color_;uniform vec4 _Line_Color_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform float _Rate_;uniform vec4 _Highlight_Color_;uniform float _Highlight_Width_;uniform vec4 _Highlight_Transform_;uniform float _Highlight_;uniform float _Iridescence_Intensity_;uniform float _Iridescence_Edge_Intensity_;uniform vec4 _Iridescence_Tint_;uniform sampler2D _Iridescent_Map_;uniform float _Angle_;uniform bool _Reflected_;uniform float _Frequency_;uniform float _Vertical_Offset_;uniform vec4 _Gradient_Color_;uniform vec4 _Top_Left_;uniform vec4 _Top_Right_;uniform vec4 _Bottom_Left_;uniform vec4 _Bottom_Right_;uniform float _Edge_Width_;uniform float _Edge_Power_;uniform float _Line_Gradient_Blend_;uniform float _Fade_Out_;void FastLinearTosRGB_B353(
vec4 Linear,
out vec4 sRGB)
{sRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));sRGB.a=Linear.a;}
void Round_Rect_Fragment_B332(
float Radius,
float Line_Width,
vec4 Line_Color,
float Filter_Width,
vec2 UV,
float Line_Visibility,
vec4 Rect_Parms,
vec4 Fill_Color,
out vec4 Color)
{float d=length(max(abs(UV)-Rect_Parms.xy,0.0));float dx=max(fwidth(d)*Filter_Width,0.00001);float g=min(Rect_Parms.z,Rect_Parms.w);float dgrad=max(fwidth(g)*Filter_Width,0.00001);float Inside_Rect=clamp(g/dgrad,0.0,1.0);float inner=clamp((d+dx*0.5-max(Radius-Line_Width,d-dx*0.5))/dx,0.0,1.0);Color=clamp(mix(Fill_Color,Line_Color,inner),0.0,1.0)*Inside_Rect;}
void Iridescence_B343(
vec3 Position,
vec3 Normal,
vec2 UV,
vec3 Axis,
vec3 Eye,
vec4 Tint,
sampler2D Texture,
bool Reflected,
float Frequency,
float Vertical_Offset,
out vec4 Color)
{vec3 i=normalize(Position-Eye);vec3 r=reflect(i,Normal);float idota=dot(i,Axis);float idotr=dot(i,r);float x=Reflected ? idotr : idota;vec2 xy;xy.x=fract((x*Frequency+1.0)*0.5+UV.y*Vertical_Offset);xy.y=0.5;Color=texture(Texture,xy);Color.rgb*=Tint.rgb;}
void Scale_RGB_B346(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=vec4(Scalar,Scalar,Scalar,1)*Color;}
void Scale_RGB_B344(
float Scalar,
vec4 Color,
out vec4 Result)
{Result=vec4(Scalar,Scalar,Scalar,1)*Color;}
void Line_Fragment_B362(
vec4 Base_Color,
vec4 Highlight_Color,
float Highlight_Width,
vec3 Line_Vertex,
float Highlight,
out vec4 Line_Color)
{float k2=1.0-clamp(abs(Line_Vertex.y/Highlight_Width),0.0,1.0);Line_Color=mix(Base_Color,Highlight_Color,Highlight*k2);}
void Edge_B356(
vec4 RectParms,
float Radius,
float Line_Width,
vec2 UV,
float Edge_Width,
float Edge_Power,
out float Result)
{float d=length(max(abs(UV)-RectParms.xy,0.0));float edge=1.0-clamp((1.0-d/(Radius-Line_Width))/Edge_Width,0.0,1.0);Result=pow(edge,Edge_Power);}
void Gradient_B355(
vec4 Gradient_Color,
vec4 Top_Left,
vec4 Top_Right,
vec4 Bottom_Left,
vec4 Bottom_Right,
vec2 UV,
out vec4 Result)
{vec3 top=Top_Left.rgb+(Top_Right.rgb-Top_Left.rgb)*UV.x;vec3 bottom=Bottom_Left.rgb+(Bottom_Right.rgb-Bottom_Left.rgb)*UV.x;Result.rgb=Gradient_Color.rgb*(bottom+(top-bottom)*UV.y);Result.a=1.0;}
void main()
{float X_Q338;float Y_Q338;float Z_Q338;float W_Q338;X_Q338=vExtra2.x;Y_Q338=vExtra2.y;Z_Q338=vExtra2.z;W_Q338=vExtra2.w;vec4 Color_Q343;
#if IRIDESCENCE_ENABLE
Iridescence_B343(vPosition,vNormal,vUV,vBinormal,cameraPosition,_Iridescence_Tint_,_Iridescent_Map_,_Reflected_,_Frequency_,_Vertical_Offset_,Color_Q343);
#else
Color_Q343=vec4(0,0,0,0);
#endif
vec4 Result_Q344;Scale_RGB_B344(_Iridescence_Intensity_,Color_Q343,Result_Q344);vec4 Line_Color_Q362;Line_Fragment_B362(_Line_Color_,_Highlight_Color_,_Highlight_Width_,vTangent,_Highlight_,Line_Color_Q362);float Result_Q356;
#if EDGE_ONLY
Edge_B356(vExtra1,Z_Q338,W_Q338,vUV,_Edge_Width_,_Edge_Power_,Result_Q356);
#else
Result_Q356=1.0;
#endif
vec2 Vec2_Q339=vec2(X_Q338,Y_Q338);vec4 Result_Q355;Gradient_B355(_Gradient_Color_,_Top_Left_,_Top_Right_,_Bottom_Left_,_Bottom_Right_,Vec2_Q339,Result_Q355);vec4 Linear_Q348;Linear_Q348.rgb=clamp(Result_Q355.rgb*Result_Q355.rgb,0.0,1.0);Linear_Q348.a=Result_Q355.a;vec4 Result_Q346;Scale_RGB_B346(Linear_Q348,Result_Q356,Result_Q346);vec4 Sum_Q345=Result_Q346+Result_Q344;vec4 Color_At_T_Q347=mix(Line_Color_Q362,Result_Q346,_Line_Gradient_Blend_);vec4 Base_And_Iridescent_Q350;Base_And_Iridescent_Q350=_Base_Color_+vec4(Sum_Q345.rgb,0.0);vec4 Sum_Q349=Color_At_T_Q347+_Iridescence_Edge_Intensity_*Color_Q343;vec4 Result_Q351=Sum_Q349; Result_Q351.a=1.0;vec4 Color_Q332;Round_Rect_Fragment_B332(Z_Q338,W_Q338,Result_Q351,_Filter_Width_,vUV,1.0,vExtra1,Base_And_Iridescent_Q350,Color_Q332);vec4 Result_Q354=_Fade_Out_*Color_Q332;vec4 sRGB_Q353;FastLinearTosRGB_B353(Result_Q354,sRGB_Q353);vec4 Out_Color=sRGB_Q353;float Clip_Threshold=0.001;bool To_sRGB=false;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlBackplate.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlBackplateVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlBackplateVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec3 tangent;uniform float _Radius_;uniform float _Line_Width_;uniform bool _Absolute_Sizes_;uniform float _Filter_Width_;uniform vec4 _Base_Color_;uniform vec4 _Line_Color_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform float _Rate_;uniform vec4 _Highlight_Color_;uniform float _Highlight_Width_;uniform vec4 _Highlight_Transform_;uniform float _Highlight_;uniform float _Iridescence_Intensity_;uniform float _Iridescence_Edge_Intensity_;uniform vec4 _Iridescence_Tint_;uniform sampler2D _Iridescent_Map_;uniform float _Angle_;uniform bool _Reflected_;uniform float _Frequency_;uniform float _Vertical_Offset_;uniform vec4 _Gradient_Color_;uniform vec4 _Top_Left_;uniform vec4 _Top_Right_;uniform vec4 _Bottom_Left_;uniform vec4 _Bottom_Right_;uniform float _Edge_Width_;uniform float _Edge_Power_;uniform float _Line_Gradient_Blend_;uniform float _Fade_Out_;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vExtra1;varying vec4 vExtra2;void Object_To_World_Pos_B314(
vec3 Pos_Object,
out vec3 Pos_World)
{Pos_World=(world*vec4(Pos_Object,1.0)).xyz;}
void Round_Rect_Vertex_B357(
vec2 UV,
float Radius,
float Margin,
float Anisotropy,
float Gradient1,
float Gradient2,
vec3 Normal,
vec4 Color_Scale_Translate,
out vec2 Rect_UV,
out vec4 Rect_Parms,
out vec2 Scale_XY,
out vec2 Line_UV,
out vec2 Color_UV_Info)
{Scale_XY=vec2(Anisotropy,1.0);Line_UV=(UV-vec2(0.5,0.5));Rect_UV=Line_UV*Scale_XY;Rect_Parms.xy=Scale_XY*0.5-vec2(Radius,Radius)-vec2(Margin,Margin);Rect_Parms.z=Gradient1; 
Rect_Parms.w=Gradient2;Color_UV_Info=(Line_UV+vec2(0.5,0.5))*Color_Scale_Translate.xy+Color_Scale_Translate.zw;}
void Line_Vertex_B333(
vec2 Scale_XY,
vec2 UV,
float Time,
float Rate,
vec4 Highlight_Transform,
out vec3 Line_Vertex)
{float angle2=(Rate*Time)*2.0*3.1416;float sinAngle2=sin(angle2);float cosAngle2=cos(angle2);vec2 xformUV=UV*Highlight_Transform.xy+Highlight_Transform.zw;Line_Vertex.x=0.0;Line_Vertex.y=cosAngle2*xformUV.x-sinAngle2*xformUV.y;Line_Vertex.z=0.0; }
void PickDir_B334(
float Degrees,
vec3 DirX,
vec3 DirY,
out vec3 Dir)
{float a=Degrees*3.14159/180.0;Dir=cos(a)*DirX+sin(a)*DirY;}
void Move_Verts_B327(
float Anisotropy,
vec3 P,
float Radius,
out vec3 New_P,
out vec2 New_UV,
out float Radial_Gradient,
out vec3 Radial_Dir)
{vec2 UV=P.xy*2.0+0.5;vec2 center=clamp(UV,0.0,1.0);vec2 delta=UV-center;vec2 r2=2.0*vec2(Radius/Anisotropy,Radius);New_UV=center+r2*(UV-2.0*center+0.5);New_P=vec3(New_UV-0.5,P.z);Radial_Gradient=1.0-length(delta)*2.0;Radial_Dir=vec3(delta*r2,0.0);}
void Pick_Radius_B336(
float Radius,
float Radius_Top_Left,
float Radius_Top_Right,
float Radius_Bottom_Left,
float Radius_Bottom_Right,
vec3 Position,
out float Result)
{bool whichY=Position.y>0.0;Result=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);Result*=Radius;}
void Edge_AA_Vertex_B328(
vec3 Position_World,
vec3 Position_Object,
vec3 Normal_Object,
vec3 Eye,
float Radial_Gradient,
vec3 Radial_Dir,
vec3 Tangent,
out float Gradient1,
out float Gradient2)
{vec3 I=(Eye-Position_World);vec3 T=(vec4(Tangent,0.0)).xyz;float g=(dot(T,I)<0.0) ? 0.0 : 1.0;if (Normal_Object.z==0.0) { 
Gradient1=Position_Object.z>0.0 ? g : 1.0;Gradient2=Position_Object.z>0.0 ? 1.0 : g;} else {Gradient1=g+(1.0-g)*(Radial_Gradient);Gradient2=1.0;}}
void Object_To_World_Dir_B330(
vec3 Dir_Object,
out vec3 Binormal_World,
out vec3 Binormal_World_N,
out float Binormal_Length)
{Binormal_World=(world*vec4(Dir_Object,0.0)).xyz;Binormal_Length=length(Binormal_World);Binormal_World_N=Binormal_World/Binormal_Length;}
void RelativeOrAbsoluteDetail_B341(
float Nominal_Radius,
float Nominal_LineWidth,
bool Absolute_Measurements,
float Height,
out float Radius,
out float Line_Width)
{float scale=Absolute_Measurements ? 1.0/Height : 1.0;Radius=Nominal_Radius*scale;Line_Width=Nominal_LineWidth*scale;}
void main()
{vec3 Nrm_World_Q326;Nrm_World_Q326=normalize((world*vec4(normal,0.0)).xyz);vec3 Tangent_World_Q329;vec3 Tangent_World_N_Q329;float Tangent_Length_Q329;Tangent_World_Q329=(world*vec4(vec3(1,0,0),0.0)).xyz;Tangent_Length_Q329=length(Tangent_World_Q329);Tangent_World_N_Q329=Tangent_World_Q329/Tangent_Length_Q329;vec3 Binormal_World_Q330;vec3 Binormal_World_N_Q330;float Binormal_Length_Q330;Object_To_World_Dir_B330(vec3(0,1,0),Binormal_World_Q330,Binormal_World_N_Q330,Binormal_Length_Q330);float Radius_Q341;float Line_Width_Q341;RelativeOrAbsoluteDetail_B341(_Radius_,_Line_Width_,_Absolute_Sizes_,Binormal_Length_Q330,Radius_Q341,Line_Width_Q341);vec3 Dir_Q334;PickDir_B334(_Angle_,Tangent_World_N_Q329,Binormal_World_N_Q330,Dir_Q334);float Result_Q336;Pick_Radius_B336(Radius_Q341,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q336);float Anisotropy_Q331=Tangent_Length_Q329/Binormal_Length_Q330;vec4 Out_Color_Q337=vec4(Result_Q336,Line_Width_Q341,0,1);vec3 New_P_Q327;vec2 New_UV_Q327;float Radial_Gradient_Q327;vec3 Radial_Dir_Q327;Move_Verts_B327(Anisotropy_Q331,position,Result_Q336,New_P_Q327,New_UV_Q327,Radial_Gradient_Q327,Radial_Dir_Q327);vec3 Pos_World_Q314;Object_To_World_Pos_B314(New_P_Q327,Pos_World_Q314);float Gradient1_Q328;float Gradient2_Q328;
#if SMOOTH_EDGES
Edge_AA_Vertex_B328(Pos_World_Q314,position,normal,cameraPosition,Radial_Gradient_Q327,Radial_Dir_Q327,tangent,Gradient1_Q328,Gradient2_Q328);
#else
Gradient1_Q328=1.0;Gradient2_Q328=1.0;
#endif
vec2 Rect_UV_Q357;vec4 Rect_Parms_Q357;vec2 Scale_XY_Q357;vec2 Line_UV_Q357;vec2 Color_UV_Info_Q357;Round_Rect_Vertex_B357(New_UV_Q327,Result_Q336,0.0,Anisotropy_Q331,Gradient1_Q328,Gradient2_Q328,normal,vec4(1,1,0,0),Rect_UV_Q357,Rect_Parms_Q357,Scale_XY_Q357,Line_UV_Q357,Color_UV_Info_Q357);vec3 Line_Vertex_Q333;Line_Vertex_B333(Scale_XY_Q357,Line_UV_Q357,(20.0),_Rate_,_Highlight_Transform_,Line_Vertex_Q333);float X_Q359;float Y_Q359;X_Q359=Color_UV_Info_Q357.x;Y_Q359=Color_UV_Info_Q357.y;vec4 Vec4_Q358=vec4(X_Q359,Y_Q359,Result_Q336,Line_Width_Q341);vec3 Position=Pos_World_Q314;vec3 Normal=Nrm_World_Q326;vec2 UV=Rect_UV_Q357;vec3 Tangent=Line_Vertex_Q333;vec3 Binormal=Dir_Q334;vec4 Color=Out_Color_Q337;vec4 Extra1=Rect_Parms_Q357;vec4 Extra2=Vec4_Q358;vec4 Extra3=vec4(0,0,0,0);gl_Position=viewProjection*vec4(Position,1);vPosition=Position;vNormal=Normal;vUV=UV;vTangent=Tangent;vBinormal=Binormal;vExtra1=Extra1;vExtra2=Extra2;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlFrontplate.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlFrontplatePixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlFrontplatePixelShader",m=`uniform vec3 cameraPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;uniform float _Radius_;uniform float _Line_Width_;uniform bool _Relative_To_Height_;uniform float _Filter_Width_;uniform vec4 _Edge_Color_;uniform float _Fade_Out_;uniform bool _Smooth_Edges_;uniform bool _Blob_Enable_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Inner_Fade_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform float _Blob_Pulse_Max_Size_;uniform bool _Blob_Enable_2_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Inner_Fade_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform float _Gaze_Intensity_;uniform float _Gaze_Focus_;uniform sampler2D _Blob_Texture_;uniform float _Selection_Fuzz_;uniform float _Selected_;uniform float _Selection_Fade_;uniform float _Selection_Fade_Size_;uniform float _Selected_Distance_;uniform float _Selected_Fade_Length_;uniform float _Proximity_Max_Intensity_;uniform float _Proximity_Far_Distance_;uniform float _Proximity_Near_Radius_;uniform float _Proximity_Anisotropy_;uniform bool _Use_Global_Left_Index_;uniform bool _Use_Global_Right_Index_;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;void Scale_Color_B54(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=Scalar*Color;}
void Scale_RGB_B50(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=vec4(Scalar,Scalar,Scalar,1)*Color;}
void Proximity_Fragment_B51(
float Proximity_Max_Intensity,
float Proximity_Near_Radius,
vec4 Deltas,
float Show_Selection,
float Distance_Fade1,
float Distance_Fade2,
float Strength,
out float Proximity)
{float proximity1=(1.0-clamp(length(Deltas.xy)/Proximity_Near_Radius,0.0,1.0))*Distance_Fade1;float proximity2=(1.0-clamp(length(Deltas.zw)/Proximity_Near_Radius,0.0,1.0))*Distance_Fade2;Proximity=Strength*(Proximity_Max_Intensity*max(proximity1,proximity2) *(1.0-Show_Selection)+Show_Selection);}
void Blob_Fragment_B56(
vec2 UV,
vec3 Blob_Info,
sampler2D Blob_Texture,
out vec4 Blob_Color)
{float k=dot(UV,UV);Blob_Color=Blob_Info.y*texture(Blob_Texture,vec2(vec2(sqrt(k),Blob_Info.x).x,1.0-vec2(sqrt(k),Blob_Info.x).y))*(1.0-clamp(k,0.0,1.0));}
void Round_Rect_Fragment_B61(
float Radius,
vec4 Line_Color,
float Filter_Width,
float Line_Visibility,
vec4 Fill_Color,
bool Smooth_Edges,
vec4 Rect_Parms,
out float Inside_Rect)
{float d=length(max(abs(Rect_Parms.zw)-Rect_Parms.xy,0.0));float dx=max(fwidth(d)*Filter_Width,0.00001);Inside_Rect=Smooth_Edges ? clamp((Radius-d)/dx,0.0,1.0) : 1.0-step(Radius,d);}
void main()
{float Is_Quad_Q53;Is_Quad_Q53=vNormal.z;vec4 Blob_Color_Q56;Blob_Fragment_B56(vUV,vTangent,_Blob_Texture_,Blob_Color_Q56);float X_Q52;float Y_Q52;float Z_Q52;float W_Q52;X_Q52=vExtra3.x;Y_Q52=vExtra3.y;Z_Q52=vExtra3.z;W_Q52=vExtra3.w;float Proximity_Q51;Proximity_Fragment_B51(_Proximity_Max_Intensity_,_Proximity_Near_Radius_,vExtra2,X_Q52,Y_Q52,Z_Q52,1.0,Proximity_Q51);float Inside_Rect_Q61;Round_Rect_Fragment_B61(W_Q52,vec4(1,1,1,1),_Filter_Width_,1.0,vec4(0,0,0,0),_Smooth_Edges_,vExtra1,Inside_Rect_Q61);vec4 Result_Q50;Scale_RGB_B50(_Edge_Color_,Proximity_Q51,Result_Q50);vec4 Result_Q47=Inside_Rect_Q61*Blob_Color_Q56;vec4 Color_At_T_Q48=mix(Result_Q50,Result_Q47,Is_Quad_Q53);vec4 Result_Q54;Scale_Color_B54(Color_At_T_Q48,_Fade_Out_,Result_Q54);vec4 Out_Color=Result_Q54;float Clip_Threshold=0.001;bool To_sRGB=false;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlFrontplate.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlFrontplateVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlFrontplateVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec3 tangent;attribute vec4 color;uniform float _Radius_;uniform float _Line_Width_;uniform bool _Relative_To_Height_;uniform float _Filter_Width_;uniform vec4 _Edge_Color_;uniform float _Fade_Out_;uniform bool _Smooth_Edges_;uniform bool _Blob_Enable_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Inner_Fade_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform float _Blob_Pulse_Max_Size_;uniform bool _Blob_Enable_2_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Inner_Fade_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform float _Gaze_Intensity_;uniform float _Gaze_Focus_;uniform sampler2D _Blob_Texture_;uniform float _Selection_Fuzz_;uniform float _Selected_;uniform float _Selection_Fade_;uniform float _Selection_Fade_Size_;uniform float _Selected_Distance_;uniform float _Selected_Fade_Length_;uniform float _Proximity_Max_Intensity_;uniform float _Proximity_Far_Distance_;uniform float _Proximity_Near_Radius_;uniform float _Proximity_Anisotropy_;uniform bool _Use_Global_Left_Index_;uniform bool _Use_Global_Right_Index_;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;void Blob_Vertex_B40(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
vec4 Vx_Color,
vec2 UV,
vec3 Face_Center,
vec2 Face_Size,
vec2 In_UV,
float Blob_Fade_Length,
float Selection_Fade,
float Selection_Fade_Size,
float Inner_Fade,
float Blob_Pulse,
float Blob_Fade,
float Blob_Enabled,
float DistanceOffset,
out vec3 Out_Position,
out vec2 Out_UV,
out vec3 Blob_Info,
out vec2 Blob_Relative_UV)
{float blobSize,fadeIn;vec3 Hit_Position;Blob_Info=vec3(0.0,0.0,0.0);float Hit_Distance=dot(Blob_Position-Face_Center,Normal)+DistanceOffset*Blob_Far_Distance;Hit_Position=Blob_Position-Hit_Distance*Normal;float absD=abs(Hit_Distance);float lerpVal=clamp((absD-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);fadeIn=1.0-clamp((absD-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float innerFade=1.0-clamp(-Hit_Distance/Inner_Fade,0.0,1.0);float farClip=clamp(1.0-step(Blob_Far_Distance+Blob_Fade_Length,absD),0.0,1.0);float size=mix(Blob_Near_Size,Blob_Far_Size,lerpVal)*farClip;blobSize=mix(size,Selection_Fade_Size,Selection_Fade)*innerFade*Blob_Enabled;Blob_Info.x=lerpVal*0.5+0.5;Blob_Info.y=fadeIn*Intensity*(1.0-Selection_Fade)*Blob_Fade;Blob_Info.x*=(1.0-Blob_Pulse);vec3 delta=Hit_Position-Face_Center;vec2 blobCenterXY=vec2(dot(delta,Tangent),dot(delta,Bitangent));vec2 quadUVin=2.0*UV-1.0; 
vec2 blobXY=blobCenterXY+quadUVin*blobSize;vec2 blobClipped=clamp(blobXY,-Face_Size*0.5,Face_Size*0.5);vec2 blobUV=(blobClipped-blobCenterXY)/max(blobSize,0.0001)*2.0;vec3 blobCorner=Face_Center+blobClipped.x*Tangent+blobClipped.y*Bitangent;Out_Position=mix(Position,blobCorner,Vx_Color.rrr);Out_UV=mix(In_UV,blobUV,Vx_Color.rr);Blob_Relative_UV=blobClipped/Face_Size.y;}
void Round_Rect_Vertex_B36(
vec2 UV,
vec3 Tangent,
vec3 Binormal,
float Radius,
float Anisotropy,
vec2 Blob_Center_UV,
out vec2 Rect_UV,
out vec2 Scale_XY,
out vec4 Rect_Parms)
{Scale_XY=vec2(Anisotropy,1.0);Rect_UV=(UV-vec2(0.5,0.5))*Scale_XY;Rect_Parms.xy=Scale_XY*0.5-vec2(Radius,Radius);Rect_Parms.zw=Blob_Center_UV;}
vec2 ProjectProximity(
vec3 blobPosition,
vec3 position,
vec3 center,
vec3 dir,
vec3 xdir,
vec3 ydir,
out float vdistance
)
{vec3 delta=blobPosition-position;vec2 xy=vec2(dot(delta,xdir),dot(delta,ydir));vdistance=abs(dot(delta,dir));return xy;}
void Proximity_Vertex_B33(
vec3 Blob_Position,
vec3 Blob_Position_2,
vec3 Face_Center,
vec3 Position,
float Proximity_Far_Distance,
float Relative_Scale,
float Proximity_Anisotropy,
vec3 Normal,
vec3 Tangent,
vec3 Binormal,
out vec4 Extra,
out float Distance_To_Face,
out float Distance_Fade1,
out float Distance_Fade2)
{float distz1,distz2;Extra.xy=ProjectProximity(Blob_Position,Position,Face_Center,Normal,Tangent*Proximity_Anisotropy,Binormal,distz1)/Relative_Scale;Extra.zw=ProjectProximity(Blob_Position_2,Position,Face_Center,Normal,Tangent*Proximity_Anisotropy,Binormal,distz2)/Relative_Scale;Distance_To_Face=dot(Normal,Position-Face_Center);Distance_Fade1=1.0-clamp(distz1/Proximity_Far_Distance,0.0,1.0);Distance_Fade2=1.0-clamp(distz2/Proximity_Far_Distance,0.0,1.0);}
void Object_To_World_Pos_B12(
vec3 Pos_Object,
out vec3 Pos_World)
{Pos_World=(world*vec4(Pos_Object,1.0)).xyz;}
void Choose_Blob_B27(
vec4 Vx_Color,
vec3 Position1,
vec3 Position2,
bool Blob_Enable_1,
bool Blob_Enable_2,
float Near_Size_1,
float Near_Size_2,
float Blob_Inner_Fade_1,
float Blob_Inner_Fade_2,
float Blob_Pulse_1,
float Blob_Pulse_2,
float Blob_Fade_1,
float Blob_Fade_2,
out vec3 Position,
out float Near_Size,
out float Inner_Fade,
out float Blob_Enable,
out float Fade,
out float Pulse)
{Position=Position1*(1.0-Vx_Color.g)+Vx_Color.g*Position2;float b1=Blob_Enable_1 ? 1.0 : 0.0;float b2=Blob_Enable_2 ? 1.0 : 0.0;Blob_Enable=b1+(b2-b1)*Vx_Color.g;Pulse=Blob_Pulse_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Pulse_2;Fade=Blob_Fade_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Fade_2;Near_Size=Near_Size_1*(1.0-Vx_Color.g)+Vx_Color.g*Near_Size_2;Inner_Fade=Blob_Inner_Fade_1*(1.0-Vx_Color.g)+Vx_Color.g*Blob_Inner_Fade_2;}
void Move_Verts_B32(
vec2 UV,
float Radius,
float Anisotropy,
float Line_Width,
float Visible,
out vec3 New_P,
out vec2 New_UV)
{vec2 xy=2.0*UV-vec2(0.5,0.5);vec2 center=clamp(xy,0.0,1.0);vec2 delta=2.0*(xy-center);float deltaLength=length(delta);vec2 aniso=vec2(1.0/Anisotropy,1.0);center=(center-vec2(0.5,0.5))*(1.0-2.0*Radius*aniso);New_UV=vec2((2.0-2.0*deltaLength)*Visible,0.0);float deltaRadius= (Radius-Line_Width*New_UV.x);New_P.xy=(center+deltaRadius/deltaLength *aniso*delta);New_P.z=0.0;}
void Object_To_World_Dir_B14(
vec3 Dir_Object,
out vec3 Binormal_World)
{Binormal_World=(world*vec4(Dir_Object,0.0)).xyz;}
void Proximity_Visibility_B55(
float Selection,
vec3 Proximity_Center,
vec3 Proximity_Center_2,
float Proximity_Far_Distance,
float Proximity_Radius,
vec3 Face_Center,
vec3 Normal,
vec2 Face_Size,
float Gaze,
out float Width)
{float boxMaxSize=length(Face_Size)*0.5;float d1=dot(Proximity_Center-Face_Center,Normal);vec3 blob1=Proximity_Center-d1*Normal;float d2=dot(Proximity_Center_2-Face_Center,Normal);vec3 blob2=Proximity_Center_2-d2*Normal;vec3 delta1=blob1-Face_Center;vec3 delta2=blob2-Face_Center;float dist1=dot(delta1,delta1);float dist2=dot(delta2,delta2);float nearestProxDist=sqrt(min(dist1,dist2));Width=(1.0-step(boxMaxSize+Proximity_Radius,nearestProxDist))*(1.0-step(Proximity_Far_Distance,min(d1,d2))*(1.0-step(0.0001,Selection)));Width=max(Gaze,Width);}
vec2 ramp2(vec2 start,vec2 end,vec2 x)
{return clamp((x-start)/(end-start),vec2(0.0,0.0),vec2(1.0,1.0));}
float computeSelection(
vec3 blobPosition,
vec3 normal,
vec3 tangent,
vec3 bitangent,
vec3 faceCenter,
vec2 faceSize,
float selectionFuzz,
float farDistance,
float fadeLength
)
{vec3 delta=blobPosition-faceCenter;float absD=abs(dot(delta,normal));float fadeIn=1.0-clamp((absD-farDistance)/fadeLength,0.0,1.0);vec2 blobCenterXY=vec2(dot(delta,tangent),dot(delta,bitangent));vec2 innerFace=faceSize*(1.0-selectionFuzz)*0.5;vec2 selectPulse=ramp2(-faceSize*0.5,-innerFace,blobCenterXY)-ramp2(innerFace,faceSize*0.5,blobCenterXY);return selectPulse.x*selectPulse.y*fadeIn;}
void Selection_Vertex_B31(
vec3 Blob_Position,
vec3 Blob_Position_2,
vec3 Face_Center,
vec2 Face_Size,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
float Selection_Fuzz,
float Selected,
float Far_Distance,
float Fade_Length,
vec3 Active_Face_Dir,
out float Show_Selection)
{float select1=computeSelection(Blob_Position,Normal,Tangent,Bitangent,Face_Center,Face_Size,Selection_Fuzz,Far_Distance,Fade_Length);float select2=computeSelection(Blob_Position_2,Normal,Tangent,Bitangent,Face_Center,Face_Size,Selection_Fuzz,Far_Distance,Fade_Length);Show_Selection=mix(max(select1,select2),1.0,Selected);}
void main()
{vec3 Vec3_Q29=vec3(vec2(0,0).x,vec2(0,0).y,color.r);vec3 Nrm_World_Q24;Nrm_World_Q24=normalize((world*vec4(normal,0.0)).xyz);vec3 Face_Center_Q30;Face_Center_Q30=(world*vec4(vec3(0,0,0),1.0)).xyz;vec3 Tangent_World_Q13;Tangent_World_Q13=(world*vec4(tangent,0.0)).xyz;vec3 Result_Q42;Result_Q42=_Use_Global_Left_Index_ ? Global_Left_Index_Tip_Position.xyz : _Blob_Position_;vec3 Result_Q43;Result_Q43=_Use_Global_Right_Index_ ? Global_Right_Index_Tip_Position.xyz : _Blob_Position_2_;float Value_At_T_Q58=mix(_Blob_Near_Size_,_Blob_Pulse_Max_Size_,_Blob_Pulse_);float Value_At_T_Q59=mix(_Blob_Near_Size_2_,_Blob_Pulse_Max_Size_,_Blob_Pulse_2_);vec3 Cross_Q70=cross(normal,tangent);float Product_Q45=_Gaze_Intensity_*_Gaze_Focus_;float Step_Q46=step(0.0001,Product_Q45);vec3 Tangent_World_N_Q15=normalize(Tangent_World_Q13);vec3 Position_Q27;float Near_Size_Q27;float Inner_Fade_Q27;float Blob_Enable_Q27;float Fade_Q27;float Pulse_Q27;Choose_Blob_B27(color,Result_Q42,Result_Q43,_Blob_Enable_,_Blob_Enable_2_,Value_At_T_Q58,Value_At_T_Q59,_Blob_Inner_Fade_,_Blob_Inner_Fade_2_,_Blob_Pulse_,_Blob_Pulse_2_,_Blob_Fade_,_Blob_Fade_2_,Position_Q27,Near_Size_Q27,Inner_Fade_Q27,Blob_Enable_Q27,Fade_Q27,Pulse_Q27);vec3 Binormal_World_Q14;Object_To_World_Dir_B14(Cross_Q70,Binormal_World_Q14);float Anisotropy_Q21=length(Tangent_World_Q13)/length(Binormal_World_Q14);vec3 Binormal_World_N_Q16=normalize(Binormal_World_Q14);vec2 Face_Size_Q35;float ScaleY_Q35;Face_Size_Q35=vec2(length(Tangent_World_Q13),length(Binormal_World_Q14));ScaleY_Q35=Face_Size_Q35.y;float Out_Radius_Q38;float Out_Line_Width_Q38;Out_Radius_Q38=_Relative_To_Height_ ? _Radius_ : _Radius_/ScaleY_Q35;Out_Line_Width_Q38=_Relative_To_Height_ ? _Line_Width_ : _Line_Width_/ScaleY_Q35;float Show_Selection_Q31;Selection_Vertex_B31(Result_Q42,Result_Q43,Face_Center_Q30,Face_Size_Q35,Nrm_World_Q24,Tangent_World_N_Q15,Binormal_World_N_Q16,_Selection_Fuzz_,_Selected_,_Selected_Distance_,_Selected_Fade_Length_,vec3(0,0,-1),Show_Selection_Q31);float MaxAB_Q41=max(Show_Selection_Q31,Product_Q45);float Width_Q55;Proximity_Visibility_B55(Show_Selection_Q31,Result_Q42,Result_Q43,_Proximity_Far_Distance_,_Proximity_Near_Radius_,Face_Center_Q30,Nrm_World_Q24,Face_Size_Q35,Step_Q46,Width_Q55);vec3 New_P_Q32;vec2 New_UV_Q32;Move_Verts_B32(uv,Out_Radius_Q38,Anisotropy_Q21,Out_Line_Width_Q38,Width_Q55,New_P_Q32,New_UV_Q32);vec3 Pos_World_Q12;Object_To_World_Pos_B12(New_P_Q32,Pos_World_Q12);vec3 Out_Position_Q40;vec2 Out_UV_Q40;vec3 Blob_Info_Q40;vec2 Blob_Relative_UV_Q40;Blob_Vertex_B40(Pos_World_Q12,Nrm_World_Q24,Tangent_World_N_Q15,Binormal_World_N_Q16,Position_Q27,_Blob_Intensity_,Near_Size_Q27,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,color,uv,Face_Center_Q30,Face_Size_Q35,New_UV_Q32,_Blob_Fade_Length_,_Selection_Fade_,_Selection_Fade_Size_,Inner_Fade_Q27,Pulse_Q27,Fade_Q27,Blob_Enable_Q27,0.0,Out_Position_Q40,Out_UV_Q40,Blob_Info_Q40,Blob_Relative_UV_Q40);vec2 Rect_UV_Q36;vec2 Scale_XY_Q36;vec4 Rect_Parms_Q36;Round_Rect_Vertex_B36(New_UV_Q32,Tangent_World_Q13,Binormal_World_Q14,Out_Radius_Q38,Anisotropy_Q21,Blob_Relative_UV_Q40,Rect_UV_Q36,Scale_XY_Q36,Rect_Parms_Q36);vec4 Extra_Q33;float Distance_To_Face_Q33;float Distance_Fade1_Q33;float Distance_Fade2_Q33;Proximity_Vertex_B33(Result_Q42,Result_Q43,Face_Center_Q30,Pos_World_Q12,_Proximity_Far_Distance_,1.0,_Proximity_Anisotropy_,Nrm_World_Q24,Tangent_World_N_Q15,Binormal_World_N_Q16,Extra_Q33,Distance_To_Face_Q33,Distance_Fade1_Q33,Distance_Fade2_Q33);vec4 Vec4_Q37=vec4(MaxAB_Q41,Distance_Fade1_Q33,Distance_Fade2_Q33,Out_Radius_Q38);vec3 Position=Out_Position_Q40;vec3 Normal=Vec3_Q29;vec2 UV=Out_UV_Q40;vec3 Tangent=Blob_Info_Q40;vec3 Binormal=vec3(0,0,0);vec4 Color=vec4(1,1,1,1);vec4 Extra1=Rect_Parms_Q36;vec4 Extra2=Extra_Q33;vec4 Extra3=Vec4_Q37;gl_Position=viewProjection*vec4(Position,1);vNormal=Normal;vUV=UV;vTangent=Tangent;vExtra1=Extra1;vExtra2=Extra2;vExtra3=Extra3;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlInnerquad.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlInnerquadPixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlInnerquadPixelShader",m=`uniform vec3 cameraPosition;varying vec2 vUV;varying vec3 vTangent;uniform vec4 _Color_;uniform float _Radius_;uniform bool _Fixed_Radius_;uniform float _Filter_Width_;uniform float _Glow_Fraction_;uniform float _Glow_Max_;uniform float _Glow_Falloff_;float FilterStep_Bid194(float edge,float x,float filterWidth)
{float dx=max(1.0E-5,fwidth(x)*filterWidth);return max((x+dx*0.5-max(edge,x-dx*0.5))/dx,0.0);}
void Round_Rect_B194(
float Size_X,
float Size_Y,
float Radius,
vec4 Rect_Color,
float Filter_Width,
vec2 UV,
float Glow_Fraction,
float Glow_Max,
float Glow_Falloff,
out vec4 Color)
{vec2 halfSize=vec2(Size_X,Size_Y)*0.5;vec2 r=max(min(vec2(Radius,Radius),halfSize),vec2(0.01,0.01));vec2 v=abs(UV);vec2 nearestp=min(v,halfSize-r);vec2 delta=(v-nearestp)/max(vec2(0.01,0.01),r);float Distance=length(delta);float insideRect=1.0-FilterStep_Bid194(1.0-Glow_Fraction,Distance,Filter_Width);float glow=clamp((1.0-Distance)/Glow_Fraction,0.0,1.0);glow=pow(glow,Glow_Falloff);Color=Rect_Color*max(insideRect,glow*Glow_Max);}
void main()
{float X_Q192;float Y_Q192;float Z_Q192;X_Q192=vTangent.x;Y_Q192=vTangent.y;Z_Q192=vTangent.z;vec4 Color_Q194;Round_Rect_B194(X_Q192,1.0,Y_Q192,_Color_,_Filter_Width_,vUV,_Glow_Fraction_,_Glow_Max_,_Glow_Falloff_,Color_Q194);vec4 Out_Color=Color_Q194;float Clip_Threshold=0.0;gl_FragColor=Out_Color;}
`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlInnerquad.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlInnerquadVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlInnerquadVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;attribute vec3 tangent;attribute vec4 color;uniform vec4 _Color_;uniform float _Radius_;uniform bool _Fixed_Radius_;uniform float _Filter_Width_;uniform float _Glow_Fraction_;uniform float _Glow_Max_;uniform float _Glow_Falloff_;varying vec2 vUV;varying vec3 vTangent;void main()
{vec3 Pos_World_Q189;Pos_World_Q189=(world*vec4(position,1.0)).xyz;vec3 Dir_World_Q190;Dir_World_Q190=(world*vec4(tangent,0.0)).xyz;vec3 Dir_World_Q191;Dir_World_Q191=(world*vec4((cross(normal,tangent)),0.0)).xyz;float Length_Q180=length(Dir_World_Q190);float Length_Q181=length(Dir_World_Q191);float Quotient_Q184=Length_Q180/Length_Q181;float Quotient_Q195=_Radius_/Length_Q181;vec2 Result_Q193;Result_Q193=vec2((uv.x-0.5)*Length_Q180/Length_Q181,(uv.y-0.5));float Result_Q198=_Fixed_Radius_ ? Quotient_Q195 : _Radius_;vec3 Vec3_Q183=vec3(Quotient_Q184,Result_Q198,0);vec3 Position=Pos_World_Q189;vec3 Normal=vec3(0,0,0);vec2 UV=Result_Q193;vec3 Tangent=Vec3_Q183;vec3 Binormal=vec3(0,0,0);vec4 Color=color;gl_Position=viewProjection*vec4(Position,1);vUV=UV;vTangent=Tangent;}
`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderBar.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlSliderBarPixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlSliderBarPixelShader",m=`uniform vec3 cameraPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;uniform float _Radius_;uniform float _Bevel_Front_;uniform float _Bevel_Front_Stretch_;uniform float _Bevel_Back_;uniform float _Bevel_Back_Stretch_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform bool _Bulge_Enabled_;uniform float _Bulge_Height_;uniform float _Bulge_Radius_;uniform float _Sun_Intensity_;uniform float _Sun_Theta_;uniform float _Sun_Phi_;uniform float _Indirect_Diffuse_;uniform vec4 _Albedo_;uniform float _Specular_;uniform float _Shininess_;uniform float _Sharpness_;uniform float _Subsurface_;uniform vec4 _Left_Color_;uniform vec4 _Right_Color_;uniform float _Reflection_;uniform float _Front_Reflect_;uniform float _Edge_Reflect_;uniform float _Power_;uniform vec4 _Sky_Color_;uniform vec4 _Horizon_Color_;uniform vec4 _Ground_Color_;uniform float _Horizon_Power_;uniform sampler2D _Reflection_Map_;uniform sampler2D _Indirect_Environment_;uniform float _Width_;uniform float _Fuzz_;uniform float _Min_Fuzz_;uniform float _Clip_Fade_;uniform float _Hue_Shift_;uniform float _Saturation_Shift_;uniform float _Value_Shift_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform vec3 _Left_Index_Pos_;uniform vec3 _Right_Index_Pos_;uniform vec3 _Left_Index_Middle_Pos_;uniform vec3 _Right_Index_Middle_Pos_;uniform sampler2D _Decal_;uniform vec2 _Decal_Scale_XY_;uniform bool _Decal_Front_Only_;uniform float _Rim_Intensity_;uniform sampler2D _Rim_Texture_;uniform float _Rim_Hue_Shift_;uniform float _Rim_Saturation_Shift_;uniform float _Rim_Value_Shift_;uniform float _Iridescence_Intensity_;uniform sampler2D _Iridescence_Texture_;uniform bool Use_Global_Left_Index;uniform bool Use_Global_Right_Index;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;uniform vec4 Global_Left_Thumb_Tip_Position;uniform vec4 Global_Right_Thumb_Tip_Position;uniform vec4 Global_Left_Index_Middle_Position;uniform vec4 Global_Right_Index_Middle_Position;uniform float Global_Left_Index_Tip_Proximity;uniform float Global_Right_Index_Tip_Proximity;void Blob_Fragment_B30(
sampler2D Blob_Texture,
vec4 Blob_Info1,
vec4 Blob_Info2,
out vec4 Blob_Color)
{float k1=dot(Blob_Info1.xy,Blob_Info1.xy);float k2=dot(Blob_Info2.xy,Blob_Info2.xy);vec3 closer=k1<k2 ? vec3(k1,Blob_Info1.z,Blob_Info1.w) : vec3(k2,Blob_Info2.z,Blob_Info2.w);Blob_Color=closer.z*texture(Blob_Texture,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);}
void FastLinearTosRGB_B42(
vec4 Linear,
out vec4 sRGB)
{sRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));sRGB.a=Linear.a;}
void Scale_RGB_B59(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=vec4(Scalar,Scalar,Scalar,1)*Color;}
void Fragment_Main_B121(
float Sun_Intensity,
float Sun_Theta,
float Sun_Phi,
vec3 Normal,
vec4 Albedo,
float Fresnel_Reflect,
float Shininess,
vec3 Incident,
vec4 Horizon_Color,
vec4 Sky_Color,
vec4 Ground_Color,
float Indirect_Diffuse,
float Specular,
float Horizon_Power,
float Reflection,
vec4 Reflection_Sample,
vec4 Indirect_Sample,
float Sharpness,
float SSS,
float Subsurface,
vec4 Translucence,
vec4 Rim_Light,
vec4 Iridescence,
out vec4 Result)
{float theta=Sun_Theta*2.0*3.14159;float phi=Sun_Phi*3.14159;vec3 lightDir= vec3(cos(phi)*cos(theta),sin(phi),cos(phi)*sin(theta));float NdotL=max(dot(lightDir,Normal),0.0);vec3 R=reflect(Incident,Normal);float RdotL=max(0.0,dot(R,lightDir));float specular=pow(RdotL,Shininess);specular=mix(specular,smoothstep(0.495*Sharpness,1.0-0.495*Sharpness,specular),Sharpness);vec4 gi=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);Result=((Sun_Intensity*NdotL+Indirect_Sample*Indirect_Diffuse+Translucence)*(1.0+SSS*Subsurface))*Albedo*(1.0-Fresnel_Reflect)+(Sun_Intensity*specular*Specular+Fresnel_Reflect*Reflection*Reflection_Sample)+Fresnel_Reflect*Rim_Light+Iridescence;}
void Bulge_B79(
bool Enabled,
vec3 Normal,
vec3 Tangent,
float Bulge_Height,
vec4 UV,
float Bulge_Radius,
vec3 ButtonN,
out vec3 New_Normal)
{vec2 xy=clamp(UV.xy*2.0,vec2(-1,-1),vec2(1,1));vec3 B=(cross(Normal,Tangent));float k=-clamp(1.0-length(xy)/Bulge_Radius,0.0,1.0)*Bulge_Height;k=sin(k*3.14159*0.5);k*=smoothstep(0.9998,0.9999,abs(dot(ButtonN,Normal)));New_Normal=Normal*sqrt(1.0-k*k)+(xy.x*Tangent+xy.y*B)*k;New_Normal=Enabled ? New_Normal : Normal;}
void SSS_B77(
vec3 ButtonN,
vec3 Normal,
vec3 Incident,
out float Result)
{float NdotI=abs(dot(Normal,Incident));float BdotI=abs(dot(ButtonN,Incident));Result=(abs(NdotI-BdotI)); }
void FingerOcclusion_B67(
float Width,
float DistToCenter,
float Fuzz,
float Min_Fuzz,
vec3 Position,
vec3 Forward,
vec3 Nearest,
float Fade_Out,
out float NotInShadow)
{float d=dot((Nearest-Position),Forward);float sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);NotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);}
void FingerOcclusion_B68(
float Width,
float DistToCenter,
float Fuzz,
float Min_Fuzz,
vec3 Position,
vec3 Forward,
vec3 Nearest,
float Fade_Out,
out float NotInShadow)
{float d=dot((Nearest-Position),Forward);float sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);NotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);}
void Scale_Color_B91(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=Scalar*Color;}
void From_HSV_B73(
float Hue,
float Saturation,
float Value,
float Alpha,
out vec4 Color)
{vec4 K=vec4(1.0,2.0/3.0,1.0/3.0,3.0);vec3 p=abs(fract(vec3(Hue,Hue,Hue)+K.xyz)*6.0-K.www);Color.rgb=Value*mix(K.xxx,clamp(p-K.xxx,0.0,1.0),Saturation);Color.a=Alpha;}
void Fast_Fresnel_B122(
float Front_Reflect,
float Edge_Reflect,
float Power,
vec3 Normal,
vec3 Incident,
out float Transmit,
out float Reflect)
{float d=max(-dot(Incident,Normal),0.0);Reflect=Front_Reflect+(Edge_Reflect-Front_Reflect)*pow(.01-d,Power);Transmit=1.0-Reflect;}
void Mapped_Environment_B51(
sampler2D Reflected_Environment,
sampler2D Indirect_Environment,
vec3 Dir,
out vec4 Reflected_Color,
out vec4 Indirect_Diffuse)
{Reflected_Color=texture(Reflected_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));Indirect_Diffuse=texture(Indirect_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));}
vec4 SampleEnv_Bid50(vec3 D,vec4 S,vec4 H,vec4 G,float exponent)
{float k=pow(abs(D.y),exponent);vec4 C;if (D.y>0.0) {C=mix(H,S,k);} else {C=mix(H,G,k); }
return C;}
void Sky_Environment_B50(
vec3 Normal,
vec3 Reflected,
vec4 Sky_Color,
vec4 Horizon_Color,
vec4 Ground_Color,
float Horizon_Power,
out vec4 Reflected_Color,
out vec4 Indirect_Color)
{Reflected_Color=SampleEnv_Bid50(Reflected,Sky_Color,Horizon_Color,Ground_Color,Horizon_Power);Indirect_Color=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);}
void Min_Segment_Distance_B65(
vec3 P0,
vec3 P1,
vec3 Q0,
vec3 Q1,
out vec3 NearP,
out vec3 NearQ,
out float Distance)
{vec3 u=P1-P0;vec3 v=Q1-Q0;vec3 w=P0-Q0;float a=dot(u,u);float b=dot(u,v);float c=dot(v,v);float d=dot(u,w);float e=dot(v,w);float D=a*c-b*b;float sD=D;float tD=D;float sc,sN,tc,tN;if (D<0.00001) {sN=0.0;sD=1.0;tN=e;tD=c;} else {sN=(b*e-c*d);tN=(a*e-b*d);if (sN<0.0) {sN=0.0;tN=e;tD=c;} else if (sN>sD) {sN=sD;tN=e+b;tD=c;}}
if (tN<0.0) {tN=0.0;if (-d<0.0) {sN=0.0;} else if (-d>a) {sN=sD;} else {sN=-d;sD=a;}} else if (tN>tD) {tN=tD;if ((-d+b)<0.0) {sN=0.0;} else if ((-d+b)>a) {sN=sD;} else {sN=(-d+b);sD=a;}}
sc=abs(sN)<0.000001 ? 0.0 : sN/sD;tc=abs(tN)<0.000001 ? 0.0 : tN/tD;NearP=P0+sc*u;NearQ=Q0+tc*v;Distance=distance(NearP,NearQ);}
void To_XYZ_B74(
vec3 Vec3,
out float X,
out float Y,
out float Z)
{X=Vec3.x;Y=Vec3.y;Z=Vec3.z;}
void Finger_Positions_B64(
vec3 Left_Index_Pos,
vec3 Right_Index_Pos,
vec3 Left_Index_Middle_Pos,
vec3 Right_Index_Middle_Pos,
out vec3 Left_Index,
out vec3 Right_Index,
out vec3 Left_Index_Middle,
out vec3 Right_Index_Middle)
{Left_Index= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Left_Index_Pos);Right_Index= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Right_Index_Pos);Left_Index_Middle= (Use_Global_Left_Index ? Global_Left_Index_Middle_Position.xyz : Left_Index_Middle_Pos);Right_Index_Middle= (Use_Global_Right_Index ? Global_Right_Index_Middle_Position.xyz : Right_Index_Middle_Pos);}
void VaryHSV_B108(
vec3 HSV_In,
float Hue_Shift,
float Saturation_Shift,
float Value_Shift,
out vec3 HSV_Out)
{HSV_Out=vec3(fract(HSV_In.x+Hue_Shift),clamp(HSV_In.y+Saturation_Shift,0.0,1.0),clamp(HSV_In.z+Value_Shift,0.0,1.0));}
void Remap_Range_B114(
float In_Min,
float In_Max,
float Out_Min,
float Out_Max,
float In,
out float Out)
{Out=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));}
void To_HSV_B75(
vec4 Color,
out float Hue,
out float Saturation,
out float Value,
out float Alpha,
out vec3 HSV)
{vec4 K=vec4(0.0,-1.0/3.0,2.0/3.0,-1.0);vec4 p=Color.g<Color.b ? vec4(Color.bg,K.wz) : vec4(Color.gb,K.xy);vec4 q=Color.r<p.x ? vec4(p.xyw,Color.r) : vec4(Color.r,p.yzx);float d=q.x-min(q.w,q.y);float e=1.0e-10;Hue=abs(q.z+(q.w-q.y)/(6.0*d+e));Saturation=d/(q.x+e);Value=q.x;Alpha=Color.a;HSV=vec3(Hue,Saturation,Value);}
void Code_B110(
float X,
out float Result)
{Result=(acos(X)/3.14159-0.5)*2.0;}
void Rim_Light_B132(
vec3 Front,
vec3 Normal,
vec3 Incident,
float Rim_Intensity,
sampler2D Texture,
out vec4 Result)
{vec3 R=reflect(Incident,Normal);float RdotF=dot(R,Front);float RdotL=sqrt(1.0-RdotF*RdotF);vec2 UV=vec2(R.y*0.5+0.5,0.5);vec4 Color=texture(Texture,UV);Result=Color;}
void main()
{vec4 Blob_Color_Q30;
#if BLOB_ENABLE
Blob_Fragment_B30(_Blob_Texture_,vExtra2,vExtra3,Blob_Color_Q30);
#else
Blob_Color_Q30=vec4(0,0,0,0);
#endif
vec3 Incident_Q39=normalize(vPosition-cameraPosition);vec3 Normalized_Q38=normalize(vNormal);vec3 Normalized_Q71=normalize(vTangent);vec4 Color_Q83;
#if DECAL_ENABLE
Color_Q83=texture(_Decal_,vUV);
#else
Color_Q83=vec4(0,0,0,0);
#endif
float X_Q90;float Y_Q90;float Z_Q90;float W_Q90;X_Q90=vExtra1.x;Y_Q90=vExtra1.y;Z_Q90=vExtra1.z;W_Q90=vExtra1.w;vec4 Linear_Q43;Linear_Q43.rgb=clamp(_Sky_Color_.rgb*_Sky_Color_.rgb,0.0,1.0);Linear_Q43.a=_Sky_Color_.a;vec4 Linear_Q44;Linear_Q44.rgb=clamp(_Horizon_Color_.rgb*_Horizon_Color_.rgb,0.0,1.0);Linear_Q44.a=_Horizon_Color_.a;vec4 Linear_Q45;Linear_Q45.rgb=clamp(_Ground_Color_.rgb*_Ground_Color_.rgb,0.0,1.0);Linear_Q45.a=_Ground_Color_.a;vec3 Left_Index_Q64;vec3 Right_Index_Q64;vec3 Left_Index_Middle_Q64;vec3 Right_Index_Middle_Q64;Finger_Positions_B64(_Left_Index_Pos_,_Right_Index_Pos_,_Left_Index_Middle_Pos_,_Right_Index_Middle_Pos_,Left_Index_Q64,Right_Index_Q64,Left_Index_Middle_Q64,Right_Index_Middle_Q64);vec4 Linear_Q46;Linear_Q46.rgb=clamp(_Albedo_.rgb*_Albedo_.rgb,0.0,1.0);Linear_Q46.a=_Albedo_.a;vec3 Normalized_Q107=normalize(vBinormal);vec3 Incident_Q70=normalize(vPosition-cameraPosition);vec3 New_Normal_Q79;Bulge_B79(_Bulge_Enabled_,Normalized_Q38,Normalized_Q71,_Bulge_Height_,vColor,_Bulge_Radius_,vBinormal,New_Normal_Q79);float Result_Q77;SSS_B77(vBinormal,New_Normal_Q79,Incident_Q39,Result_Q77);vec4 Result_Q91;Scale_Color_B91(Color_Q83,X_Q90,Result_Q91);float Transmit_Q122;float Reflect_Q122;Fast_Fresnel_B122(_Front_Reflect_,_Edge_Reflect_,_Power_,New_Normal_Q79,Incident_Q39,Transmit_Q122,Reflect_Q122);float Product_Q125=Y_Q90*Y_Q90;vec3 NearP_Q65;vec3 NearQ_Q65;float Distance_Q65;Min_Segment_Distance_B65(Left_Index_Q64,Left_Index_Middle_Q64,vPosition,cameraPosition,NearP_Q65,NearQ_Q65,Distance_Q65);vec3 NearP_Q63;vec3 NearQ_Q63;float Distance_Q63;Min_Segment_Distance_B65(Right_Index_Q64,Right_Index_Middle_Q64,vPosition,cameraPosition,NearP_Q63,NearQ_Q63,Distance_Q63);vec3 Reflected_Q47=reflect(Incident_Q39,New_Normal_Q79);vec4 Product_Q103=Linear_Q46*vec4(1,1,1,1);vec4 Result_Q132;Rim_Light_B132(Normalized_Q107,Normalized_Q38,Incident_Q70,_Rim_Intensity_,_Rim_Texture_,Result_Q132);float Dot_Q72=dot(Incident_Q70, Normalized_Q71);float MaxAB_Q123=max(Reflect_Q122,Product_Q125);float NotInShadow_Q67;
#if OCCLUSION_ENABLED
FingerOcclusion_B67(_Width_,Distance_Q65,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q65,_Clip_Fade_,NotInShadow_Q67);
#else
NotInShadow_Q67=1.0;
#endif
float NotInShadow_Q68;
#if OCCLUSION_ENABLED
FingerOcclusion_B68(_Width_,Distance_Q63,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q63,_Clip_Fade_,NotInShadow_Q68);
#else
NotInShadow_Q68=1.0;
#endif
vec4 Reflected_Color_Q51;vec4 Indirect_Diffuse_Q51;
#if ENV_ENABLE
Mapped_Environment_B51(_Reflection_Map_,_Indirect_Environment_,Reflected_Q47,Reflected_Color_Q51,Indirect_Diffuse_Q51);
#else
Reflected_Color_Q51=vec4(0,0,0,1);Indirect_Diffuse_Q51=vec4(0,0,0,1);
#endif
vec4 Reflected_Color_Q50;vec4 Indirect_Color_Q50;
#if SKY_ENABLED
Sky_Environment_B50(New_Normal_Q79,Reflected_Q47,Linear_Q43,Linear_Q44,Linear_Q45,_Horizon_Power_,Reflected_Color_Q50,Indirect_Color_Q50);
#else
Reflected_Color_Q50=vec4(0,0,0,1);Indirect_Color_Q50=vec4(0,0,0,1);
#endif
float Hue_Q75;float Saturation_Q75;float Value_Q75;float Alpha_Q75;vec3 HSV_Q75;To_HSV_B75(Product_Q103,Hue_Q75,Saturation_Q75,Value_Q75,Alpha_Q75,HSV_Q75);float Hue_Q127;float Saturation_Q127;float Value_Q127;float Alpha_Q127;vec3 HSV_Q127;To_HSV_B75(Result_Q132,Hue_Q127,Saturation_Q127,Value_Q127,Alpha_Q127,HSV_Q127);float Result_Q110;Code_B110(Dot_Q72,Result_Q110);float AbsA_Q76=abs(Result_Q110);float MinAB_Q58=min(NotInShadow_Q67,NotInShadow_Q68);vec4 Sum_Q48=Reflected_Color_Q51+Reflected_Color_Q50;vec4 Sum_Q49=Indirect_Diffuse_Q51+Indirect_Color_Q50;vec3 HSV_Out_Q126;VaryHSV_B108(HSV_Q127,_Rim_Hue_Shift_,_Rim_Saturation_Shift_,_Rim_Value_Shift_,HSV_Out_Q126);float Out_Q114;Remap_Range_B114(-1.0,1.0,0.0,1.0,Result_Q110,Out_Q114);float Product_Q106;Product_Q106=AbsA_Q76*_Hue_Shift_;float X_Q128;float Y_Q128;float Z_Q128;To_XYZ_B74(HSV_Out_Q126,X_Q128,Y_Q128,Z_Q128);vec2 Vec2_Q112=vec2(Out_Q114,0.5);vec3 HSV_Out_Q108;VaryHSV_B108(HSV_Q75,Product_Q106,_Saturation_Shift_,_Value_Shift_,HSV_Out_Q108);vec4 Color_Q129;From_HSV_B73(X_Q128,Y_Q128,Z_Q128,0.0,Color_Q129);vec4 Color_Q111;
#if IRIDESCENCE_ENABLED
Color_Q111=texture(_Iridescence_Texture_,Vec2_Q112);
#else
Color_Q111=vec4(0,0,0,0);
#endif
float X_Q74;float Y_Q74;float Z_Q74;To_XYZ_B74(HSV_Out_Q108,X_Q74,Y_Q74,Z_Q74);vec4 Result_Q131=_Rim_Intensity_*Color_Q129;vec4 Result_Q113=_Iridescence_Intensity_*Color_Q111;vec4 Color_Q73;From_HSV_B73(X_Q74,Y_Q74,Z_Q74,0.0,Color_Q73);vec4 Result_Q84=Result_Q91+(1.0-Result_Q91.a)*Color_Q73;vec4 Result_Q121;Fragment_Main_B121(_Sun_Intensity_,_Sun_Theta_,_Sun_Phi_,New_Normal_Q79,Result_Q84,MaxAB_Q123,_Shininess_,Incident_Q39,_Horizon_Color_,_Sky_Color_,_Ground_Color_,_Indirect_Diffuse_,_Specular_,_Horizon_Power_,_Reflection_,Sum_Q48,Sum_Q49,_Sharpness_,Result_Q77,_Subsurface_,vec4(0,0,0,0),Result_Q131,Result_Q113,Result_Q121);vec4 Result_Q59;Scale_RGB_B59(Result_Q121,MinAB_Q58,Result_Q59);vec4 sRGB_Q42;FastLinearTosRGB_B42(Result_Q59,sRGB_Q42);vec4 Result_Q31=Blob_Color_Q30+(1.0-Blob_Color_Q30.a)*sRGB_Q42;vec4 Result_Q40=Result_Q31; Result_Q40.a=1.0;vec4 Out_Color=Result_Q40;float Clip_Threshold=0.001;bool To_sRGB=false;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderBar.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlSliderBarVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlSliderBarVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;
#ifdef TANGENT
attribute vec3 tangent;
#else
const vec3 tangent=vec3(0.);
#endif
uniform float _Radius_;uniform float _Bevel_Front_;uniform float _Bevel_Front_Stretch_;uniform float _Bevel_Back_;uniform float _Bevel_Back_Stretch_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform bool _Bulge_Enabled_;uniform float _Bulge_Height_;uniform float _Bulge_Radius_;uniform float _Sun_Intensity_;uniform float _Sun_Theta_;uniform float _Sun_Phi_;uniform float _Indirect_Diffuse_;uniform vec4 _Albedo_;uniform float _Specular_;uniform float _Shininess_;uniform float _Sharpness_;uniform float _Subsurface_;uniform vec4 _Left_Color_;uniform vec4 _Right_Color_;uniform float _Reflection_;uniform float _Front_Reflect_;uniform float _Edge_Reflect_;uniform float _Power_;uniform vec4 _Sky_Color_;uniform vec4 _Horizon_Color_;uniform vec4 _Ground_Color_;uniform float _Horizon_Power_;uniform sampler2D _Reflection_Map_;uniform sampler2D _Indirect_Environment_;uniform float _Width_;uniform float _Fuzz_;uniform float _Min_Fuzz_;uniform float _Clip_Fade_;uniform float _Hue_Shift_;uniform float _Saturation_Shift_;uniform float _Value_Shift_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform vec3 _Left_Index_Pos_;uniform vec3 _Right_Index_Pos_;uniform vec3 _Left_Index_Middle_Pos_;uniform vec3 _Right_Index_Middle_Pos_;uniform sampler2D _Decal_;uniform vec2 _Decal_Scale_XY_;uniform bool _Decal_Front_Only_;uniform float _Rim_Intensity_;uniform sampler2D _Rim_Texture_;uniform float _Rim_Hue_Shift_;uniform float _Rim_Saturation_Shift_;uniform float _Rim_Value_Shift_;uniform float _Iridescence_Intensity_;uniform sampler2D _Iridescence_Texture_;uniform bool Use_Global_Left_Index;uniform bool Use_Global_Right_Index;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;uniform vec4 Global_Left_Thumb_Tip_Position;uniform vec4 Global_Right_Thumb_Tip_Position;uniform float Global_Left_Index_Tip_Proximity;uniform float Global_Right_Index_Tip_Proximity;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;void Object_To_World_Pos_B12(
vec3 Pos_Object,
out vec3 Pos_World)
{Pos_World=(world*vec4(Pos_Object,1.0)).xyz;}
void Object_To_World_Normal_B32(
vec3 Nrm_Object,
out vec3 Nrm_World)
{Nrm_World=(vec4(Nrm_Object,0.0)).xyz;}
void Blob_Vertex_B23(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
float Blob_Fade_Length,
float Blob_Pulse,
float Blob_Fade,
out vec4 Blob_Info)
{vec3 blob= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Blob_Position);vec3 delta=blob-Position;float dist=dot(Normal,delta);float lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);float fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;vec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);float Fade=fadeValue*Intensity*Blob_Fade;float Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);Blob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);}
void Blob_Vertex_B24(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
float Blob_Fade_Length,
float Blob_Pulse,
float Blob_Fade,
out vec4 Blob_Info)
{vec3 blob= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Blob_Position);vec3 delta=blob-Position;float dist=dot(Normal,delta);float lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);float fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;vec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);float Fade=fadeValue*Intensity*Blob_Fade;float Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);Blob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);}
void Move_Verts_B130(
float Anisotropy,
vec3 P,
float Radius,
float Bevel,
vec3 Normal_Object,
float ScaleZ,
float Stretch,
out vec3 New_P,
out vec2 New_UV,
out float Radial_Gradient,
out vec3 Radial_Dir,
out vec3 New_Normal)
{vec2 UV=P.xy*2.0+0.5;vec2 center=clamp(UV,0.0,1.0);vec2 delta=UV-center;float deltad=(length(delta)*2.0);float f=(Bevel+(Radius-Bevel)*Stretch)/Radius;float innerd=clamp(deltad*2.0,0.0,1.0);float outerd=clamp(deltad*2.0-1.0,0.0,1.0);float bevelAngle=outerd*3.14159*0.5;float sinb=sin(bevelAngle);float cosb=cos(bevelAngle);float beveld=(1.0-f)*innerd+f*sinb;float br=outerd;vec2 r2=2.0*vec2(Radius/Anisotropy,Radius);float dir=P.z<0.0001 ? 1.0 : -1.0;New_UV=center+r2*((0.5-center)+normalize(delta+vec2(0.0,0.000001))*beveld*0.5);New_P=vec3(New_UV-0.5,P.z+dir*(1.0-cosb)*Bevel*ScaleZ);Radial_Gradient=clamp((deltad-0.5)*2.0,0.0,1.0);Radial_Dir=vec3(delta*r2,0.0);vec3 beveledNormal=cosb*Normal_Object+sinb*vec3(delta.x,delta.y,0.0);New_Normal=Normal_Object.z==0.0 ? Normal_Object : beveledNormal;}
void Object_To_World_Dir_B60(
vec3 Dir_Object,
out vec3 Normal_World,
out vec3 Normal_World_N,
out float Normal_Length)
{Normal_World=(world*vec4(Dir_Object,0.0)).xyz;Normal_Length=length(Normal_World);Normal_World_N=Normal_World/Normal_Length;}
void To_XYZ_B78(
vec3 Vec3,
out float X,
out float Y,
out float Z)
{X=Vec3.x;Y=Vec3.y;Z=Vec3.z;}
void Conditional_Float_B93(
bool Which,
float If_True,
float If_False,
out float Result)
{Result=Which ? If_True : If_False;}
void Object_To_World_Dir_B28(
vec3 Dir_Object,
out vec3 Binormal_World,
out vec3 Binormal_World_N,
out float Binormal_Length)
{Binormal_World=(world*vec4(Dir_Object,0.0)).xyz;Binormal_Length=length(Binormal_World);Binormal_World_N=Binormal_World/Binormal_Length;}
void Pick_Radius_B69(
float Radius,
float Radius_Top_Left,
float Radius_Top_Right,
float Radius_Bottom_Left,
float Radius_Bottom_Right,
vec3 Position,
out float Result)
{bool whichY=Position.y>0.0;Result=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);Result*=Radius;}
void Conditional_Float_B36(
bool Which,
float If_True,
float If_False,
out float Result)
{Result=Which ? If_True : If_False;}
void Greater_Than_B37(
float Left,
float Right,
out bool Not_Greater_Than,
out bool Greater_Than)
{Greater_Than=Left>Right;Not_Greater_Than=!Greater_Than;}
void Remap_Range_B105(
float In_Min,
float In_Max,
float Out_Min,
float Out_Max,
float In,
out float Out)
{Out=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));}
void main()
{vec2 XY_Q85;XY_Q85=(uv-vec2(0.5,0.5))*_Decal_Scale_XY_+vec2(0.5,0.5);vec3 Tangent_World_Q27;vec3 Tangent_World_N_Q27;float Tangent_Length_Q27;Tangent_World_Q27=(world*vec4(vec3(1,0,0),0.0)).xyz;Tangent_Length_Q27=length(Tangent_World_Q27);Tangent_World_N_Q27=Tangent_World_Q27/Tangent_Length_Q27;vec3 Normal_World_Q60;vec3 Normal_World_N_Q60;float Normal_Length_Q60;Object_To_World_Dir_B60(vec3(0,0,1),Normal_World_Q60,Normal_World_N_Q60,Normal_Length_Q60);float X_Q78;float Y_Q78;float Z_Q78;To_XYZ_B78(position,X_Q78,Y_Q78,Z_Q78);vec3 Nrm_World_Q26;Nrm_World_Q26=normalize((world*vec4(normal,0.0)).xyz);vec3 Binormal_World_Q28;vec3 Binormal_World_N_Q28;float Binormal_Length_Q28;Object_To_World_Dir_B28(vec3(0,1,0),Binormal_World_Q28,Binormal_World_N_Q28,Binormal_Length_Q28);float Anisotropy_Q29=Tangent_Length_Q27/Binormal_Length_Q28;float Result_Q69;Pick_Radius_B69(_Radius_,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q69);float Anisotropy_Q53=Binormal_Length_Q28/Normal_Length_Q60;bool Not_Greater_Than_Q37;bool Greater_Than_Q37;Greater_Than_B37(Z_Q78,0.0,Not_Greater_Than_Q37,Greater_Than_Q37);vec4 Linear_Q101;Linear_Q101.rgb=clamp(_Left_Color_.rgb*_Left_Color_.rgb,0.0,1.0);Linear_Q101.a=_Left_Color_.a;vec4 Linear_Q102;Linear_Q102.rgb=clamp(_Right_Color_.rgb*_Right_Color_.rgb,0.0,1.0);Linear_Q102.a=_Right_Color_.a;vec3 Difference_Q61=vec3(0,0,0)-Normal_World_N_Q60;vec4 Out_Color_Q34=vec4(X_Q78,Y_Q78,Z_Q78,1);float Result_Q36;Conditional_Float_B36(Greater_Than_Q37,_Bevel_Back_,_Bevel_Front_,Result_Q36);float Result_Q94;Conditional_Float_B36(Greater_Than_Q37,_Bevel_Back_Stretch_,_Bevel_Front_Stretch_,Result_Q94);vec3 New_P_Q130;vec2 New_UV_Q130;float Radial_Gradient_Q130;vec3 Radial_Dir_Q130;vec3 New_Normal_Q130;Move_Verts_B130(Anisotropy_Q29,position,Result_Q69,Result_Q36,normal,Anisotropy_Q53,Result_Q94,New_P_Q130,New_UV_Q130,Radial_Gradient_Q130,Radial_Dir_Q130,New_Normal_Q130);float X_Q98;float Y_Q98;X_Q98=New_UV_Q130.x;Y_Q98=New_UV_Q130.y;vec3 Pos_World_Q12;Object_To_World_Pos_B12(New_P_Q130,Pos_World_Q12);vec3 Nrm_World_Q32;Object_To_World_Normal_B32(New_Normal_Q130,Nrm_World_Q32);vec4 Blob_Info_Q23;
#if BLOB_ENABLE
Blob_Vertex_B23(Pos_World_Q12,Nrm_World_Q26,Tangent_World_N_Q27,Binormal_World_N_Q28,_Blob_Position_,_Blob_Intensity_,_Blob_Near_Size_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_,_Blob_Fade_,Blob_Info_Q23);
#else
Blob_Info_Q23=vec4(0,0,0,0);
#endif
vec4 Blob_Info_Q24;
#if BLOB_ENABLE_2
Blob_Vertex_B24(Pos_World_Q12,Nrm_World_Q26,Tangent_World_N_Q27,Binormal_World_N_Q28,_Blob_Position_2_,_Blob_Intensity_,_Blob_Near_Size_2_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_2_,_Blob_Fade_2_,Blob_Info_Q24);
#else
Blob_Info_Q24=vec4(0,0,0,0);
#endif
float Out_Q105;Remap_Range_B105(0.0,1.0,0.0,1.0,X_Q98,Out_Q105);float X_Q86;float Y_Q86;float Z_Q86;To_XYZ_B78(Nrm_World_Q32,X_Q86,Y_Q86,Z_Q86);vec4 Color_At_T_Q97=mix(Linear_Q101,Linear_Q102,Out_Q105);float Minus_F_Q87=-Z_Q86;float R_Q99;float G_Q99;float B_Q99;float A_Q99;R_Q99=Color_At_T_Q97.r; G_Q99=Color_At_T_Q97.g; B_Q99=Color_At_T_Q97.b; A_Q99=Color_At_T_Q97.a;float ClampF_Q88=clamp(0.0,Minus_F_Q87,1.0);float Result_Q93;Conditional_Float_B93(_Decal_Front_Only_,ClampF_Q88,1.0,Result_Q93);vec4 Vec4_Q89=vec4(Result_Q93,Radial_Gradient_Q130,G_Q99,B_Q99);vec3 Position=Pos_World_Q12;vec3 Normal=Nrm_World_Q32;vec2 UV=XY_Q85;vec3 Tangent=Tangent_World_N_Q27;vec3 Binormal=Difference_Q61;vec4 Color=Out_Color_Q34;vec4 Extra1=Vec4_Q89;vec4 Extra2=Blob_Info_Q23;vec4 Extra3=Blob_Info_Q24;gl_Position=viewProjection*vec4(Position,1);vPosition=Position;vNormal=Normal;vUV=UV;vTangent=Tangent;vBinormal=Binormal;vColor=Color;vExtra1=Extra1;vExtra2=Extra2;vExtra3=Extra3;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderThumb.fragment.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlSliderThumbPixelShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlSliderThumbPixelShader",m=`uniform vec3 cameraPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;uniform float _Radius_;uniform float _Bevel_Front_;uniform float _Bevel_Front_Stretch_;uniform float _Bevel_Back_;uniform float _Bevel_Back_Stretch_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform bool _Bulge_Enabled_;uniform float _Bulge_Height_;uniform float _Bulge_Radius_;uniform float _Sun_Intensity_;uniform float _Sun_Theta_;uniform float _Sun_Phi_;uniform float _Indirect_Diffuse_;uniform vec4 _Albedo_;uniform float _Specular_;uniform float _Shininess_;uniform float _Sharpness_;uniform float _Subsurface_;uniform vec4 _Left_Color_;uniform vec4 _Right_Color_;uniform float _Reflection_;uniform float _Front_Reflect_;uniform float _Edge_Reflect_;uniform float _Power_;uniform vec4 _Sky_Color_;uniform vec4 _Horizon_Color_;uniform vec4 _Ground_Color_;uniform float _Horizon_Power_;uniform sampler2D _Reflection_Map_;uniform sampler2D _Indirect_Environment_;uniform float _Width_;uniform float _Fuzz_;uniform float _Min_Fuzz_;uniform float _Clip_Fade_;uniform float _Hue_Shift_;uniform float _Saturation_Shift_;uniform float _Value_Shift_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform vec3 _Left_Index_Pos_;uniform vec3 _Right_Index_Pos_;uniform vec3 _Left_Index_Middle_Pos_;uniform vec3 _Right_Index_Middle_Pos_;uniform sampler2D _Decal_;uniform vec2 _Decal_Scale_XY_;uniform bool _Decal_Front_Only_;uniform float _Rim_Intensity_;uniform sampler2D _Rim_Texture_;uniform float _Rim_Hue_Shift_;uniform float _Rim_Saturation_Shift_;uniform float _Rim_Value_Shift_;uniform float _Iridescence_Intensity_;uniform sampler2D _Iridescence_Texture_;uniform bool Use_Global_Left_Index;uniform bool Use_Global_Right_Index;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;uniform vec4 Global_Left_Thumb_Tip_Position;uniform vec4 Global_Right_Thumb_Tip_Position;uniform vec4 Global_Left_Index_Middle_Position;uniform vec4 Global_Right_Index_Middle_Position;uniform float Global_Left_Index_Tip_Proximity;uniform float Global_Right_Index_Tip_Proximity;void Blob_Fragment_B180(
sampler2D Blob_Texture,
vec4 Blob_Info1,
vec4 Blob_Info2,
out vec4 Blob_Color)
{float k1=dot(Blob_Info1.xy,Blob_Info1.xy);float k2=dot(Blob_Info2.xy,Blob_Info2.xy);vec3 closer=k1<k2 ? vec3(k1,Blob_Info1.z,Blob_Info1.w) : vec3(k2,Blob_Info2.z,Blob_Info2.w);Blob_Color=closer.z*texture(Blob_Texture,vec2(vec2(sqrt(closer.x),closer.y).x,1.0-vec2(sqrt(closer.x),closer.y).y))*clamp(1.0-closer.x,0.0,1.0);}
void FastLinearTosRGB_B192(
vec4 Linear,
out vec4 sRGB)
{sRGB.rgb=sqrt(clamp(Linear.rgb,0.0,1.0));sRGB.a=Linear.a;}
void Scale_RGB_B209(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=vec4(Scalar,Scalar,Scalar,1)*Color;}
void Fragment_Main_B271(
float Sun_Intensity,
float Sun_Theta,
float Sun_Phi,
vec3 Normal,
vec4 Albedo,
float Fresnel_Reflect,
float Shininess,
vec3 Incident,
vec4 Horizon_Color,
vec4 Sky_Color,
vec4 Ground_Color,
float Indirect_Diffuse,
float Specular,
float Horizon_Power,
float Reflection,
vec4 Reflection_Sample,
vec4 Indirect_Sample,
float Sharpness,
float SSS,
float Subsurface,
vec4 Translucence,
vec4 Rim_Light,
vec4 Iridescence,
out vec4 Result)
{float theta=Sun_Theta*2.0*3.14159;float phi=Sun_Phi*3.14159;vec3 lightDir= vec3(cos(phi)*cos(theta),sin(phi),cos(phi)*sin(theta));float NdotL=max(dot(lightDir,Normal),0.0);vec3 R=reflect(Incident,Normal);float RdotL=max(0.0,dot(R,lightDir));float specular=pow(RdotL,Shininess);specular=mix(specular,smoothstep(0.495*Sharpness,1.0-0.495*Sharpness,specular),Sharpness);vec4 gi=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);Result=((Sun_Intensity*NdotL+Indirect_Sample*Indirect_Diffuse+Translucence)*(1.0+SSS*Subsurface))*Albedo*(1.0-Fresnel_Reflect)+(Sun_Intensity*specular*Specular+Fresnel_Reflect*Reflection*Reflection_Sample)+Fresnel_Reflect*Rim_Light+Iridescence;}
void Bulge_B229(
bool Enabled,
vec3 Normal,
vec3 Tangent,
float Bulge_Height,
vec4 UV,
float Bulge_Radius,
vec3 ButtonN,
out vec3 New_Normal)
{vec2 xy=clamp(UV.xy*2.0,vec2(-1,-1),vec2(1,1));vec3 B=(cross(Normal,Tangent));float k=-clamp(1.0-length(xy)/Bulge_Radius,0.0,1.0)*Bulge_Height;k=sin(k*3.14159*0.5);k*=smoothstep(0.9998,0.9999,abs(dot(ButtonN,Normal)));New_Normal=Normal*sqrt(1.0-k*k)+(xy.x*Tangent+xy.y*B)*k;New_Normal=Enabled ? New_Normal : Normal;}
void SSS_B227(
vec3 ButtonN,
vec3 Normal,
vec3 Incident,
out float Result)
{float NdotI=abs(dot(Normal,Incident));float BdotI=abs(dot(ButtonN,Incident));Result=(abs(NdotI-BdotI)); }
void FingerOcclusion_B217(
float Width,
float DistToCenter,
float Fuzz,
float Min_Fuzz,
vec3 Position,
vec3 Forward,
vec3 Nearest,
float Fade_Out,
out float NotInShadow)
{float d=dot((Nearest-Position),Forward);float sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);NotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);}
void FingerOcclusion_B218(
float Width,
float DistToCenter,
float Fuzz,
float Min_Fuzz,
vec3 Position,
vec3 Forward,
vec3 Nearest,
float Fade_Out,
out float NotInShadow)
{float d=dot((Nearest-Position),Forward);float sh=smoothstep(Width*0.5,Width*0.5+Fuzz*max(d,0.0)+Min_Fuzz,DistToCenter);NotInShadow=1.0-(1.0-sh)*smoothstep(-Fade_Out,0.0,d);}
void Scale_Color_B241(
vec4 Color,
float Scalar,
out vec4 Result)
{Result=Scalar*Color;}
void From_HSV_B223(
float Hue,
float Saturation,
float Value,
float Alpha,
out vec4 Color)
{vec4 K=vec4(1.0,2.0/3.0,1.0/3.0,3.0);vec3 p=abs(fract(vec3(Hue,Hue,Hue)+K.xyz)*6.0-K.www);Color.rgb=Value*mix(K.xxx,clamp(p-K.xxx,0.0,1.0),Saturation);Color.a=Alpha;}
void Fast_Fresnel_B272(
float Front_Reflect,
float Edge_Reflect,
float Power,
vec3 Normal,
vec3 Incident,
out float Transmit,
out float Reflect)
{float d=max(-dot(Incident,Normal),0.0);Reflect=Front_Reflect+(Edge_Reflect-Front_Reflect)*pow(1.0-d,Power);Transmit=1.0-Reflect;}
void Mapped_Environment_B201(
sampler2D Reflected_Environment,
sampler2D Indirect_Environment,
vec3 Dir,
out vec4 Reflected_Color,
out vec4 Indirect_Diffuse)
{Reflected_Color=texture(Reflected_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));Indirect_Diffuse=texture(Indirect_Environment,vec2(atan(Dir.z,Dir.x)/3.14159*0.5,asin(Dir.y)/3.14159+0.5));}
vec4 SampleEnv_Bid200(vec3 D,vec4 S,vec4 H,vec4 G,float exponent)
{float k=pow(abs(D.y),exponent);vec4 C;if (D.y>0.0) {C=mix(H,S,k);} else {C=mix(H,G,k); }
return C;}
void Sky_Environment_B200(
vec3 Normal,
vec3 Reflected,
vec4 Sky_Color,
vec4 Horizon_Color,
vec4 Ground_Color,
float Horizon_Power,
out vec4 Reflected_Color,
out vec4 Indirect_Color)
{Reflected_Color=SampleEnv_Bid200(Reflected,Sky_Color,Horizon_Color,Ground_Color,Horizon_Power);Indirect_Color=mix(Ground_Color,Sky_Color,Normal.y*0.5+0.5);}
void Min_Segment_Distance_B215(
vec3 P0,
vec3 P1,
vec3 Q0,
vec3 Q1,
out vec3 NearP,
out vec3 NearQ,
out float Distance)
{vec3 u=P1-P0;vec3 v=Q1-Q0;vec3 w=P0-Q0;float a=dot(u,u);float b=dot(u,v);float c=dot(v,v);float d=dot(u,w);float e=dot(v,w);float D=a*c-b*b;float sD=D;float tD=D;float sc,sN,tc,tN;if (D<0.00001) {sN=0.0;sD=1.0;tN=e;tD=c;} else {sN=(b*e-c*d);tN=(a*e-b*d);if (sN<0.0) {sN=0.0;tN=e;tD=c;} else if (sN>sD) {sN=sD;tN=e+b;tD=c;}}
if (tN<0.0) {tN=0.0;if (-d<0.0) {sN=0.0;} else if (-d>a) {sN=sD;} else {sN=-d;sD=a;}} else if (tN>tD) {tN=tD;if ((-d+b)<0.0) {sN=0.0;} else if ((-d+b)>a) {sN=sD;} else {sN=(-d+b);sD=a;}}
sc=abs(sN)<0.000001 ? 0.0 : sN/sD;tc=abs(tN)<0.000001 ? 0.0 : tN/tD;NearP=P0+sc*u;NearQ=Q0+tc*v;Distance=distance(NearP,NearQ);}
void To_XYZ_B224(
vec3 Vec3,
out float X,
out float Y,
out float Z)
{X=Vec3.x;Y=Vec3.y;Z=Vec3.z;}
void Finger_Positions_B214(
vec3 Left_Index_Pos,
vec3 Right_Index_Pos,
vec3 Left_Index_Middle_Pos,
vec3 Right_Index_Middle_Pos,
out vec3 Left_Index,
out vec3 Right_Index,
out vec3 Left_Index_Middle,
out vec3 Right_Index_Middle)
{Left_Index= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Left_Index_Pos);Right_Index= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Right_Index_Pos);Left_Index_Middle= (Use_Global_Left_Index ? Global_Left_Index_Middle_Position.xyz : Left_Index_Middle_Pos);Right_Index_Middle= (Use_Global_Right_Index ? Global_Right_Index_Middle_Position.xyz : Right_Index_Middle_Pos);}
void VaryHSV_B258(
vec3 HSV_In,
float Hue_Shift,
float Saturation_Shift,
float Value_Shift,
out vec3 HSV_Out)
{HSV_Out=vec3(fract(HSV_In.x+Hue_Shift),clamp(HSV_In.y+Saturation_Shift,0.0,1.0),clamp(HSV_In.z+Value_Shift,0.0,1.0));}
void Remap_Range_B264(
float In_Min,
float In_Max,
float Out_Min,
float Out_Max,
float In,
out float Out)
{Out=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));}
void To_HSV_B225(
vec4 Color,
out float Hue,
out float Saturation,
out float Value,
out float Alpha,
out vec3 HSV)
{vec4 K=vec4(0.0,-1.0/3.0,2.0/3.0,-1.0);vec4 p=Color.g<Color.b ? vec4(Color.bg,K.wz) : vec4(Color.gb,K.xy);vec4 q=Color.r<p.x ? vec4(p.xyw,Color.r) : vec4(Color.r,p.yzx);float d=q.x-min(q.w,q.y);float e=1.0e-10;Hue=abs(q.z+(q.w-q.y)/(6.0*d+e));Saturation=d/(q.x+e);Value=q.x;Alpha=Color.a;HSV=vec3(Hue,Saturation,Value);}
void Code_B260(
float X,
out float Result)
{Result=(acos(X)/3.14159-0.5)*2.0;}
void Rim_Light_B282(
vec3 Front,
vec3 Normal,
vec3 Incident,
float Rim_Intensity,
sampler2D Texture,
out vec4 Result)
{vec3 R=reflect(Incident,Normal);float RdotF=dot(R,Front);float RdotL=sqrt(1.0-RdotF*RdotF);vec2 UV=vec2(R.y*0.5+0.5,0.5);vec4 Color=texture(Texture,UV);Result=Color;}
void main()
{vec4 Blob_Color_Q180;
#if BLOB_ENABLE
Blob_Fragment_B180(_Blob_Texture_,vExtra2,vExtra3,Blob_Color_Q180);
#else
Blob_Color_Q180=vec4(0,0,0,0);
#endif
vec3 Incident_Q189=normalize(vPosition-cameraPosition);vec3 Normalized_Q188=normalize(vNormal);vec3 Normalized_Q221=normalize(vTangent);vec4 Color_Q233;
#if DECAL_ENABLE
Color_Q233=texture(_Decal_,vUV);
#else
Color_Q233=vec4(0,0,0,0);
#endif
float X_Q240;float Y_Q240;float Z_Q240;float W_Q240;X_Q240=vExtra1.x;Y_Q240=vExtra1.y;Z_Q240=vExtra1.z;W_Q240=vExtra1.w;vec4 Linear_Q193;Linear_Q193.rgb=clamp(_Sky_Color_.rgb*_Sky_Color_.rgb,0.0,1.0);Linear_Q193.a=_Sky_Color_.a;vec4 Linear_Q194;Linear_Q194.rgb=clamp(_Horizon_Color_.rgb*_Horizon_Color_.rgb,0.0,1.0);Linear_Q194.a=_Horizon_Color_.a;vec4 Linear_Q195;Linear_Q195.rgb=clamp(_Ground_Color_.rgb*_Ground_Color_.rgb,0.0,1.0);Linear_Q195.a=_Ground_Color_.a;vec3 Left_Index_Q214;vec3 Right_Index_Q214;vec3 Left_Index_Middle_Q214;vec3 Right_Index_Middle_Q214;Finger_Positions_B214(_Left_Index_Pos_,_Right_Index_Pos_,_Left_Index_Middle_Pos_,_Right_Index_Middle_Pos_,Left_Index_Q214,Right_Index_Q214,Left_Index_Middle_Q214,Right_Index_Middle_Q214);vec4 Linear_Q196;Linear_Q196.rgb=clamp(_Albedo_.rgb*_Albedo_.rgb,0.0,1.0);Linear_Q196.a=_Albedo_.a;vec3 Normalized_Q257=normalize(vBinormal);vec3 Incident_Q220=normalize(vPosition-cameraPosition);vec3 New_Normal_Q229;Bulge_B229(_Bulge_Enabled_,Normalized_Q188,Normalized_Q221,_Bulge_Height_,vColor,_Bulge_Radius_,vBinormal,New_Normal_Q229);float Result_Q227;SSS_B227(vBinormal,New_Normal_Q229,Incident_Q189,Result_Q227);vec4 Result_Q241;Scale_Color_B241(Color_Q233,X_Q240,Result_Q241);float Transmit_Q272;float Reflect_Q272;Fast_Fresnel_B272(_Front_Reflect_,_Edge_Reflect_,_Power_,New_Normal_Q229,Incident_Q189,Transmit_Q272,Reflect_Q272);float Product_Q275=Y_Q240*Y_Q240;vec3 NearP_Q215;vec3 NearQ_Q215;float Distance_Q215;Min_Segment_Distance_B215(Left_Index_Q214,Left_Index_Middle_Q214,vPosition,cameraPosition,NearP_Q215,NearQ_Q215,Distance_Q215);vec3 NearP_Q213;vec3 NearQ_Q213;float Distance_Q213;Min_Segment_Distance_B215(Right_Index_Q214,Right_Index_Middle_Q214,vPosition,cameraPosition,NearP_Q213,NearQ_Q213,Distance_Q213);vec3 Reflected_Q197=reflect(Incident_Q189,New_Normal_Q229);vec4 Product_Q253=Linear_Q196*vec4(1,1,1,1);vec4 Result_Q282;Rim_Light_B282(Normalized_Q257,Normalized_Q188,Incident_Q220,_Rim_Intensity_,_Rim_Texture_,Result_Q282);float Dot_Q222=dot(Incident_Q220, Normalized_Q221);float MaxAB_Q273=max(Reflect_Q272,Product_Q275);float NotInShadow_Q217;
#if OCCLUSION_ENABLED
FingerOcclusion_B217(_Width_,Distance_Q215,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q215,_Clip_Fade_,NotInShadow_Q217);
#else
NotInShadow_Q217=1.0;
#endif
float NotInShadow_Q218;
#if OCCLUSION_ENABLED
FingerOcclusion_B218(_Width_,Distance_Q213,_Fuzz_,_Min_Fuzz_,vPosition,vBinormal,NearP_Q213,_Clip_Fade_,NotInShadow_Q218);
#else
NotInShadow_Q218=1.0;
#endif
vec4 Reflected_Color_Q201;vec4 Indirect_Diffuse_Q201;
#if ENV_ENABLE
Mapped_Environment_B201(_Reflection_Map_,_Indirect_Environment_,Reflected_Q197,Reflected_Color_Q201,Indirect_Diffuse_Q201);
#else
Reflected_Color_Q201=vec4(0,0,0,1);Indirect_Diffuse_Q201=vec4(0,0,0,1);
#endif
vec4 Reflected_Color_Q200;vec4 Indirect_Color_Q200;
#if SKY_ENABLED
Sky_Environment_B200(New_Normal_Q229,Reflected_Q197,Linear_Q193,Linear_Q194,Linear_Q195,_Horizon_Power_,Reflected_Color_Q200,Indirect_Color_Q200);
#else
Reflected_Color_Q200=vec4(0,0,0,1);Indirect_Color_Q200=vec4(0,0,0,1);
#endif
float Hue_Q225;float Saturation_Q225;float Value_Q225;float Alpha_Q225;vec3 HSV_Q225;To_HSV_B225(Product_Q253,Hue_Q225,Saturation_Q225,Value_Q225,Alpha_Q225,HSV_Q225);float Hue_Q277;float Saturation_Q277;float Value_Q277;float Alpha_Q277;vec3 HSV_Q277;To_HSV_B225(Result_Q282,Hue_Q277,Saturation_Q277,Value_Q277,Alpha_Q277,HSV_Q277);float Result_Q260;Code_B260(Dot_Q222,Result_Q260);float AbsA_Q226=abs(Result_Q260);float MinAB_Q208=min(NotInShadow_Q217,NotInShadow_Q218);vec4 Sum_Q198=Reflected_Color_Q201+Reflected_Color_Q200;vec4 Sum_Q199=Indirect_Diffuse_Q201+Indirect_Color_Q200;vec3 HSV_Out_Q276;VaryHSV_B258(HSV_Q277,_Rim_Hue_Shift_,_Rim_Saturation_Shift_,_Rim_Value_Shift_,HSV_Out_Q276);float Out_Q264;Remap_Range_B264(-1.0,1.0,0.0,1.0,Result_Q260,Out_Q264);float Product_Q256;Product_Q256=AbsA_Q226*_Hue_Shift_;float X_Q278;float Y_Q278;float Z_Q278;To_XYZ_B224(HSV_Out_Q276,X_Q278,Y_Q278,Z_Q278);vec2 Vec2_Q262=vec2(Out_Q264,0.5);vec3 HSV_Out_Q258;VaryHSV_B258(HSV_Q225,Product_Q256,_Saturation_Shift_,_Value_Shift_,HSV_Out_Q258);vec4 Color_Q279;From_HSV_B223(X_Q278,Y_Q278,Z_Q278,0.0,Color_Q279);vec4 Color_Q261;
#if IRIDESCENCE_ENABLED
Color_Q261=texture(_Iridescence_Texture_,Vec2_Q262);
#else
Color_Q261=vec4(0,0,0,0);
#endif
float X_Q224;float Y_Q224;float Z_Q224;To_XYZ_B224(HSV_Out_Q258,X_Q224,Y_Q224,Z_Q224);vec4 Result_Q281=_Rim_Intensity_*Color_Q279;vec4 Result_Q263=_Iridescence_Intensity_*Color_Q261;vec4 Color_Q223;From_HSV_B223(X_Q224,Y_Q224,Z_Q224,0.0,Color_Q223);vec4 Result_Q234=Result_Q241+(1.0-Result_Q241.a)*Color_Q223;vec4 Result_Q271;Fragment_Main_B271(_Sun_Intensity_,_Sun_Theta_,_Sun_Phi_,New_Normal_Q229,Result_Q234,MaxAB_Q273,_Shininess_,Incident_Q189,_Horizon_Color_,_Sky_Color_,_Ground_Color_,_Indirect_Diffuse_,_Specular_,_Horizon_Power_,_Reflection_,Sum_Q198,Sum_Q199,_Sharpness_,Result_Q227,_Subsurface_,vec4(0,0,0,0),Result_Q281,Result_Q263,Result_Q271);vec4 Result_Q209;Scale_RGB_B209(Result_Q271,MinAB_Q208,Result_Q209);vec4 sRGB_Q192;FastLinearTosRGB_B192(Result_Q209,sRGB_Q192);vec4 Result_Q181=Blob_Color_Q180+(1.0-Blob_Color_Q180.a)*sRGB_Q192;vec4 Result_Q190=Result_Q181; Result_Q190.a=1.0;vec4 Out_Color=Result_Q190;float Clip_Threshold=0.001;bool To_sRGB=false;gl_FragColor=Out_Color;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/materials/mrdl/shaders/mrdlSliderThumb.vertex.ts":(k,b,h)=>{h.r(b),h.d(b,{mrdlSliderThumbVertexShader:()=>v});var _=h("babylonjs/Misc/perfCounter"),n="mrdlSliderThumbVertexShader",m=`uniform mat4 world;uniform mat4 viewProjection;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;attribute vec2 uv;
#ifdef TANGENT
attribute vec3 tangent;
#else
const vec3 tangent=vec3(0.);
#endif
uniform float _Radius_;uniform float _Bevel_Front_;uniform float _Bevel_Front_Stretch_;uniform float _Bevel_Back_;uniform float _Bevel_Back_Stretch_;uniform float _Radius_Top_Left_;uniform float _Radius_Top_Right_;uniform float _Radius_Bottom_Left_;uniform float _Radius_Bottom_Right_;uniform bool _Bulge_Enabled_;uniform float _Bulge_Height_;uniform float _Bulge_Radius_;uniform float _Sun_Intensity_;uniform float _Sun_Theta_;uniform float _Sun_Phi_;uniform float _Indirect_Diffuse_;uniform vec4 _Albedo_;uniform float _Specular_;uniform float _Shininess_;uniform float _Sharpness_;uniform float _Subsurface_;uniform vec4 _Left_Color_;uniform vec4 _Right_Color_;uniform float _Reflection_;uniform float _Front_Reflect_;uniform float _Edge_Reflect_;uniform float _Power_;uniform vec4 _Sky_Color_;uniform vec4 _Horizon_Color_;uniform vec4 _Ground_Color_;uniform float _Horizon_Power_;uniform sampler2D _Reflection_Map_;uniform sampler2D _Indirect_Environment_;uniform float _Width_;uniform float _Fuzz_;uniform float _Min_Fuzz_;uniform float _Clip_Fade_;uniform float _Hue_Shift_;uniform float _Saturation_Shift_;uniform float _Value_Shift_;uniform vec3 _Blob_Position_;uniform float _Blob_Intensity_;uniform float _Blob_Near_Size_;uniform float _Blob_Far_Size_;uniform float _Blob_Near_Distance_;uniform float _Blob_Far_Distance_;uniform float _Blob_Fade_Length_;uniform float _Blob_Pulse_;uniform float _Blob_Fade_;uniform sampler2D _Blob_Texture_;uniform vec3 _Blob_Position_2_;uniform float _Blob_Near_Size_2_;uniform float _Blob_Pulse_2_;uniform float _Blob_Fade_2_;uniform vec3 _Left_Index_Pos_;uniform vec3 _Right_Index_Pos_;uniform vec3 _Left_Index_Middle_Pos_;uniform vec3 _Right_Index_Middle_Pos_;uniform sampler2D _Decal_;uniform vec2 _Decal_Scale_XY_;uniform bool _Decal_Front_Only_;uniform float _Rim_Intensity_;uniform sampler2D _Rim_Texture_;uniform float _Rim_Hue_Shift_;uniform float _Rim_Saturation_Shift_;uniform float _Rim_Value_Shift_;uniform float _Iridescence_Intensity_;uniform sampler2D _Iridescence_Texture_;uniform bool Use_Global_Left_Index;uniform bool Use_Global_Right_Index;uniform vec4 Global_Left_Index_Tip_Position;uniform vec4 Global_Right_Index_Tip_Position;uniform vec4 Global_Left_Thumb_Tip_Position;uniform vec4 Global_Right_Thumb_Tip_Position;uniform float Global_Left_Index_Tip_Proximity;uniform float Global_Right_Index_Tip_Proximity;varying vec3 vPosition;varying vec3 vNormal;varying vec2 vUV;varying vec3 vTangent;varying vec3 vBinormal;varying vec4 vColor;varying vec4 vExtra1;varying vec4 vExtra2;varying vec4 vExtra3;void Object_To_World_Pos_B162(
vec3 Pos_Object,
out vec3 Pos_World)
{Pos_World=(world*vec4(Pos_Object,1.0)).xyz;}
void Object_To_World_Normal_B182(
vec3 Nrm_Object,
out vec3 Nrm_World)
{Nrm_World=(vec4(Nrm_Object,0.0)).xyz;}
void Blob_Vertex_B173(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
float Blob_Fade_Length,
float Blob_Pulse,
float Blob_Fade,
out vec4 Blob_Info)
{vec3 blob= (Use_Global_Left_Index ? Global_Left_Index_Tip_Position.xyz : Blob_Position);vec3 delta=blob-Position;float dist=dot(Normal,delta);float lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);float fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;vec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);float Fade=fadeValue*Intensity*Blob_Fade;float Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);Blob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);}
void Blob_Vertex_B174(
vec3 Position,
vec3 Normal,
vec3 Tangent,
vec3 Bitangent,
vec3 Blob_Position,
float Intensity,
float Blob_Near_Size,
float Blob_Far_Size,
float Blob_Near_Distance,
float Blob_Far_Distance,
float Blob_Fade_Length,
float Blob_Pulse,
float Blob_Fade,
out vec4 Blob_Info)
{vec3 blob= (Use_Global_Right_Index ? Global_Right_Index_Tip_Position.xyz : Blob_Position);vec3 delta=blob-Position;float dist=dot(Normal,delta);float lerpValue=clamp((abs(dist)-Blob_Near_Distance)/(Blob_Far_Distance-Blob_Near_Distance),0.0,1.0);float fadeValue=1.0-clamp((abs(dist)-Blob_Far_Distance)/Blob_Fade_Length,0.0,1.0);float size=Blob_Near_Size+(Blob_Far_Size-Blob_Near_Size)*lerpValue;vec2 blobXY=vec2(dot(delta,Tangent),dot(delta,Bitangent))/(0.0001+size);float Fade=fadeValue*Intensity*Blob_Fade;float Distance=(lerpValue*0.5+0.5)*(1.0-Blob_Pulse);Blob_Info=vec4(blobXY.x,blobXY.y,Distance,Fade);}
void Move_Verts_B280(
float Anisotropy,
vec3 P,
float Radius,
float Bevel,
vec3 Normal_Object,
float ScaleZ,
float Stretch,
out vec3 New_P,
out vec2 New_UV,
out float Radial_Gradient,
out vec3 Radial_Dir,
out vec3 New_Normal)
{vec2 UV=P.xy*2.0+0.5;vec2 center=clamp(UV,0.0,1.0);vec2 delta=UV-center;float deltad=(length(delta)*2.0);float f=(Bevel+(Radius-Bevel)*Stretch)/Radius;float innerd=clamp(deltad*2.0,0.0,1.0);float outerd=clamp(deltad*2.0-1.0,0.0,1.0);float bevelAngle=outerd*3.14159*0.5;float sinb=sin(bevelAngle);float cosb=cos(bevelAngle);float beveld=(1.0-f)*innerd+f*sinb;float br=outerd;vec2 r2=2.0*vec2(Radius/Anisotropy,Radius);float dir=P.z<0.0001 ? 1.0 : -1.0;New_UV=center+r2*((0.5-center)+normalize(delta+vec2(0.0,0.000001))*beveld*0.5);New_P=vec3(New_UV-0.5,P.z+dir*(1.0-cosb)*Bevel*ScaleZ);Radial_Gradient=clamp((deltad-0.5)*2.0,0.0,1.0);Radial_Dir=vec3(delta*r2,0.0);vec3 beveledNormal=cosb*Normal_Object+sinb*vec3(delta.x,delta.y,0.0);New_Normal=Normal_Object.z==0.0 ? Normal_Object : beveledNormal;}
void Object_To_World_Dir_B210(
vec3 Dir_Object,
out vec3 Normal_World,
out vec3 Normal_World_N,
out float Normal_Length)
{Normal_World=(world*vec4(Dir_Object,0.0)).xyz;Normal_Length=length(Normal_World);Normal_World_N=Normal_World/Normal_Length;}
void To_XYZ_B228(
vec3 Vec3,
out float X,
out float Y,
out float Z)
{X=Vec3.x;Y=Vec3.y;Z=Vec3.z;}
void Conditional_Float_B243(
bool Which,
float If_True,
float If_False,
out float Result)
{Result=Which ? If_True : If_False;}
void Object_To_World_Dir_B178(
vec3 Dir_Object,
out vec3 Binormal_World,
out vec3 Binormal_World_N,
out float Binormal_Length)
{Binormal_World=(world*vec4(Dir_Object,0.0)).xyz;Binormal_Length=length(Binormal_World);Binormal_World_N=Binormal_World/Binormal_Length;}
void Pick_Radius_B219(
float Radius,
float Radius_Top_Left,
float Radius_Top_Right,
float Radius_Bottom_Left,
float Radius_Bottom_Right,
vec3 Position,
out float Result)
{bool whichY=Position.y>0.0;Result=Position.x<0.0 ? (whichY ? Radius_Top_Left : Radius_Bottom_Left) : (whichY ? Radius_Top_Right : Radius_Bottom_Right);Result*=Radius;}
void Conditional_Float_B186(
bool Which,
float If_True,
float If_False,
out float Result)
{Result=Which ? If_True : If_False;}
void Greater_Than_B187(
float Left,
float Right,
out bool Not_Greater_Than,
out bool Greater_Than)
{Greater_Than=Left>Right;Not_Greater_Than=!Greater_Than;}
void Remap_Range_B255(
float In_Min,
float In_Max,
float Out_Min,
float Out_Max,
float In,
out float Out)
{Out=mix(Out_Min,Out_Max,clamp((In-In_Min)/(In_Max-In_Min),0.0,1.0));}
void main()
{vec2 XY_Q235;XY_Q235=(uv-vec2(0.5,0.5))*_Decal_Scale_XY_+vec2(0.5,0.5);vec3 Tangent_World_Q177;vec3 Tangent_World_N_Q177;float Tangent_Length_Q177;Tangent_World_Q177=(world*vec4(vec3(1,0,0),0.0)).xyz;Tangent_Length_Q177=length(Tangent_World_Q177);Tangent_World_N_Q177=Tangent_World_Q177/Tangent_Length_Q177;vec3 Normal_World_Q210;vec3 Normal_World_N_Q210;float Normal_Length_Q210;Object_To_World_Dir_B210(vec3(0,0,1),Normal_World_Q210,Normal_World_N_Q210,Normal_Length_Q210);float X_Q228;float Y_Q228;float Z_Q228;To_XYZ_B228(position,X_Q228,Y_Q228,Z_Q228);vec3 Nrm_World_Q176;Nrm_World_Q176=normalize((world*vec4(normal,0.0)).xyz);vec3 Binormal_World_Q178;vec3 Binormal_World_N_Q178;float Binormal_Length_Q178;Object_To_World_Dir_B178(vec3(0,1,0),Binormal_World_Q178,Binormal_World_N_Q178,Binormal_Length_Q178);float Anisotropy_Q179=Tangent_Length_Q177/Binormal_Length_Q178;float Result_Q219;Pick_Radius_B219(_Radius_,_Radius_Top_Left_,_Radius_Top_Right_,_Radius_Bottom_Left_,_Radius_Bottom_Right_,position,Result_Q219);float Anisotropy_Q203=Binormal_Length_Q178/Normal_Length_Q210;bool Not_Greater_Than_Q187;bool Greater_Than_Q187;Greater_Than_B187(Z_Q228,0.0,Not_Greater_Than_Q187,Greater_Than_Q187);vec4 Linear_Q251;Linear_Q251.rgb=clamp(_Left_Color_.rgb*_Left_Color_.rgb,0.0,1.0);Linear_Q251.a=_Left_Color_.a;vec4 Linear_Q252;Linear_Q252.rgb=clamp(_Right_Color_.rgb*_Right_Color_.rgb,0.0,1.0);Linear_Q252.a=_Right_Color_.a;vec3 Difference_Q211=vec3(0,0,0)-Normal_World_N_Q210;vec4 Out_Color_Q184=vec4(X_Q228,Y_Q228,Z_Q228,1);float Result_Q186;Conditional_Float_B186(Greater_Than_Q187,_Bevel_Back_,_Bevel_Front_,Result_Q186);float Result_Q244;Conditional_Float_B186(Greater_Than_Q187,_Bevel_Back_Stretch_,_Bevel_Front_Stretch_,Result_Q244);vec3 New_P_Q280;vec2 New_UV_Q280;float Radial_Gradient_Q280;vec3 Radial_Dir_Q280;vec3 New_Normal_Q280;Move_Verts_B280(Anisotropy_Q179,position,Result_Q219,Result_Q186,normal,Anisotropy_Q203,Result_Q244,New_P_Q280,New_UV_Q280,Radial_Gradient_Q280,Radial_Dir_Q280,New_Normal_Q280);float X_Q248;float Y_Q248;X_Q248=New_UV_Q280.x;Y_Q248=New_UV_Q280.y;vec3 Pos_World_Q162;Object_To_World_Pos_B162(New_P_Q280,Pos_World_Q162);vec3 Nrm_World_Q182;Object_To_World_Normal_B182(New_Normal_Q280,Nrm_World_Q182);vec4 Blob_Info_Q173;
#if BLOB_ENABLE
Blob_Vertex_B173(Pos_World_Q162,Nrm_World_Q176,Tangent_World_N_Q177,Binormal_World_N_Q178,_Blob_Position_,_Blob_Intensity_,_Blob_Near_Size_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_,_Blob_Fade_,Blob_Info_Q173);
#else
Blob_Info_Q173=vec4(0,0,0,0);
#endif
vec4 Blob_Info_Q174;
#if BLOB_ENABLE_2
Blob_Vertex_B174(Pos_World_Q162,Nrm_World_Q176,Tangent_World_N_Q177,Binormal_World_N_Q178,_Blob_Position_2_,_Blob_Intensity_,_Blob_Near_Size_2_,_Blob_Far_Size_,_Blob_Near_Distance_,_Blob_Far_Distance_,_Blob_Fade_Length_,_Blob_Pulse_2_,_Blob_Fade_2_,Blob_Info_Q174);
#else
Blob_Info_Q174=vec4(0,0,0,0);
#endif
float Out_Q255;Remap_Range_B255(0.0,1.0,0.0,1.0,X_Q248,Out_Q255);float X_Q236;float Y_Q236;float Z_Q236;To_XYZ_B228(Nrm_World_Q182,X_Q236,Y_Q236,Z_Q236);vec4 Color_At_T_Q247=mix(Linear_Q251,Linear_Q252,Out_Q255);float Minus_F_Q237=-Z_Q236;float R_Q249;float G_Q249;float B_Q249;float A_Q249;R_Q249=Color_At_T_Q247.r; G_Q249=Color_At_T_Q247.g; B_Q249=Color_At_T_Q247.b; A_Q249=Color_At_T_Q247.a;float ClampF_Q238=clamp(0.0,Minus_F_Q237,1.0);float Result_Q243;Conditional_Float_B243(_Decal_Front_Only_,ClampF_Q238,1.0,Result_Q243);vec4 Vec4_Q239=vec4(Result_Q243,Radial_Gradient_Q280,G_Q249,B_Q249);vec3 Position=Pos_World_Q162;vec3 Normal=Nrm_World_Q182;vec2 UV=XY_Q235;vec3 Tangent=Tangent_World_N_Q177;vec3 Binormal=Difference_Q211;vec4 Color=Out_Color_Q184;vec4 Extra1=Vec4_Q239;vec4 Extra2=Blob_Info_Q173;vec4 Extra3=Blob_Info_Q174;gl_Position=viewProjection*vec4(Position,1);vPosition=Position;vNormal=Normal;vUV=UV;vTangent=Tangent;vBinormal=Binormal;vColor=Color;vExtra1=Extra1;vExtra2=Extra2;vExtra3=Extra3;}`;_.ShaderStore.ShadersStore[n]=m;var v={name:n,shader:m}},"../../../dev/gui/src/3D/vector3WithInfo.ts":(k,b,h)=>{h.r(b),h.d(b,{Vector3WithInfo:()=>m});var _=h("../../../../node_modules/tslib/tslib.es6.mjs"),n=h("babylonjs/Misc/perfCounter"),m=function(v){(0,_.__extends)(f,v);function f(a,i){i===void 0&&(i=0);var t=v.call(this,a.x,a.y,a.z)||this;return t.buttonIndex=i,t}return f}(n.Vector3)},"../../../dev/gui/src/index.ts":(k,b,h)=>{h.r(b),h.d(b,{AbstractButton3D:()=>n.AbstractButton3D,AdvancedDynamicTexture:()=>_.AdvancedDynamicTexture,AdvancedDynamicTextureInstrumentation:()=>_.AdvancedDynamicTextureInstrumentation,BaseGradient:()=>_.BaseGradient,BaseSlider:()=>_.BaseSlider,Button:()=>_.Button,Button3D:()=>n.Button3D,Checkbox:()=>_.Checkbox,CheckboxGroup:()=>_.CheckboxGroup,ColorPicker:()=>_.ColorPicker,Container:()=>_.Container,Container3D:()=>n.Container3D,Control:()=>_.Control,Control3D:()=>n.Control3D,CornerHandle:()=>n.CornerHandle,CylinderPanel:()=>n.CylinderPanel,DisplayGrid:()=>_.DisplayGrid,Ellipse:()=>_.Ellipse,FluentBackplateMaterial:()=>n.FluentBackplateMaterial,FluentButtonMaterial:()=>n.FluentButtonMaterial,FluentMaterial:()=>n.FluentMaterial,FluentMaterialDefines:()=>n.FluentMaterialDefines,FocusableButton:()=>_.FocusableButton,FrameGraphGUITask:()=>_.FrameGraphGUITask,GUI3DManager:()=>n.GUI3DManager,GizmoHandle:()=>n.GizmoHandle,Grid:()=>_.Grid,HandMenu:()=>n.HandMenu,HandleMaterial:()=>n.HandleMaterial,HandleState:()=>n.HandleState,HolographicBackplate:()=>n.HolographicBackplate,HolographicButton:()=>n.HolographicButton,HolographicSlate:()=>n.HolographicSlate,Image:()=>_.Image,ImageBasedSlider:()=>_.ImageBasedSlider,ImageScrollBar:()=>_.ImageScrollBar,InputPassword:()=>_.InputPassword,InputText:()=>_.InputText,InputTextArea:()=>_.InputTextArea,KeyPropertySet:()=>_.KeyPropertySet,Line:()=>_.Line,LinearGradient:()=>_.LinearGradient,MRDLBackplateMaterial:()=>n.MRDLBackplateMaterial,MRDLSliderBarMaterial:()=>n.MRDLSliderBarMaterial,MRDLSliderThumbMaterial:()=>n.MRDLSliderThumbMaterial,MathTools:()=>_.MathTools,Matrix2D:()=>_.Matrix2D,Measure:()=>_.Measure,MeshButton3D:()=>n.MeshButton3D,MultiLine:()=>_.MultiLine,MultiLinePoint:()=>_.MultiLinePoint,NearMenu:()=>n.NearMenu,NodeRenderGraphGUIBlock:()=>_.NodeRenderGraphGUIBlock,PlanePanel:()=>n.PlanePanel,RadialGradient:()=>_.RadialGradient,RadioButton:()=>_.RadioButton,RadioGroup:()=>_.RadioGroup,Rectangle:()=>_.Rectangle,ScatterPanel:()=>n.ScatterPanel,ScrollBar:()=>_.ScrollBar,ScrollViewer:()=>_.ScrollViewer,SelectionPanel:()=>_.SelectionPanel,SelectorGroup:()=>_.SelectorGroup,SideHandle:()=>n.SideHandle,SlateGizmo:()=>n.SlateGizmo,Slider:()=>_.Slider,Slider3D:()=>n.Slider3D,SliderGroup:()=>_.SliderGroup,SpherePanel:()=>n.SpherePanel,StackPanel:()=>_.StackPanel,StackPanel3D:()=>n.StackPanel3D,Style:()=>_.Style,TextBlock:()=>_.TextBlock,TextWrapper:()=>_.TextWrapper,TextWrapping:()=>_.TextWrapping,ToggleButton:()=>_.ToggleButton,TouchButton3D:()=>n.TouchButton3D,TouchHolographicButton:()=>n.TouchHolographicButton,TouchHolographicButtonV3:()=>n.TouchHolographicButtonV3,TouchHolographicMenu:()=>n.TouchHolographicMenu,TouchMeshButton3D:()=>n.TouchMeshButton3D,ValueAndUnit:()=>_.ValueAndUnit,Vector2WithInfo:()=>_.Vector2WithInfo,Vector3WithInfo:()=>n.Vector3WithInfo,VirtualKeyboard:()=>_.VirtualKeyboard,VolumeBasedPanel:()=>n.VolumeBasedPanel,XmlLoader:()=>_.XmlLoader,name:()=>_.name});var _=h("../../../dev/gui/src/2D/index.ts"),n=h("../../../dev/gui/src/3D/index.ts")},"../../../lts/gui/src/legacy/legacy.ts":(k,b,h)=>{h.r(b),h.d(b,{AbstractButton3D:()=>_.AbstractButton3D,AdvancedDynamicTexture:()=>_.AdvancedDynamicTexture,AdvancedDynamicTextureInstrumentation:()=>_.AdvancedDynamicTextureInstrumentation,BaseGradient:()=>_.BaseGradient,BaseSlider:()=>_.BaseSlider,Button:()=>_.Button,Button3D:()=>_.Button3D,Checkbox:()=>_.Checkbox,CheckboxGroup:()=>_.CheckboxGroup,ColorPicker:()=>_.ColorPicker,Container:()=>_.Container,Container3D:()=>_.Container3D,Control:()=>_.Control,Control3D:()=>_.Control3D,CornerHandle:()=>_.CornerHandle,CylinderPanel:()=>_.CylinderPanel,DisplayGrid:()=>_.DisplayGrid,Ellipse:()=>_.Ellipse,FluentBackplateMaterial:()=>_.FluentBackplateMaterial,FluentButtonMaterial:()=>_.FluentButtonMaterial,FluentMaterial:()=>_.FluentMaterial,FluentMaterialDefines:()=>_.FluentMaterialDefines,FocusableButton:()=>_.FocusableButton,FrameGraphGUITask:()=>_.FrameGraphGUITask,GUI3DManager:()=>_.GUI3DManager,GizmoHandle:()=>_.GizmoHandle,Grid:()=>_.Grid,HandMenu:()=>_.HandMenu,HandleMaterial:()=>_.HandleMaterial,HandleState:()=>_.HandleState,HolographicBackplate:()=>_.HolographicBackplate,HolographicButton:()=>_.HolographicButton,HolographicSlate:()=>_.HolographicSlate,Image:()=>_.Image,ImageBasedSlider:()=>_.ImageBasedSlider,ImageScrollBar:()=>_.ImageScrollBar,InputPassword:()=>_.InputPassword,InputText:()=>_.InputText,InputTextArea:()=>_.InputTextArea,KeyPropertySet:()=>_.KeyPropertySet,Line:()=>_.Line,LinearGradient:()=>_.LinearGradient,MRDLBackplateMaterial:()=>_.MRDLBackplateMaterial,MRDLSliderBarMaterial:()=>_.MRDLSliderBarMaterial,MRDLSliderThumbMaterial:()=>_.MRDLSliderThumbMaterial,MathTools:()=>_.MathTools,Matrix2D:()=>_.Matrix2D,Measure:()=>_.Measure,MeshButton3D:()=>_.MeshButton3D,MultiLine:()=>_.MultiLine,MultiLinePoint:()=>_.MultiLinePoint,NearMenu:()=>_.NearMenu,NodeRenderGraphGUIBlock:()=>_.NodeRenderGraphGUIBlock,PlanePanel:()=>_.PlanePanel,RadialGradient:()=>_.RadialGradient,RadioButton:()=>_.RadioButton,RadioGroup:()=>_.RadioGroup,Rectangle:()=>_.Rectangle,ScatterPanel:()=>_.ScatterPanel,ScrollBar:()=>_.ScrollBar,ScrollViewer:()=>_.ScrollViewer,SelectionPanel:()=>_.SelectionPanel,SelectorGroup:()=>_.SelectorGroup,SideHandle:()=>_.SideHandle,SlateGizmo:()=>_.SlateGizmo,Slider:()=>_.Slider,Slider3D:()=>_.Slider3D,SliderGroup:()=>_.SliderGroup,SpherePanel:()=>_.SpherePanel,StackPanel:()=>_.StackPanel,StackPanel3D:()=>_.StackPanel3D,Style:()=>_.Style,TextBlock:()=>_.TextBlock,TextWrapper:()=>_.TextWrapper,TextWrapping:()=>_.TextWrapping,ToggleButton:()=>_.ToggleButton,TouchButton3D:()=>_.TouchButton3D,TouchHolographicButton:()=>_.TouchHolographicButton,TouchHolographicButtonV3:()=>_.TouchHolographicButtonV3,TouchHolographicMenu:()=>_.TouchHolographicMenu,TouchMeshButton3D:()=>_.TouchMeshButton3D,ValueAndUnit:()=>_.ValueAndUnit,Vector2WithInfo:()=>_.Vector2WithInfo,Vector3WithInfo:()=>_.Vector3WithInfo,VirtualKeyboard:()=>_.VirtualKeyboard,VolumeBasedPanel:()=>_.VolumeBasedPanel,XmlLoader:()=>_.XmlLoader,name:()=>_.name});var _=h("../../../dev/gui/src/index.ts"),n=typeof h.g<"u"?h.g:typeof window<"u"?window:void 0;typeof n<"u"&&(n.BABYLON=n.BABYLON||{},n.BABYLON.GUI||(n.BABYLON.GUI=_))},"babylonjs/Misc/perfCounter":k=>{k.exports=Fe},"../../../../node_modules/tslib/tslib.es6.mjs":(k,b,h)=>{h.r(b),h.d(b,{__addDisposableResource:()=>J,__assign:()=>m,__asyncDelegator:()=>F,__asyncGenerator:()=>D,__asyncValues:()=>I,__await:()=>y,__awaiter:()=>s,__classPrivateFieldGet:()=>se,__classPrivateFieldIn:()=>ve,__classPrivateFieldSet:()=>ue,__createBinding:()=>c,__decorate:()=>f,__disposeResources:()=>Ke,__esDecorate:()=>i,__exportStar:()=>d,__extends:()=>n,__generator:()=>l,__importDefault:()=>Y,__importStar:()=>Q,__makeTemplateObject:()=>R,__metadata:()=>o,__param:()=>a,__propKey:()=>e,__read:()=>u,__rest:()=>v,__rewriteRelativeImportExtension:()=>Ce,__runInitializers:()=>t,__setFunctionName:()=>r,__spread:()=>g,__spreadArray:()=>C,__spreadArrays:()=>E,__values:()=>p,default:()=>Ae});var _=function(A,B){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,P){T.__proto__=P}||function(T,P){for(var x in P)Object.prototype.hasOwnProperty.call(P,x)&&(T[x]=P[x])},_(A,B)};function n(A,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");_(A,B);function T(){this.constructor=A}A.prototype=B===null?Object.create(B):(T.prototype=B.prototype,new T)}var m=function(){return m=Object.assign||function(B){for(var T,P=1,x=arguments.length;P<x;P++){T=arguments[P];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(B[M]=T[M])}return B},m.apply(this,arguments)};function v(A,B){var T={};for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&B.indexOf(P)<0&&(T[P]=A[P]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,P=Object.getOwnPropertySymbols(A);x<P.length;x++)B.indexOf(P[x])<0&&Object.prototype.propertyIsEnumerable.call(A,P[x])&&(T[P[x]]=A[P[x]]);return T}function f(A,B,T,P){var x=arguments.length,M=x<3?B:P===null?P=Object.getOwnPropertyDescriptor(B,T):P,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(A,B,T,P);else for(var j=A.length-1;j>=0;j--)(S=A[j])&&(M=(x<3?S(M):x>3?S(B,T,M):S(B,T))||M);return x>3&&M&&Object.defineProperty(B,T,M),M}function a(A,B){return function(T,P){B(T,P,A)}}function i(A,B,T,P,x,M){function S(ye){if(ye!==void 0&&typeof ye!="function")throw new TypeError("Function expected");return ye}for(var j=P.kind,ae=j==="getter"?"get":j==="setter"?"set":"value",N=!B&&A?P.static?A:A.prototype:null,W=B||(N?Object.getOwnPropertyDescriptor(N,P.name):{}),X,Te=!1,K=T.length-1;K>=0;K--){var $={};for(var H in P)$[H]=H==="access"?{}:P[H];for(var H in P.access)$.access[H]=P.access[H];$.addInitializer=function(ye){if(Te)throw new TypeError("Cannot add initializers after decoration has completed");M.push(S(ye||null))};var pe=(0,T[K])(j==="accessor"?{get:W.get,set:W.set}:W[ae],$);if(j==="accessor"){if(pe===void 0)continue;if(pe===null||typeof pe!="object")throw new TypeError("Object expected");(X=S(pe.get))&&(W.get=X),(X=S(pe.set))&&(W.set=X),(X=S(pe.init))&&x.unshift(X)}else(X=S(pe))&&(j==="field"?x.unshift(X):W[ae]=X)}N&&Object.defineProperty(N,P.name,W),Te=!0}function t(A,B,T){for(var P=arguments.length>2,x=0;x<B.length;x++)T=P?B[x].call(A,T):B[x].call(A);return P?T:void 0}function e(A){return typeof A=="symbol"?A:"".concat(A)}function r(A,B,T){return typeof B=="symbol"&&(B=B.description?"[".concat(B.description,"]"):""),Object.defineProperty(A,"name",{configurable:!0,value:T?"".concat(T," ",B):B})}function o(A,B){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(A,B)}function s(A,B,T,P){function x(M){return M instanceof T?M:new T(function(S){S(M)})}return new(T||(T=Promise))(function(M,S){function j(W){try{N(P.next(W))}catch(X){S(X)}}function ae(W){try{N(P.throw(W))}catch(X){S(X)}}function N(W){W.done?M(W.value):x(W.value).then(j,ae)}N((P=P.apply(A,B||[])).next())})}function l(A,B){var T={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},P,x,M,S=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return S.next=j(0),S.throw=j(1),S.return=j(2),typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function j(N){return function(W){return ae([N,W])}}function ae(N){if(P)throw new TypeError("Generator is already executing.");for(;S&&(S=0,N[0]&&(T=0)),T;)try{if(P=1,x&&(M=N[0]&2?x.return:N[0]?x.throw||((M=x.return)&&M.call(x),0):x.next)&&!(M=M.call(x,N[1])).done)return M;switch(x=0,M&&(N=[N[0]&2,M.value]),N[0]){case 0:case 1:M=N;break;case 4:return T.label++,{value:N[1],done:!1};case 5:T.label++,x=N[1],N=[0];continue;case 7:N=T.ops.pop(),T.trys.pop();continue;default:if(M=T.trys,!(M=M.length>0&&M[M.length-1])&&(N[0]===6||N[0]===2)){T=0;continue}if(N[0]===3&&(!M||N[1]>M[0]&&N[1]<M[3])){T.label=N[1];break}if(N[0]===6&&T.label<M[1]){T.label=M[1],M=N;break}if(M&&T.label<M[2]){T.label=M[2],T.ops.push(N);break}M[2]&&T.ops.pop(),T.trys.pop();continue}N=B.call(A,T)}catch(W){N=[6,W],x=0}finally{P=M=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}}var c=Object.create?function(A,B,T,P){P===void 0&&(P=T);var x=Object.getOwnPropertyDescriptor(B,T);(!x||("get"in x?!B.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return B[T]}}),Object.defineProperty(A,P,x)}:function(A,B,T,P){P===void 0&&(P=T),A[P]=B[T]};function d(A,B){for(var T in A)T!=="default"&&!Object.prototype.hasOwnProperty.call(B,T)&&c(B,A,T)}function p(A){var B=typeof Symbol=="function"&&Symbol.iterator,T=B&&A[B],P=0;if(T)return T.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&P>=A.length&&(A=void 0),{value:A&&A[P++],done:!A}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(A,B){var T=typeof Symbol=="function"&&A[Symbol.iterator];if(!T)return A;var P=T.call(A),x,M=[],S;try{for(;(B===void 0||B-- >0)&&!(x=P.next()).done;)M.push(x.value)}catch(j){S={error:j}}finally{try{x&&!x.done&&(T=P.return)&&T.call(P)}finally{if(S)throw S.error}}return M}function g(){for(var A=[],B=0;B<arguments.length;B++)A=A.concat(u(arguments[B]));return A}function E(){for(var A=0,B=0,T=arguments.length;B<T;B++)A+=arguments[B].length;for(var P=Array(A),x=0,B=0;B<T;B++)for(var M=arguments[B],S=0,j=M.length;S<j;S++,x++)P[x]=M[S];return P}function C(A,B,T){if(T||arguments.length===2)for(var P=0,x=B.length,M;P<x;P++)(M||!(P in B))&&(M||(M=Array.prototype.slice.call(B,0,P)),M[P]=B[P]);return A.concat(M||Array.prototype.slice.call(B))}function y(A){return this instanceof y?(this.v=A,this):new y(A)}function D(A,B,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=T.apply(A,B||[]),x,M=[];return x=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),j("next"),j("throw"),j("return",S),x[Symbol.asyncIterator]=function(){return this},x;function S(K){return function($){return Promise.resolve($).then(K,X)}}function j(K,$){P[K]&&(x[K]=function(H){return new Promise(function(pe,ye){M.push([K,H,pe,ye])>1||ae(K,H)})},$&&(x[K]=$(x[K])))}function ae(K,$){try{N(P[K]($))}catch(H){Te(M[0][3],H)}}function N(K){K.value instanceof y?Promise.resolve(K.value.v).then(W,X):Te(M[0][2],K)}function W(K){ae("next",K)}function X(K){ae("throw",K)}function Te(K,$){K($),M.shift(),M.length&&ae(M[0][0],M[0][1])}}function F(A){var B,T;return B={},P("next"),P("throw",function(x){throw x}),P("return"),B[Symbol.iterator]=function(){return this},B;function P(x,M){B[x]=A[x]?function(S){return(T=!T)?{value:y(A[x](S)),done:!1}:M?M(S):S}:M}}function I(A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=A[Symbol.asyncIterator],T;return B?B.call(A):(A=typeof p=="function"?p(A):A[Symbol.iterator](),T={},P("next"),P("throw"),P("return"),T[Symbol.asyncIterator]=function(){return this},T);function P(M){T[M]=A[M]&&function(S){return new Promise(function(j,ae){S=A[M](S),x(j,ae,S.done,S.value)})}}function x(M,S,j,ae){Promise.resolve(ae).then(function(N){M({value:N,done:j})},S)}}function R(A,B){return Object.defineProperty?Object.defineProperty(A,"raw",{value:B}):A.raw=B,A}var w=Object.create?function(A,B){Object.defineProperty(A,"default",{enumerable:!0,value:B})}:function(A,B){A.default=B},V=function(A){return V=Object.getOwnPropertyNames||function(B){var T=[];for(var P in B)Object.prototype.hasOwnProperty.call(B,P)&&(T[T.length]=P);return T},V(A)};function Q(A){if(A&&A.__esModule)return A;var B={};if(A!=null)for(var T=V(A),P=0;P<T.length;P++)T[P]!=="default"&&c(B,A,T[P]);return w(B,A),B}function Y(A){return A&&A.__esModule?A:{default:A}}function se(A,B,T,P){if(T==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof B=="function"?A!==B||!P:!B.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return T==="m"?P:T==="a"?P.call(A):P?P.value:B.get(A)}function ue(A,B,T,P,x){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof B=="function"?A!==B||!x:!B.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?x.call(A,T):x?x.value=T:B.set(A,T),T}function ve(A,B){if(B===null||typeof B!="object"&&typeof B!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof A=="function"?B===A:A.has(B)}function J(A,B,T){if(B!=null){if(typeof B!="object"&&typeof B!="function")throw new TypeError("Object expected.");var P,x;if(T){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");P=B[Symbol.asyncDispose]}if(P===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");P=B[Symbol.dispose],T&&(x=P)}if(typeof P!="function")throw new TypeError("Object not disposable.");x&&(P=function(){try{x.call(this)}catch(M){return Promise.reject(M)}}),A.stack.push({value:B,dispose:P,async:T})}else T&&A.stack.push({async:!0});return B}var G=typeof SuppressedError=="function"?SuppressedError:function(A,B,T){var P=new Error(T);return P.name="SuppressedError",P.error=A,P.suppressed=B,P};function Ke(A){function B(M){A.error=A.hasError?new G(M,A.error,"An error was suppressed during disposal."):M,A.hasError=!0}var T,P=0;function x(){for(;T=A.stack.pop();)try{if(!T.async&&P===1)return P=0,A.stack.push(T),Promise.resolve().then(x);if(T.dispose){var M=T.dispose.call(T.value);if(T.async)return P|=2,Promise.resolve(M).then(x,function(S){return B(S),x()})}else P|=1}catch(S){B(S)}if(P===1)return A.hasError?Promise.reject(A.error):Promise.resolve();if(A.hasError)throw A.error}return x()}function Ce(A,B){return typeof A=="string"&&/^\.\.?\//.test(A)?A.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(T,P,x,M,S){return P?B?".jsx":".js":x&&(!M||!S)?T:x+M+"."+S.toLowerCase()+"js"}):A}const Ae={__extends:n,__assign:m,__rest:v,__decorate:f,__param:a,__esDecorate:i,__runInitializers:t,__propKey:e,__setFunctionName:r,__metadata:o,__awaiter:s,__generator:l,__createBinding:c,__exportStar:d,__values:p,__read:u,__spread:g,__spreadArrays:E,__spreadArray:C,__await:y,__asyncGenerator:D,__asyncDelegator:F,__asyncValues:I,__makeTemplateObject:R,__importStar:Q,__importDefault:Y,__classPrivateFieldGet:se,__classPrivateFieldSet:ue,__classPrivateFieldIn:ve,__addDisposableResource:J,__disposeResources:Ke,__rewriteRelativeImportExtension:Ce}}},ze={};function de(k){var b=ze[k];if(b!==void 0)return b.exports;var h=ze[k]={exports:{}};return be[k](h,h.exports,de),h.exports}de.n=k=>{var b=k&&k.__esModule?()=>k.default:()=>k;return de.d(b,{a:b}),b},de.d=(k,b)=>{for(var h in b)de.o(b,h)&&!de.o(k,h)&&Object.defineProperty(k,h,{enumerable:!0,get:b[h]})},de.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),de.o=(k,b)=>Object.prototype.hasOwnProperty.call(k,b),de.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var Me={};return(()=>{/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/de.r(Me),de.d(Me,{default:()=>b,gui:()=>k});var k=de("../../../lts/gui/src/legacy/legacy.ts");const b=k})(),Me=Me.default,Me})())})(Bt);var je=Bt.exports;const Nt={class:"flex space-between"},zt={key:0,id:"lightStreetLamp",class:"stage"},Vt=Dt({__name:"lightStreetLamp",setup(nt){let ke;const Fe=Et(0),be=Et(!1),ze=async()=>{be.value?(be.value=!1,Me()):(be.value=!0,await bt(),ke=await de())},de=async()=>{const k=document.getElementById("lightStreetLamp");k.addEventListener("wheel",function(r){r.preventDefault()});const b=new q.Engine(k,!0,{preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1}),h=new q.Scene(b);h.useRightHandedSystem=!0;const _=new q.ArcRotateCamera("camera",-Math.PI/1.5,Math.PI/2.2,15,new q.Vector3(0,0,0),h);_.upperBetaLimit=Math.PI/2.2,_.wheelPrecision=30,_.attachControl(k,!0),_.setPosition(new q.Vector3(20,20,20));const n=()=>{const r=new q.HemisphericLight("light",new q.Vector3(1,1,0));return r.intensity=1,r},m=()=>{const r=q.MeshBuilder.CreateBox("skyBox",{size:150},h),o=new q.StandardMaterial("skyBox",h);o.backFaceCulling=!1,o.reflectionTexture=new q.CubeTexture("/images/skybox",h),o.reflectionTexture.coordinatesMode=q.Texture.SKYBOX_MODE,o.diffuseColor=new q.Color3(0,0,0),o.specularColor=new q.Color3(0,0,0),r.material=o},v=async(r,o)=>{const s=je.AdvancedDynamicTexture.CreateFullscreenUI("UI"),l=new je.StackPanel;l.width="220px",l.top="-20px",l.horizontalAlignment=je.Control.HORIZONTAL_ALIGNMENT_RIGHT,l.verticalAlignment=je.Control.VERTICAL_ALIGNMENT_BOTTOM,s.addControl(l);const c=new je.TextBlock;c.text="←黑夜白天→",c.height="30px",c.color="red",l.addControl(c);const d=new je.Slider;d.minimum=0,d.maximum=1,d.borderColor="green",d.color="blue",d.background="yellow",d.value=1,d.height="20px",d.width="200px";const[p,u]=o;d.onValueChangedObservable.add(g=>{if(r&&(r.intensity=g),p){p.intensity=1-g;const E=BABYLON.Color3.White(),C=BABYLON.Color3.Blue();u.material.emissiveColor=q.Color3.Lerp(E,C,1-g)}}),l.addControl(d)},f=async()=>{const r=await q.SceneLoader.ImportMeshAsync("","/scenes/","lamp.babylon"),o=r.meshes.find(u=>u.name==="bulb");o.material.emissiveColor=q.Color3.White();const s=new q.SpotLight("lampLight",q.Vector3.Zero(),new q.Vector3(0,-1,0),.8*Math.PI,.01,h);s.intensity=0,s.diffuse=q.Color3.Red(),s.parent=o;const l=r.meshes.find(u=>u.name==="lamp");l.position=new q.Vector3(2,0,2),l.rotation=q.Vector3.Zero(),l.rotation.y=-Math.PI/4;const c=l.clone("lamp1");c.position.x=-8,c.position.z=1.2,c.rotation.y=Math.PI/2;const d=c.clone("lamp2");d.position.x=-2.7,d.position.z=.8,d.rotation.y=-Math.PI/2;const p=l.clone("lamp3");return p.position.z=-8,[s,o]},a=()=>{q.SceneLoader.ImportMeshAsync("","/scenes/","valleyvillage.glb")},i=()=>{b.runRenderLoop(function(){h&&h.activeCamera&&(h.render(),Fe.value=b.getFps().toFixed(2))})},t=n(),e=await f();return v(t,e),m(),a(),i(),{scene:h,engine:b}},Me=()=>{ke&&(ke.engine.stopRenderLoop(),ke.engine.dispose(),ke.scene.dispose(),ke=null)};return xt(async()=>{await bt()}),Ot(()=>{Me()}),(k,b)=>(pt(),gt("div",null,[Je("div",Nt,[Je("div",null,"fps: "+Ct(Fe.value),1),Je("div",{onClick:ze,class:"pointer"},"点击"+Ct(be.value?"关闭":"运行"),1)]),be.value?(pt(),gt("canvas",zt)):Rt("",!0)]))}}),Ht=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"components/babylonLight.md","filePath":"components/babylonLight.md"}'),Qt={name:"components/babylonLight.md"},jt=Dt({...Qt,setup(nt){return(ke,Fe)=>{const be=wt("demo-preview");return pt(),gt("div",null,[Fe[0]||(Fe[0]=Je("h2",{id:"路灯、白天黑夜",tabindex:"-1"},[St("路灯、白天黑夜 "),Je("a",{class:"header-anchor",href:"#路灯、白天黑夜","aria-label":'Permalink to "路灯、白天黑夜"'},"​")],-1)),yt(be,{title:"",description:"",code:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%3E%0D%0A%20%20%20%20%3Cdiv%20class=%22flex%20space-between%22%3E%0D%0A%20%20%20%20%20%20%3Cdiv%3Efps:%20%7B%7B%20fps%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%20%20%3Cdiv%20@click=%22onTrigger%22%20class=%22pointer%22%3E%E7%82%B9%E5%87%BB%7B%7B%20!isRunning%20?%20'%E8%BF%90%E8%A1%8C'%20:%20'%E5%85%B3%E9%97%AD'%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3Ccanvas%20v-if=%22isRunning%22%20id=%22lightStreetLamp%22%20class=%22stage%22%3E%3C/canvas%3E%0D%0A%20%20%3C/div%3E%0D%0A%3C/template%3E%0D%0A%0D%0A%3Cscript%20lang=%22ts%22%20setup%3E%0D%0Aimport%20%7B%20onMounted,%20ref,%20nextTick,%20onUnmounted%20%7D%20from%20'vue'%0D%0Aimport%20'babylonjs-loaders'%0D%0Aimport%20%7B%0D%0A%20%20Engine,%0D%0A%20%20Scene,%0D%0A%20%20ArcRotateCamera,%0D%0A%20%20Vector3,%0D%0A%20%20Color3,%0D%0A%20%20MeshBuilder,%0D%0A%20%20StandardMaterial,%0D%0A%20%20CubeTexture,%0D%0A%20%20Texture,%0D%0A%20%20SceneLoader,%0D%0A%20%20HemisphericLight,%0D%0A%20%20SpotLight%0D%0A%7D%20from%20'babylonjs'%0D%0Aimport%20%7B%0D%0A%20%20AdvancedDynamicTexture,%0D%0A%20%20StackPanel,%0D%0A%20%20Control,%0D%0A%20%20TextBlock,%0D%0A%20%20Slider,%0D%0A%7D%20from%20'babylonjs-gui'%0D%0A%0D%0Alet%20sceneResources%0D%0A%0D%0Aconst%20fps%20=%20ref(0)%0D%0Aconst%20isRunning%20=%20ref(false)%0D%0A%0D%0Aconst%20onTrigger%20=%20async%20()%20=%3E%20%7B%0D%0A%20%20if%20(!isRunning.value)%20%7B%0D%0A%20%20%20%20isRunning.value%20=%20true%0D%0A%20%20%20%20await%20nextTick()%0D%0A%20%20%20%20sceneResources%20=%20await%20initScene()%0D%0A%20%20%7D%20else%20%7B%0D%0A%20%20%20%20isRunning.value%20=%20false%0D%0A%20%20%20%20destroy()%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20initScene%20=%20async%20()%20=%3E%20%7B%0D%0A%20%20const%20ele%20=%20document.getElementById(%22lightStreetLamp%22)%20as%20any%0D%0A%0D%0A%20%20ele.addEventListener('wheel',%20function(event)%20%7B%0D%0A%20%20%20%20//%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%0D%0A%20%20%20%20//%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%0D%0A%20%20%20%20event.preventDefault()%20//%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20engine:%20any%20=%20new%20Engine(ele,%20true,%20%7B%0D%0A%20%20%20%20preserveDrawingBuffer:%20true,%0D%0A%20%20%20%20stencil:%20true,%0D%0A%20%20%20%20disableWebGL2Support:%20false%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20scene%20=%20new%20Scene(engine)%0D%0A%20%20scene.useRightHandedSystem%20=%20true%0D%0A%0D%0A%20%20const%20camera%20=%20new%20ArcRotateCamera('camera',%20-Math.PI%20/%201.5,%20Math.PI%20/%202.2,%2015,%20new%20Vector3(0,%200,%200),%20scene)%0D%0A%20%20camera.upperBetaLimit%20=%20Math.PI%20/%202.2%0D%0A%20%20camera.wheelPrecision%20=%2030%0D%0A%20%20camera.attachControl(ele,%20true)%0D%0A%20%20camera.setPosition(new%20Vector3(20,%2020,%2020))%0D%0A%0D%0A%20%20const%20createLight%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20light%20=%20new%20HemisphericLight('light',%20new%20Vector3(1,%201,%200))%0D%0A%20%20%20%20light.intensity%20=%201%0D%0A%20%20%20%20return%20light%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createSkyBox%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20skyBox%20=%20MeshBuilder.CreateBox(%0D%0A%20%20%20%20%20%20'skyBox',%0D%0A%20%20%20%20%20%20%7B%20size:%20150%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20const%20skyBoxMaterial%20=%20new%20StandardMaterial(%0D%0A%20%20%20%20%20%20'skyBox',%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20skyBoxMaterial.backFaceCulling%20=%20false%0D%0A%20%20%20%20skyBoxMaterial.reflectionTexture%20=%20new%20CubeTexture(%0D%0A%20%20%20%20%20%20'/images/skybox',%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20skyBoxMaterial.reflectionTexture.coordinatesMode%20=%20Texture.SKYBOX_MODE%0D%0A%20%20%20%20skyBoxMaterial.diffuseColor%20=%20new%20Color3(0,%200,%200)%0D%0A%20%20%20%20skyBoxMaterial.specularColor%20=%20new%20Color3(0,%200,%200)%0D%0A%20%20%20%20skyBox.material%20=%20skyBoxMaterial%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createGui%20=%20async%20(light,%20bulbInfo)%20=%3E%20%7B%0D%0A%20%20%20%20const%20adt%20=%20AdvancedDynamicTexture.CreateFullscreenUI('UI')%0D%0A%20%20%20%20const%20panel%20=%20new%20StackPanel()%0D%0A%20%20%20%20panel.width%20=%20'220px'%0D%0A%20%20%20%20panel.top%20=%20'-20px'%0D%0A%20%20%20%20panel.horizontalAlignment%20=%20Control.HORIZONTAL_ALIGNMENT_RIGHT%0D%0A%20%20%20%20panel.verticalAlignment%20=%20Control.VERTICAL_ALIGNMENT_BOTTOM%0D%0A%20%20%20%20adt.addControl(panel)%0D%0A%0D%0A%20%20%20%20const%20header%20=%20new%20TextBlock()%0D%0A%20%20%20%20header.text%20=%20'%E2%86%90%E9%BB%91%E5%A4%9C%E7%99%BD%E5%A4%A9%E2%86%92'%0D%0A%20%20%20%20header.height%20=%20'30px'%0D%0A%20%20%20%20header.color%20=%20'red'%0D%0A%20%20%20%20panel.addControl(header)%0D%0A%0D%0A%20%20%20%20const%20slider%20=%20new%20Slider()%0D%0A%20%20%20%20slider.minimum%20=%200%0D%0A%20%20%20%20slider.maximum%20=%201%0D%0A%20%20%20%20slider.borderColor%20=%20'green'%0D%0A%20%20%20%20slider.color%20=%20'blue'%0D%0A%20%20%20%20slider.background%20=%20'yellow'%0D%0A%20%20%20%20slider.value%20=%201%0D%0A%20%20%20%20slider.height%20=%20'20px'%0D%0A%20%20%20%20slider.width%20=%20'200px'%0D%0A%0D%0A%20%20%20%20const%20%5BlampLight,%20bulb%5D%20=%20bulbInfo%0D%0A%20%20%20%20slider.onValueChangedObservable.add(value%20=%3E%20%7B%0D%0A%20%20%20%20%20%20if%20(light)%20%7B%0D%0A%20%20%20%20%20%20%20%20light.intensity%20=%20value%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20if%20(lampLight)%20%7B%0D%0A%20%20%20%20%20%20%20%20lampLight.intensity%20=%201%20-%20value%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20startColor%20=%20BABYLON.Color3.White()%0D%0A%20%20%20%20%20%20%20%20const%20endColor%20=%20BABYLON.Color3.Blue()%0D%0A%20%20%20%20%20%20%20%20bulb.material.emissiveColor%20=%20Color3.Lerp(startColor,%20endColor,%201%20-%20value)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%20%20panel.addControl(slider)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createLamp%20=%20async%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20loaderResult%20=%20%20await%20SceneLoader.ImportMeshAsync('',%20'/scenes/',%20'lamp.babylon')%0D%0A%20%20%20%20const%20bulb:%20any%20=%20loaderResult.meshes.find(v%20=%3E%20v.name%20===%20'bulb')%0D%0A%20%20%20%20//%20const%20bulb%20=%20scene.getMeshByName('bulb')%0D%0A%20%20%20%20bulb.material.emissiveColor%20=%20Color3.White()%0D%0A%20%20%20%20const%20lampLight%20=%20new%20SpotLight(%0D%0A%20%20%20%20%20%20'lampLight',%20%0D%0A%20%20%20%20%20%20Vector3.Zero(),%0D%0A%20%20%20%20%20%20new%20Vector3(0,%20-1,%200),%0D%0A%20%20%20%20%20%20%200.8%20*%20Math.PI,%200.01,%20%0D%0A%20%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20lampLight.intensity%20=%200%0D%0A%20%20%20%20lampLight.diffuse%20=%20Color3.Red()%0D%0A%20%20%20%20lampLight.parent%20=%20bulb%0D%0A%0D%0A%20%20%20%20const%20lamp:%20any%20=%20loaderResult.meshes.find(v%20=%3E%20v.name%20===%20'lamp')%0D%0A%20%20%20%20//%20const%20lamp%20=%20scene.getMeshByName('lamp')%0D%0A%20%20%20%20lamp.position%20=%20new%20Vector3(2,%200,%202)%0D%0A%20%20%20%20lamp.rotation%20=%20Vector3.Zero()%0D%0A%20%20%20%20lamp.rotation.y%20=%20-Math.PI%20/%204%0D%0A%20%20%20%20const%20lamp1%20=%20lamp.clone('lamp1')%0D%0A%20%20%20%20lamp1.position.x%20=%20-8%0D%0A%20%20%20%20lamp1.position.z%20=%201.2%0D%0A%20%20%20%20lamp1.rotation.y%20=%20Math.PI%20/%202%0D%0A%20%20%20%20const%20lamp2%20=%20lamp1.clone('lamp2')%0D%0A%20%20%20%20lamp2.position.x%20=%20-2.7%0D%0A%20%20%20%20lamp2.position.z%20=%200.8%0D%0A%20%20%20%20lamp2.rotation.y%20=%20-Math.PI%20/%202%0D%0A%20%20%20%20const%20lamp3%20=%20lamp.clone('lamp3')%0D%0A%20%20%20%20lamp3.position.z%20=%20-8%0D%0A%0D%0A%20%20%20%20return%20%5BlampLight,%20bulb%5D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createVillage%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20SceneLoader.ImportMeshAsync(%0D%0A%20%20%20%20%20%20'',%0D%0A%20%20%20%20%20%20'/scenes/',%0D%0A%20%20%20%20%20%20'valleyvillage.glb'%0D%0A%20%20%20%20)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20runAnimate%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20engine.runRenderLoop(function()%20%7B%0D%0A%20%20%20%20%20%20if%20(scene%20&&%20scene.activeCamera)%20%7B%0D%0A%20%20%20%20%20%20%20%20scene.render()%0D%0A%0D%0A%20%20%20%20%20%20%20%20fps.value%20=%20engine.getFps().toFixed(2)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20light%20=%20createLight()%0D%0A%20%20const%20bulbInfo%20=%20await%20createLamp()%0D%0A%20%20createGui(light,%20bulbInfo)%0D%0A%20%20createSkyBox()%0D%0A%20%20createVillage()%0D%0A%20%20runAnimate()%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20scene,%0D%0A%20%20%20%20engine,%20%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20destroy%20=%20()%20=%3E%20%7B%0D%0A%20%20if%20(sceneResources)%20%7B%0D%0A%20%20%20%20sceneResources.engine.stopRenderLoop()%20%0D%0A%20%20%20%20sceneResources.engine.dispose()%0D%0A%20%20%20%20sceneResources.scene.dispose()%0D%0A%20%20%20%20sceneResources%20=%20null%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0AonMounted(async()%20=%3E%20%7B%0D%0A%20%20await%20nextTick()%0D%0A%7D)%0D%0A%0D%0AonUnmounted(()%20=%3E%20%7B%0D%0A%20%20destroy()%0D%0A%7D)%0D%0A%3C/script%3E%0D%0A",showCode:"%3Cpre%20class%3D%22shiki%20shiki-themes%20github-light%20github-dark%20vp-code%22%20tabindex%3D%220%22%20v-pre%3D%22%22%3E%3Ccode%3E%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22flex%20space-between%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3Efps%3A%20%7B%7B%20fps%20%7D%7D%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%40%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eclick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EonTrigger%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22pointer%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%E7%82%B9%E5%87%BB%7B%7B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E!%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EisRunning%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'%E8%BF%90%E8%A1%8C'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'%E5%85%B3%E9%97%AD'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%7D%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20v-if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EisRunning%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20id%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22lightStreetLamp%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22stage%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20lang%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22ts%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20setup%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20onMounted%2C%20ref%2C%20nextTick%2C%20onUnmounted%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'vue'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'babylonjs-loaders'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Engine%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Scene%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20ArcRotateCamera%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Vector3%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Color3%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20MeshBuilder%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20StandardMaterial%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20CubeTexture%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Texture%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20SceneLoader%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20HemisphericLight%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20SpotLight%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'babylonjs'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20AdvancedDynamicTexture%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20StackPanel%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Control%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20TextBlock%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20Slider%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'babylonjs-gui'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Elet%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sceneResources%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20fps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ref%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20isRunning%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ref%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Efalse%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20onTrigger%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E!%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EisRunning.value)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20isRunning.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20nextTick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eelse%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20isRunning.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20false%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20%20%20destroy%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ele%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20document.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetElementById%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22lightStreetLamp%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20ele.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddEventListener%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'wheel'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eevent%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20event.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EpreventDefault%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20preserveDrawingBuffer%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20stencil%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20disableWebGL2Support%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Efalse%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(engine)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.useRightHandedSystem%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20camera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'camera'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EMath.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E15%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.upperBetaLimit%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.wheelPrecision%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2030%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EattachControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'light'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20light.intensity%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20light%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSkyBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20skyBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'skyBox'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7B%20size%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E150%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20skyBoxMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'skyBox'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20skyBoxMaterial.backFaceCulling%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20false%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20skyBoxMaterial.reflectionTexture%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20CubeTexture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'%2Fimages%2Fskybox'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20skyBoxMaterial.reflectionTexture.coordinatesMode%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Texture.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3ESKYBOX_MODE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20skyBoxMaterial.diffuseColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20skyBoxMaterial.specularColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20skyBox.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20skyBoxMaterial%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createGui%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Elight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3EbulbInfo%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20adt%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20AdvancedDynamicTexture.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateFullscreenUI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'UI'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20panel%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StackPanel%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20panel.width%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'220px'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20panel.top%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'-20px'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20panel.horizontalAlignment%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Control.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EHORIZONTAL_ALIGNMENT_RIGHT%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20panel.verticalAlignment%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Control.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EVERTICAL_ALIGNMENT_BOTTOM%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20adt.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(panel)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20header%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20TextBlock%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20header.text%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'%E2%86%90%E9%BB%91%E5%A4%9C%E7%99%BD%E5%A4%A9%E2%86%92'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20header.height%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'30px'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20header.color%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'red'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20panel.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(header)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20slider%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Slider%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.minimum%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.maximum%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.borderColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'green'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.color%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'blue'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.background%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'yellow'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.height%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'20px'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.width%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'200px'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%5B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3ElampLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Ebulb%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%5D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20bulbInfo%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20slider.onValueChangedObservable.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eadd%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Evalue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(light)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20light.intensity%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20value%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(lampLight)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20lampLight.intensity%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20value%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20startColor%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20BABYLON%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E.Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EWhite%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20endColor%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20BABYLON%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E.Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EBlue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20bulb.material.emissiveColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ELerp%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(startColor%2C%20endColor%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20value)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20panel.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(slider)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLamp%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20loaderResult%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20SceneLoader.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EImportMeshAsync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E''%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'%2Fscenes%2F'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'lamp.babylon'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20bulb%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20loaderResult.meshes.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Efind%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Ev%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20v.name%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3D%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'bulb'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20const%20bulb%20%3D%20scene.getMeshByName('bulb')%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20bulb.material.emissiveColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EWhite%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20lampLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20SpotLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'lampLight'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20Vector3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EZero%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20%20%20%20%20%200.8%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.01%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lampLight.intensity%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lampLight.diffuse%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ERed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lampLight.parent%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20bulb%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20lamp%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20loaderResult.meshes.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Efind%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Ev%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20v.name%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3D%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'lamp'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20const%20lamp%20%3D%20scene.getMeshByName('lamp')%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp.position%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp.rotation%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Vector3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EZero%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp.rotation.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EMath.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%204%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20lamp1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20lamp.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eclone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'lamp1'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp1.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp1.position.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp1.rotation.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20lamp2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20lamp1.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eclone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'lamp2'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp2.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2.7%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp2.position.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp2.rotation.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EMath.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20lamp3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20lamp.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eclone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'lamp3'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20lamp3.position.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%5BlampLight%2C%20bulb%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createVillage%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20SceneLoader.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EImportMeshAsync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20''%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'%2Fscenes%2F'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'valleyvillage.glb'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErunRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(scene%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x26%3B%26%23x26%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20scene.activeCamera)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20fps.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetFps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E().%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EtoFixed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20bulbInfo%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLamp%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createGui%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(light%2C%20bulbInfo)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createSkyBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createVillage%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20scene%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine%2C%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20destroy%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(sceneResources)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EstopRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20null%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonMounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Easync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20nextTick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonUnmounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20destroy%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E",suffixName:"vue",absolutePath:"D:\\test\\docs\\demo\\babylon\\light\\lightStreetLamp.vue",relativePath:"../demo/babylon/light/lightStreetLamp.vue"},{default:Lt(()=>[yt(Vt)]),_:1})])}}});export{Ht as __pageData,jt as default};
