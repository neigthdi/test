import"./chunks/babylonjs.loaders.BPG-2OTv.js";import{p as ut}from"./chunks/index.CWpfXp9-.js";import{d as gt,s as xt,y as ft,R as bt,o as $s,c as Qs,j as K3,t as vt,D as St,I as Ps,w as mt,a as zt}from"./chunks/framework.BXFFLb3j.js";const Pt=K3("canvas",{id:"collisionParticle",class:"stage"},null,-1),Lt=gt({__name:"collisionParticle",setup(o2){const{Engine:f3,Scene:X3,ArcRotateCamera:b3,Vector3:Fi,Color3:W3,HemisphericLight:z3,MeshBuilder:es,StandardMaterial:O3,CubeTexture:ss,Texture:ls,Mesh:Es,SceneLoader:a3,ParticleSystem:C3}=ut,g3=xt(0),x3=async()=>{const v3=document.getElementById("collisionParticle");v3.addEventListener("wheel",function(H3){H3.preventDefault()});const oi=new f3(v3,!0,{preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1}),k3=new X3(oi);k3.useRightHandedSystem=!0;const R3=new b3("camera",-Math.PI/1.5,Math.PI/2.2,15,new Fi(0,0,0),k3);R3.upperBetaLimit=Math.PI/2.2,R3.wheelPrecision=30,R3.attachControl(v3,!0),R3.setPosition(new Fi(20,20,20));const ts=()=>new z3("light",new Fi(1,1,0),k3),hs=()=>{oi.runRenderLoop(function(){k3&&k3.activeCamera&&(k3.render(),g3.value=oi.getFps().toFixed(2))})};ts(),hs()};return ft(async()=>{await bt(),x3()}),(v3,oi)=>($s(),Qs("div",null,[K3("div",null,"fps: "+vt(g3.value),1),Pt]))}});var Vt=typeof window<"u",Gs=null;Vt?Gs=window:Gs=global;(function(o2,f3){typeof exports=="object"&&typeof module<"u"?f3(exports):typeof define=="function"&&define.amd?define(["exports"],f3):f3((o2=o2||Gs).OIMO={})})(void 0,function(o2){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Math.sign===void 0&&(Math.sign=function(s){return s<0?-1:s>0?1:+s}),Function.prototype.name===void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(s),h=1;h<arguments.length;h++){var a=arguments[h];if(a!=null)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t});var f3,X3,b3,Fi,W3="1.0.9",z3=0,es=1,O3=2,ss=3,ls=0,Es=0,a3=1,C3=2,g3=3,x3=4,v3=5,oi=0,k3=1,R3=2,ts=3,hs=4,H3=5,rs=6,f={sqrt:Math.sqrt,abs:Math.abs,floor:Math.floor,cos:Math.cos,sin:Math.sin,acos:Math.acos,asin:Math.asin,atan2:Math.atan2,round:Math.round,pow:Math.pow,max:Math.max,min:Math.min,random:Math.random,degtorad:.017453292519943295,radtodeg:57.29577951308232,PI:3.141592653589793,TwoPI:6.283185307179586,PI90:1.570796326794896,PI270:4.712388980384689,INF:1/0,EPZ:1e-5,EPZ2:1e-6,lerp:function(s,t,h){return(1-h)*s+h*t},randInt:function(s,t){return s+f.floor(f.random()*(t-s+1))},rand:function(s,t){return s+f.random()*(t-s)},generateUUID:(X3="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b3=new Array(36),Fi=0,function(){for(var s=0;s<36;s++)s===8||s===13||s===18||s===23?b3[s]="-":s===14?b3[s]="4":(Fi<=2&&(Fi=33554432+16777216*Math.random()|0),f3=15&Fi,Fi>>=4,b3[s]=X3[s===19?3&f3|8:f3]);return b3.join("")}),int:function(s){return f.floor(s)},fix:function(s,t){return s.toFixed(t||3,10)},clamp:function(s,t,h){return f.max(t,f.min(h,s))},distance:function(s,t){var h=t[0]-s[0],a=t[1]-s[1],n=t[2]-s[2];return f.sqrt(h*h+a*a+n*n)},acosClamp:function(s){return s>1?0:s<-1?f.PI:f.acos(s)},distanceVector:function(s,t){var h=s.x-t.x,a=s.y-t.y,n=s.z-t.z;return h*h+a*a+n*n},dotVectors:function(s,t){return s.x*t.x+s.y*t.y+s.z*t.z}};function qi(s,t){console.error("[OIMO] "+s+": "+t)}function ps(s){this.parent=s,this.infos=new Float32Array(13),this.f=[0,0,0],this.times=[0,0,0,0],this.broadPhase=this.parent.broadPhaseType,this.version=W3,this.fps=0,this.tt=0,this.broadPhaseTime=0,this.narrowPhaseTime=0,this.solvingTime=0,this.totalTime=0,this.updateTime=0,this.MaxBroadPhaseTime=0,this.MaxNarrowPhaseTime=0,this.MaxSolvingTime=0,this.MaxTotalTime=0,this.MaxUpdateTime=0}function m(s,t,h){this.x=s||0,this.y=t||0,this.z=h||0}function ri(s,t,h,a){this.x=s||0,this.y=t||0,this.z=h||0,this.w=a!==void 0?a:1}function j2(s,t,h,a,n,e,l,o,r){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("OIMO.Mat33: the constructor no longer reads arguments. use .set() instead.")}function A3(s,t,h,a,n,e){this.elements=new Float32Array(6);var l=this.elements;l[0]=s||0,l[1]=h||0,l[2]=n||0,l[3]=t||0,l[4]=a||0,l[5]=e||0}Object.assign(ps.prototype,{setTime:function(s){this.times[s||0]=performance.now()},resetMax:function(){this.MaxBroadPhaseTime=0,this.MaxNarrowPhaseTime=0,this.MaxSolvingTime=0,this.MaxTotalTime=0,this.MaxUpdateTime=0},calcBroadPhase:function(){this.setTime(2),this.broadPhaseTime=this.times[2]-this.times[1]},calcNarrowPhase:function(){this.setTime(3),this.narrowPhaseTime=this.times[3]-this.times[2]},calcEnd:function(){this.setTime(2),this.solvingTime=this.times[2]-this.times[1],this.totalTime=this.times[2]-this.times[0],this.updateTime=this.totalTime-(this.broadPhaseTime+this.narrowPhaseTime+this.solvingTime),this.tt===100&&this.resetMax(),this.tt>100&&(this.broadPhaseTime>this.MaxBroadPhaseTime&&(this.MaxBroadPhaseTime=this.broadPhaseTime),this.narrowPhaseTime>this.MaxNarrowPhaseTime&&(this.MaxNarrowPhaseTime=this.narrowPhaseTime),this.solvingTime>this.MaxSolvingTime&&(this.MaxSolvingTime=this.solvingTime),this.totalTime>this.MaxTotalTime&&(this.MaxTotalTime=this.totalTime),this.updateTime>this.MaxUpdateTime&&(this.MaxUpdateTime=this.updateTime)),this.upfps(),this.tt++,this.tt>500&&(this.tt=0)},upfps:function(){this.f[1]=Date.now(),this.f[1]-1e3>this.f[0]&&(this.f[0]=this.f[1],this.fps=this.f[2],this.f[2]=0),this.f[2]++},show:function(){return["Oimo.js "+this.version+"<br>",this.broadPhase+"<br><br>","FPS: "+this.fps+" fps<br><br>","rigidbody "+this.parent.numRigidBodies+"<br>","contact &nbsp;&nbsp;"+this.parent.numContacts+"<br>","ct-point &nbsp;"+this.parent.numContactPoints+"<br>","paircheck "+this.parent.broadPhase.numPairChecks+"<br>","island &nbsp;&nbsp;&nbsp;"+this.parent.numIslands+"<br><br>","Time in milliseconds<br><br>","broadphase &nbsp;"+f.fix(this.broadPhaseTime)+" | "+f.fix(this.MaxBroadPhaseTime)+"<br>","narrowphase "+f.fix(this.narrowPhaseTime)+" | "+f.fix(this.MaxNarrowPhaseTime)+"<br>","solving &nbsp;&nbsp;&nbsp;&nbsp;"+f.fix(this.solvingTime)+" | "+f.fix(this.MaxSolvingTime)+"<br>","total &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+f.fix(this.totalTime)+" | "+f.fix(this.MaxTotalTime)+"<br>","updating &nbsp;&nbsp;&nbsp;"+f.fix(this.updateTime)+" | "+f.fix(this.MaxUpdateTime)+"<br>"].join(`
`)},toArray:function(){return this.infos[0]=this.parent.broadPhase.types,this.infos[1]=this.parent.numRigidBodies,this.infos[2]=this.parent.numContacts,this.infos[3]=this.parent.broadPhase.numPairChecks,this.infos[4]=this.parent.numContactPoints,this.infos[5]=this.parent.numIslands,this.infos[6]=this.broadPhaseTime,this.infos[7]=this.narrowPhaseTime,this.infos[8]=this.solvingTime,this.infos[9]=this.updateTime,this.infos[10]=this.totalTime,this.infos[11]=this.fps,this.infos}}),Object.assign(m.prototype,{Vec3:!0,set:function(s,t,h){return this.x=s,this.y=t,this.z=h,this},add:function(s,t){return t!==void 0?this.addVectors(s,t):(this.x+=s.x,this.y+=s.y,this.z+=s.z,this)},addVectors:function(s,t){return this.x=s.x+t.x,this.y=s.y+t.y,this.z=s.z+t.z,this},addEqual:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this},sub:function(s,t){return t!==void 0?this.subVectors(s,t):(this.x-=s.x,this.y-=s.y,this.z-=s.z,this)},subVectors:function(s,t){return this.x=s.x-t.x,this.y=s.y-t.y,this.z=s.z-t.z,this},subEqual:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this},scale:function(s,t){return this.x=s.x*t,this.y=s.y*t,this.z=s.z*t,this},scaleEqual:function(s){return this.x*=s,this.y*=s,this.z*=s,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z,this},addScaledVector:function(s,t){return this.x+=s.x*t,this.y+=s.y*t,this.z+=s.z*t,this},subScaledVector:function(s,t){return this.x-=s.x*t,this.y-=s.y*t,this.z-=s.z*t,this},cross:function(s,t){if(t!==void 0)return this.crossVectors(s,t);var h=this.x,a=this.y,n=this.z;return this.x=a*s.z-n*s.y,this.y=n*s.x-h*s.z,this.z=h*s.y-a*s.x,this},crossVectors:function(s,t){var h=s.x,a=s.y,n=s.z,e=t.x,l=t.y,o=t.z;return this.x=a*o-n*l,this.y=n*e-h*o,this.z=h*l-a*e,this},tangent:function(s){var t=s.x,h=s.y,a=s.z;return this.x=h*t-a*a,this.y=-a*h-t*t,this.z=t*a+h*h,this},invert:function(s){return this.x=-s.x,this.y=-s.y,this.z=-s.z,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},addition:function(){return this.x+this.y+this.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return f.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this},applyMatrix3:function(s,t){var h=this.x,a=this.y,n=this.z,e=s.elements;return t?(this.x=e[0]*h+e[1]*a+e[2]*n,this.y=e[3]*h+e[4]*a+e[5]*n,this.z=e[6]*h+e[7]*a+e[8]*n):(this.x=e[0]*h+e[3]*a+e[6]*n,this.y=e[1]*h+e[4]*a+e[7]*n,this.z=e[2]*h+e[5]*a+e[8]*n),this},applyQuaternion:function(s){var t=this.x,h=this.y,a=this.z,n=s.x,e=s.y,l=s.z,o=s.w,r=o*t+e*a-l*h,p=o*h+l*t-n*a,E=o*a+n*h-e*t,F=-n*t-e*h-l*a;return this.x=r*o+F*-n+p*-l-E*-e,this.y=p*o+F*-e+E*-n-r*-l,this.z=E*o+F*-l+r*-e-p*-n,this},testZero:function(){return this.x!==0||this.y!==0||this.z!==0},testDiff:function(s){return!this.equals(s)},equals:function(s){return s.x===this.x&&s.y===this.y&&s.z===this.z},clone:function(){return new this.constructor(this.x,this.y,this.z)},toString:function(){return"Vec3["+this.x.toFixed(4)+", "+this.y.toFixed(4)+", "+this.z.toFixed(4)+"]"},multiplyScalar:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divideScalar:function(s){return this.multiplyScalar(1/s)},normalize:function(){return this.divideScalar(this.length())},toArray:function(s,t){t===void 0&&(t=0),s[t]=this.x,s[t+1]=this.y,s[t+2]=this.z},fromArray:function(s,t){return t===void 0&&(t=0),this.x=s[t],this.y=s[t+1],this.z=s[t+2],this}}),Object.assign(ri.prototype,{Quat:!0,set:function(s,t,h,a){return this.x=s,this.y=t,this.z=h,this.w=a,this},addTime:function(s,t){var h=s.x,a=s.y,n=s.z,e=this.w,l=this.x,o=this.y,r=this.z;return t*=.5,this.x+=t*(h*e+a*r-n*o),this.y+=t*(a*e+n*l-h*r),this.z+=t*(n*e+h*o-a*l),this.w+=t*(-h*l-a*o-n*r),this.normalize(),this},multiply:function(s,t){return t!==void 0?this.multiplyQuaternions(s,t):this.multiplyQuaternions(this,s)},multiplyQuaternions:function(s,t){var h=s.x,a=s.y,n=s.z,e=s.w,l=t.x,o=t.y,r=t.z,p=t.w;return this.x=h*p+e*l+a*r-n*o,this.y=a*p+e*o+n*l-h*r,this.z=n*p+e*r+h*o-a*l,this.w=e*p-h*l-a*o-n*r,this},setFromUnitVectors:function(s,t){var h=new m,a=s.dot(t)+1;return a<f.EPS2?(a=0,f.abs(s.x)>f.abs(s.z)?h.set(-s.y,s.x,0):h.set(0,-s.z,s.y)):h.crossVectors(s,t),this._x=h.x,this._y=h.y,this._z=h.z,this._w=a,this.normalize()},arc:function(s,t){var h=s.x,a=s.y,n=s.z,e=t.x,l=t.y,o=t.z,r=h*e+a*l+n*o;if(r==-1)return e=a*h-n*n,l=-n*a-h*h,o=h*n+a*a,r=1/f.sqrt(e*e+l*l+o*o),this.w=0,this.x=e*r,this.y=l*r,this.z=o*r,this;var p=a*o-n*l,E=n*e-h*o,F=h*l-a*e;return this.w=f.sqrt(.5*(1+r)),r=.5/this.w,this.x=p*r,this.y=E*r,this.z=F*r,this},normalize:function(){var s=this.length();return s===0?this.set(0,0,0,1):(s=1/s,this.x=this.x*s,this.y=this.y*s,this.z=this.z*s,this.w=this.w*s),this},inverse:function(){return this.conjugate().normalize()},invert:function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this.conjugate().normalize(),this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},length:function(){return f.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this},clone:function(s){return new ri(this.x,this.y,this.z,this.w)},testDiff:function(s){return!this.equals(s)},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},toString:function(){return"Quat["+this.x.toFixed(4)+", ("+this.y.toFixed(4)+", "+this.z.toFixed(4)+", "+this.w.toFixed(4)+")]"},setFromEuler:function(s,t,h){var a=Math.cos(.5*s),n=Math.cos(.5*t),e=Math.cos(.5*h),l=Math.sin(.5*s),o=Math.sin(.5*t),r=Math.sin(.5*h);return this.x=l*n*e+a*o*r,this.y=a*o*e-l*n*r,this.z=a*n*r+l*o*e,this.w=a*n*e-l*o*r,this},setFromAxis:function(s,t){s.normalize(),t*=.5;var h=f.sin(t);return this.x=h*s.x,this.y=h*s.y,this.z=h*s.z,this.w=f.cos(t),this},setFromMat33:function(s){var t,h=s[0]+s[4]+s[8];if(h>0)t=f.sqrt(h+1),this.w=.5/t,t=.5/t,this.x=(s[5]-s[7])*t,this.y=(s[6]-s[2])*t,this.z=(s[1]-s[3])*t;else{var a=[],n=0;s[4]>s[0]&&(n=1),s[8]>s[3*n+n]&&(n=2);var e=(n+1)%3,l=(n+2)%3;t=f.sqrt(s[3*n+n]-s[3*e+e]-s[3*l+l]+1),a[n]=.5*fRoot,t=.5/fRoot,this.w=(s[3*e+l]-s[3*l+e])*t,a[e]=(s[3*e+n]+s[3*n+e])*t,a[l]=(s[3*l+n]+s[3*n+l])*t,this.x=a[1],this.y=a[2],this.z=a[3]}return this},toArray:function(s,t){s[t=t||0]=this.x,s[t+1]=this.y,s[t+2]=this.z,s[t+3]=this.w},fromArray:function(s,t){return t=t||0,this.set(s[t],s[t+1],s[t+2],s[t+3]),this}}),Object.assign(j2.prototype,{Mat33:!0,set:function(s,t,h,a,n,e,l,o,r){var p=this.elements;return p[0]=s,p[1]=t,p[2]=h,p[3]=a,p[4]=n,p[5]=e,p[6]=l,p[7]=o,p[8]=r,this},add:function(s,t){if(t!==void 0)return this.addMatrixs(s,t);var h=this.elements,a=s.elements;return h[0]+=a[0],h[1]+=a[1],h[2]+=a[2],h[3]+=a[3],h[4]+=a[4],h[5]+=a[5],h[6]+=a[6],h[7]+=a[7],h[8]+=a[8],this},addMatrixs:function(s,t){var h=this.elements,a=s.elements,n=t.elements;return h[0]=a[0]+n[0],h[1]=a[1]+n[1],h[2]=a[2]+n[2],h[3]=a[3]+n[3],h[4]=a[4]+n[4],h[5]=a[5]+n[5],h[6]=a[6]+n[6],h[7]=a[7]+n[7],h[8]=a[8]+n[8],this},addEqual:function(s){var t=this.elements,h=s.elements;return t[0]+=h[0],t[1]+=h[1],t[2]+=h[2],t[3]+=h[3],t[4]+=h[4],t[5]+=h[5],t[6]+=h[6],t[7]+=h[7],t[8]+=h[8],this},sub:function(s,t){if(t!==void 0)return this.subMatrixs(s,t);var h=this.elements,a=s.elements;return h[0]-=a[0],h[1]-=a[1],h[2]-=a[2],h[3]-=a[3],h[4]-=a[4],h[5]-=a[5],h[6]-=a[6],h[7]-=a[7],h[8]-=a[8],this},subMatrixs:function(s,t){var h=this.elements,a=s.elements,n=t.elements;return h[0]=a[0]-n[0],h[1]=a[1]-n[1],h[2]=a[2]-n[2],h[3]=a[3]-n[3],h[4]=a[4]-n[4],h[5]=a[5]-n[5],h[6]=a[6]-n[6],h[7]=a[7]-n[7],h[8]=a[8]-n[8],this},subEqual:function(s){var t=this.elements,h=s.elements;return t[0]-=h[0],t[1]-=h[1],t[2]-=h[2],t[3]-=h[3],t[4]-=h[4],t[5]-=h[5],t[6]-=h[6],t[7]-=h[7],t[8]-=h[8],this},scale:function(s,t){var h=this.elements,a=s.elements;return h[0]=a[0]*t,h[1]=a[1]*t,h[2]=a[2]*t,h[3]=a[3]*t,h[4]=a[4]*t,h[5]=a[5]*t,h[6]=a[6]*t,h[7]=a[7]*t,h[8]=a[8]*t,this},scaleEqual:function(s){var t=this.elements;return t[0]*=s,t[1]*=s,t[2]*=s,t[3]*=s,t[4]*=s,t[5]*=s,t[6]*=s,t[7]*=s,t[8]*=s,this},multiplyMatrices:function(s,t,h){h&&(t=t.clone().transpose());var a=this.elements,n=s.elements,e=t.elements,l=n[0],o=n[3],r=n[6],p=n[1],E=n[4],F=n[7],C=n[2],k=n[5],A=n[8],D=e[0],x=e[3],S=e[6],y=e[1],I=e[4],M=e[7],O=e[2],R=e[5],P=e[8];return a[0]=l*D+p*x+C*S,a[1]=l*y+p*I+C*M,a[2]=l*O+p*R+C*P,a[3]=o*D+E*x+k*S,a[4]=o*y+E*I+k*M,a[5]=o*O+E*R+k*P,a[6]=r*D+F*x+A*S,a[7]=r*y+F*I+A*M,a[8]=r*O+F*R+A*P,this},transpose:function(s){if(s!==void 0){var t=s.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this}var h=this.elements,a=h[1],n=h[2],e=h[5];return h[1]=h[3],h[2]=h[6],h[3]=a,h[5]=h[7],h[6]=n,h[7]=e,this},setQuat:function(s){var t=this.elements,h=s.x,a=s.y,n=s.z,e=s.w,l=h+h,o=a+a,r=n+n,p=h*l,E=h*o,F=h*r,C=a*o,k=a*r,A=n*r,D=e*l,x=e*o,S=e*r;return t[0]=1-(C+A),t[1]=E-S,t[2]=F+x,t[3]=E+S,t[4]=1-(p+A),t[5]=k-D,t[6]=F-x,t[7]=k+D,t[8]=1-(p+C),this},invert:function(s){var t=this.elements,h=s.elements,a=h[0],n=h[3],e=h[6],l=h[1],o=h[4],r=h[7],p=h[2],E=h[5],F=h[8],C=F*o-E*r,k=-F*n+E*e,A=r*n-o*e,D=a*C+l*k+p*A;return D===0?(console.log("can't invert matrix, determinant is 0"),this.identity()):(D=1/D,t[0]=C*D,t[1]=(-F*l+p*r)*D,t[2]=(E*l-p*o)*D,t[3]=k*D,t[4]=(F*a-p*e)*D,t[5]=(-E*a+p*n)*D,t[6]=A*D,t[7]=(-r*a+l*e)*D,t[8]=(o*a-l*n)*D,this)},addOffset:function(s,t){var h=t.x,a=t.y,n=t.z,e=this.elements;e[0]+=s*(a*a+n*n),e[4]+=s*(h*h+n*n),e[8]+=s*(h*h+a*a);var l=s*h*a,o=s*a*n,r=s*n*h;return e[1]-=l,e[3]-=l,e[2]-=o,e[6]-=o,e[5]-=r,e[7]-=r,this},subOffset:function(s,t){var h=t.x,a=t.y,n=t.z,e=this.elements;e[0]-=s*(a*a+n*n),e[4]-=s*(h*h+n*n),e[8]-=s*(h*h+a*a);var l=s*h*a,o=s*a*n,r=s*n*h;return e[1]+=l,e[3]+=l,e[2]+=o,e[6]+=o,e[5]+=r,e[7]+=r,this},multiplyScalar:function(s){var t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new j2().fromArray(this.elements)},copy:function(s){for(var t=0;t<9;t++)this.elements[t]=s.elements[t];return this},determinant:function(){var s=this.elements,t=s[0],h=s[1],a=s[2],n=s[3],e=s[4],l=s[5],o=s[6],r=s[7],p=s[8];return t*e*p-t*l*r-h*n*p+h*l*o+a*n*r-a*e*o},fromArray:function(s,t){t===void 0&&(t=0);for(var h=0;h<9;h++)this.elements[h]=s[h+t];return this},toArray:function(s,t){s===void 0&&(s=[]),t===void 0&&(t=0);var h=this.elements;return s[t]=h[0],s[t+1]=h[1],s[t+2]=h[2],s[t+3]=h[3],s[t+4]=h[4],s[t+5]=h[5],s[t+6]=h[6],s[t+7]=h[7],s[t+8]=h[8],s}}),Object.assign(A3.prototype,{AABB:!0,set:function(s,t,h,a,n,e){var l=this.elements;return l[0]=s,l[3]=t,l[1]=h,l[4]=a,l[2]=n,l[5]=e,this},intersectTest:function(s){var t=this.elements,h=s.elements;return t[0]>h[3]||t[1]>h[4]||t[2]>h[5]||t[3]<h[0]||t[4]<h[1]||t[5]<h[2]},intersectTestTwo:function(s){var t=this.elements,h=s.elements;return t[0]<h[0]||t[1]<h[1]||t[2]<h[2]||t[3]>h[3]||t[4]>h[4]||t[5]>h[5]},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(s,t){var h=t||0,a=s.elements;return this.set(a[0]-h,a[3]+h,a[1]-h,a[4]+h,a[2]-h,a[5]+h),this},fromArray:function(s){return this.elements.set(s),this},combine:function(s,t){var h=s.elements,a=t.elements,n=this.elements;return n[0]=h[0]<a[0]?h[0]:a[0],n[1]=h[1]<a[1]?h[1]:a[1],n[2]=h[2]<a[2]?h[2]:a[2],n[3]=h[3]>a[3]?h[3]:a[3],n[4]=h[4]>a[4]?h[4]:a[4],n[5]=h[5]>a[5]?h[5]:a[5],this},surfaceArea:function(){var s=this.elements,t=s[3]-s[0],h=s[4]-s[1],a=s[5]-s[2];return 2*(t*(h+a)+h*a)},intersectsWithPoint:function(s,t,h){var a=this.elements;return s>=a[0]&&s<=a[3]&&t>=a[1]&&t<=a[4]&&h>=a[2]&&h<=a[5]},setFromPoints:function(s){this.makeEmpty();for(var t=0;t<s.length;t++)this.expandByPoint(s[t])},makeEmpty:function(){this.set(-1/0,-1/0,-1/0,1/0,1/0,1/0)},expandByPoint:function(s){var t=this.elements;this.set(f.min(t[0],s.x),f.min(t[1],s.y),f.min(t[2],s.z),f.max(t[3],s.x),f.max(t[4],s.y),f.max(t[5],s.z))},expandByScalar:function(s){var t=this.elements;t[0]+=-s,t[1]+=-s,t[2]+=-s,t[3]+=s,t[4]+=s,t[5]+=s}});var Ls=0;function n3(s){this.type=Es,this.id=Ls++,this.prev=null,this.next=null,this.proxy=null,this.parent=null,this.contactLink=null,this.numContacts=0,this.position=new m,this.rotation=new j2,this.relativePosition=new m().copy(s.relativePosition),this.relativeRotation=new j2().copy(s.relativeRotation),this.aabb=new A3,this.density=s.density,this.friction=s.friction,this.restitution=s.restitution,this.belongsTo=s.belongsTo,this.collidesWith=s.collidesWith}function as(s,t,h,a){n3.call(this,s),this.type=C3,this.width=t,this.height=h,this.depth=a,this.halfWidth=.5*t,this.halfHeight=.5*h,this.halfDepth=.5*a,this.dimentions=new Float32Array(18),this.elements=new Float32Array(24)}function _3(s,t){n3.call(this,s),this.type=a3,this.radius=t}function cs(s,t,h){n3.call(this,s),this.type=g3,this.radius=t,this.height=h,this.halfHeight=.5*h,this.normalDirection=new m,this.halfDirection=new m}function Fs(s,t){n3.call(this,s),this.type=x3,this.normal=new m(0,1,0)}function Vs(s,t){n3.call(this,s),this.type=v3}function it(){this.relativePosition=new m,this.relativeRotation=new j2,this.friction=.2,this.restitution=.2,this.density=1,this.belongsTo=1,this.collidesWith=4294967295}function Ti(s,t){t=t||!1,this.axis=s,this.angle=0,this.lowerLimit=t?0:1,this.upperLimit=0,this.motorSpeed=0,this.maxMotorForce=0,this.frequency=0,this.dampingRatio=0}function os(){this.parent=null,this.body1=null,this.body2=null,this.addedToIsland=!1}function st(s){this.prev=null,this.next=null,this.body=null,this.joint=s}function c3(s){os.call(this),this.scale=1,this.invScale=1,this.name="",this.id=NaN,this.type=oi,this.prev=null,this.next=null,this.body1=s.body1,this.body2=s.body2,this.localAnchorPoint1=new m().copy(s.localAnchorPoint1),this.localAnchorPoint2=new m().copy(s.localAnchorPoint2),this.relativeAnchorPoint1=new m,this.relativeAnchorPoint2=new m,this.anchorPoint1=new m,this.anchorPoint2=new m,this.allowCollision=s.allowCollision,this.b1Link=new st(this),this.b2Link=new st(this)}function Ts(s){this.m1=NaN,this.m2=NaN,this.ii1=null,this.ii2=null,this.dd=null,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.ax1x=NaN,this.ax1y=NaN,this.ax1z=NaN,this.ay1x=NaN,this.ay1y=NaN,this.ay1z=NaN,this.az1x=NaN,this.az1y=NaN,this.az1z=NaN,this.ax2x=NaN,this.ax2y=NaN,this.ax2z=NaN,this.ay2x=NaN,this.ay2y=NaN,this.ay2z=NaN,this.az2x=NaN,this.az2y=NaN,this.az2z=NaN,this.vel=NaN,this.velx=NaN,this.vely=NaN,this.velz=NaN,this.joint=s,this.r1=s.relativeAnchorPoint1,this.r2=s.relativeAnchorPoint2,this.p1=s.anchorPoint1,this.p2=s.anchorPoint2,this.b1=s.body1,this.b2=s.body2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.impx=0,this.impy=0,this.impz=0}function ds(s,t,h,a){this.cfm1=NaN,this.cfm2=NaN,this.cfm3=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.ax1=NaN,this.ay1=NaN,this.az1=NaN,this.ax2=NaN,this.ay2=NaN,this.az2=NaN,this.ax3=NaN,this.ay3=NaN,this.az3=NaN,this.a1x1=NaN,this.a1y1=NaN,this.a1z1=NaN,this.a2x1=NaN,this.a2y1=NaN,this.a2z1=NaN,this.a1x2=NaN,this.a1y2=NaN,this.a1z2=NaN,this.a2x2=NaN,this.a2y2=NaN,this.a2z2=NaN,this.a1x3=NaN,this.a1y3=NaN,this.a1z3=NaN,this.a2x3=NaN,this.a2y3=NaN,this.a2z3=NaN,this.lowerLimit1=NaN,this.upperLimit1=NaN,this.limitVelocity1=NaN,this.limitState1=0,this.enableMotor1=!1,this.motorSpeed1=NaN,this.maxMotorForce1=NaN,this.maxMotorImpulse1=NaN,this.lowerLimit2=NaN,this.upperLimit2=NaN,this.limitVelocity2=NaN,this.limitState2=0,this.enableMotor2=!1,this.motorSpeed2=NaN,this.maxMotorForce2=NaN,this.maxMotorImpulse2=NaN,this.lowerLimit3=NaN,this.upperLimit3=NaN,this.limitVelocity3=NaN,this.limitState3=0,this.enableMotor3=!1,this.motorSpeed3=NaN,this.maxMotorForce3=NaN,this.maxMotorImpulse3=NaN,this.k00=NaN,this.k01=NaN,this.k02=NaN,this.k10=NaN,this.k11=NaN,this.k12=NaN,this.k20=NaN,this.k21=NaN,this.k22=NaN,this.kv00=NaN,this.kv11=NaN,this.kv22=NaN,this.dv00=NaN,this.dv11=NaN,this.dv22=NaN,this.d00=NaN,this.d01=NaN,this.d02=NaN,this.d10=NaN,this.d11=NaN,this.d12=NaN,this.d20=NaN,this.d21=NaN,this.d22=NaN,this.limitMotor1=t,this.limitMotor2=h,this.limitMotor3=a,this.b1=s.body1,this.b2=s.body2,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse1=0,this.motorImpulse1=0,this.limitImpulse2=0,this.motorImpulse2=0,this.limitImpulse3=0,this.motorImpulse3=0}function ys(s,t,h){c3.call(this,s),this.type=ts,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize();var a=new j2().setQuat(new ri().setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1=new m().tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(a,!0),this.ax1=new m,this.ax2=new m,this.an1=new m,this.an2=new m,this.tmp=new m,this.nor=new m,this.tan=new m,this.bin=new m,this.limitMotor=new Ti(this.nor,!1),this.limitMotor.lowerLimit=t,this.limitMotor.upperLimit=h,this.lc=new Ts(this),this.r3=new ds(this,this.limitMotor,new Ti(this.tan,!0),new Ti(this.bin,!0))}function Ds(s){c3.call(this,s),this.type=R3,this.lc=new Ts(this)}function tt(s,t){this.cfm=NaN,this.m1=NaN,this.m2=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.motorDenom=NaN,this.invMotorDenom=NaN,this.invDenom=NaN,this.ax=NaN,this.ay=NaN,this.az=NaN,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.t1x=NaN,this.t1y=NaN,this.t1z=NaN,this.t2x=NaN,this.t2y=NaN,this.t2z=NaN,this.l1x=NaN,this.l1y=NaN,this.l1z=NaN,this.l2x=NaN,this.l2y=NaN,this.l2z=NaN,this.a1x=NaN,this.a1y=NaN,this.a1z=NaN,this.a2x=NaN,this.a2y=NaN,this.a2z=NaN,this.lowerLimit=NaN,this.upperLimit=NaN,this.limitVelocity=NaN,this.limitState=0,this.enableMotor=!1,this.motorSpeed=NaN,this.maxMotorForce=NaN,this.maxMotorImpulse=NaN,this.limitMotor=t,this.b1=s.body1,this.b2=s.body2,this.p1=s.anchorPoint1,this.p2=s.anchorPoint2,this.r1=s.relativeAnchorPoint1,this.r2=s.relativeAnchorPoint2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse=0,this.motorImpulse=0}function ms(s,t,h){c3.call(this,s),this.type=k3,this.nor=new m,this.limitMotor=new Ti(this.nor,!0),this.limitMotor.lowerLimit=t,this.limitMotor.upperLimit=h,this.t=new tt(this,this.limitMotor)}function ht(s,t){this.joint=s,this.targetOrientation=new ri().invert(t),this.relativeOrientation=new ri,this.ii1=null,this.ii2=null,this.dd=null,this.vel=new m,this.imp=new m,this.rn0=new m,this.rn1=new m,this.rn2=new m,this.b1=s.body1,this.b2=s.body2,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia}function Bs(s,t,h,a){this.m1=NaN,this.m2=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.ax1=NaN,this.ay1=NaN,this.az1=NaN,this.ax2=NaN,this.ay2=NaN,this.az2=NaN,this.ax3=NaN,this.ay3=NaN,this.az3=NaN,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.t1x1=NaN,this.t1y1=NaN,this.t1z1=NaN,this.t2x1=NaN,this.t2y1=NaN,this.t2z1=NaN,this.l1x1=NaN,this.l1y1=NaN,this.l1z1=NaN,this.l2x1=NaN,this.l2y1=NaN,this.l2z1=NaN,this.a1x1=NaN,this.a1y1=NaN,this.a1z1=NaN,this.a2x1=NaN,this.a2y1=NaN,this.a2z1=NaN,this.t1x2=NaN,this.t1y2=NaN,this.t1z2=NaN,this.t2x2=NaN,this.t2y2=NaN,this.t2z2=NaN,this.l1x2=NaN,this.l1y2=NaN,this.l1z2=NaN,this.l2x2=NaN,this.l2y2=NaN,this.l2z2=NaN,this.a1x2=NaN,this.a1y2=NaN,this.a1z2=NaN,this.a2x2=NaN,this.a2y2=NaN,this.a2z2=NaN,this.t1x3=NaN,this.t1y3=NaN,this.t1z3=NaN,this.t2x3=NaN,this.t2y3=NaN,this.t2z3=NaN,this.l1x3=NaN,this.l1y3=NaN,this.l1z3=NaN,this.l2x3=NaN,this.l2y3=NaN,this.l2z3=NaN,this.a1x3=NaN,this.a1y3=NaN,this.a1z3=NaN,this.a2x3=NaN,this.a2y3=NaN,this.a2z3=NaN,this.lowerLimit1=NaN,this.upperLimit1=NaN,this.limitVelocity1=NaN,this.limitState1=0,this.enableMotor1=!1,this.motorSpeed1=NaN,this.maxMotorForce1=NaN,this.maxMotorImpulse1=NaN,this.lowerLimit2=NaN,this.upperLimit2=NaN,this.limitVelocity2=NaN,this.limitState2=0,this.enableMotor2=!1,this.motorSpeed2=NaN,this.maxMotorForce2=NaN,this.maxMotorImpulse2=NaN,this.lowerLimit3=NaN,this.upperLimit3=NaN,this.limitVelocity3=NaN,this.limitState3=0,this.enableMotor3=!1,this.motorSpeed3=NaN,this.maxMotorForce3=NaN,this.maxMotorImpulse3=NaN,this.k00=NaN,this.k01=NaN,this.k02=NaN,this.k10=NaN,this.k11=NaN,this.k12=NaN,this.k20=NaN,this.k21=NaN,this.k22=NaN,this.kv00=NaN,this.kv11=NaN,this.kv22=NaN,this.dv00=NaN,this.dv11=NaN,this.dv22=NaN,this.d00=NaN,this.d01=NaN,this.d02=NaN,this.d10=NaN,this.d11=NaN,this.d12=NaN,this.d20=NaN,this.d21=NaN,this.d22=NaN,this.limitMotor1=t,this.limitMotor2=h,this.limitMotor3=a,this.b1=s.body1,this.b2=s.body2,this.p1=s.anchorPoint1,this.p2=s.anchorPoint2,this.r1=s.relativeAnchorPoint1,this.r2=s.relativeAnchorPoint2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse1=0,this.motorImpulse1=0,this.limitImpulse2=0,this.motorImpulse2=0,this.limitImpulse3=0,this.motorImpulse3=0,this.cfm1=0,this.cfm2=0,this.cfm3=0,this.weight=-1}function us(s,t,h){c3.call(this,s),this.type=rs,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize(),this.ax1=new m,this.ax2=new m,this.nor=new m,this.tan=new m,this.bin=new m,this.ac=new ht(this,new ri().setFromUnitVectors(this.localAxis1,this.localAxis2)),this.limitMotor=new Ti(this.nor,!0),this.limitMotor.lowerLimit=t,this.limitMotor.upperLimit=h,this.t3=new Bs(this,this.limitMotor,new Ti(this.tan,!0),new Ti(this.bin,!0))}function gs(s,t,h){c3.call(this,s),this.type=H3,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize();var a=new j2().setQuat(new ri().setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1=new m().tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(a,!0),this.ax1=new m,this.ax2=new m,this.an1=new m,this.an2=new m,this.tmp=new m,this.nor=new m,this.tan=new m,this.bin=new m,this.rotationalLimitMotor=new Ti(this.nor,!1),this.r3=new ds(this,this.rotationalLimitMotor,new Ti(this.tan,!0),new Ti(this.bin,!0)),this.translationalLimitMotor=new Ti(this.nor,!0),this.translationalLimitMotor.lowerLimit=t,this.translationalLimitMotor.upperLimit=h,this.t3=new Bs(this,this.translationalLimitMotor,new Ti(this.tan,!0),new Ti(this.bin,!0))}function xs(s){c3.call(this,s),this.type=hs,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize(),this.localAngle1=new m,this.localAngle2=new m;var t=f.dotVectors(this.localAxis1,this.localAxis2);if(t>-1&&t<1)this.localAngle1.set(this.localAxis2.x-t*this.localAxis1.x,this.localAxis2.y-t*this.localAxis1.y,this.localAxis2.z-t*this.localAxis1.z).normalize(),this.localAngle2.set(this.localAxis1.x-t*this.localAxis2.x,this.localAxis1.y-t*this.localAxis2.y,this.localAxis1.z-t*this.localAxis2.z).normalize();else{var h=new j2().setQuat(new ri().setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1.tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(h,!0)}this.ax1=new m,this.ax2=new m,this.an1=new m,this.an2=new m,this.tmp=new m,this.nor=new m,this.tan=new m,this.bin=new m,this.translationalLimitMotor=new Ti(this.tan,!0),this.translationalLimitMotor.frequency=8,this.translationalLimitMotor.dampingRatio=1,this.rotationalLimitMotor1=new Ti(this.tan,!1),this.rotationalLimitMotor2=new Ti(this.bin,!1),this.t3=new Bs(this,new Ti(this.nor,!0),this.translationalLimitMotor,new Ti(this.bin,!0)),this.t3.weight=1,this.r3=new ds(this,new Ti(this.nor,!0),this.rotationalLimitMotor1,this.rotationalLimitMotor2)}function at(){this.scale=1,this.invScale=1,this.body1=null,this.body2=null,this.localAnchorPoint1=new m,this.localAnchorPoint2=new m,this.localAxis1=new m,this.localAxis2=new m,this.allowCollision=!1}function wt(){this.mass=0,this.inertia=new j2}function fs(s){this.prev=null,this.next=null,this.shape=null,this.body=null,this.contact=s}function bs(){this.lp1X=NaN,this.lp1Y=NaN,this.lp1Z=NaN,this.lp2X=NaN,this.lp2Y=NaN,this.lp2Z=NaN,this.impulse=NaN}function vs(){this.warmStarted=!1,this.position=new m,this.localPoint1=new m,this.localPoint2=new m,this.normal=new m,this.tangent=new m,this.binormal=new m,this.normalImpulse=0,this.tangentImpulse=0,this.binormalImpulse=0,this.normalDenominator=0,this.tangentDenominator=0,this.binormalDenominator=0,this.penetration=0}function js(){this.body1=null,this.body2=null,this.numPoints=0,this.points=[new vs,new vs,new vs,new vs]}function zs(){this.nor=new m,this.tan=new m,this.bin=new m,this.norU1=new m,this.tanU1=new m,this.binU1=new m,this.norU2=new m,this.tanU2=new m,this.binU2=new m,this.norT1=new m,this.tanT1=new m,this.binT1=new m,this.norT2=new m,this.tanT2=new m,this.binT2=new m,this.norTU1=new m,this.tanTU1=new m,this.binTU1=new m,this.norTU2=new m,this.tanTU2=new m,this.binTU2=new m,this.norImp=0,this.tanImp=0,this.binImp=0,this.norDen=0,this.tanDen=0,this.binDen=0,this.norTar=0,this.next=null,this.last=!1}function Os(s){os.call(this),this.manifold=s,this.restitution=NaN,this.friction=NaN,this.p1=null,this.p2=null,this.lv1=null,this.lv2=null,this.av1=null,this.av2=null,this.i1=null,this.i2=null,this.tmp=new m,this.tmpC1=new m,this.tmpC2=new m,this.tmpP1=new m,this.tmpP2=new m,this.tmplv1=new m,this.tmplv2=new m,this.tmpav1=new m,this.tmpav2=new m,this.m1=NaN,this.m2=NaN,this.num=0,this.ps=s.points,this.cs=new zs,this.cs.next=new zs,this.cs.next.next=new zs,this.cs.next.next.next=new zs}function nt(){this.shape1=null,this.shape2=null,this.body1=null,this.body2=null,this.prev=null,this.next=null,this.persisting=!1,this.sleeping=!1,this.detector=null,this.constraint=null,this.touching=!1,this.close=!1,this.dist=f.INF,this.b1Link=new fs(this),this.b2Link=new fs(this),this.s1Link=new fs(this),this.s2Link=new fs(this),this.manifold=new js,this.buffer=[new bs,new bs,new bs,new bs],this.points=this.manifold.points,this.constraint=new Os(this.manifold)}function G3(s,t){this.position=s||new m,this.orientation=t||new ri,this.scale=1,this.invScale=1,this.mesh=null,this.id=NaN,this.name="",this.prev=null,this.next=null,this.type=ls,this.massInfo=new wt,this.newPosition=new m,this.controlPos=!1,this.newOrientation=new ri,this.newRotation=new m,this.currentRotation=new m,this.controlRot=!1,this.controlRotInTime=!1,this.quaternion=new ri,this.pos=new m,this.linearVelocity=new m,this.angularVelocity=new m,this.parent=null,this.contactLink=null,this.numContacts=0,this.shapes=null,this.numShapes=0,this.jointLink=null,this.numJoints=0,this.sleepPosition=new m,this.sleepOrientation=new ri,this.isStatic=!1,this.isDynamic=!1,this.isKinematic=!1,this.rotation=new j2,this.mass=0,this.inverseMass=0,this.inverseInertia=new j2,this.localInertia=new j2,this.inverseLocalInertia=new j2,this.tmpInertia=new j2,this.addedToIsland=!1,this.allowSleep=!0,this.sleepTime=0,this.sleeping=!1}function Nt(s,t){this.shape1=s||null,this.shape2=t||null}function $3(){this.types=z3,this.numPairChecks=0,this.numPairs=0,this.pairs=[]}Object.assign(n3.prototype,{Shape:!0,calculateMassInfo:function(s){qi("Shape","Inheritance error.")},updateProxy:function(){qi("Shape","Inheritance error.")}}),as.prototype=Object.assign(Object.create(n3.prototype),{constructor:as,calculateMassInfo:function(s){var t=this.width*this.height*this.depth*this.density;s.mass=t,s.inertia.set(t*(this.height*this.height+this.depth*this.depth)*(1/12),0,0,0,t*(this.width*this.width+this.depth*this.depth)*(1/12),0,0,0,t*(this.width*this.width+this.height*this.height)*(1/12))},updateProxy:function(){var s=this.rotation.elements,t=this.dimentions;t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8],t[9]=s[0]*this.halfWidth,t[10]=s[3]*this.halfWidth,t[11]=s[6]*this.halfWidth,t[12]=s[1]*this.halfHeight,t[13]=s[4]*this.halfHeight,t[14]=s[7]*this.halfHeight,t[15]=s[2]*this.halfDepth,t[16]=s[5]*this.halfDepth,t[17]=s[8]*this.halfDepth;var h=t[9],a=t[10],n=t[11],e=t[12],l=t[13],o=t[14],r=t[15],p=t[16],E=t[17],F=this.position.x,C=this.position.y,k=this.position.z,A=this.elements;A[0]=F+h+e+r,A[1]=C+a+l+p,A[2]=k+n+o+E,A[3]=F+h+e-r,A[4]=C+a+l-p,A[5]=k+n+o-E,A[6]=F+h-e+r,A[7]=C+a-l+p,A[8]=k+n-o+E,A[9]=F+h-e-r,A[10]=C+a-l-p,A[11]=k+n-o-E,A[12]=F-h+e+r,A[13]=C-a+l+p,A[14]=k-n+o+E,A[15]=F-h+e-r,A[16]=C-a+l-p,A[17]=k-n+o-E,A[18]=F-h-e+r,A[19]=C-a-l+p,A[20]=k-n-o+E,A[21]=F-h-e-r,A[22]=C-a-l-p,A[23]=k-n-o-E;var D=t[9]<0?-t[9]:t[9],x=t[10]<0?-t[10]:t[10],S=t[11]<0?-t[11]:t[11];D=t[12]<0?D-t[12]:D+t[12],x=t[13]<0?x-t[13]:x+t[13],S=t[14]<0?S-t[14]:S+t[14],D=t[15]<0?D-t[15]:D+t[15],x=t[16]<0?x-t[16]:x+t[16],S=t[17]<0?S-t[17]:S+t[17];var y=.005;this.aabb.set(this.position.x-D-y,this.position.x+D+y,this.position.y-x-y,this.position.y+x+y,this.position.z-S-y,this.position.z+S+y),this.proxy!=null&&this.proxy.update()}}),_3.prototype=Object.assign(Object.create(n3.prototype),{constructor:_3,volume:function(){return f.PI*this.radius*1.333333},calculateMassInfo:function(s){var t=this.volume()*this.radius*this.radius*this.density;s.mass=t;var h=t*this.radius*this.radius*.4;s.inertia.set(h,0,0,0,h,0,0,0,h)},updateProxy:function(){var s=.005;this.aabb.set(this.position.x-this.radius-s,this.position.x+this.radius+s,this.position.y-this.radius-s,this.position.y+this.radius+s,this.position.z-this.radius-s,this.position.z+this.radius+s),this.proxy!=null&&this.proxy.update()}}),cs.prototype=Object.assign(Object.create(n3.prototype),{constructor:cs,calculateMassInfo:function(s){var t=this.radius*this.radius,h=f.PI*t*this.height*this.density,a=(.25*t+.0833*this.height*this.height)*h,n=.5*t;s.mass=h,s.inertia.set(a,0,0,0,n,0,0,0,a)},updateProxy:function(){var s,t,h,a,n,e,l,o,r,p,E,F=this.rotation.elements;n=F[1]*F[1],e=F[4]*F[4],l=F[7]*F[7],this.normalDirection.set(F[1],F[4],F[7]),this.halfDirection.scale(this.normalDirection,this.halfHeight),t=1-n,(s=f.sqrt(t*t+n*e+n*l))>0&&(s=this.radius/s),t*=s,h=1-e,(s=f.sqrt(e*n+h*h+e*l))>0&&(s=this.radius/s),h*=s,a=1-l,(s=f.sqrt(l*n+l*e+a*a))>0&&(s=this.radius/s),a*=s,o=this.halfDirection.x<0?-this.halfDirection.x:this.halfDirection.x,r=this.halfDirection.y<0?-this.halfDirection.y:this.halfDirection.y,p=this.halfDirection.z<0?-this.halfDirection.z:this.halfDirection.z,o=t<0?o-t:o+t,r=h<0?r-h:r+h,p=a<0?p-a:p+a,E=.005,this.aabb.set(this.position.x-o-E,this.position.x+o+E,this.position.y-r-E,this.position.y+r+E,this.position.z-p-E,this.position.z+p+E),this.proxy!=null&&this.proxy.update()}}),Fs.prototype=Object.assign(Object.create(n3.prototype),{constructor:Fs,volume:function(){return Number.MAX_VALUE},calculateMassInfo:function(s){s.mass=this.density,s.inertia.set(1,0,0,0,1,0,0,0,1)},updateProxy:function(){var s=.005,t=-f.INF,h=f.INF,a=this.normal;this.aabb.set(a.x===-1?this.position.x-s:t,a.x===1?this.position.x+s:h,a.y===-1?this.position.y-s:t,a.y===1?this.position.y+s:h,a.z===-1?this.position.z-s:t,a.z===1?this.position.z+s:h),this.proxy!=null&&this.proxy.update()}}),Vs.prototype=Object.assign(Object.create(n3.prototype),{constructor:Vs,volume:function(){return Number.MAX_VALUE},calculateMassInfo:function(s){s.inertia.set(0,0,0,0,0,0,0,0,0)},updateProxy:function(){this.aabb.set(this.position.x-0,this.position.x+0,this.position.y-0,this.position.y+0,this.position.z-0,this.position.z+0),this.proxy!=null&&this.proxy.update()}}),Object.assign(Ti.prototype,{LimitMotor:!0,setLimit:function(s,t){this.lowerLimit=s,this.upperLimit=t},setMotor:function(s,t){this.motorSpeed=s,this.maxMotorForce=t},setSpring:function(s,t){this.frequency=s,this.dampingRatio=t}}),Object.assign(os.prototype,{Constraint:!0,preSolve:function(s,t){qi("Constraint","Inheritance error.")},solve:function(){qi("Constraint","Inheritance error.")},postSolve:function(){qi("Constraint","Inheritance error.")}}),c3.prototype=Object.assign(Object.create(os.prototype),{constructor:c3,setId:function(s){this.id=i},setParent:function(s){this.parent=s,this.scale=this.parent.scale,this.invScale=this.parent.invScale,this.id=this.parent.numJoints,this.name||(this.name="J"+this.id)},updateAnchorPoints:function(){this.relativeAnchorPoint1.copy(this.localAnchorPoint1).applyMatrix3(this.body1.rotation,!0),this.relativeAnchorPoint2.copy(this.localAnchorPoint2).applyMatrix3(this.body2.rotation,!0),this.anchorPoint1.add(this.relativeAnchorPoint1,this.body1.position),this.anchorPoint2.add(this.relativeAnchorPoint2,this.body2.position)},attach:function(s){this.b1Link.body=this.body2,this.b2Link.body=this.body1,s?(this.body1.jointLink.push(this.b1Link),this.body2.jointLink.push(this.b2Link)):(this.body1.jointLink!=null?(this.b1Link.next=this.body1.jointLink).prev=this.b1Link:this.b1Link.next=null,this.body1.jointLink=this.b1Link,this.body1.numJoints++,this.body2.jointLink!=null?(this.b2Link.next=this.body2.jointLink).prev=this.b2Link:this.b2Link.next=null,this.body2.jointLink=this.b2Link,this.body2.numJoints++)},detach:function(s){if(s)this.body1.jointLink.splice(this.body1.jointLink.indexOf(this.b1Link),1),this.body2.jointLink.splice(this.body2.jointLink.indexOf(this.b2Link),1);else{var t=this.b1Link.prev,h=this.b1Link.next;t!=null&&(t.next=h),h!=null&&(h.prev=t),this.body1.jointLink==this.b1Link&&(this.body1.jointLink=h),this.b1Link.prev=null,this.b1Link.next=null,this.b1Link.body=null,this.body1.numJoints--,t=this.b2Link.prev,h=this.b2Link.next,t!=null&&(t.next=h),h!=null&&(h.prev=t),this.body2.jointLink==this.b2Link&&(this.body2.jointLink=h),this.b2Link.prev=null,this.b2Link.next=null,this.b2Link.body=null,this.body2.numJoints--}this.b1Link.body=null,this.b2Link.body=null},awake:function(){this.body1.awake(),this.body2.awake()},preSolve:function(s,t){},solve:function(){},postSolve:function(){},remove:function(){this.dispose()},dispose:function(){this.parent.removeJoint(this)},getPosition:function(){return[new m().scale(this.anchorPoint1,this.scale),new m().scale(this.anchorPoint2,this.scale)]}}),Object.assign(Ts.prototype,{LinearConstraint:!0,preSolve:function(s,t){this.r1x=this.r1.x,this.r1y=this.r1.y,this.r1z=this.r1.z,this.r2x=this.r2.x,this.r2y=this.r2.y,this.r2z=this.r2.z,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass,this.ii1=this.i1.clone(),this.ii2=this.i2.clone();var h=this.ii1.elements,a=this.ii2.elements;this.ax1x=this.r1z*h[1]+-this.r1y*h[2],this.ax1y=this.r1z*h[4]+-this.r1y*h[5],this.ax1z=this.r1z*h[7]+-this.r1y*h[8],this.ay1x=-this.r1z*h[0]+this.r1x*h[2],this.ay1y=-this.r1z*h[3]+this.r1x*h[5],this.ay1z=-this.r1z*h[6]+this.r1x*h[8],this.az1x=this.r1y*h[0]+-this.r1x*h[1],this.az1y=this.r1y*h[3]+-this.r1x*h[4],this.az1z=this.r1y*h[6]+-this.r1x*h[7],this.ax2x=this.r2z*a[1]+-this.r2y*a[2],this.ax2y=this.r2z*a[4]+-this.r2y*a[5],this.ax2z=this.r2z*a[7]+-this.r2y*a[8],this.ay2x=-this.r2z*a[0]+this.r2x*a[2],this.ay2y=-this.r2z*a[3]+this.r2x*a[5],this.ay2z=-this.r2z*a[6]+this.r2x*a[8],this.az2x=this.r2y*a[0]+-this.r2x*a[1],this.az2y=this.r2y*a[3]+-this.r2x*a[4],this.az2z=this.r2y*a[6]+-this.r2x*a[7];var n=this.m1+this.m2,e=new j2().set(n,0,0,0,n,0,0,0,n).elements;e[0]+=h[4]*this.r1z*this.r1z-(h[7]+h[5])*this.r1y*this.r1z+h[8]*this.r1y*this.r1y,e[1]+=(h[6]*this.r1y+h[5]*this.r1x)*this.r1z-h[3]*this.r1z*this.r1z-h[8]*this.r1x*this.r1y,e[2]+=(h[3]*this.r1y-h[4]*this.r1x)*this.r1z-h[6]*this.r1y*this.r1y+h[7]*this.r1x*this.r1y,e[3]+=(h[2]*this.r1y+h[7]*this.r1x)*this.r1z-h[1]*this.r1z*this.r1z-h[8]*this.r1x*this.r1y,e[4]+=h[0]*this.r1z*this.r1z-(h[6]+h[2])*this.r1x*this.r1z+h[8]*this.r1x*this.r1x,e[5]+=(h[1]*this.r1x-h[0]*this.r1y)*this.r1z-h[7]*this.r1x*this.r1x+h[6]*this.r1x*this.r1y,e[6]+=(h[1]*this.r1y-h[4]*this.r1x)*this.r1z-h[2]*this.r1y*this.r1y+h[5]*this.r1x*this.r1y,e[7]+=(h[3]*this.r1x-h[0]*this.r1y)*this.r1z-h[5]*this.r1x*this.r1x+h[2]*this.r1x*this.r1y,e[8]+=h[0]*this.r1y*this.r1y-(h[3]+h[1])*this.r1x*this.r1y+h[4]*this.r1x*this.r1x,e[0]+=a[4]*this.r2z*this.r2z-(a[7]+a[5])*this.r2y*this.r2z+a[8]*this.r2y*this.r2y,e[1]+=(a[6]*this.r2y+a[5]*this.r2x)*this.r2z-a[3]*this.r2z*this.r2z-a[8]*this.r2x*this.r2y,e[2]+=(a[3]*this.r2y-a[4]*this.r2x)*this.r2z-a[6]*this.r2y*this.r2y+a[7]*this.r2x*this.r2y,e[3]+=(a[2]*this.r2y+a[7]*this.r2x)*this.r2z-a[1]*this.r2z*this.r2z-a[8]*this.r2x*this.r2y,e[4]+=a[0]*this.r2z*this.r2z-(a[6]+a[2])*this.r2x*this.r2z+a[8]*this.r2x*this.r2x,e[5]+=(a[1]*this.r2x-a[0]*this.r2y)*this.r2z-a[7]*this.r2x*this.r2x+a[6]*this.r2x*this.r2y,e[6]+=(a[1]*this.r2y-a[4]*this.r2x)*this.r2z-a[2]*this.r2y*this.r2y+a[5]*this.r2x*this.r2y,e[7]+=(a[3]*this.r2x-a[0]*this.r2y)*this.r2z-a[5]*this.r2x*this.r2x+a[2]*this.r2x*this.r2y,e[8]+=a[0]*this.r2y*this.r2y-(a[3]+a[1])*this.r2x*this.r2y+a[4]*this.r2x*this.r2x;var l=1/(e[0]*(e[4]*e[8]-e[7]*e[5])+e[3]*(e[7]*e[2]-e[1]*e[8])+e[6]*(e[1]*e[5]-e[4]*e[2]));this.dd=new j2().set(e[4]*e[8]-e[5]*e[7],e[2]*e[7]-e[1]*e[8],e[1]*e[5]-e[2]*e[4],e[5]*e[6]-e[3]*e[8],e[0]*e[8]-e[2]*e[6],e[2]*e[3]-e[0]*e[5],e[3]*e[7]-e[4]*e[6],e[1]*e[6]-e[0]*e[7],e[0]*e[4]-e[1]*e[3]).scaleEqual(l),this.velx=this.p2.x-this.p1.x,this.vely=this.p2.y-this.p1.y,this.velz=this.p2.z-this.p1.z;var o=f.sqrt(this.velx*this.velx+this.vely*this.vely+this.velz*this.velz);o>.005?(o=(.005-o)/o*t*.05,this.velx*=o,this.vely*=o,this.velz*=o):(this.velx=0,this.vely=0,this.velz=0),this.impx*=.95,this.impy*=.95,this.impz*=.95,this.l1.x+=this.impx*this.m1,this.l1.y+=this.impy*this.m1,this.l1.z+=this.impz*this.m1,this.a1.x+=this.impx*this.ax1x+this.impy*this.ay1x+this.impz*this.az1x,this.a1.y+=this.impx*this.ax1y+this.impy*this.ay1y+this.impz*this.az1y,this.a1.z+=this.impx*this.ax1z+this.impy*this.ay1z+this.impz*this.az1z,this.l2.x-=this.impx*this.m2,this.l2.y-=this.impy*this.m2,this.l2.z-=this.impz*this.m2,this.a2.x-=this.impx*this.ax2x+this.impy*this.ay2x+this.impz*this.az2x,this.a2.y-=this.impx*this.ax2y+this.impy*this.ay2y+this.impz*this.az2y,this.a2.z-=this.impx*this.ax2z+this.impy*this.ay2z+this.impz*this.az2z},solve:function(){var s=this.dd.elements,t=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y-this.velx,h=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z-this.vely,a=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x-this.velz,n=t*s[0]+h*s[1]+a*s[2],e=t*s[3]+h*s[4]+a*s[5],l=t*s[6]+h*s[7]+a*s[8];this.impx+=n,this.impy+=e,this.impz+=l,this.l1.x+=n*this.m1,this.l1.y+=e*this.m1,this.l1.z+=l*this.m1,this.a1.x+=n*this.ax1x+e*this.ay1x+l*this.az1x,this.a1.y+=n*this.ax1y+e*this.ay1y+l*this.az1y,this.a1.z+=n*this.ax1z+e*this.ay1z+l*this.az1z,this.l2.x-=n*this.m2,this.l2.y-=e*this.m2,this.l2.z-=l*this.m2,this.a2.x-=n*this.ax2x+e*this.ay2x+l*this.az2x,this.a2.y-=n*this.ax2y+e*this.ay2y+l*this.az2y,this.a2.z-=n*this.ax2z+e*this.ay2z+l*this.az2z}}),Object.assign(ds.prototype,{Rotational3Constraint:!0,preSolve:function(s,t){this.ax1=this.limitMotor1.axis.x,this.ay1=this.limitMotor1.axis.y,this.az1=this.limitMotor1.axis.z,this.ax2=this.limitMotor2.axis.x,this.ay2=this.limitMotor2.axis.y,this.az2=this.limitMotor2.axis.z,this.ax3=this.limitMotor3.axis.x,this.ay3=this.limitMotor3.axis.y,this.az3=this.limitMotor3.axis.z,this.lowerLimit1=this.limitMotor1.lowerLimit,this.upperLimit1=this.limitMotor1.upperLimit,this.motorSpeed1=this.limitMotor1.motorSpeed,this.maxMotorForce1=this.limitMotor1.maxMotorForce,this.enableMotor1=this.maxMotorForce1>0,this.lowerLimit2=this.limitMotor2.lowerLimit,this.upperLimit2=this.limitMotor2.upperLimit,this.motorSpeed2=this.limitMotor2.motorSpeed,this.maxMotorForce2=this.limitMotor2.maxMotorForce,this.enableMotor2=this.maxMotorForce2>0,this.lowerLimit3=this.limitMotor3.lowerLimit,this.upperLimit3=this.limitMotor3.upperLimit,this.motorSpeed3=this.limitMotor3.motorSpeed,this.maxMotorForce3=this.limitMotor3.maxMotorForce,this.enableMotor3=this.maxMotorForce3>0;var h=this.i1.elements,a=this.i2.elements;this.i1e00=h[0],this.i1e01=h[1],this.i1e02=h[2],this.i1e10=h[3],this.i1e11=h[4],this.i1e12=h[5],this.i1e20=h[6],this.i1e21=h[7],this.i1e22=h[8],this.i2e00=a[0],this.i2e01=a[1],this.i2e02=a[2],this.i2e10=a[3],this.i2e11=a[4],this.i2e12=a[5],this.i2e20=a[6],this.i2e21=a[7],this.i2e22=a[8];var n=this.limitMotor1.frequency,e=this.limitMotor2.frequency,l=this.limitMotor3.frequency,o=n>0,r=e>0,p=l>0,E=this.lowerLimit1<=this.upperLimit1,F=this.lowerLimit2<=this.upperLimit2,C=this.lowerLimit3<=this.upperLimit3,k=this.limitMotor1.angle;E?(this.lowerLimit1==this.upperLimit1?(this.limitState1!=0&&(this.limitState1=0,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-k):k<this.lowerLimit1?(this.limitState1!=-1&&(this.limitState1=-1,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-k):k>this.upperLimit1?(this.limitState1!=1&&(this.limitState1=1,this.limitImpulse1=0),this.limitVelocity1=this.upperLimit1-k):(this.limitState1=2,this.limitImpulse1=0,this.limitVelocity1=0),o||(this.limitVelocity1>.02?this.limitVelocity1-=.02:this.limitVelocity1<-.02?this.limitVelocity1+=.02:this.limitVelocity1=0)):(this.limitState1=2,this.limitImpulse1=0);var A=this.limitMotor2.angle;F?(this.lowerLimit2==this.upperLimit2?(this.limitState2!=0&&(this.limitState2=0,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-A):A<this.lowerLimit2?(this.limitState2!=-1&&(this.limitState2=-1,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-A):A>this.upperLimit2?(this.limitState2!=1&&(this.limitState2=1,this.limitImpulse2=0),this.limitVelocity2=this.upperLimit2-A):(this.limitState2=2,this.limitImpulse2=0,this.limitVelocity2=0),r||(this.limitVelocity2>.02?this.limitVelocity2-=.02:this.limitVelocity2<-.02?this.limitVelocity2+=.02:this.limitVelocity2=0)):(this.limitState2=2,this.limitImpulse2=0);var D=this.limitMotor3.angle;if(C?(this.lowerLimit3==this.upperLimit3?(this.limitState3!=0&&(this.limitState3=0,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-D):D<this.lowerLimit3?(this.limitState3!=-1&&(this.limitState3=-1,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-D):D>this.upperLimit3?(this.limitState3!=1&&(this.limitState3=1,this.limitImpulse3=0),this.limitVelocity3=this.upperLimit3-D):(this.limitState3=2,this.limitImpulse3=0,this.limitVelocity3=0),p||(this.limitVelocity3>.02?this.limitVelocity3-=.02:this.limitVelocity3<-.02?this.limitVelocity3+=.02:this.limitVelocity3=0)):(this.limitState3=2,this.limitImpulse3=0),this.enableMotor1&&(this.limitState1!=0||o)?this.maxMotorImpulse1=this.maxMotorForce1*s:(this.motorImpulse1=0,this.maxMotorImpulse1=0),this.enableMotor2&&(this.limitState2!=0||r)?this.maxMotorImpulse2=this.maxMotorForce2*s:(this.motorImpulse2=0,this.maxMotorImpulse2=0),this.enableMotor3&&(this.limitState3!=0||p)?this.maxMotorImpulse3=this.maxMotorForce3*s:(this.motorImpulse3=0,this.maxMotorImpulse3=0),this.a1x1=this.ax1*this.i1e00+this.ay1*this.i1e01+this.az1*this.i1e02,this.a1y1=this.ax1*this.i1e10+this.ay1*this.i1e11+this.az1*this.i1e12,this.a1z1=this.ax1*this.i1e20+this.ay1*this.i1e21+this.az1*this.i1e22,this.a2x1=this.ax1*this.i2e00+this.ay1*this.i2e01+this.az1*this.i2e02,this.a2y1=this.ax1*this.i2e10+this.ay1*this.i2e11+this.az1*this.i2e12,this.a2z1=this.ax1*this.i2e20+this.ay1*this.i2e21+this.az1*this.i2e22,this.a1x2=this.ax2*this.i1e00+this.ay2*this.i1e01+this.az2*this.i1e02,this.a1y2=this.ax2*this.i1e10+this.ay2*this.i1e11+this.az2*this.i1e12,this.a1z2=this.ax2*this.i1e20+this.ay2*this.i1e21+this.az2*this.i1e22,this.a2x2=this.ax2*this.i2e00+this.ay2*this.i2e01+this.az2*this.i2e02,this.a2y2=this.ax2*this.i2e10+this.ay2*this.i2e11+this.az2*this.i2e12,this.a2z2=this.ax2*this.i2e20+this.ay2*this.i2e21+this.az2*this.i2e22,this.a1x3=this.ax3*this.i1e00+this.ay3*this.i1e01+this.az3*this.i1e02,this.a1y3=this.ax3*this.i1e10+this.ay3*this.i1e11+this.az3*this.i1e12,this.a1z3=this.ax3*this.i1e20+this.ay3*this.i1e21+this.az3*this.i1e22,this.a2x3=this.ax3*this.i2e00+this.ay3*this.i2e01+this.az3*this.i2e02,this.a2y3=this.ax3*this.i2e10+this.ay3*this.i2e11+this.az3*this.i2e12,this.a2z3=this.ax3*this.i2e20+this.ay3*this.i2e21+this.az3*this.i2e22,this.k00=this.ax1*(this.a1x1+this.a2x1)+this.ay1*(this.a1y1+this.a2y1)+this.az1*(this.a1z1+this.a2z1),this.k01=this.ax1*(this.a1x2+this.a2x2)+this.ay1*(this.a1y2+this.a2y2)+this.az1*(this.a1z2+this.a2z2),this.k02=this.ax1*(this.a1x3+this.a2x3)+this.ay1*(this.a1y3+this.a2y3)+this.az1*(this.a1z3+this.a2z3),this.k10=this.ax2*(this.a1x1+this.a2x1)+this.ay2*(this.a1y1+this.a2y1)+this.az2*(this.a1z1+this.a2z1),this.k11=this.ax2*(this.a1x2+this.a2x2)+this.ay2*(this.a1y2+this.a2y2)+this.az2*(this.a1z2+this.a2z2),this.k12=this.ax2*(this.a1x3+this.a2x3)+this.ay2*(this.a1y3+this.a2y3)+this.az2*(this.a1z3+this.a2z3),this.k20=this.ax3*(this.a1x1+this.a2x1)+this.ay3*(this.a1y1+this.a2y1)+this.az3*(this.a1z1+this.a2z1),this.k21=this.ax3*(this.a1x2+this.a2x2)+this.ay3*(this.a1y2+this.a2y2)+this.az3*(this.a1z2+this.a2z2),this.k22=this.ax3*(this.a1x3+this.a2x3)+this.ay3*(this.a1y3+this.a2y3)+this.az3*(this.a1z3+this.a2z3),this.kv00=this.k00,this.kv11=this.k11,this.kv22=this.k22,this.dv00=1/this.kv00,this.dv11=1/this.kv11,this.dv22=1/this.kv22,o&&this.limitState1!=2){var x=6.2831853*n,S=x*x*s,y=t/(S+2*this.limitMotor1.dampingRatio*x);this.cfm1=this.kv00*y,this.limitVelocity1*=S*y}else this.cfm1=0,this.limitVelocity1*=.05*t;r&&this.limitState2!=2?(y=t/((S=(x=6.2831853*e)*x*s)+2*this.limitMotor2.dampingRatio*x),this.cfm2=this.kv11*y,this.limitVelocity2*=S*y):(this.cfm2=0,this.limitVelocity2*=.05*t),p&&this.limitState3!=2?(y=t/((S=(x=6.2831853*l)*x*s)+2*this.limitMotor3.dampingRatio*x),this.cfm3=this.kv22*y,this.limitVelocity3*=S*y):(this.cfm3=0,this.limitVelocity3*=.05*t),this.k00+=this.cfm1,this.k11+=this.cfm2,this.k22+=this.cfm3;var I=1/(this.k00*(this.k11*this.k22-this.k21*this.k12)+this.k10*(this.k21*this.k02-this.k01*this.k22)+this.k20*(this.k01*this.k12-this.k11*this.k02));this.d00=(this.k11*this.k22-this.k12*this.k21)*I,this.d01=(this.k02*this.k21-this.k01*this.k22)*I,this.d02=(this.k01*this.k12-this.k02*this.k11)*I,this.d10=(this.k12*this.k20-this.k10*this.k22)*I,this.d11=(this.k00*this.k22-this.k02*this.k20)*I,this.d12=(this.k02*this.k10-this.k00*this.k12)*I,this.d20=(this.k10*this.k21-this.k11*this.k20)*I,this.d21=(this.k01*this.k20-this.k00*this.k21)*I,this.d22=(this.k00*this.k11-this.k01*this.k10)*I,this.limitImpulse1*=.95,this.motorImpulse1*=.95,this.limitImpulse2*=.95,this.motorImpulse2*=.95,this.limitImpulse3*=.95,this.motorImpulse3*=.95;var M=this.limitImpulse1+this.motorImpulse1,O=this.limitImpulse2+this.motorImpulse2,R=this.limitImpulse3+this.motorImpulse3;this.a1.x+=M*this.a1x1+O*this.a1x2+R*this.a1x3,this.a1.y+=M*this.a1y1+O*this.a1y2+R*this.a1y3,this.a1.z+=M*this.a1z1+O*this.a1z2+R*this.a1z3,this.a2.x-=M*this.a2x1+O*this.a2x2+R*this.a2x3,this.a2.y-=M*this.a2y1+O*this.a2y2+R*this.a2y3,this.a2.z-=M*this.a2z1+O*this.a2z2+R*this.a2z3},solve_:function(){var s=this.a2.x-this.a1.x,t=this.a2.y-this.a1.y,h=this.a2.z-this.a1.z;this.limitVelocity3=30;var a=s*this.ax1+t*this.ay1+h*this.az1-this.limitVelocity1,n=s*this.ax2+t*this.ay2+h*this.az2-this.limitVelocity2,e=s*this.ax3+t*this.ay3+h*this.az3-this.limitVelocity3,l=a*this.d00+n*this.d01+e*this.d02,o=a*this.d10+n*this.d11+e*this.d12,r=a*this.d20+n*this.d21+e*this.d22;this.limitImpulse1+=l,this.limitImpulse2+=o,this.limitImpulse3+=r,this.a1.x+=l*this.a1x1+o*this.a1x2+r*this.a1x3,this.a1.y+=l*this.a1y1+o*this.a1y2+r*this.a1y3,this.a1.z+=l*this.a1z1+o*this.a1z2+r*this.a1z3,this.a2.x-=l*this.a2x1+o*this.a2x2+r*this.a2x3,this.a2.y-=l*this.a2y1+o*this.a2y2+r*this.a2y3,this.a2.z-=l*this.a2z1+o*this.a2z2+r*this.a2z3},solve:function(){var s=this.a2.x-this.a1.x,t=this.a2.y-this.a1.y,h=this.a2.z-this.a1.z,a=s*this.ax1+t*this.ay1+h*this.az1,n=s*this.ax2+t*this.ay2+h*this.az2,e=s*this.ax3+t*this.ay3+h*this.az3,l=this.motorImpulse1,o=this.motorImpulse2,r=this.motorImpulse3,p=0,E=0,F=0;this.enableMotor1&&(p=(a-this.motorSpeed1)*this.dv00,this.motorImpulse1+=p,this.motorImpulse1>this.maxMotorImpulse1?this.motorImpulse1=this.maxMotorImpulse1:this.motorImpulse1<-this.maxMotorImpulse1&&(this.motorImpulse1=-this.maxMotorImpulse1),p=this.motorImpulse1-l),this.enableMotor2&&(E=(n-this.motorSpeed2)*this.dv11,this.motorImpulse2+=E,this.motorImpulse2>this.maxMotorImpulse2?this.motorImpulse2=this.maxMotorImpulse2:this.motorImpulse2<-this.maxMotorImpulse2&&(this.motorImpulse2=-this.maxMotorImpulse2),E=this.motorImpulse2-o),this.enableMotor3&&(F=(e-this.motorSpeed3)*this.dv22,this.motorImpulse3+=F,this.motorImpulse3>this.maxMotorImpulse3?this.motorImpulse3=this.maxMotorImpulse3:this.motorImpulse3<-this.maxMotorImpulse3&&(this.motorImpulse3=-this.maxMotorImpulse3),F=this.motorImpulse3-r),a+=p*this.kv00+E*this.k01+F*this.k02,n+=p*this.k10+E*this.kv11+F*this.k12,e+=p*this.k20+E*this.k21+F*this.kv22,a-=this.limitVelocity1+this.limitImpulse1*this.cfm1,n-=this.limitVelocity2+this.limitImpulse2*this.cfm2,e-=this.limitVelocity3+this.limitImpulse3*this.cfm3;var C=this.limitImpulse1,k=this.limitImpulse2,A=this.limitImpulse3,D=a*this.d00+n*this.d01+e*this.d02,x=a*this.d10+n*this.d11+e*this.d12,S=a*this.d20+n*this.d21+e*this.d22;this.limitImpulse1+=D,this.limitImpulse2+=x,this.limitImpulse3+=S;var y,I=0;switch((this.limitState1==2||this.limitImpulse1*this.limitState1<0)&&(n+=(D=-C)*this.k10,e+=D*this.k20,I|=1),(this.limitState2==2||this.limitImpulse2*this.limitState2<0)&&(a+=(x=-k)*this.k01,e+=x*this.k21,I|=2),(this.limitState3==2||this.limitImpulse3*this.limitState3<0)&&(a+=(S=-A)*this.k02,n+=S*this.k12,I|=4),I){case 1:y=1/(this.k11*this.k22-this.k12*this.k21),x=(this.k22*n+-this.k12*e)*y,S=(-this.k21*n+this.k11*e)*y;break;case 2:y=1/(this.k00*this.k22-this.k02*this.k20),D=(this.k22*a+-this.k02*e)*y,S=(-this.k20*a+this.k00*e)*y;break;case 3:S=e/this.k22;break;case 4:y=1/(this.k00*this.k11-this.k01*this.k10),D=(this.k11*a+-this.k01*n)*y,x=(-this.k10*a+this.k00*n)*y;break;case 5:x=n/this.k11;break;case 6:D=a/this.k00}this.limitImpulse1=D+C,this.limitImpulse2=x+k,this.limitImpulse3=S+A;var M=p+D,O=E+x,R=F+S;this.a1.x+=M*this.a1x1+O*this.a1x2+R*this.a1x3,this.a1.y+=M*this.a1y1+O*this.a1y2+R*this.a1y3,this.a1.z+=M*this.a1z1+O*this.a1z2+R*this.a1z3,this.a2.x-=M*this.a2x1+O*this.a2x2+R*this.a2x3,this.a2.y-=M*this.a2y1+O*this.a2y2+R*this.a2y3,this.a2.z-=M*this.a2z1+O*this.a2z2+R*this.a2z3,s=this.a2.x-this.a1.x,t=this.a2.y-this.a1.y,h=this.a2.z-this.a1.z,n=s*this.ax2+t*this.ay2+h*this.az2}}),ys.prototype=Object.assign(Object.create(c3.prototype),{constructor:ys,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan);var h=f.acosClamp(f.dotVectors(this.an1,this.an2));this.tmp.crossVectors(this.an1,this.an2),f.dotVectors(this.nor,this.tmp)<0?this.limitMotor.angle=-h:this.limitMotor.angle=h,this.tmp.crossVectors(this.ax1,this.ax2),this.r3.limitMotor2.angle=f.dotVectors(this.tan,this.tmp),this.r3.limitMotor3.angle=f.dotVectors(this.bin,this.tmp),this.r3.preSolve(s,t),this.lc.preSolve(s,t)},solve:function(){this.r3.solve(),this.lc.solve()},postSolve:function(){}}),Ds.prototype=Object.assign(Object.create(c3.prototype),{constructor:Ds,preSolve:function(s,t){this.updateAnchorPoints(),this.lc.preSolve(s,t)},solve:function(){this.lc.solve()},postSolve:function(){}}),Object.assign(tt.prototype,{TranslationalConstraint:!0,preSolve:function(s,t){this.ax=this.limitMotor.axis.x,this.ay=this.limitMotor.axis.y,this.az=this.limitMotor.axis.z,this.lowerLimit=this.limitMotor.lowerLimit,this.upperLimit=this.limitMotor.upperLimit,this.motorSpeed=this.limitMotor.motorSpeed,this.maxMotorForce=this.limitMotor.maxMotorForce,this.enableMotor=this.maxMotorForce>0,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass;var h=this.i1.elements,a=this.i2.elements;this.i1e00=h[0],this.i1e01=h[1],this.i1e02=h[2],this.i1e10=h[3],this.i1e11=h[4],this.i1e12=h[5],this.i1e20=h[6],this.i1e21=h[7],this.i1e22=h[8],this.i2e00=a[0],this.i2e01=a[1],this.i2e02=a[2],this.i2e10=a[3],this.i2e11=a[4],this.i2e12=a[5],this.i2e20=a[6],this.i2e21=a[7],this.i2e22=a[8];var n=this.p2.x-this.p1.x,e=this.p2.y-this.p1.y,l=this.p2.z-this.p1.z,o=n*this.ax+e*this.ay+l*this.az,r=this.limitMotor.frequency,p=r>0;(p&&o>20||o<-20)&&(p=!1),this.lowerLimit<=this.upperLimit?(this.lowerLimit==this.upperLimit?(this.limitState!=0&&(this.limitState=0,this.limitImpulse=0),this.limitVelocity=this.lowerLimit-o,p||(o=this.lowerLimit)):o<this.lowerLimit?(this.limitState!=-1&&(this.limitState=-1,this.limitImpulse=0),this.limitVelocity=this.lowerLimit-o,p||(o=this.lowerLimit)):o>this.upperLimit?(this.limitState!=1&&(this.limitState=1,this.limitImpulse=0),this.limitVelocity=this.upperLimit-o,p||(o=this.upperLimit)):(this.limitState=2,this.limitImpulse=0,this.limitVelocity=0),p||(this.limitVelocity>.005?this.limitVelocity-=.005:this.limitVelocity<-.005?this.limitVelocity+=.005:this.limitVelocity=0)):(this.limitState=2,this.limitImpulse=0),this.enableMotor&&(this.limitState!=0||p)?this.maxMotorImpulse=this.maxMotorForce*s:(this.motorImpulse=0,this.maxMotorImpulse=0);var E=o*this.ax,F=o*this.ay,C=o*this.az,k=this.m1/(this.m1+this.m2),A=1-k;if(this.r1x=this.r1.x+E*k,this.r1y=this.r1.y+F*k,this.r1z=this.r1.z+C*k,this.r2x=this.r2.x-E*A,this.r2y=this.r2.y-F*A,this.r2z=this.r2.z-C*A,this.t1x=this.r1y*this.az-this.r1z*this.ay,this.t1y=this.r1z*this.ax-this.r1x*this.az,this.t1z=this.r1x*this.ay-this.r1y*this.ax,this.t2x=this.r2y*this.az-this.r2z*this.ay,this.t2y=this.r2z*this.ax-this.r2x*this.az,this.t2z=this.r2x*this.ay-this.r2y*this.ax,this.l1x=this.ax*this.m1,this.l1y=this.ay*this.m1,this.l1z=this.az*this.m1,this.l2x=this.ax*this.m2,this.l2y=this.ay*this.m2,this.l2z=this.az*this.m2,this.a1x=this.t1x*this.i1e00+this.t1y*this.i1e01+this.t1z*this.i1e02,this.a1y=this.t1x*this.i1e10+this.t1y*this.i1e11+this.t1z*this.i1e12,this.a1z=this.t1x*this.i1e20+this.t1y*this.i1e21+this.t1z*this.i1e22,this.a2x=this.t2x*this.i2e00+this.t2y*this.i2e01+this.t2z*this.i2e02,this.a2y=this.t2x*this.i2e10+this.t2y*this.i2e11+this.t2z*this.i2e12,this.a2z=this.t2x*this.i2e20+this.t2y*this.i2e21+this.t2z*this.i2e22,this.motorDenom=this.m1+this.m2+this.ax*(this.a1y*this.r1z-this.a1z*this.r1y+this.a2y*this.r2z-this.a2z*this.r2y)+this.ay*(this.a1z*this.r1x-this.a1x*this.r1z+this.a2z*this.r2x-this.a2x*this.r2z)+this.az*(this.a1x*this.r1y-this.a1y*this.r1x+this.a2x*this.r2y-this.a2y*this.r2x),this.invMotorDenom=1/this.motorDenom,p&&this.limitState!=2){var D=6.2831853*r,x=D*D*s,S=t/(x+2*this.limitMotor.dampingRatio*D);this.cfm=this.motorDenom*S,this.limitVelocity*=x*S}else this.cfm=0,this.limitVelocity*=.05*t;this.invDenom=1/(this.motorDenom+this.cfm);var y=this.limitImpulse+this.motorImpulse;this.l1.x+=y*this.l1x,this.l1.y+=y*this.l1y,this.l1.z+=y*this.l1z,this.a1.x+=y*this.a1x,this.a1.y+=y*this.a1y,this.a1.z+=y*this.a1z,this.l2.x-=y*this.l2x,this.l2.y-=y*this.l2y,this.l2.z-=y*this.l2z,this.a2.x-=y*this.a2x,this.a2.y-=y*this.a2y,this.a2.z-=y*this.a2z},solve:function(){var s,t,h=this.ax*(this.l2.x-this.l1.x)+this.ay*(this.l2.y-this.l1.y)+this.az*(this.l2.z-this.l1.z)+this.t2x*this.a2.x-this.t1x*this.a1.x+this.t2y*this.a2.y-this.t1y*this.a1.y+this.t2z*this.a2.z-this.t1z*this.a1.z;if(this.enableMotor){s=(h-this.motorSpeed)*this.invMotorDenom;var a=this.motorImpulse;this.motorImpulse+=s,this.motorImpulse>this.maxMotorImpulse?this.motorImpulse=this.maxMotorImpulse:this.motorImpulse<-this.maxMotorImpulse&&(this.motorImpulse=-this.maxMotorImpulse),h-=(s=this.motorImpulse-a)*this.motorDenom}else s=0;if(this.limitState!=2){t=(h-this.limitVelocity-this.limitImpulse*this.cfm)*this.invDenom;var n=this.limitImpulse;this.limitImpulse+=t,this.limitImpulse*this.limitState<0&&(this.limitImpulse=0),t=this.limitImpulse-n}else t=0;var e=t+s;this.l1.x+=e*this.l1x,this.l1.y+=e*this.l1y,this.l1.z+=e*this.l1z,this.a1.x+=e*this.a1x,this.a1.y+=e*this.a1y,this.a1.z+=e*this.a1z,this.l2.x-=e*this.l2x,this.l2.y-=e*this.l2y,this.l2.z-=e*this.l2z,this.a2.x-=e*this.a2x,this.a2.y-=e*this.a2y,this.a2.z-=e*this.a2z}}),ms.prototype=Object.assign(Object.create(c3.prototype),{constructor:ms,preSolve:function(s,t){this.updateAnchorPoints(),this.nor.sub(this.anchorPoint2,this.anchorPoint1).normalize(),this.t.preSolve(s,t)},solve:function(){this.t.solve()},postSolve:function(){}}),Object.assign(ht.prototype,{AngularConstraint:!0,preSolve:function(s,t){var h,a,n;this.ii1=this.i1.clone(),this.ii2=this.i2.clone(),h=1/((n=new j2().add(this.ii1,this.ii2).elements)[0]*(n[4]*n[8]-n[7]*n[5])+n[3]*(n[7]*n[2]-n[1]*n[8])+n[6]*(n[1]*n[5]-n[4]*n[2])),this.dd=new j2().set(n[4]*n[8]-n[5]*n[7],n[2]*n[7]-n[1]*n[8],n[1]*n[5]-n[2]*n[4],n[5]*n[6]-n[3]*n[8],n[0]*n[8]-n[2]*n[6],n[2]*n[3]-n[0]*n[5],n[3]*n[7]-n[4]*n[6],n[1]*n[6]-n[0]*n[7],n[0]*n[4]-n[1]*n[3]).multiplyScalar(h),this.relativeOrientation.invert(this.b1.orientation).multiply(this.targetOrientation).multiply(this.b2.orientation),h=2*this.relativeOrientation.w,this.vel.copy(this.relativeOrientation).multiplyScalar(h),(a=this.vel.length())>.02?(a=(.02-a)/a*t*.05,this.vel.multiplyScalar(a)):this.vel.set(0,0,0),this.rn1.copy(this.imp).applyMatrix3(this.ii1,!0),this.rn2.copy(this.imp).applyMatrix3(this.ii2,!0),this.a1.add(this.rn1),this.a2.sub(this.rn2)},solve:function(){var s=this.a2.clone().sub(this.a1).sub(this.vel);this.rn0.copy(s).applyMatrix3(this.dd,!0),this.rn1.copy(this.rn0).applyMatrix3(this.ii1,!0),this.rn2.copy(this.rn0).applyMatrix3(this.ii2,!0),this.imp.add(this.rn0),this.a1.add(this.rn1),this.a2.sub(this.rn2)}}),Object.assign(Bs.prototype,{Translational3Constraint:!0,preSolve:function(s,t){this.ax1=this.limitMotor1.axis.x,this.ay1=this.limitMotor1.axis.y,this.az1=this.limitMotor1.axis.z,this.ax2=this.limitMotor2.axis.x,this.ay2=this.limitMotor2.axis.y,this.az2=this.limitMotor2.axis.z,this.ax3=this.limitMotor3.axis.x,this.ay3=this.limitMotor3.axis.y,this.az3=this.limitMotor3.axis.z,this.lowerLimit1=this.limitMotor1.lowerLimit,this.upperLimit1=this.limitMotor1.upperLimit,this.motorSpeed1=this.limitMotor1.motorSpeed,this.maxMotorForce1=this.limitMotor1.maxMotorForce,this.enableMotor1=this.maxMotorForce1>0,this.lowerLimit2=this.limitMotor2.lowerLimit,this.upperLimit2=this.limitMotor2.upperLimit,this.motorSpeed2=this.limitMotor2.motorSpeed,this.maxMotorForce2=this.limitMotor2.maxMotorForce,this.enableMotor2=this.maxMotorForce2>0,this.lowerLimit3=this.limitMotor3.lowerLimit,this.upperLimit3=this.limitMotor3.upperLimit,this.motorSpeed3=this.limitMotor3.motorSpeed,this.maxMotorForce3=this.limitMotor3.maxMotorForce,this.enableMotor3=this.maxMotorForce3>0,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass;var h=this.i1.elements,a=this.i2.elements;this.i1e00=h[0],this.i1e01=h[1],this.i1e02=h[2],this.i1e10=h[3],this.i1e11=h[4],this.i1e12=h[5],this.i1e20=h[6],this.i1e21=h[7],this.i1e22=h[8],this.i2e00=a[0],this.i2e01=a[1],this.i2e02=a[2],this.i2e10=a[3],this.i2e11=a[4],this.i2e12=a[5],this.i2e20=a[6],this.i2e21=a[7],this.i2e22=a[8];var n=this.p2.x-this.p1.x,e=this.p2.y-this.p1.y,l=this.p2.z-this.p1.z,o=n*this.ax1+e*this.ay1+l*this.az1,r=n*this.ax2+e*this.ay2+l*this.az2,p=n*this.ax3+e*this.ay3+l*this.az3,E=this.limitMotor1.frequency,F=this.limitMotor2.frequency,C=this.limitMotor3.frequency,k=E>0,A=F>0,D=C>0,x=this.lowerLimit1<=this.upperLimit1,S=this.lowerLimit2<=this.upperLimit2,y=this.lowerLimit3<=this.upperLimit3;(k&&o>20||o<-20)&&(k=!1),(A&&r>20||r<-20)&&(A=!1),(D&&p>20||p<-20)&&(D=!1),x?(this.lowerLimit1==this.upperLimit1?(this.limitState1!=0&&(this.limitState1=0,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-o,k||(o=this.lowerLimit1)):o<this.lowerLimit1?(this.limitState1!=-1&&(this.limitState1=-1,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-o,k||(o=this.lowerLimit1)):o>this.upperLimit1?(this.limitState1!=1&&(this.limitState1=1,this.limitImpulse1=0),this.limitVelocity1=this.upperLimit1-o,k||(o=this.upperLimit1)):(this.limitState1=2,this.limitImpulse1=0,this.limitVelocity1=0),k||(this.limitVelocity1>.005?this.limitVelocity1-=.005:this.limitVelocity1<-.005?this.limitVelocity1+=.005:this.limitVelocity1=0)):(this.limitState1=2,this.limitImpulse1=0),S?(this.lowerLimit2==this.upperLimit2?(this.limitState2!=0&&(this.limitState2=0,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-r,A||(r=this.lowerLimit2)):r<this.lowerLimit2?(this.limitState2!=-1&&(this.limitState2=-1,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-r,A||(r=this.lowerLimit2)):r>this.upperLimit2?(this.limitState2!=1&&(this.limitState2=1,this.limitImpulse2=0),this.limitVelocity2=this.upperLimit2-r,A||(r=this.upperLimit2)):(this.limitState2=2,this.limitImpulse2=0,this.limitVelocity2=0),A||(this.limitVelocity2>.005?this.limitVelocity2-=.005:this.limitVelocity2<-.005?this.limitVelocity2+=.005:this.limitVelocity2=0)):(this.limitState2=2,this.limitImpulse2=0),y?(this.lowerLimit3==this.upperLimit3?(this.limitState3!=0&&(this.limitState3=0,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-p,D||(p=this.lowerLimit3)):p<this.lowerLimit3?(this.limitState3!=-1&&(this.limitState3=-1,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-p,D||(p=this.lowerLimit3)):p>this.upperLimit3?(this.limitState3!=1&&(this.limitState3=1,this.limitImpulse3=0),this.limitVelocity3=this.upperLimit3-p,D||(p=this.upperLimit3)):(this.limitState3=2,this.limitImpulse3=0,this.limitVelocity3=0),D||(this.limitVelocity3>.005?this.limitVelocity3-=.005:this.limitVelocity3<-.005?this.limitVelocity3+=.005:this.limitVelocity3=0)):(this.limitState3=2,this.limitImpulse3=0),this.enableMotor1&&(this.limitState1!=0||k)?this.maxMotorImpulse1=this.maxMotorForce1*s:(this.motorImpulse1=0,this.maxMotorImpulse1=0),this.enableMotor2&&(this.limitState2!=0||A)?this.maxMotorImpulse2=this.maxMotorForce2*s:(this.motorImpulse2=0,this.maxMotorImpulse2=0),this.enableMotor3&&(this.limitState3!=0||D)?this.maxMotorImpulse3=this.maxMotorForce3*s:(this.motorImpulse3=0,this.maxMotorImpulse3=0);var I=o*this.ax1+r*this.ax2+p*this.ax2,M=o*this.ay1+r*this.ay2+p*this.ay2,O=o*this.az1+r*this.az2+p*this.az2,R=this.m2/(this.m1+this.m2);this.weight>=0&&(R=this.weight);var P=1-R;this.r1x=this.r1.x+I*R,this.r1y=this.r1.y+M*R,this.r1z=this.r1.z+O*R,this.r2x=this.r2.x-I*P,this.r2y=this.r2.y-M*P,this.r2z=this.r2.z-O*P,this.t1x1=this.r1y*this.az1-this.r1z*this.ay1,this.t1y1=this.r1z*this.ax1-this.r1x*this.az1,this.t1z1=this.r1x*this.ay1-this.r1y*this.ax1,this.t2x1=this.r2y*this.az1-this.r2z*this.ay1,this.t2y1=this.r2z*this.ax1-this.r2x*this.az1,this.t2z1=this.r2x*this.ay1-this.r2y*this.ax1,this.l1x1=this.ax1*this.m1,this.l1y1=this.ay1*this.m1,this.l1z1=this.az1*this.m1,this.l2x1=this.ax1*this.m2,this.l2y1=this.ay1*this.m2,this.l2z1=this.az1*this.m2,this.a1x1=this.t1x1*this.i1e00+this.t1y1*this.i1e01+this.t1z1*this.i1e02,this.a1y1=this.t1x1*this.i1e10+this.t1y1*this.i1e11+this.t1z1*this.i1e12,this.a1z1=this.t1x1*this.i1e20+this.t1y1*this.i1e21+this.t1z1*this.i1e22,this.a2x1=this.t2x1*this.i2e00+this.t2y1*this.i2e01+this.t2z1*this.i2e02,this.a2y1=this.t2x1*this.i2e10+this.t2y1*this.i2e11+this.t2z1*this.i2e12,this.a2z1=this.t2x1*this.i2e20+this.t2y1*this.i2e21+this.t2z1*this.i2e22,this.t1x2=this.r1y*this.az2-this.r1z*this.ay2,this.t1y2=this.r1z*this.ax2-this.r1x*this.az2,this.t1z2=this.r1x*this.ay2-this.r1y*this.ax2,this.t2x2=this.r2y*this.az2-this.r2z*this.ay2,this.t2y2=this.r2z*this.ax2-this.r2x*this.az2,this.t2z2=this.r2x*this.ay2-this.r2y*this.ax2,this.l1x2=this.ax2*this.m1,this.l1y2=this.ay2*this.m1,this.l1z2=this.az2*this.m1,this.l2x2=this.ax2*this.m2,this.l2y2=this.ay2*this.m2,this.l2z2=this.az2*this.m2,this.a1x2=this.t1x2*this.i1e00+this.t1y2*this.i1e01+this.t1z2*this.i1e02,this.a1y2=this.t1x2*this.i1e10+this.t1y2*this.i1e11+this.t1z2*this.i1e12,this.a1z2=this.t1x2*this.i1e20+this.t1y2*this.i1e21+this.t1z2*this.i1e22,this.a2x2=this.t2x2*this.i2e00+this.t2y2*this.i2e01+this.t2z2*this.i2e02,this.a2y2=this.t2x2*this.i2e10+this.t2y2*this.i2e11+this.t2z2*this.i2e12,this.a2z2=this.t2x2*this.i2e20+this.t2y2*this.i2e21+this.t2z2*this.i2e22,this.t1x3=this.r1y*this.az3-this.r1z*this.ay3,this.t1y3=this.r1z*this.ax3-this.r1x*this.az3,this.t1z3=this.r1x*this.ay3-this.r1y*this.ax3,this.t2x3=this.r2y*this.az3-this.r2z*this.ay3,this.t2y3=this.r2z*this.ax3-this.r2x*this.az3,this.t2z3=this.r2x*this.ay3-this.r2y*this.ax3,this.l1x3=this.ax3*this.m1,this.l1y3=this.ay3*this.m1,this.l1z3=this.az3*this.m1,this.l2x3=this.ax3*this.m2,this.l2y3=this.ay3*this.m2,this.l2z3=this.az3*this.m2,this.a1x3=this.t1x3*this.i1e00+this.t1y3*this.i1e01+this.t1z3*this.i1e02,this.a1y3=this.t1x3*this.i1e10+this.t1y3*this.i1e11+this.t1z3*this.i1e12,this.a1z3=this.t1x3*this.i1e20+this.t1y3*this.i1e21+this.t1z3*this.i1e22,this.a2x3=this.t2x3*this.i2e00+this.t2y3*this.i2e01+this.t2z3*this.i2e02,this.a2y3=this.t2x3*this.i2e10+this.t2y3*this.i2e11+this.t2z3*this.i2e12,this.a2z3=this.t2x3*this.i2e20+this.t2y3*this.i2e21+this.t2z3*this.i2e22;var $=this.m1+this.m2;if(this.k00=(this.ax1*this.ax1+this.ay1*this.ay1+this.az1*this.az1)*$,this.k01=(this.ax1*this.ax2+this.ay1*this.ay2+this.az1*this.az2)*$,this.k02=(this.ax1*this.ax3+this.ay1*this.ay3+this.az1*this.az3)*$,this.k10=(this.ax2*this.ax1+this.ay2*this.ay1+this.az2*this.az1)*$,this.k11=(this.ax2*this.ax2+this.ay2*this.ay2+this.az2*this.az2)*$,this.k12=(this.ax2*this.ax3+this.ay2*this.ay3+this.az2*this.az3)*$,this.k20=(this.ax3*this.ax1+this.ay3*this.ay1+this.az3*this.az1)*$,this.k21=(this.ax3*this.ax2+this.ay3*this.ay2+this.az3*this.az2)*$,this.k22=(this.ax3*this.ax3+this.ay3*this.ay3+this.az3*this.az3)*$,this.k00+=this.t1x1*this.a1x1+this.t1y1*this.a1y1+this.t1z1*this.a1z1,this.k01+=this.t1x1*this.a1x2+this.t1y1*this.a1y2+this.t1z1*this.a1z2,this.k02+=this.t1x1*this.a1x3+this.t1y1*this.a1y3+this.t1z1*this.a1z3,this.k10+=this.t1x2*this.a1x1+this.t1y2*this.a1y1+this.t1z2*this.a1z1,this.k11+=this.t1x2*this.a1x2+this.t1y2*this.a1y2+this.t1z2*this.a1z2,this.k12+=this.t1x2*this.a1x3+this.t1y2*this.a1y3+this.t1z2*this.a1z3,this.k20+=this.t1x3*this.a1x1+this.t1y3*this.a1y1+this.t1z3*this.a1z1,this.k21+=this.t1x3*this.a1x2+this.t1y3*this.a1y2+this.t1z3*this.a1z2,this.k22+=this.t1x3*this.a1x3+this.t1y3*this.a1y3+this.t1z3*this.a1z3,this.k00+=this.t2x1*this.a2x1+this.t2y1*this.a2y1+this.t2z1*this.a2z1,this.k01+=this.t2x1*this.a2x2+this.t2y1*this.a2y2+this.t2z1*this.a2z2,this.k02+=this.t2x1*this.a2x3+this.t2y1*this.a2y3+this.t2z1*this.a2z3,this.k10+=this.t2x2*this.a2x1+this.t2y2*this.a2y1+this.t2z2*this.a2z1,this.k11+=this.t2x2*this.a2x2+this.t2y2*this.a2y2+this.t2z2*this.a2z2,this.k12+=this.t2x2*this.a2x3+this.t2y2*this.a2y3+this.t2z2*this.a2z3,this.k20+=this.t2x3*this.a2x1+this.t2y3*this.a2y1+this.t2z3*this.a2z1,this.k21+=this.t2x3*this.a2x2+this.t2y3*this.a2y2+this.t2z3*this.a2z2,this.k22+=this.t2x3*this.a2x3+this.t2y3*this.a2y3+this.t2z3*this.a2z3,this.kv00=this.k00,this.kv11=this.k11,this.kv22=this.k22,this.dv00=1/this.kv00,this.dv11=1/this.kv11,this.dv22=1/this.kv22,k&&this.limitState1!=2){var z=6.2831853*E,V=z*z*s,_=t/(V+2*this.limitMotor1.dampingRatio*z);this.cfm1=this.kv00*_,this.limitVelocity1*=V*_}else this.cfm1=0,this.limitVelocity1*=.05*t;A&&this.limitState2!=2?(_=t/((V=(z=6.2831853*F)*z*s)+2*this.limitMotor2.dampingRatio*z),this.cfm2=this.kv11*_,this.limitVelocity2*=V*_):(this.cfm2=0,this.limitVelocity2*=.05*t),D&&this.limitState3!=2?(_=t/((V=(z=6.2831853*C)*z*s)+2*this.limitMotor3.dampingRatio*z),this.cfm3=this.kv22*_,this.limitVelocity3*=V*_):(this.cfm3=0,this.limitVelocity3*=.05*t),this.k00+=this.cfm1,this.k11+=this.cfm2,this.k22+=this.cfm3;var N=1/(this.k00*(this.k11*this.k22-this.k21*this.k12)+this.k10*(this.k21*this.k02-this.k01*this.k22)+this.k20*(this.k01*this.k12-this.k11*this.k02));this.d00=(this.k11*this.k22-this.k12*this.k21)*N,this.d01=(this.k02*this.k21-this.k01*this.k22)*N,this.d02=(this.k01*this.k12-this.k02*this.k11)*N,this.d10=(this.k12*this.k20-this.k10*this.k22)*N,this.d11=(this.k00*this.k22-this.k02*this.k20)*N,this.d12=(this.k02*this.k10-this.k00*this.k12)*N,this.d20=(this.k10*this.k21-this.k11*this.k20)*N,this.d21=(this.k01*this.k20-this.k00*this.k21)*N,this.d22=(this.k00*this.k11-this.k01*this.k10)*N;var T=this.limitImpulse1+this.motorImpulse1,U=this.limitImpulse2+this.motorImpulse2,r2=this.limitImpulse3+this.motorImpulse3;this.l1.x+=T*this.l1x1+U*this.l1x2+r2*this.l1x3,this.l1.y+=T*this.l1y1+U*this.l1y2+r2*this.l1y3,this.l1.z+=T*this.l1z1+U*this.l1z2+r2*this.l1z3,this.a1.x+=T*this.a1x1+U*this.a1x2+r2*this.a1x3,this.a1.y+=T*this.a1y1+U*this.a1y2+r2*this.a1y3,this.a1.z+=T*this.a1z1+U*this.a1z2+r2*this.a1z3,this.l2.x-=T*this.l2x1+U*this.l2x2+r2*this.l2x3,this.l2.y-=T*this.l2y1+U*this.l2y2+r2*this.l2y3,this.l2.z-=T*this.l2z1+U*this.l2z2+r2*this.l2z3,this.a2.x-=T*this.a2x1+U*this.a2x2+r2*this.a2x3,this.a2.y-=T*this.a2y1+U*this.a2y2+r2*this.a2y3,this.a2.z-=T*this.a2z1+U*this.a2z2+r2*this.a2z3},solve:function(){var s=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y,t=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z,h=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x,a=s*this.ax1+t*this.ay1+h*this.az1,n=s*this.ax2+t*this.ay2+h*this.az2,e=s*this.ax3+t*this.ay3+h*this.az3,l=this.motorImpulse1,o=this.motorImpulse2,r=this.motorImpulse3,p=0,E=0,F=0;this.enableMotor1&&(p=(a-this.motorSpeed1)*this.dv00,this.motorImpulse1+=p,this.motorImpulse1>this.maxMotorImpulse1?this.motorImpulse1=this.maxMotorImpulse1:this.motorImpulse1<-this.maxMotorImpulse1&&(this.motorImpulse1=-this.maxMotorImpulse1),p=this.motorImpulse1-l),this.enableMotor2&&(E=(n-this.motorSpeed2)*this.dv11,this.motorImpulse2+=E,this.motorImpulse2>this.maxMotorImpulse2?this.motorImpulse2=this.maxMotorImpulse2:this.motorImpulse2<-this.maxMotorImpulse2&&(this.motorImpulse2=-this.maxMotorImpulse2),E=this.motorImpulse2-o),this.enableMotor3&&(F=(e-this.motorSpeed3)*this.dv22,this.motorImpulse3+=F,this.motorImpulse3>this.maxMotorImpulse3?this.motorImpulse3=this.maxMotorImpulse3:this.motorImpulse3<-this.maxMotorImpulse3&&(this.motorImpulse3=-this.maxMotorImpulse3),F=this.motorImpulse3-r),a+=p*this.kv00+E*this.k01+F*this.k02,n+=p*this.k10+E*this.kv11+F*this.k12,e+=p*this.k20+E*this.k21+F*this.kv22,a-=this.limitVelocity1+this.limitImpulse1*this.cfm1,n-=this.limitVelocity2+this.limitImpulse2*this.cfm2,e-=this.limitVelocity3+this.limitImpulse3*this.cfm3;var C=this.limitImpulse1,k=this.limitImpulse2,A=this.limitImpulse3,D=a*this.d00+n*this.d01+e*this.d02,x=a*this.d10+n*this.d11+e*this.d12,S=a*this.d20+n*this.d21+e*this.d22;this.limitImpulse1+=D,this.limitImpulse2+=x,this.limitImpulse3+=S;var y,I=0;switch((this.limitState1==2||this.limitImpulse1*this.limitState1<0)&&(n+=(D=-C)*this.k10,e+=D*this.k20,I|=1),(this.limitState2==2||this.limitImpulse2*this.limitState2<0)&&(a+=(x=-k)*this.k01,e+=x*this.k21,I|=2),(this.limitState3==2||this.limitImpulse3*this.limitState3<0)&&(a+=(S=-A)*this.k02,n+=S*this.k12,I|=4),I){case 1:y=1/(this.k11*this.k22-this.k12*this.k21),x=(this.k22*n+-this.k12*e)*y,S=(-this.k21*n+this.k11*e)*y;break;case 2:y=1/(this.k00*this.k22-this.k02*this.k20),D=(this.k22*a+-this.k02*e)*y,S=(-this.k20*a+this.k00*e)*y;break;case 3:S=e/this.k22;break;case 4:y=1/(this.k00*this.k11-this.k01*this.k10),D=(this.k11*a+-this.k01*n)*y,x=(-this.k10*a+this.k00*n)*y;break;case 5:x=n/this.k11;break;case 6:D=a/this.k00}this.limitImpulse1=C+D,this.limitImpulse2=k+x,this.limitImpulse3=A+S;var M=p+D,O=E+x,R=F+S;this.l1.x+=M*this.l1x1+O*this.l1x2+R*this.l1x3,this.l1.y+=M*this.l1y1+O*this.l1y2+R*this.l1y3,this.l1.z+=M*this.l1z1+O*this.l1z2+R*this.l1z3,this.a1.x+=M*this.a1x1+O*this.a1x2+R*this.a1x3,this.a1.y+=M*this.a1y1+O*this.a1y2+R*this.a1y3,this.a1.z+=M*this.a1z1+O*this.a1z2+R*this.a1z3,this.l2.x-=M*this.l2x1+O*this.l2x2+R*this.l2x3,this.l2.y-=M*this.l2y1+O*this.l2y2+R*this.l2y3,this.l2.z-=M*this.l2z1+O*this.l2z2+R*this.l2z3,this.a2.x-=M*this.a2x1+O*this.a2x2+R*this.a2x3,this.a2.y-=M*this.a2y1+O*this.a2y2+R*this.a2y3,this.a2.z-=M*this.a2z1+O*this.a2z2+R*this.a2z3}}),us.prototype=Object.assign(Object.create(c3.prototype),{constructor:us,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan),this.ac.preSolve(s,t),this.t3.preSolve(s,t)},solve:function(){this.ac.solve(),this.t3.solve()},postSolve:function(){}}),gs.prototype=Object.assign(Object.create(c3.prototype),{constructor:gs,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan),this.tmp.crossVectors(this.an1,this.an2);var h=f.acosClamp(f.dotVectors(this.an1,this.an2));f.dotVectors(this.nor,this.tmp)<0?this.rotationalLimitMotor.angle=-h:this.rotationalLimitMotor.angle=h,this.tmp.crossVectors(this.ax1,this.ax2),this.r3.limitMotor2.angle=f.dotVectors(this.tan,this.tmp),this.r3.limitMotor3.angle=f.dotVectors(this.bin,this.tmp),this.r3.preSolve(s,t),this.t3.preSolve(s,t)},solve:function(){this.r3.solve(),this.t3.solve()},postSolve:function(){}}),xs.prototype=Object.assign(Object.create(c3.prototype),{constructor:xs,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.r3.limitMotor1.angle=f.dotVectors(this.ax1,this.ax2);var h=f.dotVectors(this.an1,this.ax2);f.dotVectors(this.ax1,this.tmp.crossVectors(this.an1,this.ax2))<0?this.rotationalLimitMotor1.angle=-h:this.rotationalLimitMotor1.angle=h,h=f.dotVectors(this.an2,this.ax1),f.dotVectors(this.ax2,this.tmp.crossVectors(this.an2,this.ax1))<0?this.rotationalLimitMotor2.angle=-h:this.rotationalLimitMotor2.angle=h,this.nor.crossVectors(this.ax1,this.ax2).normalize(),this.tan.crossVectors(this.nor,this.ax2).normalize(),this.bin.crossVectors(this.nor,this.ax1).normalize(),this.r3.preSolve(s,t),this.t3.preSolve(s,t)},solve:function(){this.r3.solve(),this.t3.solve()},postSolve:function(){}}),js.prototype={constructor:js,reset:function(s,t){this.body1=s.parent,this.body2=t.parent,this.numPoints=0},addPointVec:function(s,t,h,a){var n=this.points[this.numPoints++];n.position.copy(s),n.localPoint1.sub(s,this.body1.position).applyMatrix3(this.body1.rotation),n.localPoint2.sub(s,this.body2.position).applyMatrix3(this.body2.rotation),n.normal.copy(t),a&&n.normal.negate(),n.normalImpulse=0,n.penetration=h,n.warmStarted=!1},addPoint:function(s,t,h,a,n,e,l,o){var r=this.points[this.numPoints++];r.position.set(s,t,h),r.localPoint1.sub(r.position,this.body1.position).applyMatrix3(this.body1.rotation),r.localPoint2.sub(r.position,this.body2.position).applyMatrix3(this.body2.rotation),r.normalImpulse=0,r.normal.set(a,n,e),o&&r.normal.negate(),r.penetration=l,r.warmStarted=!1}},Os.prototype=Object.assign(Object.create(os.prototype),{constructor:Os,attach:function(){this.p1=this.body1.position,this.p2=this.body2.position,this.lv1=this.body1.linearVelocity,this.av1=this.body1.angularVelocity,this.lv2=this.body2.linearVelocity,this.av2=this.body2.angularVelocity,this.i1=this.body1.inverseInertia,this.i2=this.body2.inverseInertia},detach:function(){this.p1=null,this.p2=null,this.lv1=null,this.lv2=null,this.av1=null,this.av2=null,this.i1=null,this.i2=null},preSolve:function(s,t){this.m1=this.body1.inverseMass,this.m2=this.body2.inverseMass;var h=this.m1+this.m2;this.num=this.manifold.numPoints;for(var a,n,e,l,o,r,p,E=this.cs,F=0;F<this.num;F++)a=this.ps[F],this.tmpP1.sub(a.position,this.p1),this.tmpP2.sub(a.position,this.p2),this.tmpC1.crossVectors(this.av1,this.tmpP1),this.tmpC2.crossVectors(this.av2,this.tmpP2),E.norImp=a.normalImpulse,E.tanImp=a.tangentImpulse,E.binImp=a.binormalImpulse,E.nor.copy(a.normal),this.tmp.set(this.lv2.x+this.tmpC2.x-(this.lv1.x+this.tmpC1.x),this.lv2.y+this.tmpC2.y-(this.lv1.y+this.tmpC1.y),this.lv2.z+this.tmpC2.z-(this.lv1.z+this.tmpC1.z)),n=f.dotVectors(E.nor,this.tmp),E.tan.set(this.tmp.x-n*E.nor.x,this.tmp.y-n*E.nor.y,this.tmp.z-n*E.nor.z),f.dotVectors(E.tan,E.tan)<=.04&&E.tan.tangent(E.nor),E.tan.normalize(),E.bin.crossVectors(E.nor,E.tan),E.norU1.scale(E.nor,this.m1),E.norU2.scale(E.nor,this.m2),E.tanU1.scale(E.tan,this.m1),E.tanU2.scale(E.tan,this.m2),E.binU1.scale(E.bin,this.m1),E.binU2.scale(E.bin,this.m2),E.norT1.crossVectors(this.tmpP1,E.nor),E.tanT1.crossVectors(this.tmpP1,E.tan),E.binT1.crossVectors(this.tmpP1,E.bin),E.norT2.crossVectors(this.tmpP2,E.nor),E.tanT2.crossVectors(this.tmpP2,E.tan),E.binT2.crossVectors(this.tmpP2,E.bin),r=this.i1,p=this.i2,E.norTU1.copy(E.norT1).applyMatrix3(r,!0),E.tanTU1.copy(E.tanT1).applyMatrix3(r,!0),E.binTU1.copy(E.binT1).applyMatrix3(r,!0),E.norTU2.copy(E.norT2).applyMatrix3(p,!0),E.tanTU2.copy(E.tanT2).applyMatrix3(p,!0),E.binTU2.copy(E.binT2).applyMatrix3(p,!0),this.tmpC1.crossVectors(E.norTU1,this.tmpP1),this.tmpC2.crossVectors(E.norTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),E.norDen=1/(h+f.dotVectors(E.nor,this.tmp)),this.tmpC1.crossVectors(E.tanTU1,this.tmpP1),this.tmpC2.crossVectors(E.tanTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),E.tanDen=1/(h+f.dotVectors(E.tan,this.tmp)),this.tmpC1.crossVectors(E.binTU1,this.tmpP1),this.tmpC2.crossVectors(E.binTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),E.binDen=1/(h+f.dotVectors(E.bin,this.tmp)),a.warmStarted?(e=a.normalImpulse,this.lv1.addScaledVector(E.norU1,e),this.av1.addScaledVector(E.norTU1,e),this.lv2.subScaledVector(E.norU2,e),this.av2.subScaledVector(E.norTU2,e),E.norImp=e,E.tanImp=0,E.binImp=0,n=0):(E.norImp=0,E.tanImp=0,E.binImp=0),n>-1&&(n=0),(l=this.restitution*-n)<(o=-(a.penetration+.005)*t*.05)&&(l=o),E.norTar=l,E.last=F==this.num-1,E=E.next},solve:function(){var s,t,h,a,n,e,l,o,r;this.tmplv1.copy(this.lv1),this.tmplv2.copy(this.lv2),this.tmpav1.copy(this.av1),this.tmpav2.copy(this.av2);for(var p=this.cs;n=p.norImp,e=p.tanImp,l=p.binImp,o=-n*this.friction,this.tmp.sub(this.tmplv2,this.tmplv1),s=e,h=l,(r=(e+=t=(f.dotVectors(this.tmp,p.tan)+f.dotVectors(this.tmpav2,p.tanT2)-f.dotVectors(this.tmpav1,p.tanT1))*p.tanDen)*e+(l+=a=(f.dotVectors(this.tmp,p.bin)+f.dotVectors(this.tmpav2,p.binT2)-f.dotVectors(this.tmpav1,p.binT1))*p.binDen)*l)>o*o&&(e*=r=o/f.sqrt(r),l*=r),t=e-s,a=l-h,this.tmp.set(p.tanU1.x*t+p.binU1.x*a,p.tanU1.y*t+p.binU1.y*a,p.tanU1.z*t+p.binU1.z*a),this.tmplv1.addEqual(this.tmp),this.tmp.set(p.tanTU1.x*t+p.binTU1.x*a,p.tanTU1.y*t+p.binTU1.y*a,p.tanTU1.z*t+p.binTU1.z*a),this.tmpav1.addEqual(this.tmp),this.tmp.set(p.tanU2.x*t+p.binU2.x*a,p.tanU2.y*t+p.binU2.y*a,p.tanU2.z*t+p.binU2.z*a),this.tmplv2.subEqual(this.tmp),this.tmp.set(p.tanTU2.x*t+p.binTU2.x*a,p.tanTU2.y*t+p.binTU2.y*a,p.tanTU2.z*t+p.binTU2.z*a),this.tmpav2.subEqual(this.tmp),this.tmp.sub(this.tmplv2,this.tmplv1),s=n,(n+=t=(f.dotVectors(this.tmp,p.nor)+f.dotVectors(this.tmpav2,p.norT2)-f.dotVectors(this.tmpav1,p.norT1)-p.norTar)*p.norDen)>0&&(n=0),t=n-s,this.tmplv1.addScaledVector(p.norU1,t),this.tmpav1.addScaledVector(p.norTU1,t),this.tmplv2.subScaledVector(p.norU2,t),this.tmpav2.subScaledVector(p.norTU2,t),p.norImp=n,p.tanImp=e,p.binImp=l,!p.last;)p=p.next;this.lv1.copy(this.tmplv1),this.lv2.copy(this.tmplv2),this.av1.copy(this.tmpav1),this.av2.copy(this.tmpav2)},postSolve:function(){for(var s,t=this.cs,h=this.num;h--;)(s=this.ps[h]).normal.copy(t.nor),s.tangent.copy(t.tan),s.binormal.copy(t.bin),s.normalImpulse=t.norImp,s.tangentImpulse=t.tanImp,s.binormalImpulse=t.binImp,s.normalDenominator=t.norDen,s.tangentDenominator=t.tanDen,s.binormalDenominator=t.binDen,t=t.next}}),Object.assign(nt.prototype,{Contact:!0,mixRestitution:function(s,t){return f.sqrt(s*t)},mixFriction:function(s,t){return f.sqrt(s*t)},updateManifold:function(){this.constraint.restitution=this.mixRestitution(this.shape1.restitution,this.shape2.restitution),this.constraint.friction=this.mixFriction(this.shape1.friction,this.shape2.friction);for(var s=this.manifold.numPoints,t=s;t--;){var h=this.buffer[t],a=this.points[t];h.lp1X=a.localPoint1.x,h.lp1Y=a.localPoint1.y,h.lp1Z=a.localPoint1.z,h.lp2X=a.localPoint2.x,h.lp2Y=a.localPoint2.y,h.lp2Z=a.localPoint2.z,h.impulse=a.normalImpulse}this.manifold.numPoints=0,this.detector.detectCollision(this.shape1,this.shape2,this.manifold);var n=this.manifold.numPoints;if(n==0)return this.touching=!1,this.close=!1,void(this.dist=f.INF);for((this.touching||this.dist<.001)&&(this.close=!0),this.touching=!0,t=n;t--;){for(var e=(a=this.points[t]).localPoint1.x,l=a.localPoint1.y,o=a.localPoint1.z,r=a.localPoint2.x,p=a.localPoint2.y,E=a.localPoint2.z,F=-1,C=4e-4,k=s;k--;){var A=(h=this.buffer[k]).lp1X-e,D=h.lp1Y-l,x=h.lp1Z-o,S=A*A+D*D+x*x,y=(A=h.lp2X-r)*A+(D=h.lp2Y-p)*D+(x=h.lp2Z-E)*x;S<y?S<C&&(C=S,F=k):y<C&&(C=y,F=k),C<this.dist&&(this.dist=C)}if(F!=-1){var I=this.buffer[F];this.buffer[F]=this.buffer[--s],this.buffer[s]=I,a.normalImpulse=I.impulse,a.warmStarted=!0}else a.normalImpulse=0,a.warmStarted=!1}},attach:function(s,t){this.shape1=s,this.shape2=t,this.body1=s.parent,this.body2=t.parent,this.manifold.body1=this.body1,this.manifold.body2=this.body2,this.constraint.body1=this.body1,this.constraint.body2=this.body2,this.constraint.attach(),this.s1Link.shape=t,this.s1Link.body=this.body2,this.s2Link.shape=s,this.s2Link.body=this.body1,s.contactLink!=null?(this.s1Link.next=s.contactLink).prev=this.s1Link:this.s1Link.next=null,s.contactLink=this.s1Link,s.numContacts++,t.contactLink!=null?(this.s2Link.next=t.contactLink).prev=this.s2Link:this.s2Link.next=null,t.contactLink=this.s2Link,t.numContacts++,this.b1Link.shape=t,this.b1Link.body=this.body2,this.b2Link.shape=s,this.b2Link.body=this.body1,this.body1.contactLink!=null?(this.b1Link.next=this.body1.contactLink).prev=this.b1Link:this.b1Link.next=null,this.body1.contactLink=this.b1Link,this.body1.numContacts++,this.body2.contactLink!=null?(this.b2Link.next=this.body2.contactLink).prev=this.b2Link:this.b2Link.next=null,this.body2.contactLink=this.b2Link,this.body2.numContacts++,this.prev=null,this.next=null,this.persisting=!0,this.sleeping=this.body1.sleeping&&this.body2.sleeping,this.manifold.numPoints=0},detach:function(){var s=this.s1Link.prev,t=this.s1Link.next;s!==null&&(s.next=t),t!==null&&(t.prev=s),this.shape1.contactLink==this.s1Link&&(this.shape1.contactLink=t),this.s1Link.prev=null,this.s1Link.next=null,this.s1Link.shape=null,this.s1Link.body=null,this.shape1.numContacts--,s=this.s2Link.prev,t=this.s2Link.next,s!==null&&(s.next=t),t!==null&&(t.prev=s),this.shape2.contactLink==this.s2Link&&(this.shape2.contactLink=t),this.s2Link.prev=null,this.s2Link.next=null,this.s2Link.shape=null,this.s2Link.body=null,this.shape2.numContacts--,s=this.b1Link.prev,t=this.b1Link.next,s!==null&&(s.next=t),t!==null&&(t.prev=s),this.body1.contactLink==this.b1Link&&(this.body1.contactLink=t),this.b1Link.prev=null,this.b1Link.next=null,this.b1Link.shape=null,this.b1Link.body=null,this.body1.numContacts--,s=this.b2Link.prev,t=this.b2Link.next,s!==null&&(s.next=t),t!==null&&(t.prev=s),this.body2.contactLink==this.b2Link&&(this.body2.contactLink=t),this.b2Link.prev=null,this.b2Link.next=null,this.b2Link.shape=null,this.b2Link.body=null,this.body2.numContacts--,this.manifold.body1=null,this.manifold.body2=null,this.constraint.body1=null,this.constraint.body2=null,this.constraint.detach(),this.shape1=null,this.shape2=null,this.body1=null,this.body2=null}}),Object.assign(G3.prototype,{setParent:function(s){this.parent=s,this.scale=this.parent.scale,this.invScale=this.parent.invScale,this.id=this.parent.numRigidBodies,this.name||(this.name=this.id),this.updateMesh()},addShape:function(s){s.parent&&qi("RigidBody","It is not possible that you add a shape which already has an associated body."),this.shapes!=null&&((this.shapes.prev=s).next=this.shapes),this.shapes=s,s.parent=this,this.parent&&this.parent.addShape(s),this.numShapes++},removeShape:function(s){var t=s;if(t.parent==this){var h=t.prev,a=t.next;h!=null&&(h.next=a),a!=null&&(a.prev=h),this.shapes==t&&(this.shapes=a),t.prev=null,t.next=null,t.parent=null,this.parent&&this.parent.removeShape(t),this.numShapes--}},remove:function(){this.dispose()},dispose:function(){this.parent.removeRigidBody(this)},checkContact:function(s){this.parent.checkContact(this.name,s)},setupMass:function(s,t){var h=t===void 0||t;this.type=s||2,this.isDynamic=this.type===1,this.isStatic=this.type===2,this.mass=0,this.localInertia.set(0,0,0,0,0,0,0,0,0);for(var a=new j2,n=new m,e=this.shapes;e!==null;e=e.next){e.calculateMassInfo(this.massInfo);var l=this.massInfo.mass;n.addScaledVector(e.relativePosition,l),this.mass+=l,this.rotateInertia(e.relativeRotation,this.massInfo.inertia,a),this.localInertia.add(a),this.localInertia.addOffset(l,e.relativePosition)}if(this.inverseMass=1/this.mass,n.scaleEqual(this.inverseMass),h){for(this.position.add(n),e=this.shapes;e!==null;e=e.next)e.relativePosition.subEqual(n);this.localInertia.subOffset(this.mass,n)}this.inverseLocalInertia.invert(this.localInertia),this.type===2&&(this.inverseMass=0,this.inverseLocalInertia.set(0,0,0,0,0,0,0,0,0)),this.syncShapes(),this.awake()},awake:function(){if(this.allowSleep&&this.sleeping){this.sleeping=!1,this.sleepTime=0;for(var s=this.contactLink;s!=null;)s.body.sleepTime=0,s.body.sleeping=!1,s=s.next;for(var t=this.jointLink;t!=null;)t.body.sleepTime=0,t.body.sleeping=!1,t=t.next;for(var h=this.shapes;h!=null;h=h.next)h.updateProxy()}},sleep:function(){if(this.allowSleep&&!this.sleeping){this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.sleepPosition.copy(this.position),this.sleepOrientation.copy(this.orientation),this.sleepTime=0,this.sleeping=!0;for(var s=this.shapes;s!=null;s=s.next)s.updateProxy()}},testWakeUp:function(){(this.linearVelocity.testZero()||this.angularVelocity.testZero()||this.position.testDiff(this.sleepPosition)||this.orientation.testDiff(this.sleepOrientation))&&this.awake()},isLonely:function(){return this.numJoints==0&&this.numContacts==0},updatePosition:function(s){switch(this.type){case 2:this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.controlPos&&(this.position.copy(this.newPosition),this.controlPos=!1),this.controlRot&&(this.orientation.copy(this.newOrientation),this.controlRot=!1);break;case 1:this.isKinematic&&(this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0)),this.controlPos&&(this.linearVelocity.subVectors(this.newPosition,this.position).multiplyScalar(1/s),this.controlPos=!1),this.controlRot&&(this.angularVelocity.copy(this.getAxis()),this.orientation.copy(this.newOrientation),this.controlRot=!1),this.position.addScaledVector(this.linearVelocity,s),this.orientation.addTime(this.angularVelocity,s),this.updateMesh();break;default:qi("RigidBody","Invalid type.")}this.syncShapes(),this.updateMesh()},getAxis:function(){return new m(0,1,0).applyMatrix3(this.inverseLocalInertia,!0).normalize()},rotateInertia:function(s,t,h){this.tmpInertia.multiplyMatrices(s,t),h.multiplyMatrices(this.tmpInertia,s,!0)},syncShapes:function(){this.rotation.setQuat(this.orientation),this.rotateInertia(this.rotation,this.inverseLocalInertia,this.inverseInertia);for(var s=this.shapes;s!=null;s=s.next)s.position.copy(s.relativePosition).applyMatrix3(this.rotation,!0).add(this.position),s.rotation.multiplyMatrices(this.rotation,s.relativeRotation),s.updateProxy()},applyImpulse:function(s,t){this.linearVelocity.addScaledVector(t,this.inverseMass);var h=new m().copy(s).sub(this.position).cross(t).applyMatrix3(this.inverseInertia,!0);this.angularVelocity.add(h)},setPosition:function(s){this.newPosition.copy(s).multiplyScalar(this.invScale),this.controlPos=!0,this.isKinematic||(this.isKinematic=!0)},setQuaternion:function(s){this.newOrientation.set(s.x,s.y,s.z,s.w),this.controlRot=!0,this.isKinematic||(this.isKinematic=!0)},setRotation:function(s){this.newOrientation=new ri().setFromEuler(s.x*f.degtorad,s.y*f.degtorad,s.z*f.degtorad),this.controlRot=!0},resetPosition:function(s,t,h){this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.position.set(s,t,h).multiplyScalar(this.invScale),this.awake()},resetQuaternion:function(s){this.angularVelocity.set(0,0,0),this.orientation=new ri(s.x,s.y,s.z,s.w),this.awake()},resetRotation:function(s,t,h){this.angularVelocity.set(0,0,0),this.orientation=new ri().setFromEuler(s*f.degtorad,t*f.degtorad,h*f.degtorad),this.awake()},getPosition:function(){return this.pos},getQuaternion:function(){return this.quaternion},connectMesh:function(s){this.mesh=s,this.updateMesh()},updateMesh:function(){this.pos.scale(this.position,this.scale),this.quaternion.copy(this.orientation),this.mesh!==null&&(this.mesh.position.copy(this.getPosition()),this.mesh.quaternion.copy(this.getQuaternion()))}}),Object.assign($3.prototype,{BroadPhase:!0,createProxy:function(s){qi("BroadPhase","Inheritance error.")},addProxy:function(s){qi("BroadPhase","Inheritance error.")},removeProxy:function(s){qi("BroadPhase","Inheritance error.")},isAvailablePair:function(s,t){var h,a=s.parent,n=t.parent;if(a==n||!a.isDynamic&&!n.isDynamic||!(s.belongsTo&t.collidesWith)||!(t.belongsTo&s.collidesWith))return!1;for(h=a.numJoints<n.numJoints?a.jointLink:n.jointLink;h!==null;){var e=h.joint;if(!e.allowCollision&&(e.body1==a&&e.body2==n||e.body1==n&&e.body2==a))return!1;h=h.next}return!0},detectPairs:function(){this.pairs=[],this.numPairs=0,this.numPairChecks=0,this.collectPairs()},collectPairs:function(){},addPair:function(s,t){var h=new Nt(s,t);this.pairs.push(h),this.numPairs++}});var Mt=0;function Q3(s){this.shape=s,this.aabb=s.aabb}function Rs(s){Q3.call(this,s),this.id=Mt++}function _s(){$3.call(this),this.types=es,this.proxies=[]}function is(){this.numElements=0,this.bufferSize=256,this.elements=[],this.elements.length=this.bufferSize,this.stack=new Float32Array(64)}function ns(s,t){this.proxy=s,this.pair=null,this.min1=null,this.max1=null,this.min2=null,this.max2=null,this.max=t,this.value=0}function Us(s,t){Q3.call(this,t),this.belongsTo=0,this.max=[],this.min=[],this.sap=s,this.min[0]=new ns(this,!1),this.max[0]=new ns(this,!0),this.min[1]=new ns(this,!1),this.max[1]=new ns(this,!0),this.min[2]=new ns(this,!1),this.max[2]=new ns(this,!0),this.max[0].pair=this.min[0],this.max[1].pair=this.min[1],this.max[2].pair=this.min[2],this.min[0].min1=this.min[1],this.min[0].max1=this.max[1],this.min[0].min2=this.min[2],this.min[0].max2=this.max[2],this.min[1].min1=this.min[0],this.min[1].max1=this.max[0],this.min[1].min2=this.min[2],this.min[1].max2=this.max[2],this.min[2].min1=this.min[0],this.min[2].max1=this.max[0],this.min[2].min2=this.min[1],this.min[2].max2=this.max[1]}function qs(){$3.call(this),this.types=O3,this.numElementsD=0,this.numElementsS=0,this.axesD=[new is,new is,new is],this.axesS=[new is,new is,new is],this.index1=0,this.index2=1}function et(){this.child1=null,this.child2=null,this.parent=null,this.proxy=null,this.height=0,this.aabb=new A3}function lt(){this.root=null,this.freeNodes=[],this.freeNodes.length=16384,this.numFreeNodes=0,this.aabb=new A3}function Js(s){Q3.call(this,s),this.leaf=new et,this.leaf.proxy=this}function Ws(){$3.call(this),this.types=ss,this.tree=new lt,this.stack=[],this.leaves=[],this.numLeaves=0}function Wi(){this.flip=!1}function Hs(){Wi.call(this),this.clipVertices1=new Float32Array(24),this.clipVertices2=new Float32Array(24),this.used=new Float32Array(8),this.INF=1/0}function ws(s){Wi.call(this),this.flip=s}function Ys(){Wi.call(this)}function Ns(s){Wi.call(this),this.flip=s}function Ms(s){Wi.call(this),this.flip=s}function Zs(){Wi.call(this)}function Is(s){Wi.call(this),this.flip=s,this.n=new m,this.p=new m}function Ss(s){Wi.call(this),this.flip=s,this.n=new m,this.p=new m,this.dix=new m,this.diy=new m,this.diz=new m,this.cc=new m,this.cc2=new m}function Et(s){switch(s instanceof Object||(s={}),this.scale=s.worldscale||1,this.invScale=1/this.scale,this.timeStep=s.timestep||.01666,this.timerate=1e3*this.timeStep,this.timer=null,this.preLoop=null,this.postLoop=null,this.numIterations=s.iterations||8,s.broadphase||2){case 1:this.broadPhase=new _s;break;case 2:default:this.broadPhase=new qs;break;case 3:this.broadPhase=new Ws}this.Btypes=["None","BruteForce","Sweep & Prune","Bounding Volume Tree"],this.broadPhaseType=this.Btypes[s.broadphase||2],this.performance=null,this.isStat=s.info!==void 0&&s.info,this.isStat&&(this.performance=new ps(this)),this.enableRandomizer=s.random===void 0||s.random,this.rigidBodies=null,this.numRigidBodies=0,this.contacts=null,this.unusedContacts=null,this.numContacts=0,this.numContactPoints=0,this.joints=null,this.numJoints=0,this.numIslands=0,this.gravity=new m(0,-9.8,0),s.gravity!==void 0&&this.gravity.fromArray(s.gravity),this.detectors=[],this.detectors.length=5;for(var t=5;t--;)this.detectors[t]=[],this.detectors[t].length=5;this.detectors[a3][a3]=new Zs,this.detectors[a3][C3]=new Ns(!1),this.detectors[C3][a3]=new Ns(!0),this.detectors[C3][C3]=new Hs,this.detectors[g3][g3]=new Ys,this.detectors[g3][C3]=new ws(!0),this.detectors[C3][g3]=new ws(!1),this.detectors[g3][a3]=new Ms(!0),this.detectors[a3][g3]=new Ms(!1),this.detectors[x3][a3]=new Is(!0),this.detectors[a3][x3]=new Is(!1),this.detectors[x3][C3]=new Ss(!0),this.detectors[C3][x3]=new Ss(!1),this.randX=65535,this.randA=98765,this.randB=123456789,this.islandRigidBodies=[],this.islandStack=[],this.islandConstraints=[]}Object.assign(Q3.prototype,{Proxy:!0,update:function(){qi("Proxy","Inheritance error.")}}),Rs.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Rs,update:function(){}}),_s.prototype=Object.assign(Object.create($3.prototype),{constructor:_s,createProxy:function(s){return new Rs(s)},addProxy:function(s){this.proxies.push(s)},removeProxy:function(s){var t=this.proxies.indexOf(s);t>-1&&this.proxies.splice(t,1)},collectPairs:function(){var s,t,h,a=0,n=this.proxies,e=n.length;for(this.numPairChecks=e*(e-1)>>1;a<e;)for(t=n[a++],s=a+1;s<e;)h=n[s++],!t.aabb.intersectTest(h.aabb)&&this.isAvailablePair(t.shape,h.shape)&&this.addPair(t.shape,h.shape)}}),Object.assign(is.prototype,{SAPAxis:!0,addElements:function(s,t){if(this.numElements+2>=this.bufferSize){this.bufferSize*=2;for(var h=[],a=this.numElements;a--;)h[a]=this.elements[a]}this.elements[this.numElements++]=s,this.elements[this.numElements++]=t},removeElements:function(s,t){for(var h=-1,a=-1,n=0,e=this.numElements;n<e;n++){var l=this.elements[n];if(l==s||l==t){if(h!=-1){a=n;break}h=n}}for(n=h+1,e=a;n<e;n++)this.elements[n-1]=this.elements[n];for(n=a+1,e=this.numElements;n<e;n++)this.elements[n-2]=this.elements[n];this.elements[--this.numElements]=null,this.elements[--this.numElements]=null},sort:function(){for(var s=0,t=1;this.numElements>>t;)t++;t=t*this.numElements>>2,s=0;for(var h=!1,a=this.elements,n=1,e=this.numElements;n<e;n++){var l=a[n],o=l.value,r=a[n-1];if(r.value>o){var p=n;do{if(a[p]=r,--p==0)break;r=a[p-1]}while(r.value>o);if(a[p]=l,(s+=n-p)>t){h=!0;break}}}if(h){s=2;var E=this.stack;for(E[0]=0,E[1]=this.numElements-1;s>0;){var F=E[--s],C=E[--s],k=F-C;if(k>16){var A=C+f.floor(.5*k);for(l=a[A],a[A]=a[F],a[F]=l,o=l.value,n=C-1,p=F;;){var D,x;do D=a[++n];while(D.value<o);do x=a[--p];while(o<x.value&&p!=C);if(n>=p)break;a[n]=x,a[p]=D}a[F]=a[n],a[n]=l,n-C>F-n?(E[s++]=C,E[s++]=n-1,E[s++]=n+1,E[s++]=F):(E[s++]=n+1,E[s++]=F,E[s++]=C,E[s++]=n-1)}else for(n=C+1;n<=F;n++)if(o=(l=a[n]).value,(r=a[n-1]).value>o){p=n;do{if(a[p]=r,--p==0)break;r=a[p-1]}while(r.value>o);a[p]=l}}}},calculateTestCount:function(){for(var s=1,t=0,h=1,a=this.numElements;h<a;h++)this.elements[h].max?s--:(t+=s,s++);return t}}),Us.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Us,isDynamic:function(){var s=this.shape.parent;return s.isDynamic&&!s.sleeping},update:function(){var s=this.aabb.elements;this.min[0].value=s[0],this.min[1].value=s[1],this.min[2].value=s[2],this.max[0].value=s[3],this.max[1].value=s[4],this.max[2].value=s[5],(this.belongsTo==1&&!this.isDynamic()||this.belongsTo==2&&this.isDynamic())&&(this.sap.removeProxy(this),this.sap.addProxy(this))}}),qs.prototype=Object.assign(Object.create($3.prototype),{constructor:qs,createProxy:function(s){return new Us(this,s)},addProxy:function(s){var t=s;t.isDynamic()?(this.axesD[0].addElements(t.min[0],t.max[0]),this.axesD[1].addElements(t.min[1],t.max[1]),this.axesD[2].addElements(t.min[2],t.max[2]),t.belongsTo=1,this.numElementsD+=2):(this.axesS[0].addElements(t.min[0],t.max[0]),this.axesS[1].addElements(t.min[1],t.max[1]),this.axesS[2].addElements(t.min[2],t.max[2]),t.belongsTo=2,this.numElementsS+=2)},removeProxy:function(s){var t=s;if(t.belongsTo!=0){switch(t.belongsTo){case 1:this.axesD[0].removeElements(t.min[0],t.max[0]),this.axesD[1].removeElements(t.min[1],t.max[1]),this.axesD[2].removeElements(t.min[2],t.max[2]),this.numElementsD-=2;break;case 2:this.axesS[0].removeElements(t.min[0],t.max[0]),this.axesS[1].removeElements(t.min[1],t.max[1]),this.axesS[2].removeElements(t.min[2],t.max[2]),this.numElementsS-=2}t.belongsTo=0}},collectPairs:function(){if(this.numElementsD!=0){var s,t,h,a,n=this.axesD[this.index1],e=this.axesD[this.index2];n.sort(),e.sort(),n.calculateTestCount()<=e.calculateTestCount()?((e=this.axesS[this.index1]).sort(),s=n.elements,t=e.elements):((n=this.axesS[this.index2]).sort(),s=e.elements,t=n.elements,this.index1^=this.index2,this.index2^=this.index1,this.index1^=this.index2);for(var l=0,o=0;l<this.numElementsD;){var r,p;if(o==this.numElementsS)r=s[l],p=!0,l++;else{var E=s[l],F=t[o];E.value<F.value?(r=E,p=!0,l++):(r=F,p=!1,o++)}if(r.max){var C=r.pair;if(p){if(C==h){h=h.pair;continue}r=h}else{if(C==a){a=a.pair;continue}r=a}for(;r;){if((y=r.pair)==C){r.pair=y.pair;break}r=y}}else{for(var k=r.proxy.shape,A=r.min1.value,D=r.max1.value,x=r.min2.value,S=r.max2.value,y=h;y!=null;y=y.pair){var I=y.proxy.shape;this.numPairChecks++,A>y.max1.value||D<y.min1.value||x>y.max2.value||S<y.min2.value||!this.isAvailablePair(k,I)||this.addPair(k,I)}if(p){for(y=a;y!=null;y=y.pair)I=y.proxy.shape,this.numPairChecks++,A>y.max1.value||D<y.min1.value||x>y.max2.value||S<y.min2.value||!this.isAvailablePair(k,I)||this.addPair(k,I);r.pair=h,h=r}else r.pair=a,a=r}}this.index2=3^(this.index1|this.index2)}}}),Object.assign(lt.prototype,{DBVT:!0,moveLeaf:function(s){this.deleteLeaf(s),this.insertLeaf(s)},insertLeaf:function(s){if(this.root!=null){for(var t,h,a=s.aabb,n=this.root;n.proxy==null;){var e=n.child1,l=n.child2,o=n.aabb,r=e.aabb,p=l.aabb;t=o.surfaceArea(),this.aabb.combine(a,o);var E=2*(h=this.aabb.surfaceArea()),F=2*(h-t),C=F;this.aabb.combine(a,r),e.proxy!=null?C+=this.aabb.surfaceArea():C+=this.aabb.surfaceArea()-r.surfaceArea();var k=F;if(this.aabb.combine(a,p),l.proxy!=null?k+=this.aabb.surfaceArea():k+=this.aabb.surfaceArea()-p.surfaceArea(),C<k){if(E<C)break;n=e}else{if(E<k)break;n=l}}var A,D=n.parent;(A=this.numFreeNodes>0?this.freeNodes[--this.numFreeNodes]:new et).parent=D,A.child1=s,A.child2=n,A.aabb.combine(s.aabb,n.aabb),A.height=n.height+1,n.parent=A,s.parent=A,n==this.root?this.root=A:D.child1==n?D.child1=A:D.child2=A;do A=this.balance(A),this.fix(A),A=A.parent;while(A!=null)}else this.root=s},getBalance:function(s){return s.proxy!=null?0:s.child1.height-s.child2.height},deleteLeaf:function(s){if(s!=this.root){var t,h=s.parent;if(t=h.child1==s?h.child2:h.child1,h==this.root)return this.root=t,void(t.parent=null);var a=h.parent;t.parent=a,a.child1==h?a.child1=t:a.child2=t,this.numFreeNodes<16384&&(this.freeNodes[this.numFreeNodes++]=h);do a=this.balance(a),this.fix(a),a=a.parent;while(a!=null)}else this.root=null},balance:function(s){var t=s.height;if(t<2)return s;var h,a=s.parent,n=s.child1,e=s.child2,l=n.height,o=e.height,r=l-o;if(r>1){var p=n.child1,E=n.child2,F=p.height,C=E.height;return F>C?(n.child2=s,s.parent=n,s.child1=E,E.parent=s,s.aabb.combine(E.aabb,e.aabb),h=C-o,s.height=C-(h&h>>31)+1,n.aabb.combine(p.aabb,s.aabb),h=F-t,n.height=F-(h&h>>31)+1):(n.child1=s,s.parent=n,s.child1=p,p.parent=s,s.aabb.combine(p.aabb,e.aabb),h=F-o,s.height=F-(h&h>>31)+1,n.aabb.combine(s.aabb,E.aabb),h=t-C,n.height=t-(h&h>>31)+1),a!=null?a.child1==s?a.child1=n:a.child2=n:this.root=n,n.parent=a,n}if(r<-1){var k=e.child1,A=e.child2,D=k.height,x=A.height;return D>x?(e.child2=s,s.parent=e,s.child2=A,A.parent=s,s.aabb.combine(n.aabb,A.aabb),h=l-x,s.height=l-(h&h>>31)+1,e.aabb.combine(k.aabb,s.aabb),h=D-t,e.height=D-(h&h>>31)+1):(e.child1=s,s.parent=e,s.child2=k,k.parent=s,s.aabb.combine(n.aabb,k.aabb),h=l-D,s.height=l-(h&h>>31)+1,e.aabb.combine(s.aabb,A.aabb),h=t-x,e.height=t-(h&h>>31)+1),a!=null?a.child1==s?a.child1=e:a.child2=e:this.root=e,e.parent=a,e}return s},fix:function(s){var t=s.child1,h=s.child2;s.aabb.combine(t.aabb,h.aabb),s.height=t.height<h.height?h.height+1:t.height+1}}),Js.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Js,update:function(){}}),Ws.prototype=Object.assign(Object.create($3.prototype),{constructor:Ws,createProxy:function(s){return new Js(s)},addProxy:function(s){this.tree.insertLeaf(s.leaf),this.leaves.push(s.leaf),this.numLeaves++},removeProxy:function(s){this.tree.deleteLeaf(s.leaf);var t=this.leaves.indexOf(s.leaf);t>-1&&(this.leaves.splice(t,1),this.numLeaves--)},collectPairs:function(){if(!(this.numLeaves<2))for(var s,t=this.numLeaves;t--;)(s=this.leaves[t]).proxy.aabb.intersectTestTwo(s.aabb)&&(s.aabb.copy(s.proxy.aabb,.1),this.tree.deleteLeaf(s),this.tree.insertLeaf(s),this.collide(s,this.tree.root))},collide:function(s,t){var h,a,n,e,l,o,r=2;for(this.stack[0]=s,this.stack[1]=t;r>0;)if(n=this.stack[--r],e=this.stack[--r],l=n.proxy!=null,o=e.proxy!=null,this.numPairChecks++,l&&o){if((h=n.proxy.shape)==(a=e.proxy.shape)||h.aabb.intersectTest(a.aabb)||!this.isAvailablePair(h,a))continue;this.addPair(h,a)}else{if(n.aabb.intersectTest(e.aabb))continue;o||!l&&n.aabb.surfaceArea()>e.aabb.surfaceArea()?(this.stack[r++]=n.child1,this.stack[r++]=e,this.stack[r++]=n.child2,this.stack[r++]=e):(this.stack[r++]=n,this.stack[r++]=e.child1,this.stack[r++]=n,this.stack[r++]=e.child2)}}}),Object.assign(Wi.prototype,{CollisionDetector:!0,detectCollision:function(s,t,h){qi("CollisionDetector","Inheritance error.")}}),Hs.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Hs,detectCollision:function(s,t,h){var a,n;s.id<t.id?(a=s,n=t):(a=t,n=s);var e,l,o,r,p,E,F,C,k,A,D,x,S,y,I,M,O,R,P,$,z,V,_,N,T,U,r2,K2,X2,_2,u,m2,d,c,L,B=a.elements,g=n.elements,C2=a.dimentions,k2=n.dimentions,K=a.position,X=n.position,v=K.x,q=K.y,Q=K.z,ji=X.x,G2=X.y,Ci=X.z,U2=ji-v,q2=G2-q,a2=Ci-Q,Z=a.halfWidth,w=a.halfHeight,j=a.halfDepth,i2=n.halfWidth,Z2=n.halfHeight,g2=n.halfDepth,p2=C2[0],F2=C2[1],d2=C2[2],H=C2[3],J=C2[4],W=C2[5],x2=C2[6],y2=C2[7],D2=C2[8],P2=C2[9],M2=C2[10],A2=C2[11],n2=C2[12],c2=C2[13],si=C2[14],f2=C2[15],h2=C2[16],s2=C2[17],G=k2[0],t2=k2[1],B2=k2[2],u2=k2[3],v2=k2[4],O2=k2[5],J2=k2[6],W2=k2[7],H2=k2[8],w3=k2[9],di=k2[10],bi=k2[11],vi=k2[12],b2=k2[13],Oi=k2[14],Ri=k2[15],_i=k2[16],S2=k2[17],w2=F2*B2-d2*t2,ti=d2*G-p2*B2,N2=p2*t2-F2*G,Mi=F2*O2-d2*v2,Ii=d2*u2-p2*O2,Si=p2*v2-F2*u2,Pi=F2*H2-d2*W2,Li=d2*J2-p2*H2,Vi=p2*W2-F2*J2,ei=J*B2-W*t2,li=W*G-H*B2,yi=H*t2-J*G,Hi=J*O2-W*v2,Yi=W*u2-H*O2,Zi=H*v2-J*u2,Ki=J*H2-W*W2,Xi=W*J2-H*H2,Gi=H*W2-J*J2,$i=y2*B2-D2*t2,Qi=D2*G-x2*B2,i3=x2*t2-y2*G,s3=y2*O2-D2*v2,t3=D2*u2-x2*O2,h3=x2*v2-y2*u2,Y=y2*H2-D2*W2,Y3=D2*J2-x2*H2,Z3=x2*W2-y2*J2,rt=!1,pt=!1,ot=!1,Ct=!1,kt=!1,At=!1,ct=!1,Ft=!1,dt=!1;if((e=(u=p2*U2+F2*q2+d2*a2)>0)||(u=-u),(d=p2*G+F2*t2+d2*B2)<0&&(d=-d),(c=p2*u2+F2*v2+d2*O2)<0&&(c=-c),(L=p2*J2+F2*W2+d2*H2)<0&&(L=-L),!((M=u-(m2=Z)-(d*i2+c*Z2+L*g2))>0||((l=(u=H*U2+J*q2+W*a2)>0)||(u=-u),(d=H*G+J*t2+W*B2)<0&&(d=-d),(c=H*u2+J*v2+W*O2)<0&&(c=-c),(L=H*J2+J*W2+W*H2)<0&&(L=-L),(O=u-(m2=w)-(d*i2+c*Z2+L*g2))>0||((o=(u=x2*U2+y2*q2+D2*a2)>0)||(u=-u),(d=x2*G+y2*t2+D2*B2)<0&&(d=-d),(c=x2*u2+y2*v2+D2*O2)<0&&(c=-c),(L=x2*J2+y2*W2+D2*H2)<0&&(L=-L),(R=u-(m2=j)-(d*i2+c*Z2+L*g2))>0||((r=(u=G*U2+t2*q2+B2*a2)>0)||(u=-u),(d=G*p2+t2*F2+B2*d2)<0&&(d=-d),(c=G*H+t2*J+B2*W)<0&&(c=-c),(L=G*x2+t2*y2+B2*D2)<0&&(L=-L),(P=1*(u-(m2=d*Z+c*w+L*j)-i2))>0||((p=(u=u2*U2+v2*q2+O2*a2)>0)||(u=-u),(d=u2*p2+v2*F2+O2*d2)<0&&(d=-d),(c=u2*H+v2*J+O2*W)<0&&(c=-c),(L=u2*x2+v2*y2+O2*D2)<0&&(L=-L),($=1*(u-(m2=d*Z+c*w+L*j)-Z2))>0||((E=(u=J2*U2+W2*q2+H2*a2)>0)||(u=-u),(d=J2*p2+W2*F2+H2*d2)<0&&(d=-d),(c=J2*H+W2*J+H2*W)<0&&(c=-c),(L=J2*x2+W2*y2+H2*D2)<0&&(L=-L),(z=1*(u-(m2=d*Z+c*w+L*j)-g2))>0))))))){if((u=w2*w2+ti*ti+N2*N2)>1e-5){if((F=(u=(w2*=u=1/f.sqrt(u))*U2+(ti*=u)*q2+(N2*=u)*a2)>0)||(u=-u),(d=w2*H+ti*J+N2*W)<0&&(d=-d),(c=w2*x2+ti*y2+N2*D2)<0&&(c=-c),m2=d*w+c*j,(d=w2*u2+ti*v2+N2*O2)<0&&(d=-d),(c=w2*J2+ti*W2+N2*H2)<0&&(c=-c),(V=u-m2-(d*Z2+c*g2))>0)return}else F=!1,V=0,rt=!0;if((u=Mi*Mi+Ii*Ii+Si*Si)>1e-5){if((C=(u=(Mi*=u=1/f.sqrt(u))*U2+(Ii*=u)*q2+(Si*=u)*a2)>0)||(u=-u),(d=Mi*H+Ii*J+Si*W)<0&&(d=-d),(c=Mi*x2+Ii*y2+Si*D2)<0&&(c=-c),m2=d*w+c*j,(d=Mi*G+Ii*t2+Si*B2)<0&&(d=-d),(c=Mi*J2+Ii*W2+Si*H2)<0&&(c=-c),(_=u-m2-(d*i2+c*g2))>0)return}else C=!1,_=0,pt=!0;if((u=Pi*Pi+Li*Li+Vi*Vi)>1e-5){if((k=(u=(Pi*=u=1/f.sqrt(u))*U2+(Li*=u)*q2+(Vi*=u)*a2)>0)||(u=-u),(d=Pi*H+Li*J+Vi*W)<0&&(d=-d),(c=Pi*x2+Li*y2+Vi*D2)<0&&(c=-c),m2=d*w+c*j,(d=Pi*G+Li*t2+Vi*B2)<0&&(d=-d),(c=Pi*u2+Li*v2+Vi*O2)<0&&(c=-c),(N=u-m2-(d*i2+c*Z2))>0)return}else k=!1,N=0,ot=!0;if((u=ei*ei+li*li+yi*yi)>1e-5){if((A=(u=(ei*=u=1/f.sqrt(u))*U2+(li*=u)*q2+(yi*=u)*a2)>0)||(u=-u),(d=ei*p2+li*F2+yi*d2)<0&&(d=-d),(c=ei*x2+li*y2+yi*D2)<0&&(c=-c),m2=d*Z+c*j,(d=ei*u2+li*v2+yi*O2)<0&&(d=-d),(c=ei*J2+li*W2+yi*H2)<0&&(c=-c),(T=u-m2-(d*Z2+c*g2))>0)return}else A=!1,T=0,Ct=!0;if((u=Hi*Hi+Yi*Yi+Zi*Zi)>1e-5){if((D=(u=(Hi*=u=1/f.sqrt(u))*U2+(Yi*=u)*q2+(Zi*=u)*a2)>0)||(u=-u),(d=Hi*p2+Yi*F2+Zi*d2)<0&&(d=-d),(c=Hi*x2+Yi*y2+Zi*D2)<0&&(c=-c),m2=d*Z+c*j,(d=Hi*G+Yi*t2+Zi*B2)<0&&(d=-d),(c=Hi*J2+Yi*W2+Zi*H2)<0&&(c=-c),(U=u-m2-(d*i2+c*g2))>0)return}else D=!1,U=0,kt=!0;if((u=Ki*Ki+Xi*Xi+Gi*Gi)>1e-5){if((x=(u=(Ki*=u=1/f.sqrt(u))*U2+(Xi*=u)*q2+(Gi*=u)*a2)>0)||(u=-u),(d=Ki*p2+Xi*F2+Gi*d2)<0&&(d=-d),(c=Ki*x2+Xi*y2+Gi*D2)<0&&(c=-c),m2=d*Z+c*j,(d=Ki*G+Xi*t2+Gi*B2)<0&&(d=-d),(c=Ki*u2+Xi*v2+Gi*O2)<0&&(c=-c),(r2=u-m2-(d*i2+c*Z2))>0)return}else x=!1,r2=0,At=!0;if((u=$i*$i+Qi*Qi+i3*i3)>1e-5){if((S=(u=($i*=u=1/f.sqrt(u))*U2+(Qi*=u)*q2+(i3*=u)*a2)>0)||(u=-u),(d=$i*p2+Qi*F2+i3*d2)<0&&(d=-d),(c=$i*H+Qi*J+i3*W)<0&&(c=-c),m2=d*Z+c*w,(d=$i*u2+Qi*v2+i3*O2)<0&&(d=-d),(c=$i*J2+Qi*W2+i3*H2)<0&&(c=-c),(K2=u-m2-(d*Z2+c*g2))>0)return}else S=!1,K2=0,ct=!0;if((u=s3*s3+t3*t3+h3*h3)>1e-5){if((y=(u=(s3*=u=1/f.sqrt(u))*U2+(t3*=u)*q2+(h3*=u)*a2)>0)||(u=-u),(d=s3*p2+t3*F2+h3*d2)<0&&(d=-d),(c=s3*H+t3*J+h3*W)<0&&(c=-c),m2=d*Z+c*w,(d=s3*G+t3*t2+h3*B2)<0&&(d=-d),(c=s3*J2+t3*W2+h3*H2)<0&&(c=-c),(X2=u-m2-(d*i2+c*g2))>0)return}else y=!1,X2=0,Ft=!0;if((u=Y*Y+Y3*Y3+Z3*Z3)>1e-5){if((I=(u=(Y*=u=1/f.sqrt(u))*U2+(Y3*=u)*q2+(Z3*=u)*a2)>0)||(u=-u),(d=Y*p2+Y3*F2+Z3*d2)<0&&(d=-d),(c=Y*H+Y3*J+Z3*W)<0&&(c=-c),m2=d*Z+c*w,(d=Y*G+Y3*t2+Z3*B2)<0&&(d=-d),(c=Y*u2+Y3*v2+Z3*O2)<0&&(c=-c),(_2=u-m2-(d*i2+c*Z2))>0)return}else I=!1,_2=0,dt=!0;var Ji=M,pi=M,$2=0,Ui=e;O>pi&&(Ji=O,pi=O,$2=1,Ui=l),R>pi&&(Ji=R,pi=R,$2=2,Ui=o),P>pi&&(Ji=P,pi=P,$2=3,Ui=r),$>pi&&(Ji=$,pi=$,$2=4,Ui=p),z>pi&&(Ji=z,pi=z,$2=5,Ui=E),V-.01>pi&&!rt&&(Ji=V,pi=V-.01,$2=6,Ui=F),_-.01>pi&&!pt&&(Ji=_,pi=_-.01,$2=7,Ui=C),N-.01>pi&&!ot&&(Ji=N,pi=N-.01,$2=8,Ui=k),T-.01>pi&&!Ct&&(Ji=T,pi=T-.01,$2=9,Ui=A),U-.01>pi&&!kt&&(Ji=U,pi=U-.01,$2=10,Ui=D),r2-.01>pi&&!At&&(Ji=r2,pi=r2-.01,$2=11,Ui=x),K2-.01>pi&&!ct&&(Ji=K2,pi=K2-.01,$2=12,Ui=S),X2-.01>pi&&!Ft&&(Ji=X2,pi=X2-.01,$2=13,Ui=y),_2-.01>pi&&!dt&&(Ji=_2,$2=14,Ui=I);var e2=0,l2=0,E2=0,Di=0,mi=0,Bi=0,zi=0,wi=0,Ni=0,ki=0,Ai=0,ci=0,N3=0,M3=0,I3=0,S3=0,P3=0,L3=0,Cs=!1;if($2==0?(Ui?(ki=v+P2,Ai=q+M2,ci=Q+A2,e2=p2,l2=F2,E2=d2):(ki=v-P2,Ai=q-M2,ci=Q-A2,e2=-p2,l2=-F2,E2=-d2),N3=n2,M3=c2,I3=si,Di=-H,mi=-J,Bi=-W,S3=f2,P3=h2,L3=s2,zi=-x2,wi=-y2,Ni=-D2):$2==1?(Ui?(ki=v+n2,Ai=q+c2,ci=Q+si,e2=H,l2=J,E2=W):(ki=v-n2,Ai=q-c2,ci=Q-si,e2=-H,l2=-J,E2=-W),N3=P2,M3=M2,I3=A2,Di=-p2,mi=-F2,Bi=-d2,S3=f2,P3=h2,L3=s2,zi=-x2,wi=-y2,Ni=-D2):$2==2?(Ui?(ki=v+f2,Ai=q+h2,ci=Q+s2,e2=x2,l2=y2,E2=D2):(ki=v-f2,Ai=q-h2,ci=Q-s2,e2=-x2,l2=-y2,E2=-D2),N3=P2,M3=M2,I3=A2,Di=-p2,mi=-F2,Bi=-d2,S3=n2,P3=c2,L3=si,zi=-H,wi=-J,Ni=-W):$2==3?(Cs=!0,Ui?(ki=ji-w3,Ai=G2-di,ci=Ci-bi,e2=-G,l2=-t2,E2=-B2):(ki=ji+w3,Ai=G2+di,ci=Ci+bi,e2=G,l2=t2,E2=B2),N3=vi,M3=b2,I3=Oi,Di=-u2,mi=-v2,Bi=-O2,S3=Ri,P3=_i,L3=S2,zi=-J2,wi=-W2,Ni=-H2):$2==4?(Cs=!0,Ui?(ki=ji-vi,Ai=G2-b2,ci=Ci-Oi,e2=-u2,l2=-v2,E2=-O2):(ki=ji+vi,Ai=G2+b2,ci=Ci+Oi,e2=u2,l2=v2,E2=O2),N3=w3,M3=di,I3=bi,Di=-G,mi=-t2,Bi=-B2,S3=Ri,P3=_i,L3=S2,zi=-J2,wi=-W2,Ni=-H2):$2==5?(Cs=!0,Ui?(ki=ji-Ri,Ai=G2-_i,ci=Ci-S2,e2=-J2,l2=-W2,E2=-H2):(ki=ji+Ri,Ai=G2+_i,ci=Ci+S2,e2=J2,l2=W2,E2=H2),N3=w3,M3=di,I3=bi,Di=-G,mi=-t2,Bi=-B2,S3=vi,P3=b2,L3=Oi,zi=-u2,wi=-v2,Ni=-O2):$2==6?(e2=w2,l2=ti,E2=N2,Di=p2,mi=F2,Bi=d2,zi=G,wi=t2,Ni=B2):$2==7?(e2=Mi,l2=Ii,E2=Si,Di=p2,mi=F2,Bi=d2,zi=u2,wi=v2,Ni=O2):$2==8?(e2=Pi,l2=Li,E2=Vi,Di=p2,mi=F2,Bi=d2,zi=J2,wi=W2,Ni=H2):$2==9?(e2=ei,l2=li,E2=yi,Di=H,mi=J,Bi=W,zi=G,wi=t2,Ni=B2):$2==10?(e2=Hi,l2=Yi,E2=Zi,Di=H,mi=J,Bi=W,zi=u2,wi=v2,Ni=O2):$2==11?(e2=Ki,l2=Xi,E2=Gi,Di=H,mi=J,Bi=W,zi=J2,wi=W2,Ni=H2):$2==12?(e2=$i,l2=Qi,E2=i3,Di=x2,mi=y2,Bi=D2,zi=G,wi=t2,Ni=B2):$2==13?(e2=s3,l2=t3,E2=h3,Di=x2,mi=y2,Bi=D2,zi=u2,wi=v2,Ni=O2):$2==14&&(e2=Y,l2=Y3,E2=Z3,Di=x2,mi=y2,Bi=D2,zi=J2,wi=W2,Ni=H2),$2>5){var Ei,Q2,hi,ai,ni,V3,T3,j3,U3,q3,J3;Ui||(e2=-e2,l2=-l2,E2=-E2),Q2=e2*(V3=B[0])+l2*(T3=B[1])+E2*(j3=B[2]),(Ei=e2*(hi=B[3])+l2*(ai=B[4])+E2*(ni=B[5]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),(Ei=e2*(hi=B[6])+l2*(ai=B[7])+E2*(ni=B[8]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),(Ei=e2*(hi=B[9])+l2*(ai=B[10])+E2*(ni=B[11]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),(Ei=e2*(hi=B[12])+l2*(ai=B[13])+E2*(ni=B[14]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),(Ei=e2*(hi=B[15])+l2*(ai=B[16])+E2*(ni=B[17]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),(Ei=e2*(hi=B[18])+l2*(ai=B[19])+E2*(ni=B[20]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),(Ei=e2*(hi=B[21])+l2*(ai=B[22])+E2*(ni=B[23]))>Q2&&(Q2=Ei,V3=hi,T3=ai,j3=ni),Q2=e2*(U3=g[0])+l2*(q3=g[1])+E2*(J3=g[2]),(Ei=e2*(hi=g[3])+l2*(ai=g[4])+E2*(ni=g[5]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni),(Ei=e2*(hi=g[6])+l2*(ai=g[7])+E2*(ni=g[8]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni),(Ei=e2*(hi=g[9])+l2*(ai=g[10])+E2*(ni=g[11]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni),(Ei=e2*(hi=g[12])+l2*(ai=g[13])+E2*(ni=g[14]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni),(Ei=e2*(hi=g[15])+l2*(ai=g[16])+E2*(ni=g[17]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni),(Ei=e2*(hi=g[18])+l2*(ai=g[19])+E2*(ni=g[20]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni),(Ei=e2*(hi=g[21])+l2*(ai=g[22])+E2*(ni=g[23]))<Q2&&(Q2=Ei,U3=hi,q3=ai,J3=ni);var R2=((hi=U3-V3)*(Di-zi*(d=Di*zi+mi*wi+Bi*Ni))+(ai=q3-T3)*(mi-wi*d)+(ni=J3-j3)*(Bi-Ni*d))/(1-d*d);h.addPoint(V3+Di*R2+e2*Ji*.5,T3+mi*R2+l2*Ji*.5,j3+Bi*R2+E2*Ji*.5,e2,l2,E2,Ji,!1)}else{var e3,l3,E3,r3,p3,o3,F3,d3,y3,D3,m3,B3,u3,I2,b,L2,V2,T2,ui,gi,xi,ii=1,z2=0,fi=0;Cs?((z2=p2*e2+F2*l2+d2*E2)<ii&&(ii=z2,fi=0),-z2<ii&&(ii=-z2,fi=1),(z2=H*e2+J*l2+W*E2)<ii&&(ii=z2,fi=2),-z2<ii&&(ii=-z2,fi=3),(z2=x2*e2+y2*l2+D2*E2)<ii&&(ii=z2,fi=4),-z2<ii&&(ii=-z2,fi=5),fi==0?(e3=B[0],l3=B[1],E3=B[2],r3=B[6],p3=B[7],o3=B[8],F3=B[9],d3=B[10],y3=B[11],D3=B[3],m3=B[4],B3=B[5]):fi==1?(e3=B[15],l3=B[16],E3=B[17],r3=B[21],p3=B[22],o3=B[23],F3=B[18],d3=B[19],y3=B[20],D3=B[12],m3=B[13],B3=B[14]):fi==2?(e3=B[12],l3=B[13],E3=B[14],r3=B[0],p3=B[1],o3=B[2],F3=B[3],d3=B[4],y3=B[5],D3=B[15],m3=B[16],B3=B[17]):fi==3?(e3=B[21],l3=B[22],E3=B[23],r3=B[9],p3=B[10],o3=B[11],F3=B[6],d3=B[7],y3=B[8],D3=B[18],m3=B[19],B3=B[20]):fi==4?(e3=B[12],l3=B[13],E3=B[14],r3=B[18],p3=B[19],o3=B[20],F3=B[6],d3=B[7],y3=B[8],D3=B[0],m3=B[1],B3=B[2]):fi==5&&(e3=B[3],l3=B[4],E3=B[5],r3=g[9],p3=g[10],o3=g[11],F3=B[21],d3=B[22],y3=B[23],D3=B[15],m3=B[16],B3=B[17])):((z2=G*e2+t2*l2+B2*E2)<ii&&(ii=z2,fi=0),-z2<ii&&(ii=-z2,fi=1),(z2=u2*e2+v2*l2+O2*E2)<ii&&(ii=z2,fi=2),-z2<ii&&(ii=-z2,fi=3),(z2=J2*e2+W2*l2+H2*E2)<ii&&(ii=z2,fi=4),-z2<ii&&(ii=-z2,fi=5),fi==0?(e3=g[0],l3=g[1],E3=g[2],r3=g[6],p3=g[7],o3=g[8],F3=g[9],d3=g[10],y3=g[11],D3=g[3],m3=g[4],B3=g[5]):fi==1?(e3=g[15],l3=g[16],E3=g[17],r3=g[21],p3=g[22],o3=g[23],F3=g[18],d3=g[19],y3=g[20],D3=g[12],m3=g[13],B3=g[14]):fi==2?(e3=g[12],l3=g[13],E3=g[14],r3=g[0],p3=g[1],o3=g[2],F3=g[3],d3=g[4],y3=g[5],D3=g[15],m3=g[16],B3=g[17]):fi==3?(e3=g[21],l3=g[22],E3=g[23],r3=g[9],p3=g[10],o3=g[11],F3=g[6],d3=g[7],y3=g[8],D3=g[18],m3=g[19],B3=g[20]):fi==4?(e3=g[12],l3=g[13],E3=g[14],r3=g[18],p3=g[19],o3=g[20],F3=g[6],d3=g[7],y3=g[8],D3=g[0],m3=g[1],B3=g[2]):fi==5&&(e3=g[3],l3=g[4],E3=g[5],r3=g[9],p3=g[10],o3=g[11],F3=g[21],d3=g[22],y3=g[23],D3=g[15],m3=g[16],B3=g[17])),this.clipVertices1[0]=e3,this.clipVertices1[1]=l3,this.clipVertices1[2]=E3,this.clipVertices1[3]=r3,this.clipVertices1[4]=p3,this.clipVertices1[5]=o3,this.clipVertices1[6]=F3,this.clipVertices1[7]=d3,this.clipVertices1[8]=y3,this.clipVertices1[9]=D3,this.clipVertices1[10]=m3,this.clipVertices1[11]=B3,I2=0,d=((L2=this.clipVertices1[9])-ki-N3)*Di+((V2=this.clipVertices1[10])-Ai-M3)*mi+((T2=this.clipVertices1[11])-ci-I3)*Bi;for(var Y2=0;Y2<4;Y2++)b=3*Y2,c=((ui=this.clipVertices1[b])-ki-N3)*Di+((gi=this.clipVertices1[b+1])-Ai-M3)*mi+((xi=this.clipVertices1[b+2])-ci-I3)*Bi,d>0?c>0?(b=3*I2,I2++,this.clipVertices2[b]=ui,this.clipVertices2[b+1]=gi,this.clipVertices2[b+2]=xi):(b=3*I2,I2++,R2=d/(d-c),this.clipVertices2[b]=L2+(ui-L2)*R2,this.clipVertices2[b+1]=V2+(gi-V2)*R2,this.clipVertices2[b+2]=T2+(xi-T2)*R2):c>0&&(b=3*I2,I2++,R2=d/(d-c),this.clipVertices2[b]=L2+(ui-L2)*R2,this.clipVertices2[b+1]=V2+(gi-V2)*R2,this.clipVertices2[b+2]=T2+(xi-T2)*R2,b=3*I2,I2++,this.clipVertices2[b]=ui,this.clipVertices2[b+1]=gi,this.clipVertices2[b+2]=xi),L2=ui,V2=gi,T2=xi,d=c;if((u3=I2)!=0){for(I2=0,b=3*(u3-1),d=((L2=this.clipVertices2[b])-ki-S3)*zi+((V2=this.clipVertices2[b+1])-Ai-P3)*wi+((T2=this.clipVertices2[b+2])-ci-L3)*Ni,Y2=0;Y2<u3;Y2++)b=3*Y2,c=((ui=this.clipVertices2[b])-ki-S3)*zi+((gi=this.clipVertices2[b+1])-Ai-P3)*wi+((xi=this.clipVertices2[b+2])-ci-L3)*Ni,d>0?c>0?(b=3*I2,I2++,this.clipVertices1[b]=ui,this.clipVertices1[b+1]=gi,this.clipVertices1[b+2]=xi):(b=3*I2,I2++,R2=d/(d-c),this.clipVertices1[b]=L2+(ui-L2)*R2,this.clipVertices1[b+1]=V2+(gi-V2)*R2,this.clipVertices1[b+2]=T2+(xi-T2)*R2):c>0&&(b=3*I2,I2++,R2=d/(d-c),this.clipVertices1[b]=L2+(ui-L2)*R2,this.clipVertices1[b+1]=V2+(gi-V2)*R2,this.clipVertices1[b+2]=T2+(xi-T2)*R2,b=3*I2,I2++,this.clipVertices1[b]=ui,this.clipVertices1[b+1]=gi,this.clipVertices1[b+2]=xi),L2=ui,V2=gi,T2=xi,d=c;if((u3=I2)!=0){for(I2=0,b=3*(u3-1),d=((L2=this.clipVertices1[b])-ki+N3)*-Di+((V2=this.clipVertices1[b+1])-Ai+M3)*-mi+((T2=this.clipVertices1[b+2])-ci+I3)*-Bi,Y2=0;Y2<u3;Y2++)b=3*Y2,c=((ui=this.clipVertices1[b])-ki+N3)*-Di+((gi=this.clipVertices1[b+1])-Ai+M3)*-mi+((xi=this.clipVertices1[b+2])-ci+I3)*-Bi,d>0?c>0?(b=3*I2,I2++,this.clipVertices2[b]=ui,this.clipVertices2[b+1]=gi,this.clipVertices2[b+2]=xi):(b=3*I2,I2++,R2=d/(d-c),this.clipVertices2[b]=L2+(ui-L2)*R2,this.clipVertices2[b+1]=V2+(gi-V2)*R2,this.clipVertices2[b+2]=T2+(xi-T2)*R2):c>0&&(b=3*I2,I2++,R2=d/(d-c),this.clipVertices2[b]=L2+(ui-L2)*R2,this.clipVertices2[b+1]=V2+(gi-V2)*R2,this.clipVertices2[b+2]=T2+(xi-T2)*R2,b=3*I2,I2++,this.clipVertices2[b]=ui,this.clipVertices2[b+1]=gi,this.clipVertices2[b+2]=xi),L2=ui,V2=gi,T2=xi,d=c;if((u3=I2)!=0){for(I2=0,b=3*(u3-1),d=((L2=this.clipVertices2[b])-ki+S3)*-zi+((V2=this.clipVertices2[b+1])-Ai+P3)*-wi+((T2=this.clipVertices2[b+2])-ci+L3)*-Ni,Y2=0;Y2<u3;Y2++)b=3*Y2,c=((ui=this.clipVertices2[b])-ki+S3)*-zi+((gi=this.clipVertices2[b+1])-Ai+P3)*-wi+((xi=this.clipVertices2[b+2])-ci+L3)*-Ni,d>0?c>0?(b=3*I2,I2++,this.clipVertices1[b]=ui,this.clipVertices1[b+1]=gi,this.clipVertices1[b+2]=xi):(b=3*I2,I2++,R2=d/(d-c),this.clipVertices1[b]=L2+(ui-L2)*R2,this.clipVertices1[b+1]=V2+(gi-V2)*R2,this.clipVertices1[b+2]=T2+(xi-T2)*R2):c>0&&(b=3*I2,I2++,R2=d/(d-c),this.clipVertices1[b]=L2+(ui-L2)*R2,this.clipVertices1[b+1]=V2+(gi-V2)*R2,this.clipVertices1[b+2]=T2+(xi-T2)*R2,b=3*I2,I2++,this.clipVertices1[b]=ui,this.clipVertices1[b+1]=gi,this.clipVertices1[b+2]=xi),L2=ui,V2=gi,T2=xi,d=c;if(Cs){var It=a;a=n,n=It}if((u3=I2)!=0){var ks=a!=s;if(u3>4){Di=e3-(L2=.25*(e3+r3+F3+D3)),mi=l3-(V2=.25*(l3+p3+d3+m3)),Bi=E3-(T2=.25*(E3+o3+y3+B3)),zi=r3-L2,wi=p3-V2,Ni=o3-T2;var Ks=0,yt=0,Xs=0,Dt=0,As=-this.INF;for(ii=this.INF,Y2=0;Y2<u3;Y2++)this.used[Y2]=!1,b=3*Y2,(z2=(L2=this.clipVertices1[b])*Di+(V2=this.clipVertices1[b+1])*mi+(T2=this.clipVertices1[b+2])*Bi)<ii&&(ii=z2,Ks=Y2),z2>As&&(As=z2,Xs=Y2);for(this.used[Ks]=!0,this.used[Xs]=!0,As=-this.INF,ii=this.INF,Y2=0;Y2<u3;Y2++)this.used[Y2]||(b=3*Y2,(z2=(L2=this.clipVertices1[b])*zi+(V2=this.clipVertices1[b+1])*wi+(T2=this.clipVertices1[b+2])*Ni)<ii&&(ii=z2,yt=Y2),z2>As&&(As=z2,Dt=Y2));b=3*Ks,(z2=((L2=this.clipVertices1[b])-ki)*e2+((V2=this.clipVertices1[b+1])-Ai)*l2+((T2=this.clipVertices1[b+2])-ci)*E2)<0&&h.addPoint(L2,V2,T2,e2,l2,E2,z2,ks),b=3*yt,(z2=((L2=this.clipVertices1[b])-ki)*e2+((V2=this.clipVertices1[b+1])-Ai)*l2+((T2=this.clipVertices1[b+2])-ci)*E2)<0&&h.addPoint(L2,V2,T2,e2,l2,E2,z2,ks),b=3*Xs,(z2=((L2=this.clipVertices1[b])-ki)*e2+((V2=this.clipVertices1[b+1])-Ai)*l2+((T2=this.clipVertices1[b+2])-ci)*E2)<0&&h.addPoint(L2,V2,T2,e2,l2,E2,z2,ks),b=3*Dt,(z2=((L2=this.clipVertices1[b])-ki)*e2+((V2=this.clipVertices1[b+1])-Ai)*l2+((T2=this.clipVertices1[b+2])-ci)*E2)<0&&h.addPoint(L2,V2,T2,e2,l2,E2,z2,ks)}else for(Y2=0;Y2<u3;Y2++)b=3*Y2,(z2=((L2=this.clipVertices1[b])-ki)*e2+((V2=this.clipVertices1[b+1])-Ai)*l2+((T2=this.clipVertices1[b+2])-ci)*E2)<0&&h.addPoint(L2,V2,T2,e2,l2,E2,z2,ks)}}}}}}}}),ws.prototype=Object.assign(Object.create(Wi.prototype),{constructor:ws,getSep:function(s,t,h,a,n){var e,l,o,r,p,E,F,C,k,A,D,x,S,y=new m,I=s.position.x,M=s.position.y,O=s.position.z,R=t.position.x,P=t.position.y,$=t.position.z,z=R-I,V=P-M,_=$-O;z*z+V*V+_*_==0&&(V=.001);var N=-z,T=-V,U=-_;this.supportPointB(s,-N,-T,-U,y);var r2=y.x,K2=y.y,X2=y.z;this.supportPointC(t,N,T,U,y);var _2=y.x,u=y.y,m2=y.z,d=_2-r2,c=u-K2,L=m2-X2;if(d*N+c*T+L*U<=0)return!1;if((N=c*_-L*V)*N+(T=L*z-d*_)*T+(U=d*V-c*z)*U==0)return h.set(d-z,c-V,L-_).normalize(),a.set(.5*(r2+_2),.5*(K2+u),.5*(X2+m2)),!0;this.supportPointB(s,-N,-T,-U,y);var B=y.x,g=y.y,C2=y.z;this.supportPointC(t,N,T,U,y);var k2=y.x,K=y.y,X=y.z,v=k2-B,q=K-g,Q=X-C2;if(v*N+q*T+Q*U<=0)return!1;(N=(l=c-V)*(E=Q-_)-(o=L-_)*(p=q-V))*z+(T=o*(r=v-z)-(e=d-z)*E)*V+(U=e*p-l*r)*_>0&&(e=d,l=c,o=L,d=v,c=q,L=Q,v=e,q=l,Q=o,e=r2,l=K2,o=X2,r2=B,K2=g,X2=C2,B=e,g=l,C2=o,e=_2,l=u,o=m2,_2=k2,u=K,m2=X,k2=e,K=l,X=o,N=-N,T=-T,U=-U);for(var ji=0;;){if(++ji>100)return!1;this.supportPointB(s,-N,-T,-U,y);var G2=y.x,Ci=y.y,U2=y.z;this.supportPointC(t,N,T,U,y);var q2=y.x,a2=y.y,Z=y.z,w=q2-G2,j=a2-Ci,i2=Z-U2;if(w*N+j*T+i2*U<=0)return!1;if((c*i2-L*j)*z+(L*w-d*i2)*V+(d*j-c*w)*_<0)v=w,q=j,Q=i2,B=G2,g=Ci,C2=U2,k2=q2,K=a2,X=Z,N=(l=c-V)*(E=i2-_)-(o=L-_)*(p=j-V),T=o*(r=w-z)-(e=d-z)*E,U=e*p-l*r;else if((j*Q-i2*q)*z+(i2*v-w*Q)*V+(w*q-j*v)*_<0)d=w,c=j,L=i2,r2=G2,K2=Ci,X2=U2,_2=q2,u=a2,m2=Z,N=(l=j-V)*(E=Q-_)-(o=i2-_)*(p=q-V),T=o*(r=v-z)-(e=w-z)*E,U=e*p-l*r;else for(var Z2=!1;;){if(N=(l=q-c)*(E=i2-L)-(o=Q-L)*(p=j-c),T=o*(r=w-d)-(e=v-d)*E,U=e*p-l*r,(N*=F=1/f.sqrt(N*N+T*T+U*U))*d+(T*=F)*c+(U*=F)*L>=0&&!Z2){var g2=(c*Q-L*q)*w+(L*v-d*Q)*j+(d*q-c*v)*i2,p2=(j*Q-i2*q)*z+(i2*v-w*Q)*V+(w*q-j*v)*_,F2=(V*L-_*c)*w+(_*d-z*L)*j+(z*c-V*d)*i2,d2=(q*L-Q*c)*z+(Q*d-v*L)*V+(v*c-q*d)*_,H=g2+p2+F2+d2;H<=0&&(g2=0,H=(p2=(q*i2-Q*j)*N+(Q*w-v*i2)*T+(v*j-q*w)*U)+(F2=(j*Q-i2*q)*N+(i2*v-w*Q)*T+(w*q-j*v)*U)+(d2=(c*Q-L*q)*N+(L*v-d*Q)*T+(d*q-c*v)*U));var J=1/H;C=(I*g2+r2*p2+B*F2+G2*d2)*J,k=(M*g2+K2*p2+g*F2+Ci*d2)*J,A=(O*g2+X2*p2+C2*F2+U2*d2)*J,D=(R*g2+_2*p2+k2*F2+q2*d2)*J,x=(P*g2+u*p2+K*F2+a2*d2)*J,S=($*g2+m2*p2+X*F2+Z*d2)*J,Z2=!0}this.supportPointB(s,-N,-T,-U,y);var W=y.x,x2=y.y,y2=y.z;this.supportPointC(t,N,T,U,y);var D2=y.x,P2=y.y,M2=y.z,A2=D2-W,n2=P2-x2,c2=M2-y2,si=-(A2*N+n2*T+c2*U);if((A2-w)*N+(n2-j)*T+(c2-i2)*U<=.01||si>=0)return!!Z2&&(h.set(-N,-T,-U),a.set(.5*(C+D),.5*(k+x),.5*(A+S)),n.x=si,!0);(n2*L-c2*c)*z+(c2*d-A2*L)*V+(A2*c-n2*d)*_<0?(n2*Q-c2*q)*z+(c2*v-A2*Q)*V+(A2*q-n2*v)*_<0?(d=A2,c=n2,L=c2,r2=W,K2=x2,X2=y2,_2=D2,u=P2,m2=M2):(w=A2,j=n2,i2=c2,G2=W,Ci=x2,U2=y2,q2=D2,a2=P2,Z=M2):(n2*i2-c2*j)*z+(c2*w-A2*i2)*V+(A2*j-n2*w)*_<0?(v=A2,q=n2,Q=c2,B=W,g=x2,C2=y2,k2=D2,K=P2,X=M2):(d=A2,c=n2,L=c2,r2=W,K2=x2,X2=y2,_2=D2,u=P2,m2=M2)}}},supportPointB:function(s,t,h,a,n){var e,l,o,r=s.rotation.elements,p=r[0]*t+r[3]*h+r[6]*a,E=r[1]*t+r[4]*h+r[7]*a,F=r[2]*t+r[5]*h+r[8]*a,C=s.halfWidth,k=s.halfHeight,A=s.halfDepth;e=p<0?-C:C,l=E<0?-k:k,o=F<0?-A:A,p=r[0]*e+r[1]*l+r[2]*o+s.position.x,E=r[3]*e+r[4]*l+r[5]*o+s.position.y,F=r[6]*e+r[7]*l+r[8]*o+s.position.z,n.set(p,E,F)},supportPointC:function(s,t,h,a,n){var e,l,o,r=s.rotation.elements,p=r[0]*t+r[3]*h+r[6]*a,E=r[1]*t+r[4]*h+r[7]*a,F=r[2]*t+r[5]*h+r[8]*a,C=p,k=F,A=C*C+k*k,D=s.radius,x=s.halfHeight;A==0?E<0?(e=D,l=-x,o=0):(e=D,l=x,o=0):(A=s.radius/f.sqrt(A),E<0?(e=C*A,l=-x,o=k*A):(e=C*A,l=x,o=k*A)),p=r[0]*e+r[1]*l+r[2]*o+s.position.x,E=r[3]*e+r[4]*l+r[5]*o+s.position.y,F=r[6]*e+r[7]*l+r[8]*o+s.position.z,n.set(p,E,F)},detectCollision:function(s,t,h){var a,n;this.flip?(a=t,n=s):(a=s,n=t);var e=new m,l=new m,o=new m;if(this.getSep(a,n,e,l,o)){var r=a.position.x,p=a.position.y,E=a.position.z,F=n.position.x,C=n.position.y,k=n.position.z,A=a.halfWidth,D=a.halfHeight,x=a.halfDepth,S=n.halfHeight,y=n.radius,I=a.dimentions,M=I[0],O=I[1],R=I[2],P=I[3],$=I[4],z=I[5],V=I[6],_=I[7],N=I[8],T=I[9],U=I[10],r2=I[11],K2=I[12],X2=I[13],_2=I[14],u=I[15],m2=I[16],d=I[17],c=n.normalDirection.x,L=n.normalDirection.y,B=n.normalDirection.z,g=n.halfDirection.x,C2=n.halfDirection.y,k2=n.halfDirection.z,K=e.x,X=e.y,v=e.z,q=K*M+X*O+v*R,Q=K*P+X*$+v*z,ji=K*V+X*_+v*N,G2=K*c+X*L+v*B,Ci=q>0,U2=Q>0,q2=ji>0,a2=G2>0;Ci||(q=-q),U2||(Q=-Q),q2||(ji=-ji),a2||(G2=-G2);var Z,w,j,i2,Z2,g2,p2,F2,d2,H,J,W,x2,y2,D2,P2,M2,A2,n2,c2,si,f2,h2,s2,G,t2,B2,u2,v2,O2,J2,W2,H2,w3,di,bi,vi,b2,Oi,Ri,_i,S2,w2,ti,N2,Mi,Ii,Si,Pi,Li,Vi,ei,li,yi=0;if(G2>.999?yi=q>.999?q>G2?1:4:Q>.999?Q>G2?2:4:ji>.999&&ji>G2?3:4:q>.999?yi=1:Q>.999?yi=2:ji>.999&&(yi=3),yi==0)h.addPoint(l.x,l.y,l.z,K,X,v,o.x,this.flip);else if(yi==4){var Hi,Yi,Zi,Ki,Xi,Gi,$i,Qi,i3,s3,t3,h3;a2?(i2=F-g,Z2=C-C2,g2=k-k2,K=-c,X=-L,v=-B):(i2=F+g,Z2=C+C2,g2=k+k2,K=c,X=L,v=B),yi=0,(w2=M*K+O*X+R*v)<(c2=1)&&(c2=w2,yi=0),-w2<c2&&(c2=-w2,yi=1),(w2=P*K+$*X+z*v)<c2&&(c2=w2,yi=2),-w2<c2&&(c2=-w2,yi=3),(w2=V*K+_*X+N*v)<c2&&(c2=w2,yi=4),-w2<c2&&(c2=-w2,yi=5);var Y=a.elements;switch(yi){case 0:Hi=Y[0],Yi=Y[1],Zi=Y[2],Ki=Y[6],Xi=Y[7],Gi=Y[8],$i=Y[9],Qi=Y[10],i3=Y[11],s3=Y[3],t3=Y[4],h3=Y[5];break;case 1:Hi=Y[15],Yi=Y[16],Zi=Y[17],Ki=Y[21],Xi=Y[22],Gi=Y[23],$i=Y[18],Qi=Y[19],i3=Y[20],s3=Y[12],t3=Y[13],h3=Y[14];break;case 2:Hi=Y[12],Yi=Y[13],Zi=Y[14],Ki=Y[0],Xi=Y[1],Gi=Y[2],$i=Y[3],Qi=Y[4],i3=Y[5],s3=Y[15],t3=Y[16],h3=Y[17];break;case 3:Hi=Y[21],Yi=Y[22],Zi=Y[23],Ki=Y[9],Xi=Y[10],Gi=Y[11],$i=Y[6],Qi=Y[7],i3=Y[8],s3=Y[18],t3=Y[19],h3=Y[20];break;case 4:Hi=Y[12],Yi=Y[13],Zi=Y[14],Ki=Y[18],Xi=Y[19],Gi=Y[20],$i=Y[6],Qi=Y[7],i3=Y[8],s3=Y[0],t3=Y[1],h3=Y[2];break;case 5:Hi=Y[3],Yi=Y[4],Zi=Y[5],Ki=Y[9],Xi=Y[10],Gi=Y[11],$i=Y[21],Qi=Y[22],i3=Y[23],s3=Y[15],t3=Y[16],h3=Y[17]}(n2=K*(Hi-i2)+X*(Yi-Z2)+v*(Zi-g2))<=0&&h.addPoint(Hi,Yi,Zi,-K,-X,-v,n2,this.flip),(n2=K*(Ki-i2)+X*(Xi-Z2)+v*(Gi-g2))<=0&&h.addPoint(Ki,Xi,Gi,-K,-X,-v,n2,this.flip),(n2=K*($i-i2)+X*(Qi-Z2)+v*(i3-g2))<=0&&h.addPoint($i,Qi,i3,-K,-X,-v,n2,this.flip),(n2=K*(s3-i2)+X*(t3-Z2)+v*(h3-g2))<=0&&h.addPoint(s3,t3,h3,-K,-X,-v,n2,this.flip)}else{switch(yi){case 1:Ci?(Z=r+T,w=p+U,j=E+r2,K=M,X=O,v=R):(Z=r-T,w=p-U,j=E-r2,K=-M,X=-O,v=-R),Mi=P,Ii=$,Si=z,ei=D,Pi=V,Li=_,Vi=N,li=x;break;case 2:U2?(Z=r+K2,w=p+X2,j=E+_2,K=P,X=$,v=z):(Z=r-K2,w=p-X2,j=E-_2,K=-P,X=-$,v=-z),Mi=M,Ii=O,Si=R,ei=A,Pi=V,Li=_,Vi=N,li=x;break;case 3:q2?(Z=r+u,w=p+m2,j=E+d,K=V,X=_,v=N):(Z=r-u,w=p-m2,j=E-d,K=-V,X=-_,v=-N),Mi=M,Ii=O,Si=R,ei=A,Pi=P,Li=$,Vi=z,li=D}if(i2=F+(si=(c2=K*c+X*L+v*B)<0?S:-S)*c,Z2=C+si*L,g2=k+si*B,G2>=.999999?(f2=-X,h2=v,s2=K):(f2=K,h2=X,s2=v),t2=(si=f2*c+h2*L+s2*B)*c-f2,B2=si*L-h2,u2=si*B-s2,(si=f.sqrt(t2*t2+B2*B2+u2*u2))==0)return;if(f2=i2+(t2*=si=y/si),h2=Z2+(B2*=si),s2=g2+(u2*=si),c2<-.96||c2>.96)p2=c*c*1.5-.5,F2=c*L*1.5-.866025403*B,d2=c*B*1.5+.866025403*L,H=L*c*1.5+.866025403*B,J=L*L*1.5-.5,W=L*B*1.5-.866025403*c,x2=B*c*1.5-.866025403*L,y2=B*L*1.5+.866025403*c,D2=B*B*1.5-.5,(b2=Mi*(f2=(P2=f2)-(n2=K*(P2-Z)+X*((M2=h2)-w)+v*((A2=s2)-j))*K-Z)+Ii*(h2=M2-n2*X-w)+Si*(s2=A2-n2*v-j))<-ei?b2=-ei:b2>ei&&(b2=ei),(S2=Pi*f2+Li*h2+Vi*s2)<-li?S2=-li:S2>li&&(S2=li),P2=Z+(f2=b2*Mi+S2*Pi),M2=w+(h2=b2*Ii+S2*Li),A2=j+(s2=b2*Si+S2*Vi),h.addPoint(P2,M2,A2,K,X,v,n2,this.flip),M2=t2*H+B2*J+u2*W,A2=t2*x2+B2*y2+u2*D2,(n2=K*((P2=(t2=P2=t2*p2+B2*F2+u2*d2)+i2)-Z)+X*((M2=(B2=M2)+Z2)-w)+v*((A2=(u2=A2)+g2)-j))<=0&&((b2=Mi*(f2=P2-n2*K-Z)+Ii*(h2=M2-n2*X-w)+Si*(s2=A2-n2*v-j))<-ei?b2=-ei:b2>ei&&(b2=ei),(S2=Pi*f2+Li*h2+Vi*s2)<-li?S2=-li:S2>li&&(S2=li),P2=Z+(f2=b2*Mi+S2*Pi),M2=w+(h2=b2*Ii+S2*Li),A2=j+(s2=b2*Si+S2*Vi),h.addPoint(P2,M2,A2,K,X,v,n2,this.flip)),M2=t2*H+B2*J+u2*W,A2=t2*x2+B2*y2+u2*D2,(n2=K*((P2=(t2=P2=t2*p2+B2*F2+u2*d2)+i2)-Z)+X*((M2=(B2=M2)+Z2)-w)+v*((A2=(u2=A2)+g2)-j))<=0&&((b2=Mi*(f2=P2-n2*K-Z)+Ii*(h2=M2-n2*X-w)+Si*(s2=A2-n2*v-j))<-ei?b2=-ei:b2>ei&&(b2=ei),(S2=Pi*f2+Li*h2+Vi*s2)<-li?S2=-li:S2>li&&(S2=li),P2=Z+(f2=b2*Mi+S2*Pi),M2=w+(h2=b2*Ii+S2*Li),A2=j+(s2=b2*Si+S2*Vi),h.addPoint(P2,M2,A2,K,X,v,n2,this.flip));else{if(di=f2,c2>0?(Oi=f2+2*g,Ri=h2+2*C2,_i=s2+2*k2):(Oi=f2-2*g,Ri=h2-2*C2,_i=s2-2*k2),f2=(Oi-=(S2=K*(Oi-Z)+X*(Ri-w)+v*(_i-j))*K)-(di-=(b2=K*(di-Z)+X*((bi=h2)-w)+v*((vi=s2)-j))*K),h2=(Ri-=S2*X)-(bi-=b2*X),s2=(_i-=S2*v)-(vi-=b2*v),G=S2-b2,ti=(Q=(W2=Oi-Z)*Mi+(H2=Ri-w)*Ii+(w3=_i-j)*Si)-ei,(w2=(q=(v2=di-Z)*Mi+(O2=bi-w)*Ii+(J2=vi-j)*Si)-ei)>0){if(ti>0)return;q=(v2=(di+=f2*(N2=w2/(w2-ti)))-Z)*Mi+(O2=(bi+=h2*N2)-w)*Ii+(J2=(vi+=s2*N2)-j)*Si,f2=Oi-di,h2=Ri-bi,s2=_i-vi,G=S2-(b2+=G*N2)}else ti>0&&(Q=(W2=(Oi=di+f2*(N2=w2/(w2-ti)))-Z)*Mi+(H2=(Ri=bi+h2*N2)-w)*Ii+(w3=(_i=vi+s2*N2)-j)*Si,f2=Oi-di,h2=Ri-bi,s2=_i-vi,G=(S2=b2+G*N2)-b2);if(ti=Q+ei,(w2=q+ei)<0){if(ti<0)return;v2=(di+=f2*(N2=w2/(w2-ti)))-Z,O2=(bi+=h2*N2)-w,J2=(vi+=s2*N2)-j,f2=Oi-di,h2=Ri-bi,s2=_i-vi,G=S2-(b2+=G*N2)}else ti<0&&(W2=(Oi=di+f2*(N2=w2/(w2-ti)))-Z,H2=(Ri=bi+h2*N2)-w,w3=(_i=vi+s2*N2)-j,f2=Oi-di,h2=Ri-bi,s2=_i-vi,G=(S2=b2+G*N2)-b2);if(ti=(Q=W2*Pi+H2*Li+w3*Vi)-li,(w2=(q=v2*Pi+O2*Li+J2*Vi)-li)>0){if(ti>0)return;q=(v2=(di+=f2*(N2=w2/(w2-ti)))-Z)*Pi+(O2=(bi+=h2*N2)-w)*Li+(J2=(vi+=s2*N2)-j)*Vi,f2=Oi-di,h2=Ri-bi,s2=_i-vi,G=S2-(b2+=G*N2)}else ti>0&&(Q=(W2=(Oi=di+f2*(N2=w2/(w2-ti)))-Z)*Pi+(H2=(Ri=bi+h2*N2)-w)*Li+(w3=(_i=vi+s2*N2)-j)*Vi,f2=Oi-di,h2=Ri-bi,s2=_i-vi,G=(S2=b2+G*N2)-b2);if(ti=Q+li,(w2=q+li)<0){if(ti<0)return;di+=f2*(N2=w2/(w2-ti)),bi+=h2*N2,vi+=s2*N2,b2+=G*N2}else ti<0&&(Oi=di+f2*(N2=w2/(w2-ti)),Ri=bi+h2*N2,_i=vi+s2*N2,S2=b2+G*N2);b2<0&&h.addPoint(di,bi,vi,K,X,v,b2,this.flip),S2<0&&h.addPoint(Oi,Ri,_i,K,X,v,S2,this.flip)}}}}}),Ys.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ys,getSep:function(s,t,h,a,n){var e,l,o,r,p,E,F,C,k,A,D,x,S,y=new m,I=s.position.x,M=s.position.y,O=s.position.z,R=t.position.x,P=t.position.y,$=t.position.z,z=R-I,V=P-M,_=$-O;z*z+V*V+_*_==0&&(V=.001);var N=-z,T=-V,U=-_;this.supportPoint(s,-N,-T,-U,y);var r2=y.x,K2=y.y,X2=y.z;this.supportPoint(t,N,T,U,y);var _2=y.x,u=y.y,m2=y.z,d=_2-r2,c=u-K2,L=m2-X2;if(d*N+c*T+L*U<=0)return!1;if((N=c*_-L*V)*N+(T=L*z-d*_)*T+(U=d*V-c*z)*U==0)return h.set(d-z,c-V,L-_).normalize(),a.set(.5*(r2+_2),.5*(K2+u),.5*(X2+m2)),!0;this.supportPoint(s,-N,-T,-U,y);var B=y.x,g=y.y,C2=y.z;this.supportPoint(t,N,T,U,y);var k2=y.x,K=y.y,X=y.z,v=k2-B,q=K-g,Q=X-C2;if(v*N+q*T+Q*U<=0)return!1;(N=(l=c-V)*(E=Q-_)-(o=L-_)*(p=q-V))*z+(T=o*(r=v-z)-(e=d-z)*E)*V+(U=e*p-l*r)*_>0&&(e=d,l=c,o=L,d=v,c=q,L=Q,v=e,q=l,Q=o,e=r2,l=K2,o=X2,r2=B,K2=g,X2=C2,B=e,g=l,C2=o,e=_2,l=u,o=m2,_2=k2,u=K,m2=X,k2=e,K=l,X=o,N=-N,T=-T,U=-U);for(var ji=0;;){if(++ji>100)return!1;this.supportPoint(s,-N,-T,-U,y);var G2=y.x,Ci=y.y,U2=y.z;this.supportPoint(t,N,T,U,y);var q2=y.x,a2=y.y,Z=y.z,w=q2-G2,j=a2-Ci,i2=Z-U2;if(w*N+j*T+i2*U<=0)return!1;if((c*i2-L*j)*z+(L*w-d*i2)*V+(d*j-c*w)*_<0)v=w,q=j,Q=i2,B=G2,g=Ci,C2=U2,k2=q2,K=a2,X=Z,N=(l=c-V)*(E=i2-_)-(o=L-_)*(p=j-V),T=o*(r=w-z)-(e=d-z)*E,U=e*p-l*r;else if((j*Q-i2*q)*z+(i2*v-w*Q)*V+(w*q-j*v)*_<0)d=w,c=j,L=i2,r2=G2,K2=Ci,X2=U2,_2=q2,u=a2,m2=Z,N=(l=j-V)*(E=Q-_)-(o=i2-_)*(p=q-V),T=o*(r=v-z)-(e=w-z)*E,U=e*p-l*r;else for(var Z2=!1;;){if(N=(l=q-c)*(E=i2-L)-(o=Q-L)*(p=j-c),T=o*(r=w-d)-(e=v-d)*E,U=e*p-l*r,(N*=F=1/f.sqrt(N*N+T*T+U*U))*d+(T*=F)*c+(U*=F)*L>=0&&!Z2){var g2=(c*Q-L*q)*w+(L*v-d*Q)*j+(d*q-c*v)*i2,p2=(j*Q-i2*q)*z+(i2*v-w*Q)*V+(w*q-j*v)*_,F2=(V*L-_*c)*w+(_*d-z*L)*j+(z*c-V*d)*i2,d2=(q*L-Q*c)*z+(Q*d-v*L)*V+(v*c-q*d)*_,H=g2+p2+F2+d2;H<=0&&(g2=0,H=(p2=(q*i2-Q*j)*N+(Q*w-v*i2)*T+(v*j-q*w)*U)+(F2=(j*Q-i2*q)*N+(i2*v-w*Q)*T+(w*q-j*v)*U)+(d2=(c*Q-L*q)*N+(L*v-d*Q)*T+(d*q-c*v)*U));var J=1/H;C=(I*g2+r2*p2+B*F2+G2*d2)*J,k=(M*g2+K2*p2+g*F2+Ci*d2)*J,A=(O*g2+X2*p2+C2*F2+U2*d2)*J,D=(R*g2+_2*p2+k2*F2+q2*d2)*J,x=(P*g2+u*p2+K*F2+a2*d2)*J,S=($*g2+m2*p2+X*F2+Z*d2)*J,Z2=!0}this.supportPoint(s,-N,-T,-U,y);var W=y.x,x2=y.y,y2=y.z;this.supportPoint(t,N,T,U,y);var D2=y.x,P2=y.y,M2=y.z,A2=D2-W,n2=P2-x2,c2=M2-y2,si=-(A2*N+n2*T+c2*U);if((A2-w)*N+(n2-j)*T+(c2-i2)*U<=.01||si>=0)return!!Z2&&(h.set(-N,-T,-U),a.set(.5*(C+D),.5*(k+x),.5*(A+S)),n.x=si,!0);(n2*L-c2*c)*z+(c2*d-A2*L)*V+(A2*c-n2*d)*_<0?(n2*Q-c2*q)*z+(c2*v-A2*Q)*V+(A2*q-n2*v)*_<0?(d=A2,c=n2,L=c2,r2=W,K2=x2,X2=y2,_2=D2,u=P2,m2=M2):(w=A2,j=n2,i2=c2,G2=W,Ci=x2,U2=y2,q2=D2,a2=P2,Z=M2):(n2*i2-c2*j)*z+(c2*w-A2*i2)*V+(A2*j-n2*w)*_<0?(v=A2,q=n2,Q=c2,B=W,g=x2,C2=y2,k2=D2,K=P2,X=M2):(d=A2,c=n2,L=c2,r2=W,K2=x2,X2=y2,_2=D2,u=P2,m2=M2)}}},supportPoint:function(s,t,h,a,n){var e,l,o,r=s.rotation.elements,p=r[0]*t+r[3]*h+r[6]*a,E=r[1]*t+r[4]*h+r[7]*a,F=r[2]*t+r[5]*h+r[8]*a,C=p,k=F,A=C*C+k*k,D=s.radius,x=s.halfHeight;A==0?E<0?(e=D,l=-x,o=0):(e=D,l=x,o=0):(A=s.radius/f.sqrt(A),E<0?(e=C*A,l=-x,o=k*A):(e=C*A,l=x,o=k*A)),p=r[0]*e+r[1]*l+r[2]*o+s.position.x,E=r[3]*e+r[4]*l+r[5]*o+s.position.y,F=r[6]*e+r[7]*l+r[8]*o+s.position.z,n.set(p,E,F)},detectCollision:function(s,t,h){var a,n;s.id<t.id?(a=s,n=t):(a=t,n=s);var e,l,o,r,p,E,F,C,k,A,D,x,S,y,I,M,O,R,P,$,z,V=a.position,_=n.position,N=V.x,T=V.y,U=V.z,r2=_.x,K2=_.y,X2=_.z,_2=a.halfHeight,u=n.halfHeight,m2=a.normalDirection,d=n.normalDirection,c=a.halfDirection,L=n.halfDirection,B=a.radius,g=n.radius,C2=m2.x,k2=m2.y,K=m2.z,X=d.x,v=d.y,q=d.z,Q=c.x,ji=c.y,G2=c.z,Ci=L.x,U2=L.y,q2=L.z,a2=N-r2,Z=T-K2,w=U-X2,j=new m,i2=new m,Z2=new m;if(this.getSep(a,n,j,i2,Z2)){var g2=j.x*C2+j.y*k2+j.z*K,p2=j.x*X+j.y*v+j.z*q,F2=g2>0,d2=p2>0;F2||(g2=-g2),d2||(p2=-p2);var H,J,W,x2=0;(g2>.999||p2>.999)&&(x2=g2>p2?1:2);var y2,D2,P2,M2,A2,n2,c2,si,f2,h2,s2,G,t2,B2,u2,v2,O2=Z2.x;switch(H=j.x,J=j.y,W=j.z,x2){case 0:h.addPoint(i2.x,i2.y,i2.z,H,J,W,O2,!1);break;case 1:if(F2?(l=N+Q,o=T+ji,r=U+G2,H=C2,J=k2,W=K):(l=N-Q,o=T-ji,r=U-G2,H=-C2,J=-k2,W=-K),p=r2+(e=(P=H*X+J*v+W*q)<0?u:-u)*X,E=K2+e*v,F=X2+e*q,p2>=.999999?(C=-J,k=W,A=H):(C=H,k=J,A=W),a2=(e=C*X+k*v+A*q)*X-C,Z=e*v-k,w=e*q-A,(e=f.sqrt(a2*a2+Z*Z+w*w))==0)break;if(C=p+(a2*=e=g/e),k=E+(Z*=e),A=F+(w*=e),P<-.96||P>.96)y2=X*X*1.5-.5,D2=X*v*1.5-.866025403*q,P2=X*q*1.5+.866025403*v,M2=v*X*1.5+.866025403*q,A2=v*v*1.5-.5,n2=v*q*1.5-.866025403*X,c2=q*X*1.5-.866025403*v,si=q*v*1.5+.866025403*X,f2=q*q*1.5-.5,(e=(C=(h2=C)-(t2=H*(h2-l)+J*((s2=k)-o)+W*((G=A)-r))*H-l)*C+(k=s2-t2*J-o)*k+(A=G-t2*W-r)*A)>B*B&&(C*=e=B/f.sqrt(e),k*=e,A*=e),h2=l+C,s2=o+k,G=r+A,h.addPoint(h2,s2,G,H,J,W,t2,!1),s2=a2*M2+Z*A2+w*n2,G=a2*c2+Z*si+w*f2,(t2=H*((h2=(a2=h2=a2*y2+Z*D2+w*P2)+p)-l)+J*((s2=(Z=s2)+E)-o)+W*((G=(w=G)+F)-r))<=0&&((e=(C=h2-t2*H-l)*C+(k=s2-t2*J-o)*k+(A=G-t2*W-r)*A)>B*B&&(C*=e=B/f.sqrt(e),k*=e,A*=e),h2=l+C,s2=o+k,G=r+A,h.addPoint(h2,s2,G,H,J,W,t2,!1)),s2=a2*M2+Z*A2+w*n2,G=a2*c2+Z*si+w*f2,(t2=H*((h2=(a2=h2=a2*y2+Z*D2+w*P2)+p)-l)+J*((s2=(Z=s2)+E)-o)+W*((G=(w=G)+F)-r))<=0&&((e=(C=h2-t2*H-l)*C+(k=s2-t2*J-o)*k+(A=G-t2*W-r)*A)>B*B&&(C*=e=B/f.sqrt(e),k*=e,A*=e),h2=l+C,s2=o+k,G=r+A,h.addPoint(h2,s2,G,H,J,W,t2,!1));else{if(D=C,P>0?(y=C+X*u*2,I=k+v*u*2,M=A+q*u*2):(y=C-X*u*2,I=k-v*u*2,M=A-q*u*2),(v2=(B2=(a2=l-(D-=(O=H*(D-l)+J*((x=k)-o)+W*((S=A)-r))*H))*(C=(y-=(R=H*(y-l)+J*(I-o)+W*(M-r))*H)-D)+(Z=o-(x-=O*J))*(k=(I-=R*J)-x)+(w=r-(S-=O*W))*(A=(M-=R*W)-S))*B2-(u2=C*C+k*k+A*A)*(a2*a2+Z*Z+w*w-B*B))<0)break;(z=(B2-(v2=f.sqrt(v2)))/u2)<($=(B2+v2)/u2)&&(e=$,$=z,z=e),z>1&&(z=1),$<0&&($=0),C=D+(y-D)*$,k=x+(I-x)*$,A=S+(M-S)*$,y=D+(y-D)*z,I=x+(I-x)*z,M=S+(M-S)*z,D=C,x=k,S=A,e=O+(R-O)*$,R=O+(R-O)*z,(O=e)<0&&h.addPoint(D,x,S,H,J,W,t2,!1),R<0&&h.addPoint(y,I,M,H,J,W,t2,!1)}break;case 2:if(d2?(p=r2-Ci,E=K2-U2,F=X2-q2,H=-X,J=-v,W=-q):(p=r2+Ci,E=K2+U2,F=X2+q2,H=X,J=v,W=q),l=N+(e=(P=H*C2+J*k2+W*K)<0?_2:-_2)*C2,o=T+e*k2,r=U+e*K,g2>=.999999?(C=-J,k=W,A=H):(C=H,k=J,A=W),a2=(e=C*C2+k*k2+A*K)*C2-C,Z=e*k2-k,w=e*K-A,(e=f.sqrt(a2*a2+Z*Z+w*w))==0)break;if(C=l+(a2*=e=B/e),k=o+(Z*=e),A=r+(w*=e),P<-.96||P>.96)y2=C2*C2*1.5-.5,D2=C2*k2*1.5-.866025403*K,P2=C2*K*1.5+.866025403*k2,M2=k2*C2*1.5+.866025403*K,A2=k2*k2*1.5-.5,n2=k2*K*1.5-.866025403*C2,c2=K*C2*1.5-.866025403*k2,si=K*k2*1.5+.866025403*C2,f2=K*K*1.5-.5,(e=(C=(h2=C)-(t2=H*(h2-p)+J*((s2=k)-E)+W*((G=A)-F))*H-p)*C+(k=s2-t2*J-E)*k+(A=G-t2*W-F)*A)>g*g&&(C*=e=g/f.sqrt(e),k*=e,A*=e),h2=p+C,s2=E+k,G=F+A,h.addPoint(h2,s2,G,-H,-J,-W,t2,!1),s2=a2*M2+Z*A2+w*n2,G=a2*c2+Z*si+w*f2,(t2=H*((h2=(a2=h2=a2*y2+Z*D2+w*P2)+l)-p)+J*((s2=(Z=s2)+o)-E)+W*((G=(w=G)+r)-F))<=0&&((e=(C=h2-t2*H-p)*C+(k=s2-t2*J-E)*k+(A=G-t2*W-F)*A)>g*g&&(C*=e=g/f.sqrt(e),k*=e,A*=e),h2=p+C,s2=E+k,G=F+A,h.addPoint(h2,s2,G,-H,-J,-W,t2,!1)),s2=a2*M2+Z*A2+w*n2,G=a2*c2+Z*si+w*f2,(t2=H*((h2=(a2=h2=a2*y2+Z*D2+w*P2)+l)-p)+J*((s2=(Z=s2)+o)-E)+W*((G=(w=G)+r)-F))<=0&&((e=(C=h2-t2*H-p)*C+(k=s2-t2*J-E)*k+(A=G-t2*W-F)*A)>g*g&&(C*=e=g/f.sqrt(e),k*=e,A*=e),h2=p+C,s2=E+k,G=F+A,h.addPoint(h2,s2,G,-H,-J,-W,t2,!1));else{if(D=C,P>0?(y=C+C2*_2*2,I=k+k2*_2*2,M=A+K*_2*2):(y=C-C2*_2*2,I=k-k2*_2*2,M=A-K*_2*2),(v2=(B2=(a2=p-(D-=(O=H*(D-p)+J*((x=k)-E)+W*((S=A)-F))*H))*(C=(y-=(R=H*(y-p)+J*(I-E)+W*(M-F))*H)-D)+(Z=E-(x-=O*J))*(k=(I-=R*J)-x)+(w=F-(S-=O*W))*(A=(M-=R*W)-S))*B2-(u2=C*C+k*k+A*A)*(a2*a2+Z*Z+w*w-g*g))<0)break;(z=(B2-(v2=f.sqrt(v2)))/u2)<($=(B2+v2)/u2)&&(e=$,$=z,z=e),z>1&&(z=1),$<0&&($=0),C=D+(y-D)*$,k=x+(I-x)*$,A=S+(M-S)*$,y=D+(y-D)*z,I=x+(I-x)*z,M=S+(M-S)*z,D=C,x=k,S=A,e=O+(R-O)*$,R=O+(R-O)*z,(O=e)<0&&h.addPoint(D,x,S,-H,-J,-W,O,!1),R<0&&h.addPoint(y,I,M,-H,-J,-W,R,!1)}}}}}),Ns.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ns,detectCollision:function(s,t,h){var a,n;this.flip?(a=t,n=s):(a=s,n=t);var e,l,o,r,p,E=n.dimentions,F=a.position,C=F.x,k=F.y,A=F.z,D=n.position,x=D.x,S=D.y,y=D.z,I=a.radius,M=n.halfWidth,O=n.halfHeight,R=n.halfDepth,P=C-x,$=k-S,z=A-y,V=E[0]*P+E[1]*$+E[2]*z,_=E[3]*P+E[4]*$+E[5]*z,N=E[6]*P+E[7]*$+E[8]*z,T=0;V>M?V=M:V<-M?V=-M:T=1,_>O?_=O:_<-O?_=-O:T|=2,N>R?N=R:N<-R?N=-R:T|=4,T==7?(z=N<0?R+N:R-N,(P=V<0?M+V:M-V)<($=_<0?O+_:O-_)?P<z?(r=P-M,V<0?(V=-M,P=E[0],$=E[1],z=E[2]):(V=M,P=-E[0],$=-E[1],z=-E[2])):(r=z-R,N<0?(N=-R,P=E[6],$=E[7],z=E[8]):(N=R,P=-E[6],$=-E[7],z=-E[8])):$<z?(r=$-O,_<0?(_=-O,P=E[3],$=E[4],z=E[5]):(_=O,P=-E[3],$=-E[4],z=-E[5])):(r=z-R,N<0?(N=-R,P=E[6],$=E[7],z=E[8]):(N=R,P=-E[6],$=-E[7],z=-E[8])),e=x+V*E[0]+_*E[3]+N*E[6],l=S+V*E[1]+_*E[4]+N*E[7],o=y+V*E[2]+_*E[5]+N*E[8],h.addPoint(C+I*P,k+I*$,A+I*z,P,$,z,r-I,this.flip)):(e=x+V*E[0]+_*E[3]+N*E[6],l=S+V*E[1]+_*E[4]+N*E[7],o=y+V*E[2]+_*E[5]+N*E[8],(r=(P=e-F.x)*P+($=l-F.y)*$+(z=o-F.z)*z)>0&&r<I*I&&(P*=p=1/(r=f.sqrt(r)),$*=p,z*=p,h.addPoint(C+I*P,k+I*$,A+I*z,P,$,z,r-I,this.flip)))}}),Ms.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ms,detectCollision:function(s,t,h){var a,n;this.flip?(a=t,n=s):(a=s,n=t);var e=a.position,l=e.x,o=e.y,r=e.z,p=n.position,E=p.x,F=p.y,C=p.z,k=n.normalDirection.x,A=n.normalDirection.y,D=n.normalDirection.z,x=a.radius,S=n.radius,y=x+S,I=n.halfHeight,M=l-E,O=o-F,R=r-C,P=M*k+O*A+R*D;if(!(P<-I-x||P>I+x)){var $,z=E+P*k,V=F+P*A,_=C+P*D,N=l-z,T=o-V,U=r-_,r2=N*N+T*T+U*U;r2>y*y||(r2>S*S&&(N*=r2=S/f.sqrt(r2),T*=r2,U*=r2),P<-I?P=-I:P>I&&(P=I),(r2=(M=(z=E+P*k+N)-l)*M+(O=(V=F+P*A+T)-o)*O+(R=(_=C+P*D+U)-r)*R)>0&&r2<x*x&&(M*=$=1/(r2=f.sqrt(r2)),O*=$,R*=$,h.addPoint(l+M*x,o+O*x,r+R*x,M,O,R,r2-x,this.flip)))}}}),Zs.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Zs,detectCollision:function(s,t,h){var a=s,n=t,e=a.position,l=n.position,o=l.x-e.x,r=l.y-e.y,p=l.z-e.z,E=o*o+r*r+p*p,F=a.radius,C=F+n.radius;if(E>0&&E<C*C){var k=1/(E=f.sqrt(E));o*=k,r*=k,p*=k,h.addPoint(e.x+o*F,e.y+r*F,e.z+p*F,o,r,p,E-C,!1)}}}),Is.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Is,detectCollision:function(s,t,h){var a,n=this.n,e=this.p,l=this.flip?t:s,o=this.flip?s:t,r=l.radius;n.sub(l.position,o.position),n.x*=o.normal.x,n.y*=o.normal.y,n.z*=o.normal.z,(a=n.lengthSq())>0&&a<r*r&&(a=f.sqrt(a),n.copy(o.normal).negate(),e.copy(l.position).addScaledVector(n,r),h.addPointVec(e,n,a-r,this.flip))}}),Ss.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ss,detectCollision:function(s,t,h){var a,n=this.n,e=this.p,l=this.cc,o=this.flip?t:s,r=this.flip?s:t,p=o.dimentions,E=o.halfWidth,F=o.halfHeight,C=o.halfDepth,k=0;this.dix.set(p[0],p[1],p[2]),this.diy.set(p[3],p[4],p[5]),this.diz.set(p[6],p[7],p[8]),n.sub(o.position,r.position),n.x*=r.normal.x,n.y*=r.normal.y,n.z*=r.normal.z,l.set(f.dotVectors(this.dix,n),f.dotVectors(this.diy,n),f.dotVectors(this.diz,n)),l.x>E?l.x=E:l.x<-E?l.x=-E:k=1,l.y>F?l.y=F:l.y<-F?l.y=-F:k|=2,l.z>C?l.z=C:l.z<-C?l.z=-C:k|=4,k===7&&(n.set(l.x<0?E+l.x:E-l.x,l.y<0?F+l.y:F-l.y,l.z<0?C+l.z:C-l.z),n.x<n.y?n.x<n.z?(a=n.x-E,l.x<0?(l.x=-E,n.copy(this.dix)):(l.x=E,n.subEqual(this.dix))):(a=n.z-C,l.z<0?(l.z=-C,n.copy(this.diz)):(l.z=C,n.subEqual(this.diz))):n.y<n.z?(a=n.y-F,l.y<0?(l.y=-F,n.copy(this.diy)):(l.y=F,n.subEqual(this.diy))):(a=n.z-C,l.z<0?(l.z=-C,n.copy(this.diz)):(l.z=C,n.subEqual(this.diz))),e.copy(r.position).addScaledVector(n,1),h.addPointVec(e,n,a,this.flip))}}),Object.assign(Et.prototype,{World:!0,play:function(){if(this.timer===null){var s=this;this.timer=setInterval(function(){s.step()},this.timerate)}},stop:function(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)},setGravity:function(s){this.gravity.fromArray(s)},getInfo:function(){return this.isStat?this.performance.show():""},clear:function(){for(this.stop(),this.preLoop=null,this.postLoop=null,this.randX=65535;this.joints!==null;)this.removeJoint(this.joints);for(;this.contacts!==null;)this.removeContact(this.contacts);for(;this.rigidBodies!==null;)this.removeRigidBody(this.rigidBodies)},addRigidBody:function(s){s.parent&&qi("World","It is not possible to be added to more than one world one of the rigid body"),s.setParent(this);for(var t=s.shapes;t!==null;t=t.next)this.addShape(t);this.rigidBodies!==null&&((this.rigidBodies.prev=s).next=this.rigidBodies),this.rigidBodies=s,this.numRigidBodies++},removeRigidBody:function(s){var t=s;if(t.parent===this){t.awake();for(var h=t.jointLink;h!=null;){var a=h.joint;h=h.next,this.removeJoint(a)}for(var n=s.shapes;n!==null;n=n.next)this.removeShape(n);var e=t.prev,l=t.next;e!==null&&(e.next=l),l!==null&&(l.prev=e),this.rigidBodies==t&&(this.rigidBodies=l),t.prev=null,t.next=null,t.parent=null,this.numRigidBodies--}},getByName:function(s){for(var t=this.rigidBodies;t!==null;){if(t.name===s)return t;t=t.next}for(var h=this.joints;h!==null;){if(h.name===s)return h;h=h.next}return null},addShape:function(s){s.parent&&s.parent.parent||qi("World","It is not possible to be added alone to shape world"),s.proxy=this.broadPhase.createProxy(s),s.updateProxy(),this.broadPhase.addProxy(s.proxy)},removeShape:function(s){this.broadPhase.removeProxy(s.proxy),s.proxy=null},addJoint:function(s){s.parent&&qi("World","It is not possible to be added to more than one world one of the joint"),this.joints!=null&&((this.joints.prev=s).next=this.joints),this.joints=s,s.setParent(this),this.numJoints++,s.awake(),s.attach()},removeJoint:function(s){var t=s,h=t.prev,a=t.next;h!==null&&(h.next=a),a!==null&&(a.prev=h),this.joints==t&&(this.joints=a),t.prev=null,t.next=null,this.numJoints--,t.awake(),t.detach(),t.parent=null},addContact:function(s,t){var h;this.unusedContacts!==null?(h=this.unusedContacts,this.unusedContacts=this.unusedContacts.next):h=new nt,h.attach(s,t),h.detector=this.detectors[s.type][t.type],this.contacts&&((this.contacts.prev=h).next=this.contacts),this.contacts=h,this.numContacts++},removeContact:function(s){var t=s.prev,h=s.next;h&&(h.prev=t),t&&(t.next=h),this.contacts==s&&(this.contacts=h),s.prev=null,s.next=null,s.detach(),s.next=this.unusedContacts,this.unusedContacts=s,this.numContacts--},getContact:function(s,t){var h,a;s=s.constructor===G3?s.name:s,t=t.constructor===G3?t.name:t;for(var n=this.contacts;n!==null;){if(h=n.body1.name,a=n.body2.name,h===s&&a===t||a===s&&h===t)return n.touching?n:null;n=n.next}return null},checkContact:function(s,t){for(var h,a,n=this.contacts;n!==null;){if(h=n.body1.name||" ",a=n.body2.name||" ",h==s&&a==t||a==s&&h==t)return!!n.touching;n=n.next}},callSleep:function(s){return!!s.allowSleep&&!(s.linearVelocity.lengthSq()>.04)&&!(s.angularVelocity.lengthSq()>.25)},step:function(){var s=this.isStat;s&&this.performance.setTime(0);for(var t=this.rigidBodies;t!==null;)t.addedToIsland=!1,t.sleeping&&t.testWakeUp(),t=t.next;s&&this.performance.setTime(1),this.broadPhase.detectPairs();for(var h=this.broadPhase.pairs,a=this.broadPhase.numPairs;a--;){var n,e,l,o=h[a];o.shape1.id<o.shape2.id?(n=o.shape1,e=o.shape2):(n=o.shape2,e=o.shape1),l=n.numContacts<e.numContacts?n.contactLink:e.contactLink;for(var r=!1;l;){if((M=l.contact).shape1==n&&M.shape2==e){M.persisting=!0,r=!0;break}l=l.next}r||this.addContact(n,e)}for(s&&this.performance.calcBroadPhase(),this.numContactPoints=0,M=this.contacts;M!==null;)if(M.persisting||!M.shape1.aabb.intersectTest(M.shape2.aabb)){var p=M.body1,E=M.body2;(p.isDynamic&&!p.sleeping||E.isDynamic&&!E.sleeping)&&M.updateManifold(),this.numContactPoints+=M.manifold.numPoints,M.persisting=!1,M.constraint.addedToIsland=!1,M=M.next}else{var F=M.next;this.removeContact(M),M=F}s&&this.performance.calcNarrowPhase();var C,k,A=1/this.timeStep;for(C=this.joints;C!==null;C=C.next)C.addedToIsland=!1;this.islandRigidBodies=[],this.islandConstraints=[],this.islandStack=[],s&&this.performance.setTime(1),this.numIslands=0;for(var D=this.rigidBodies;D!==null;D=D.next)if(!(D.addedToIsland||D.isStatic||D.sleeping))if(D.isLonely())D.isDynamic&&D.linearVelocity.addScaledVector(this.gravity,this.timeStep),this.callSleep(D)?(D.sleepTime+=this.timeStep,D.sleepTime>.5?D.sleep():D.updatePosition(this.timeStep)):(D.sleepTime=0,D.updatePosition(this.timeStep)),this.numIslands++;else{var x=0,S=0,y=1;this.islandStack[0]=D,D.addedToIsland=!0;do if(t=this.islandStack[--y],this.islandStack[y]=null,t.sleeping=!1,this.islandRigidBodies[x++]=t,!t.isStatic){for(var I=t.contactLink;I!==null;I=I.next){var M;!(k=(M=I.contact).constraint).addedToIsland&&M.touching&&(this.islandConstraints[S++]=k,k.addedToIsland=!0,(F=I.body).addedToIsland||(this.islandStack[y++]=F,F.addedToIsland=!0))}for(var O=t.jointLink;O!==null;O=O.next)(k=O.joint).addedToIsland||(this.islandConstraints[S++]=k,k.addedToIsland=!0,!(F=O.body).addedToIsland&&F.isDynamic&&(this.islandStack[y++]=F,F.addedToIsland=!0))}while(y!=0);for(var R=new m().addScaledVector(this.gravity,this.timeStep),P=x;P--;)(t=this.islandRigidBodies[P]).isDynamic&&t.linearVelocity.addEqual(R);if(this.enableRandomizer){for(P=S;P--;)if(P!==0){var $=(this.randX=this.randX*this.randA+this.randB&2147483647)/2147483648*P|0;k=this.islandConstraints[P],this.islandConstraints[P]=this.islandConstraints[$],this.islandConstraints[$]=k}}for(P=S;P--;)this.islandConstraints[P].preSolve(this.timeStep,A);for(var z=this.numIterations;z--;)for(P=S;P--;)this.islandConstraints[P].solve();for(P=S;P--;)this.islandConstraints[P].postSolve(),this.islandConstraints[P]=null;var V=10;for(P=x;P--;)t=this.islandRigidBodies[P],this.callSleep(t)?(t.sleepTime+=this.timeStep,t.sleepTime<V&&(V=t.sleepTime)):(t.sleepTime=0,V=0);if(V>.5)for(P=x;P--;)this.islandRigidBodies[P].sleep(),this.islandRigidBodies[P]=null;else for(P=x;P--;)this.islandRigidBodies[P].updatePosition(this.timeStep),this.islandRigidBodies[P]=null;this.numIslands++}s&&this.performance.calcEnd(),this.postLoop!==null&&this.postLoop()},remove:function(s){},add:function(s){var t=(s=s||{}).type||"box";return t.constructor===String&&(t=[t]),t[0].substring(0,5)==="joint"?this.initJoint(t[0],s):this.initBody(t,s)},initBody:function(s,t){var h=this.invScale,a=t.move||!1,n=t.kinematic||!1,e=t.pos||[0,0,0];e=e.map(function(D){return D*h});var l=t.posShape||[0,0,0];l=l.map(function(D){return D*h});var o=t.rot||[0,0,0];o=o.map(function(D){return D*f.degtorad});var r=t.rotShape;r=o.map(function(D){return D*f.degtorad});var p=t.size===void 0?[1,1,1]:t.size;p.length===1&&(p[1]=p[0]),p.length===2&&(p[2]=p[0]),p=p.map(function(D){return D*h});var E=new it;t.density!==void 0&&(E.density=t.density),t.friction!==void 0&&(E.friction=t.friction),t.restitution!==void 0&&(E.restitution=t.restitution),t.belongsTo!==void 0&&(E.belongsTo=t.belongsTo),t.collidesWith!==void 0&&(E.collidesWith=t.collidesWith),t.config!==void 0&&(t.config[0]!==void 0&&(E.density=t.config[0]),t.config[1]!==void 0&&(E.friction=t.config[1]),t.config[2]!==void 0&&(E.restitution=t.config[2]),t.config[3]!==void 0&&(E.belongsTo=t.config[3]),t.config[4]!==void 0&&(E.collidesWith=t.config[4]));for(var F,C,k=new G3(new m(e[0],e[1],e[2]),new ri().setFromEuler(o[0],o[1],o[2])),A=0;A<s.length;A++){switch(l[C=3*A]!==void 0&&E.relativePosition.set(l[C],l[C+1],l[C+2]),r[C]!==void 0&&E.relativeRotation.setQuat(new ri().setFromEuler(r[C],r[C+1],r[C+2])),s[A]){case"sphere":F=new _3(E,p[C]);break;case"cylinder":F=new cs(E,p[C],p[C+1]);break;case"box":F=new as(E,p[C],p[C+1],p[C+2]);break;case"plane":F=new Fs(E)}k.addShape(F)}return t.neverSleep||n?k.allowSleep=!1:k.allowSleep=!0,k.isKinematic=n,a?t.massPos||t.massRot?k.setupMass(1,!1):k.setupMass(1,!0):k.setupMass(2),t.name!==void 0&&(k.name=t.name),this.addRigidBody(k),a&&(t.sleep?k.sleep():k.awake()),k},initJoint:function(s,t){var h,a,n=this.invScale,e=t.axe1||[1,0,0],l=t.axe2||[1,0,0],o=t.pos1||[0,0,0],r=t.pos2||[0,0,0];o=o.map(function(x){return x*n}),r=r.map(function(x){return x*n}),s==="jointDistance"?(h=t.min||0,a=t.max||10,h*=n,a*=n):(h=t.min||57.29578,a=t.max||0,h*=f.degtorad,a*=f.degtorad);var p=t.limit||null,E=t.spring||null,F=t.motor||null,C=new at;C.scale=this.scale,C.invScale=this.invScale,C.allowCollision=t.collision||!1,C.localAxis1.set(e[0],e[1],e[2]),C.localAxis2.set(l[0],l[1],l[2]),C.localAnchorPoint1.set(o[0],o[1],o[2]),C.localAnchorPoint2.set(r[0],r[1],r[2]);var k,A=null,D=null;if(t.body1===void 0||t.body2===void 0)return qi("World","Can't add joint if attach rigidbodys not define !");if(t.body1.constructor===String?A=this.getByName(t.body1):t.body1.constructor===Number?A=this.getByName(t.body1):t.body1.constructor===G3&&(A=t.body1),t.body2.constructor===String?D=this.getByName(t.body2):t.body2.constructor===Number?D=this.getByName(t.body2):t.body2.constructor===G3&&(D=t.body2),A===null||D===null)return qi("World","Can't add joint attach rigidbodys not find !");switch(C.body1=A,C.body2=D,s){case"jointDistance":k=new ms(C,h,a),E!==null&&k.limitMotor.setSpring(E[0],E[1]),F!==null&&k.limitMotor.setMotor(F[0],F[1]);break;case"jointHinge":case"joint":k=new ys(C,h,a),E!==null&&k.limitMotor.setSpring(E[0],E[1]),F!==null&&k.limitMotor.setMotor(F[0],F[1]);break;case"jointPrisme":k=new us(C,h,a);break;case"jointSlide":k=new gs(C,h,a);break;case"jointBall":k=new Ds(C);break;case"jointWheel":k=new xs(C),p!==null&&k.rotationalLimitMotor1.setLimit(p[0],p[1]),E!==null&&k.rotationalLimitMotor1.setSpring(E[0],E[1]),F!==null&&k.rotationalLimitMotor1.setMotor(F[0],F[1])}return k.name=t.name||"",this.addJoint(k),k}}),o2.Math=f,o2.Vec3=m,o2.Quat=ri,o2.Mat33=j2,o2.Shape=n3,o2.Box=as,o2.Sphere=_3,o2.Cylinder=cs,o2.Plane=Fs,o2.Particle=Vs,o2.ShapeConfig=it,o2.LimitMotor=Ti,o2.HingeJoint=ys,o2.BallAndSocketJoint=Ds,o2.DistanceJoint=ms,o2.PrismaticJoint=us,o2.SliderJoint=gs,o2.WheelJoint=xs,o2.JointConfig=at,o2.RigidBody=G3,o2.World=Et,o2.REVISION=W3,o2.BR_NULL=z3,o2.BR_BRUTE_FORCE=es,o2.BR_SWEEP_AND_PRUNE=O3,o2.BR_BOUNDING_VOLUME_TREE=ss,o2.BODY_NULL=ls,o2.BODY_DYNAMIC=1,o2.BODY_STATIC=2,o2.BODY_KINEMATIC=3,o2.BODY_GHOST=4,o2.SHAPE_NULL=Es,o2.SHAPE_SPHERE=a3,o2.SHAPE_BOX=C3,o2.SHAPE_CYLINDER=g3,o2.SHAPE_PLANE=x3,o2.SHAPE_PARTICLE=v3,o2.SHAPE_TETRA=6,o2.JOINT_NULL=oi,o2.JOINT_DISTANCE=k3,o2.JOINT_BALL_AND_SOCKET=R3,o2.JOINT_HINGE=ts,o2.JOINT_WHEEL=hs,o2.JOINT_SLIDER=H3,o2.JOINT_PRISMATIC=rs,o2.AABB_PROX=.005,o2.printError=qi,o2.InfoDisplay=ps,Object.defineProperty(o2,"__esModule",{value:!0})});const Tt=K3("canvas",{id:"collisionBall",class:"stage"},null,-1),jt=10,Bt=20,Ot=gt({__name:"collisionBall",setup(o2){const{Engine:f3,Scene:X3,ArcRotateCamera:b3,Vector3:Fi,Color3:W3,Color4:z3,HemisphericLight:es,MeshBuilder:O3,StandardMaterial:ss,Texture:ls,OimoJSPlugin:Es,PhysicsImpostor:a3}=ut,C3=xt(0),g3=async()=>{const x3=document.getElementById("collisionBall");x3.addEventListener("wheel",function(m){m.preventDefault()});const v3=new f3(x3,!0,{preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1}),oi=new X3(v3);oi.useRightHandedSystem=!0,oi.enablePhysics(new Fi(0,-9.81,0),new Es);const k3=new b3("camera",-Math.PI/1.5,Math.PI/2.2,15,new Fi(0,0,0),oi);k3.upperBetaLimit=Math.PI/2.2,k3.wheelPrecision=30,k3.attachControl(x3,!0),k3.setPosition(new Fi(120,50,120));const R3=()=>new es("light",new Fi(1,1,0),oi),ts=()=>{O3.CreateLines("axisX",{colors:[new z3(1,1,1,1),new z3(1,0,0,1)],points:[new Fi(0,0,0),new Fi(200,0,0)]},oi),O3.CreateLines("axisY",{colors:[new z3(1,1,1,1),new z3(0,1,0,1)],points:[new Fi(0,0,0),new Fi(0,200,0)]},oi),O3.CreateLines("axisZ",{colors:[new z3(1,1,1,1),new z3(0,0,1,1)],points:[new Fi(0,0,0),new Fi(0,0,200)]},oi)},hs=()=>{const m=new ss("ground",oi),ri=new ls("/images/wood.jpg",oi);m.diffuseTexture=ri,m.specularColor=W3.Black();const j2=O3.CreateBox("box",{size:200},oi);j2.position.y=0,j2.position.x=0,j2.scaling.y=.01,j2.material=m,j2.physicsImpostor=new a3(j2,a3.BoxImpostor,{mass:0,restitution:.7},oi)},H3=(m,ri)=>Math.random()*(ri-m)+m,rs=m=>new Fi(H3(-50,50),m,H3(-50,50)),f=()=>{const m=[],ri=O3.CreateSphere("s",{diameter:8},oi);ri.isVisible=!1;for(let j2=0;j2<jt;j2++){const A3=ri.clone(`index_${j2}`);A3.isVisible=!0;const Ls=Math.random(),n3=Math.random()*10,as=Bt+(Ls>.5?n3:n3*-1);A3.position=rs(as),A3.physicsImpostor=new a3(A3,a3.SphereImpostor,{mass:50,restitution:.9},oi),A3.physicsImpostor.applyImpulse(new Fi(0,-20,0),new Fi(0,0,0));const _3=new ss("mat",oi);_3.diffuseColor=new W3(.4,.4,.4),_3.specularColor=new W3(.4,.4,.4),_3.emissiveColor=W3.Red(),A3.material=_3,m.push(A3)}return m},qi=()=>{v3.runRenderLoop(function(){oi&&oi.activeCamera&&(oi.render(),C3.value=v3.getFps().toFixed(2))})};hs();const ps=f();ts(),R3(),qi(),oi.registerBeforeRender(function(){ps.forEach(function(m){if(m.position.y<-10){const ri=Math.random(),j2=Math.random()*10,A3=Bt+(ri>.5?j2:j2*-1);m.position=rs(A3),m.physicsImpostor.setLinearVelocity(new Fi(0,0,0))}})})};return ft(async()=>{await bt(),g3()}),(x3,v3)=>($s(),Qs("div",null,[K3("div",null,"fps: "+vt(C3.value),1),Tt]))}}),Rt=K3("h2",{id:"球碰撞地面反弹",tabindex:"-1"},[zt("球碰撞地面反弹 "),K3("a",{class:"header-anchor",href:"#球碰撞地面反弹","aria-label":'Permalink to "球碰撞地面反弹"'},"​")],-1),_t=K3("h2",{id:"粒子的重力下降与球发生碰撞",tabindex:"-1"},[zt("粒子的重力下降与球发生碰撞 "),K3("a",{class:"header-anchor",href:"#粒子的重力下降与球发生碰撞","aria-label":'Permalink to "粒子的重力下降与球发生碰撞"'},"​")],-1),Ht=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"components/babylonCollision.md","filePath":"components/babylonCollision.md"}'),Ut={name:"components/babylonCollision.md"},Yt=Object.assign(Ut,{setup(o2){return(f3,X3)=>{const b3=St("demo-preview");return $s(),Qs("div",null,[Rt,Ps(b3,{title:"",description:"",code:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%3E%0D%0A%20%20%20%20%3Cdiv%3Efps:%20%7B%7B%20fps%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%3Ccanvas%20id=%22collisionBall%22%20class=%22stage%22%3E%3C/canvas%3E%0D%0A%20%20%3C/div%3E%0D%0A%3C/template%3E%0D%0A%0D%0A%3Cscript%20lang=%22ts%22%20setup%3E%0D%0Aimport%20%7B%20onMounted,%20ref,%20nextTick%20%7D%20from%20'vue'%0D%0A%0D%0Aimport%20'./index_oimo.js'%0D%0A%0D%0Aimport%20%7B%20pkg%20%7D%20from%20'./index.js'%0D%0Aconst%20%7B%0D%0A%20%20Engine,%0D%0A%20%20Scene,%0D%0A%20%20ArcRotateCamera,%0D%0A%20%20Vector3,%0D%0A%20%20Color3,%0D%0A%20%20Color4,%0D%0A%20%20HemisphericLight,%0D%0A%20%20MeshBuilder,%0D%0A%20%20StandardMaterial,%0D%0A%20%20Texture,%0D%0A%20%20OimoJSPlugin,%0D%0A%20%20PhysicsImpostor%0D%0A%7D%20=%20pkg%0D%0A%0D%0A%0D%0Aconst%20fps%20=%20ref(0)%0D%0Aconst%20max%20=%2010%0D%0Aconst%20y%20=%2020%0D%0A%0D%0Aconst%20initScene%20=%20async()%20=%3E%20%7B%0D%0A%20%20const%20ele%20=%20document.getElementById(%22collisionBall%22)%20as%20HTMLCanvasElement%0D%0A%0D%0A%20%20ele.addEventListener('wheel',%20function(event)%20%7B%0D%0A%20%20%20%20//%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%0D%0A%20%20%20%20//%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%0D%0A%20%20%20%20event.preventDefault();%20//%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%0D%0A%20%20%7D);%0D%0A%0D%0A%20%20const%20engine:%20any%20=%20new%20Engine(ele,%20true,%20%7B%0D%0A%20%20%20%20preserveDrawingBuffer:%20true,%0D%0A%20%20%20%20stencil:%20true,%0D%0A%20%20%20%20disableWebGL2Support:%20false%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20scene%20=%20new%20Scene(engine)%0D%0A%20%20scene.useRightHandedSystem%20=%20true%0D%0A%20%20scene.enablePhysics(%0D%0A%20%20%20%20new%20Vector3(0,%20-9.81,%200),%0D%0A%20%20%20%20new%20OimoJSPlugin()%0D%0A%20%20)%0D%0A%0D%0A%20%20const%20camera%20=%20new%20ArcRotateCamera('camera',%20-Math.PI%20/%201.5,%20Math.PI%20/%202.2,%2015,%20new%20Vector3(0,%200,%200),%20scene)%0D%0A%20%20camera.upperBetaLimit%20=%20Math.PI%20/%202.2%0D%0A%20%20camera.wheelPrecision%20=%2030%0D%0A%20%20camera.attachControl(ele,%20true)%0D%0A%20%20camera.setPosition(new%20Vector3(120,%2050,%20120))%0D%0A%0D%0A%20%20const%20createLight%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20light%20=%20new%20HemisphericLight('light',new%20Vector3(1,%201,%200),%20scene)%0D%0A%20%20%20%20return%20light%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createAxis%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20axisX%20=%20MeshBuilder.CreateLines(%0D%0A%20%20%20%20%20%20'axisX',%20%7B%0D%0A%20%20%20%20%20%20%20%20colors:%20%5B%20new%20Color4(1,%201,%201,%201),%20new%20Color4(1,%200,%200,%201)%20%5D,%0D%0A%20%20%20%20%20%20%20%20points:%20%5B%20new%20Vector3(0,%200,%200),%20new%20Vector3(200,%200,%200)%20%5D%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%0D%0A%20%20%20%20const%20axisY%20=%20MeshBuilder.CreateLines(%0D%0A%20%20%20%20%20%20'axisY',%20%7B%0D%0A%20%20%20%20%20%20%20%20colors:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(1,%201,%201,%201),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(0,%201,%200,%201)%0D%0A%20%20%20%20%20%20%20%20%5D,%0D%0A%20%20%20%20%20%20%20%20points:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%200),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%20200,%200)%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%0D%0A%20%20%20%20const%20axisZ%20=%20MeshBuilder.CreateLines(%0D%0A%20%20%20%20%20%20'axisZ',%20%7B%0D%0A%20%20%20%20%20%20%20%20colors:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(1,%201,%201,%201),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(0,%200,%201,%201)%0D%0A%20%20%20%20%20%20%20%20%5D,%0D%0A%20%20%20%20%20%20%20%20points:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%200),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%20200)%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createGround%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20mat%20=%20new%20StandardMaterial('ground',%20scene)%0D%0A%20%20%20%20const%20wood%20=%20new%20Texture('/images/wood.jpg',%20scene)%0D%0A%20%20%20%20mat.diffuseTexture%20=%20wood%0D%0A%20%20%20%20mat.specularColor%20=%20Color3.Black()%0D%0A%0D%0A%20%20%20%20const%20ground%20=%20MeshBuilder.CreateBox('box',%20%7B%20size:%20200%20%7D,%20scene)%0D%0A%20%20%20%20ground.position.y%20=%200%0D%0A%20%20%20%20ground.position.x%20=%200%0D%0A%20%20%20%20ground.scaling.y%20=%200.01%0D%0A%20%20%20%20ground.material%20=%20mat%0D%0A%20%20%20%20ground.physicsImpostor%20=%20new%20PhysicsImpostor(%0D%0A%20%20%20%20%20%20ground,%0D%0A%20%20%20%20%20%20PhysicsImpostor.BoxImpostor,%20//%20%E4%BD%BF%E7%94%A8%E7%9B%92%E5%AD%90%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20mass:%200,%20//%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%200%0D%0A%20%20%20%20%20%20%20%20restitution:%200.7%20//%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20randomNumber%20=%20(min,%20max)%20=%3E%20%7B%0D%0A%20%20%20%20if%20(min%20===%20max)%20%7B%0D%0A%20%20%20%20%20%20return%20min%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20const%20random%20=%20Math.random()%0D%0A%20%20%20%20return%20random%20*%20(max%20-%20min)%20+%20min%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20getPosition%20=%20(y)%20=%3E%20%7B%0D%0A%20%20%20%20return%20new%20Vector3(randomNumber(-50,%2050),%20y,%20randomNumber(-50,%2050))%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createSpheres%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20allSphere:%20any%20=%20%5B%5D%0D%0A%20%20%20%20const%20sphere%20=%20MeshBuilder.CreateSphere('s',%20%7B%20diameter:%208%20%7D,%20scene)%0D%0A%20%20%20%20sphere.isVisible%20=%20false%0D%0A%20%20%20%20for(let%20index%20=%200;%20index%20%3C%20max;%20index%20++)%20%7B%0D%0A%20%20%20%20%20%20const%20clone%20=%20sphere.clone(%60index_$%7Bindex%7D%60)%0D%0A%20%20%20%20%20%20clone.isVisible%20=%20true%0D%0A%20%20%20%20%20%20const%20ran%20=%20Math.random()%0D%0A%20%20%20%20%20%20const%20startY%20=%20Math.random()%20*%2010%0D%0A%20%20%20%20%20%20const%20dis%20=%20y%20+%20(ran%20%3E%200.5%20?%20startY%20:%20startY%20*%20-1)%0D%0A%20%20%20%20%20%20clone.position%20=%20getPosition(dis)%0D%0A%0D%0A%20%20%20%20%20%20clone.physicsImpostor%20=%20new%20PhysicsImpostor(%0D%0A%20%20%20%20%20%20%20%20clone,%0D%0A%20%20%20%20%20%20%20%20PhysicsImpostor.SphereImpostor,%20//%20%E4%BD%BF%E7%94%A8%E7%90%83%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20mass:%2050,%20//%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%201%0D%0A%20%20%20%20%20%20%20%20%20%20restitution:%200.9%20//%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%0D%0A%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20scene%0D%0A%20%20%20%20%20%20)%0D%0A%0D%0A%20%20%20%20%20%20//%20applyImpulse%20%E6%96%B9%E6%B3%95%E5%AF%B9%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E6%96%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%86%B2%E9%87%8F%0D%0A%20%20%20%20%20%20//%20%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%97%E4%B8%A4%E4%B8%AA%20Vector3%20%E5%8F%82%E6%95%B0%EF%BC%9A%0D%0A%20%20%20%20%20%20//%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%98%AF%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%0D%0A%20%20%20%20%20%20//%20%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%98%AF%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E7%82%B9%0D%0A%0D%0A%20%20%20%20%20%20//%20%E5%81%87%E8%AE%BEforceVector%E6%98%AF%20(1,%202,%20-1)%0D%0A%20%20%20%20%20%20//%20contactPoint%E6%98%AF%20(1,%202,%200)%EF%BC%8C%E8%BF%99%E6%8C%87%E5%AE%9A%E4%BA%86%E5%9C%A8%20clone%20%E7%BD%91%E6%A0%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%80%E9%83%A8%E7%A9%BA%E9%97%B4%E4%B8%AD%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%8D%E7%BD%AE%0D%0A%20%20%20%20%20%20//%20%E5%86%B2%E9%87%8F%E5%A4%A7%E5%B0%8F%E6%98%AF%E6%A0%B9%E5%8F%B76%20---%3E%201%5E2+2%5E2+(-1)%5E2%20%E5%86%8D%E5%BC%80%E6%A0%B9%E5%8F%B7%0D%0A%20%20%20%20%20%20//%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E6%98%AF%E9%80%9A%E8%BF%87%E5%8F%8D%E4%BD%99%E5%BC%A6%E5%85%AC%E5%BC%8F%E5%BE%97%E5%87%BA(arccos(1%20/%20%E6%A0%B9%E5%8F%B76),%20arccos(2%20/%20%E6%A0%B9%E5%8F%B76),%20arccos(-1%20/%20%E6%A0%B9%E5%8F%B76))%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20clone.physicsImpostor.applyImpulse(%0D%0A%20%20%20%20%20%20%20%20new%20Vector3(0,%20-20,%200),%20//%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%0D%0A%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%200)%20//%20%E5%9C%A8%E7%89%A9%E4%BD%93%E4%B8%8A%E7%9A%84%E5%8F%97%E5%8A%9B%E7%82%B9%E4%BD%8D%E7%BD%AE%0D%0A%20%20%20%20%20%20)%0D%0A%0D%0A%20%20%20%20%20%20const%20mat%20=%20new%20StandardMaterial('mat',%20scene)%0D%0A%20%20%20%20%20%20mat.diffuseColor%20=%20new%20Color3(0.4,%200.4,%200.4)%0D%0A%20%20%20%20%20%20mat.specularColor%20=%20new%20Color3(0.4,%200.4,%200.4)%0D%0A%20%20%20%20%20%20mat.emissiveColor%20=%20Color3.Red()%0D%0A%20%20%20%20%20%20clone.material%20=%20mat%20%0D%0A%0D%0A%20%20%20%20%20%20allSphere.push(clone)%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20allSphere%0D%0A%20%20%7D%0D%0A%0D%0A%0D%0A%20%20const%20runAnimate%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20engine.runRenderLoop(function()%20%7B%0D%0A%20%20%20%20%20%20if%20(scene%20&&%20scene.activeCamera)%20%7B%0D%0A%20%20%20%20%20%20%20%20scene.render()%0D%0A%0D%0A%20%20%20%20%20%20%20%20fps.value%20=%20engine.getFps().toFixed(2)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20createGround()%0D%0A%20%20const%20allSphere%20=%20createSpheres()%0D%0A%20%20createAxis()%0D%0A%20%20createLight()%0D%0A%20%20runAnimate()%0D%0A%0D%0A%20%20scene.registerBeforeRender(function()%20%7B%0D%0A%20%20%20%20allSphere.forEach(function(obj)%20%7B%0D%0A%20%20%20%20%20%20if%20(obj.position.y%20%3C%20-10)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20ran%20=%20Math.random()%0D%0A%20%20%20%20%20%20%20%20const%20startY%20=%20Math.random()%20*%2010%0D%0A%20%20%20%20%20%20%20%20const%20dis%20=%20y%20+%20(ran%20%3E%200.5%20?%20startY%20:%20startY%20*%20-1)%0D%0A%20%20%20%20%20%20%20%20obj.position%20=%20getPosition(dis)%0D%0A%20%20%20%20%20%20%20%20//%20%E9%87%8D%E7%BD%AE%E7%90%83%E4%BD%93%E7%9A%84%E9%80%9F%E5%BA%A6%0D%0A%20%20%20%20%20%20%20%20obj.physicsImpostor.setLinearVelocity(new%20Vector3(0,%200,%200))%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D)%0D%0A%7D%0D%0A%0D%0AonMounted(async()%20=%3E%20%7B%0D%0A%20%20await%20nextTick()%0D%0A%20%20initScene()%0D%0A%7D)%0D%0A%3C/script%3E%0D%0A",showCode:"%3Cpre%20class%3D%22shiki%20shiki-themes%20github-light%20github-dark%20vp-code%22%20tabindex%3D%220%22%20v-pre%3D%22%22%3E%3Ccode%3E%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3Efps%3A%20%7B%7B%20fps%20%7D%7D%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20id%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionBall%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22stage%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20lang%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22ts%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20setup%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20onMounted%2C%20ref%2C%20nextTick%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'vue'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'.%2Findex_oimo.js'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20pkg%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'.%2Findex.js'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20MeshBuilder%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20OimoJSPlugin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20PhysicsImpostor%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20pkg%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20fps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ref%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20max%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20y%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2020%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ele%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20document.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetElementById%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionBall%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HTMLCanvasElement%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20ele.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddEventListener%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'wheel'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eevent%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20event.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EpreventDefault%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20preserveDrawingBuffer%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20stencil%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20disableWebGL2Support%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Efalse%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(engine)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.useRightHandedSystem%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EenablePhysics%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E9.81%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20OimoJSPlugin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20camera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'camera'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EMath.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E15%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.upperBetaLimit%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.wheelPrecision%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2030%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EattachControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E120%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E120%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'light'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20light%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createAxis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20axisX%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateLines%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'axisX'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20colors%3A%20%5B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%5D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20points%3A%20%5B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20axisY%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateLines%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'axisY'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20colors%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20points%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20axisZ%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateLines%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'axisZ'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20colors%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20points%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20mat%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'ground'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20wood%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'%2Fimages%2Fwood.jpg'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20mat.diffuseTexture%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20wood%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20mat.specularColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EBlack%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ground%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'box'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%20size%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.scaling.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.01%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20mat%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.physicsImpostor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20PhysicsImpostor%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20ground%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20PhysicsImpostor.BoxImpostor%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E4%BD%BF%E7%94%A8%E7%9B%92%E5%AD%90%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20mass%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20restitution%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.7%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%2F%2F%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20randomNumber%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Emin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Emax%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(min%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3D%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20max)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20min%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20random%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20random%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(max%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20min)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20min%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20getPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Ey%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErandomNumber%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20y%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErandomNumber%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSpheres%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20allSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%5B%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20sphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E's'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%20diameter%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E8%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.isVisible%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20false%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20for%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Elet%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20index%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3B%20index%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20max%3B%20index%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20clone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eclone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%60index_%24%7B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3Eindex%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%7D%60%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.isVisible%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ran%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20startY%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20dis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(ran%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.position%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20getPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(dis)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.physicsImpostor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20PhysicsImpostor%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20clone%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20PhysicsImpostor.SphereImpostor%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E4%BD%BF%E7%94%A8%E7%90%83%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%20%20mass%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%201%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%20%20restitution%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.9%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%2F%2F%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20applyImpulse%20%E6%96%B9%E6%B3%95%E5%AF%B9%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E6%96%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%86%B2%E9%87%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%97%E4%B8%A4%E4%B8%AA%20Vector3%20%E5%8F%82%E6%95%B0%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%98%AF%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%98%AF%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E7%82%B9%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%81%87%E8%AE%BEforceVector%E6%98%AF%20(1%2C%202%2C%20-1)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20contactPoint%E6%98%AF%20(1%2C%202%2C%200)%EF%BC%8C%E8%BF%99%E6%8C%87%E5%AE%9A%E4%BA%86%E5%9C%A8%20clone%20%E7%BD%91%E6%A0%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%80%E9%83%A8%E7%A9%BA%E9%97%B4%E4%B8%AD%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%8D%E7%BD%AE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%86%B2%E9%87%8F%E5%A4%A7%E5%B0%8F%E6%98%AF%E6%A0%B9%E5%8F%B76%20---%3E%201%5E2%2B2%5E2%2B(-1)%5E2%20%E5%86%8D%E5%BC%80%E6%A0%B9%E5%8F%B7%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E6%98%AF%E9%80%9A%E8%BF%87%E5%8F%8D%E4%BD%99%E5%BC%A6%E5%85%AC%E5%BC%8F%E5%BE%97%E5%87%BA(arccos(1%20%2F%20%E6%A0%B9%E5%8F%B76)%2C%20arccos(2%20%2F%20%E6%A0%B9%E5%8F%B76)%2C%20arccos(-1%20%2F%20%E6%A0%B9%E5%8F%B76))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.physicsImpostor.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EapplyImpulse%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E5%9C%A8%E7%89%A9%E4%BD%93%E4%B8%8A%E7%9A%84%E5%8F%97%E5%8A%9B%E7%82%B9%E4%BD%8D%E7%BD%AE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20mat%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'mat'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20mat.diffuseColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20mat.specularColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20mat.emissiveColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ERed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20mat%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20allSphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Epush%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(clone)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20allSphere%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErunRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(scene%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x26%3B%26%23x26%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20scene.activeCamera)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20fps.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetFps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E().%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EtoFixed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20allSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSpheres%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createAxis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EregisterBeforeRender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20allSphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EforEach%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eobj%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(obj.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E10%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ran%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20startY%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20dis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(ran%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20obj.position%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20getPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(dis)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E9%87%8D%E7%BD%AE%E7%90%83%E4%BD%93%E7%9A%84%E9%80%9F%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20obj.physicsImpostor.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetLinearVelocity%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonMounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Easync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20nextTick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E",suffixName:"vue",absolutePath:"D:\\test\\docs\\demo\\babylon\\collisionBall.vue",relativePath:"../demo/babylon/collisionBall.vue"},{default:mt(()=>[Ps(Ot)]),_:1}),_t,Ps(b3,{title:"",description:"",code:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%3E%0D%0A%20%20%20%20%3Cdiv%3Efps:%20%7B%7B%20fps%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%3Ccanvas%20id=%22collisionParticle%22%20class=%22stage%22%3E%3C/canvas%3E%0D%0A%20%20%3C/div%3E%0D%0A%3C/template%3E%0D%0A%0D%0A%3Cscript%20lang=%22ts%22%20setup%3E%0D%0Aimport%20%7B%20onMounted,%20ref,%20nextTick%20%7D%20from%20'vue'%0D%0Aimport%20'babylonjs-loaders'%0D%0A%0D%0Aimport%20%7B%20pkg%20%7D%20from%20'./index.js'%0D%0Aconst%20%7B%0D%0A%20%20Engine,%0D%0A%20%20Scene,%0D%0A%20%20ArcRotateCamera,%0D%0A%20%20Vector3,%0D%0A%20%20Color3,%0D%0A%20%20//%20Color4,%0D%0A%20%20HemisphericLight,%0D%0A%20%20MeshBuilder,%0D%0A%20%20StandardMaterial,%0D%0A%20%20CubeTexture,%0D%0A%20%20Texture,%0D%0A%20%20Mesh,%0D%0A%20%20SceneLoader,%0D%0A%20%20ParticleSystem%0D%0A%7D%20=%20pkg%0D%0A%0D%0Aconst%20fps%20=%20ref(0)%0D%0A%0D%0A%0D%0Aconst%20initScene%20=%20async()%20=%3E%20%7B%0D%0A%20%20let%20switched%20=%20false%0D%0A%20%20let%20particle:%20any%20=%20null%0D%0A%0D%0A%20%20const%20ele%20=%20document.getElementById(%22collisionParticle%22)%20as%20HTMLCanvasElement%0D%0A%0D%0A%20%20ele.addEventListener('wheel',%20function(event)%20%7B%0D%0A%20%20%20%20//%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%0D%0A%20%20%20%20//%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%0D%0A%20%20%20%20event.preventDefault();%20//%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%0D%0A%20%20%7D);%0D%0A%0D%0A%20%20const%20engine:%20any%20=%20new%20Engine(ele,%20true,%20%7B%0D%0A%20%20%20%20preserveDrawingBuffer:%20true,%0D%0A%20%20%20%20stencil:%20true,%0D%0A%20%20%20%20disableWebGL2Support:%20false%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20scene%20=%20new%20Scene(engine)%0D%0A%20%20scene.useRightHandedSystem%20=%20true%0D%0A%0D%0A%20%20const%20camera%20=%20new%20ArcRotateCamera('camera',%20-Math.PI%20/%201.5,%20Math.PI%20/%202.2,%2015,%20new%20Vector3(0,%200,%200),%20scene)%0D%0A%20%20camera.upperBetaLimit%20=%20Math.PI%20/%202.2%0D%0A%20%20camera.wheelPrecision%20=%2030%0D%0A%20%20camera.attachControl(ele,%20true)%0D%0A%20%20camera.setPosition(new%20Vector3(20,%2020,%2020))%0D%0A%0D%0A%20%20const%20createLight%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20light%20=%20new%20HemisphericLight('light',new%20Vector3(1,%201,%200),%20scene)%0D%0A%20%20%20%20return%20light%0D%0A%20%20%7D%0D%0A%0D%0A%0D%0A%20%20const%20runAnimate%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20engine.runRenderLoop(function()%20%7B%0D%0A%20%20%20%20%20%20if%20(scene%20&&%20scene.activeCamera)%20%7B%0D%0A%20%20%20%20%20%20%20%20scene.render()%0D%0A%0D%0A%20%20%20%20%20%20%20%20fps.value%20=%20engine.getFps().toFixed(2)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D%0D%0A%20%20%0D%0A%20%20createLight()%0D%0A%20%20runAnimate()%0D%0A%7D%0D%0A%0D%0AonMounted(async()%20=%3E%20%7B%0D%0A%20%20await%20nextTick()%0D%0A%20%20initScene()%0D%0A%7D)%0D%0A%3C/script%3E%0D%0A",showCode:"%3Cpre%20class%3D%22shiki%20shiki-themes%20github-light%20github-dark%20vp-code%22%20tabindex%3D%220%22%20v-pre%3D%22%22%3E%3Ccode%3E%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3Efps%3A%20%7B%7B%20fps%20%7D%7D%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20id%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionParticle%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22stage%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20lang%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22ts%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20setup%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20onMounted%2C%20ref%2C%20nextTick%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'vue'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'babylonjs-loaders'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20pkg%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'.%2Findex.js'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%2F%2F%20Color4%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20MeshBuilder%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20CubeTexture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Mesh%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20SceneLoader%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20ParticleSystem%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20pkg%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20fps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ref%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20switched%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20false%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20particle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20null%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ele%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20document.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetElementById%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionParticle%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HTMLCanvasElement%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20ele.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddEventListener%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'wheel'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eevent%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20event.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EpreventDefault%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20preserveDrawingBuffer%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20stencil%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20disableWebGL2Support%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Efalse%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(engine)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.useRightHandedSystem%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20camera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'camera'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EMath.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E15%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.upperBetaLimit%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.wheelPrecision%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2030%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EattachControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'light'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20light%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErunRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(scene%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x26%3B%26%23x26%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20scene.activeCamera)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20fps.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetFps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E().%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EtoFixed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonMounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Easync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20nextTick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E",suffixName:"vue",absolutePath:"D:\\test\\docs\\demo\\babylon\\collisionParticle.vue",relativePath:"../demo/babylon/collisionParticle.vue"},{default:mt(()=>[Ps(Lt)]),_:1})])}}});export{Ht as __pageData,Yt as default};
