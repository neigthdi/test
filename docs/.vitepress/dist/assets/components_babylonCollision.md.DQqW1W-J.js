import"./chunks/babylonjs.loaders.BPG-2OTv.js";import{p as gt}from"./chunks/index.CWpfXp9-.js";import{d as ut,s as xt,y as ft,R as vt,z as St,o as it,c as st,j as hs,t as bt,D as It,I as Os,w as yt,a as zt}from"./chunks/framework.BXFFLb3j.js";const Vt=hs("canvas",{id:"collisionParticle",class:"stage"},null,-1),Lt=ut({__name:"collisionParticle",setup(r2){const{Engine:zi,Scene:Es,ArcRotateCamera:wi,Vector3:C3,Color3:Li,HemisphericLight:Pi,MeshBuilder:Qi,StandardMaterial:Ni,Texture:ns,SolidParticleSystem:Fs}=gt,es=xt(0);let F3;const ki=async()=>{const oi=document.getElementById("collisionParticle");oi.addEventListener("wheel",function(Z3){Z3.preventDefault()});const K3=new zi(oi,!0,{preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1}),w3=new Es(K3);w3.useRightHandedSystem=!0;const k3=new wi("camera",Math.PI/4,0,150,new C3(0,0,0),w3);k3.upperBetaLimit=Math.PI/2.2,k3.wheelPrecision=30,k3.attachControl(oi,!0),k3.setPosition(new C3(50,300,20));let Mi=0,ls=C3.Zero(),Si=C3.Zero(),Zi=0,Ti=0,Gi=40;const x=1.9,N3=.3,As=-x/100,y=.88,a3=()=>new Pi("light",new C3(1,1,0),w3),O2=()=>{const Z3=new Ni("groundMaterial",w3);Z3.diffuseTexture=new ns("/images/wood.jpg");const R2=Qi.CreateGround("gd",{width:1e3,height:1e3},w3);return R2.material=Z3,R2},Ci=()=>{const Z3=new Ni("ms",w3);Z3.diffuseColor=Li.Blue();const R2=Qi.CreateSphere("s",{diameter:8},w3);return R2.material=Z3,R2.position.y=35,R2},Ds=()=>{const Z3=new Ni("ms",w3);Z3.diffuseColor=Li.Red();const R2=Qi.CreateBox("b",{size:2},w3);return R2.material=Z3,R2},X3=(Z3,R2)=>{const $3=new Fs("sps",w3,{particleIntersection:!0}),ds=Ds();$3.addShape(ds,200),ds.dispose();const Y3=$3.buildMesh();return Y3.position.y=80,Y3.position.x=-70,Gi=Y3.position.y/2,R2.position.y=Gi,$3.isAlwaysVisible=!0,$3.initParticles=()=>{for(let g2=0;g2<$3.nbParticles;g2++)$3.recycleParticle($3.particles[g2])},$3.recycleParticle=g2=>{g2.position.x=0,g2.position.y=0,g2.position.z=0,g2.velocity.x=Math.random()*x,g2.velocity.y=(Math.random()-.3)*N3*x,g2.velocity.z=(Math.random()-.5)*N3*x,g2.rotation.x=Math.random()*Math.PI,g2.rotation.y=Math.random()*Math.PI,g2.rotation.z=Math.random()*Math.PI,g2.color.r=0,g2.color.g=1,g2.color.b=0,g2.color.a=1},$3.updateParticle=g2=>{g2.position.y+Y3.position.y<Z3.position.y&&(g2.color.r=0,g2.color.g=1,g2.color.b=0,$3.recycleParticle(g2)),g2.velocity.y+=As,g2.position.addInPlace(g2.velocity),Ti=g2.idx%2===0?1:-1,g2.rotation.z+=.1*Ti,g2.rotation.x+=.05*Ti,g2.rotation.y+=.008*Ti,g2.intersectsMesh(R2)&&(g2.position.addToRef(Y3.position,ls),ls.subtractToRef(R2.position,Si),Si.normalize(),Zi=C3.Dot(g2.velocity,Si),g2.velocity.x=-g2.velocity.x+2*Zi*Si.x,g2.velocity.y=-g2.velocity.y+2*Zi*Si.y,g2.velocity.z=-g2.velocity.z+2*Zi*Si.z,g2.velocity.scaleInPlace(y),g2.color.r=1,g2.color.g=0,g2.color.b=0)},$3},is=()=>{K3.runRenderLoop(function(){w3&&w3.activeCamera&&(w3.render(),es.value=K3.getFps().toFixed(2))})},Ii=a3(),ps=O2(),Vi=Ci(),ss=X3(ps,Vi);return ss.initParticles(),is(),w3.registerBeforeRender(function(){ss.particles.forEach(Z3=>{Vi.intersectsMesh(Z3,!0)&&console.log("collided")}),ss.setParticles(),Vi.position.x=20*Math.sin(Mi),Vi.position.z=10*Math.sin(Mi*6),Vi.position.y=5*Math.sin(Mi*10)+Gi,Mi+=.01}),{scene:w3,engine:K3,camera:k3,light:Ii,ground:ps,sphere:Vi,sps:ss}};return ft(async()=>{await vt(),F3=await ki()}),St(()=>{F3&&(F3.engine.stopRenderLoop(),F3.light.dispose(),F3.ground.dispose(),F3.sphere.dispose(),F3.sps.dispose(),F3.camera.dispose(),F3.scene.dispose(),F3=null)}),(oi,K3)=>(it(),st("div",null,[hs("div",null,"fps: "+bt(es.value),1),Vt]))}});var Tt=typeof window<"u",Qs=null;Tt?Qs=window:Qs=global;(function(r2,zi){typeof exports=="object"&&typeof module<"u"?zi(exports):typeof define=="function"&&define.amd?define(["exports"],zi):zi((r2=r2||Qs).OIMO={})})(void 0,function(r2){Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),Math.sign===void 0&&(Math.sign=function(s){return s<0?-1:s>0?1:+s}),Function.prototype.name===void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Object.assign===void 0&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(s),a=1;a<arguments.length;a++){var h=arguments[a];if(h!=null)for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(t[E]=h[E])}return t});var zi,Es,wi,C3,Li="1.0.9",Pi=0,Qi=1,Ni=2,ns=3,Fs=0,es=0,F3=1,ki=2,oi=3,K3=4,w3=5,k3=0,Mi=1,ls=2,Si=3,Zi=4,Ti=5,Gi=6,x={sqrt:Math.sqrt,abs:Math.abs,floor:Math.floor,cos:Math.cos,sin:Math.sin,acos:Math.acos,asin:Math.asin,atan2:Math.atan2,round:Math.round,pow:Math.pow,max:Math.max,min:Math.min,random:Math.random,degtorad:.017453292519943295,radtodeg:57.29577951308232,PI:3.141592653589793,TwoPI:6.283185307179586,PI90:1.570796326794896,PI270:4.712388980384689,INF:1/0,EPZ:1e-5,EPZ2:1e-6,lerp:function(s,t,a){return(1-a)*s+a*t},randInt:function(s,t){return s+x.floor(x.random()*(t-s+1))},rand:function(s,t){return s+x.random()*(t-s)},generateUUID:(Es="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),wi=new Array(36),C3=0,function(){for(var s=0;s<36;s++)s===8||s===13||s===18||s===23?wi[s]="-":s===14?wi[s]="4":(C3<=2&&(C3=33554432+16777216*Math.random()|0),zi=15&C3,C3>>=4,wi[s]=Es[s===19?3&zi|8:zi]);return wi.join("")}),int:function(s){return x.floor(s)},fix:function(s,t){return s.toFixed(t||3,10)},clamp:function(s,t,a){return x.max(t,x.min(a,s))},distance:function(s,t){var a=t[0]-s[0],h=t[1]-s[1],E=t[2]-s[2];return x.sqrt(a*a+h*h+E*E)},acosClamp:function(s){return s>1?0:s<-1?x.PI:x.acos(s)},distanceVector:function(s,t){var a=s.x-t.x,h=s.y-t.y,E=s.z-t.z;return a*a+h*h+E*E},dotVectors:function(s,t){return s.x*t.x+s.y*t.y+s.z*t.z}};function N3(s,t){console.error("[OIMO] "+s+": "+t)}function As(s){this.parent=s,this.infos=new Float32Array(13),this.f=[0,0,0],this.times=[0,0,0,0],this.broadPhase=this.parent.broadPhaseType,this.version=Li,this.fps=0,this.tt=0,this.broadPhaseTime=0,this.narrowPhaseTime=0,this.solvingTime=0,this.totalTime=0,this.updateTime=0,this.MaxBroadPhaseTime=0,this.MaxNarrowPhaseTime=0,this.MaxSolvingTime=0,this.MaxTotalTime=0,this.MaxUpdateTime=0}function y(s,t,a){this.x=s||0,this.y=t||0,this.z=a||0}function a3(s,t,a,h){this.x=s||0,this.y=t||0,this.z=a||0,this.w=h!==void 0?h:1}function O2(s,t,a,h,E,n,e,r,A){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("OIMO.Mat33: the constructor no longer reads arguments. use .set() instead.")}function Ci(s,t,a,h,E,n){this.elements=new Float32Array(6);var e=this.elements;e[0]=s||0,e[1]=a||0,e[2]=E||0,e[3]=t||0,e[4]=h||0,e[5]=n||0}Object.assign(As.prototype,{setTime:function(s){this.times[s||0]=performance.now()},resetMax:function(){this.MaxBroadPhaseTime=0,this.MaxNarrowPhaseTime=0,this.MaxSolvingTime=0,this.MaxTotalTime=0,this.MaxUpdateTime=0},calcBroadPhase:function(){this.setTime(2),this.broadPhaseTime=this.times[2]-this.times[1]},calcNarrowPhase:function(){this.setTime(3),this.narrowPhaseTime=this.times[3]-this.times[2]},calcEnd:function(){this.setTime(2),this.solvingTime=this.times[2]-this.times[1],this.totalTime=this.times[2]-this.times[0],this.updateTime=this.totalTime-(this.broadPhaseTime+this.narrowPhaseTime+this.solvingTime),this.tt===100&&this.resetMax(),this.tt>100&&(this.broadPhaseTime>this.MaxBroadPhaseTime&&(this.MaxBroadPhaseTime=this.broadPhaseTime),this.narrowPhaseTime>this.MaxNarrowPhaseTime&&(this.MaxNarrowPhaseTime=this.narrowPhaseTime),this.solvingTime>this.MaxSolvingTime&&(this.MaxSolvingTime=this.solvingTime),this.totalTime>this.MaxTotalTime&&(this.MaxTotalTime=this.totalTime),this.updateTime>this.MaxUpdateTime&&(this.MaxUpdateTime=this.updateTime)),this.upfps(),this.tt++,this.tt>500&&(this.tt=0)},upfps:function(){this.f[1]=Date.now(),this.f[1]-1e3>this.f[0]&&(this.f[0]=this.f[1],this.fps=this.f[2],this.f[2]=0),this.f[2]++},show:function(){return["Oimo.js "+this.version+"<br>",this.broadPhase+"<br><br>","FPS: "+this.fps+" fps<br><br>","rigidbody "+this.parent.numRigidBodies+"<br>","contact &nbsp;&nbsp;"+this.parent.numContacts+"<br>","ct-point &nbsp;"+this.parent.numContactPoints+"<br>","paircheck "+this.parent.broadPhase.numPairChecks+"<br>","island &nbsp;&nbsp;&nbsp;"+this.parent.numIslands+"<br><br>","Time in milliseconds<br><br>","broadphase &nbsp;"+x.fix(this.broadPhaseTime)+" | "+x.fix(this.MaxBroadPhaseTime)+"<br>","narrowphase "+x.fix(this.narrowPhaseTime)+" | "+x.fix(this.MaxNarrowPhaseTime)+"<br>","solving &nbsp;&nbsp;&nbsp;&nbsp;"+x.fix(this.solvingTime)+" | "+x.fix(this.MaxSolvingTime)+"<br>","total &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+x.fix(this.totalTime)+" | "+x.fix(this.MaxTotalTime)+"<br>","updating &nbsp;&nbsp;&nbsp;"+x.fix(this.updateTime)+" | "+x.fix(this.MaxUpdateTime)+"<br>"].join(`
`)},toArray:function(){return this.infos[0]=this.parent.broadPhase.types,this.infos[1]=this.parent.numRigidBodies,this.infos[2]=this.parent.numContacts,this.infos[3]=this.parent.broadPhase.numPairChecks,this.infos[4]=this.parent.numContactPoints,this.infos[5]=this.parent.numIslands,this.infos[6]=this.broadPhaseTime,this.infos[7]=this.narrowPhaseTime,this.infos[8]=this.solvingTime,this.infos[9]=this.updateTime,this.infos[10]=this.totalTime,this.infos[11]=this.fps,this.infos}}),Object.assign(y.prototype,{Vec3:!0,set:function(s,t,a){return this.x=s,this.y=t,this.z=a,this},add:function(s,t){return t!==void 0?this.addVectors(s,t):(this.x+=s.x,this.y+=s.y,this.z+=s.z,this)},addVectors:function(s,t){return this.x=s.x+t.x,this.y=s.y+t.y,this.z=s.z+t.z,this},addEqual:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z,this},sub:function(s,t){return t!==void 0?this.subVectors(s,t):(this.x-=s.x,this.y-=s.y,this.z-=s.z,this)},subVectors:function(s,t){return this.x=s.x-t.x,this.y=s.y-t.y,this.z=s.z-t.z,this},subEqual:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z,this},scale:function(s,t){return this.x=s.x*t,this.y=s.y*t,this.z=s.z*t,this},scaleEqual:function(s){return this.x*=s,this.y*=s,this.z*=s,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z,this},addScaledVector:function(s,t){return this.x+=s.x*t,this.y+=s.y*t,this.z+=s.z*t,this},subScaledVector:function(s,t){return this.x-=s.x*t,this.y-=s.y*t,this.z-=s.z*t,this},cross:function(s,t){if(t!==void 0)return this.crossVectors(s,t);var a=this.x,h=this.y,E=this.z;return this.x=h*s.z-E*s.y,this.y=E*s.x-a*s.z,this.z=a*s.y-h*s.x,this},crossVectors:function(s,t){var a=s.x,h=s.y,E=s.z,n=t.x,e=t.y,r=t.z;return this.x=h*r-E*e,this.y=E*n-a*r,this.z=a*e-h*n,this},tangent:function(s){var t=s.x,a=s.y,h=s.z;return this.x=a*t-h*h,this.y=-h*a-t*t,this.z=t*h+a*a,this},invert:function(s){return this.x=-s.x,this.y=-s.y,this.z=-s.z,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},addition:function(){return this.x+this.y+this.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this},applyMatrix3:function(s,t){var a=this.x,h=this.y,E=this.z,n=s.elements;return t?(this.x=n[0]*a+n[1]*h+n[2]*E,this.y=n[3]*a+n[4]*h+n[5]*E,this.z=n[6]*a+n[7]*h+n[8]*E):(this.x=n[0]*a+n[3]*h+n[6]*E,this.y=n[1]*a+n[4]*h+n[7]*E,this.z=n[2]*a+n[5]*h+n[8]*E),this},applyQuaternion:function(s){var t=this.x,a=this.y,h=this.z,E=s.x,n=s.y,e=s.z,r=s.w,A=r*t+n*h-e*a,p=r*a+e*t-E*h,l=r*h+E*a-n*t,B=-E*t-n*a-e*h;return this.x=A*r+B*-E+p*-e-l*-n,this.y=p*r+B*-n+l*-E-A*-e,this.z=l*r+B*-e+A*-n-p*-E,this},testZero:function(){return this.x!==0||this.y!==0||this.z!==0},testDiff:function(s){return!this.equals(s)},equals:function(s){return s.x===this.x&&s.y===this.y&&s.z===this.z},clone:function(){return new this.constructor(this.x,this.y,this.z)},toString:function(){return"Vec3["+this.x.toFixed(4)+", "+this.y.toFixed(4)+", "+this.z.toFixed(4)+"]"},multiplyScalar:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divideScalar:function(s){return this.multiplyScalar(1/s)},normalize:function(){return this.divideScalar(this.length())},toArray:function(s,t){t===void 0&&(t=0),s[t]=this.x,s[t+1]=this.y,s[t+2]=this.z},fromArray:function(s,t){return t===void 0&&(t=0),this.x=s[t],this.y=s[t+1],this.z=s[t+2],this}}),Object.assign(a3.prototype,{Quat:!0,set:function(s,t,a,h){return this.x=s,this.y=t,this.z=a,this.w=h,this},addTime:function(s,t){var a=s.x,h=s.y,E=s.z,n=this.w,e=this.x,r=this.y,A=this.z;return t*=.5,this.x+=t*(a*n+h*A-E*r),this.y+=t*(h*n+E*e-a*A),this.z+=t*(E*n+a*r-h*e),this.w+=t*(-a*e-h*r-E*A),this.normalize(),this},multiply:function(s,t){return t!==void 0?this.multiplyQuaternions(s,t):this.multiplyQuaternions(this,s)},multiplyQuaternions:function(s,t){var a=s.x,h=s.y,E=s.z,n=s.w,e=t.x,r=t.y,A=t.z,p=t.w;return this.x=a*p+n*e+h*A-E*r,this.y=h*p+n*r+E*e-a*A,this.z=E*p+n*A+a*r-h*e,this.w=n*p-a*e-h*r-E*A,this},setFromUnitVectors:function(s,t){var a=new y,h=s.dot(t)+1;return h<x.EPS2?(h=0,x.abs(s.x)>x.abs(s.z)?a.set(-s.y,s.x,0):a.set(0,-s.z,s.y)):a.crossVectors(s,t),this._x=a.x,this._y=a.y,this._z=a.z,this._w=h,this.normalize()},arc:function(s,t){var a=s.x,h=s.y,E=s.z,n=t.x,e=t.y,r=t.z,A=a*n+h*e+E*r;if(A==-1)return n=h*a-E*E,e=-E*h-a*a,r=a*E+h*h,A=1/x.sqrt(n*n+e*e+r*r),this.w=0,this.x=n*A,this.y=e*A,this.z=r*A,this;var p=h*r-E*e,l=E*n-a*r,B=a*e-h*n;return this.w=x.sqrt(.5*(1+A)),A=.5/this.w,this.x=p*A,this.y=l*A,this.z=B*A,this},normalize:function(){var s=this.length();return s===0?this.set(0,0,0,1):(s=1/s,this.x=this.x*s,this.y=this.y*s,this.z=this.z*s,this.w=this.w*s),this},inverse:function(){return this.conjugate().normalize()},invert:function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this.conjugate().normalize(),this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},length:function(){return x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z,this.w=s.w,this},clone:function(s){return new a3(this.x,this.y,this.z,this.w)},testDiff:function(s){return!this.equals(s)},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},toString:function(){return"Quat["+this.x.toFixed(4)+", ("+this.y.toFixed(4)+", "+this.z.toFixed(4)+", "+this.w.toFixed(4)+")]"},setFromEuler:function(s,t,a){var h=Math.cos(.5*s),E=Math.cos(.5*t),n=Math.cos(.5*a),e=Math.sin(.5*s),r=Math.sin(.5*t),A=Math.sin(.5*a);return this.x=e*E*n+h*r*A,this.y=h*r*n-e*E*A,this.z=h*E*A+e*r*n,this.w=h*E*n-e*r*A,this},setFromAxis:function(s,t){s.normalize(),t*=.5;var a=x.sin(t);return this.x=a*s.x,this.y=a*s.y,this.z=a*s.z,this.w=x.cos(t),this},setFromMat33:function(s){var t,a=s[0]+s[4]+s[8];if(a>0)t=x.sqrt(a+1),this.w=.5/t,t=.5/t,this.x=(s[5]-s[7])*t,this.y=(s[6]-s[2])*t,this.z=(s[1]-s[3])*t;else{var h=[],E=0;s[4]>s[0]&&(E=1),s[8]>s[3*E+E]&&(E=2);var n=(E+1)%3,e=(E+2)%3;t=x.sqrt(s[3*E+E]-s[3*n+n]-s[3*e+e]+1),h[E]=.5*fRoot,t=.5/fRoot,this.w=(s[3*n+e]-s[3*e+n])*t,h[n]=(s[3*n+E]+s[3*E+n])*t,h[e]=(s[3*e+E]+s[3*E+e])*t,this.x=h[1],this.y=h[2],this.z=h[3]}return this},toArray:function(s,t){s[t=t||0]=this.x,s[t+1]=this.y,s[t+2]=this.z,s[t+3]=this.w},fromArray:function(s,t){return t=t||0,this.set(s[t],s[t+1],s[t+2],s[t+3]),this}}),Object.assign(O2.prototype,{Mat33:!0,set:function(s,t,a,h,E,n,e,r,A){var p=this.elements;return p[0]=s,p[1]=t,p[2]=a,p[3]=h,p[4]=E,p[5]=n,p[6]=e,p[7]=r,p[8]=A,this},add:function(s,t){if(t!==void 0)return this.addMatrixs(s,t);var a=this.elements,h=s.elements;return a[0]+=h[0],a[1]+=h[1],a[2]+=h[2],a[3]+=h[3],a[4]+=h[4],a[5]+=h[5],a[6]+=h[6],a[7]+=h[7],a[8]+=h[8],this},addMatrixs:function(s,t){var a=this.elements,h=s.elements,E=t.elements;return a[0]=h[0]+E[0],a[1]=h[1]+E[1],a[2]=h[2]+E[2],a[3]=h[3]+E[3],a[4]=h[4]+E[4],a[5]=h[5]+E[5],a[6]=h[6]+E[6],a[7]=h[7]+E[7],a[8]=h[8]+E[8],this},addEqual:function(s){var t=this.elements,a=s.elements;return t[0]+=a[0],t[1]+=a[1],t[2]+=a[2],t[3]+=a[3],t[4]+=a[4],t[5]+=a[5],t[6]+=a[6],t[7]+=a[7],t[8]+=a[8],this},sub:function(s,t){if(t!==void 0)return this.subMatrixs(s,t);var a=this.elements,h=s.elements;return a[0]-=h[0],a[1]-=h[1],a[2]-=h[2],a[3]-=h[3],a[4]-=h[4],a[5]-=h[5],a[6]-=h[6],a[7]-=h[7],a[8]-=h[8],this},subMatrixs:function(s,t){var a=this.elements,h=s.elements,E=t.elements;return a[0]=h[0]-E[0],a[1]=h[1]-E[1],a[2]=h[2]-E[2],a[3]=h[3]-E[3],a[4]=h[4]-E[4],a[5]=h[5]-E[5],a[6]=h[6]-E[6],a[7]=h[7]-E[7],a[8]=h[8]-E[8],this},subEqual:function(s){var t=this.elements,a=s.elements;return t[0]-=a[0],t[1]-=a[1],t[2]-=a[2],t[3]-=a[3],t[4]-=a[4],t[5]-=a[5],t[6]-=a[6],t[7]-=a[7],t[8]-=a[8],this},scale:function(s,t){var a=this.elements,h=s.elements;return a[0]=h[0]*t,a[1]=h[1]*t,a[2]=h[2]*t,a[3]=h[3]*t,a[4]=h[4]*t,a[5]=h[5]*t,a[6]=h[6]*t,a[7]=h[7]*t,a[8]=h[8]*t,this},scaleEqual:function(s){var t=this.elements;return t[0]*=s,t[1]*=s,t[2]*=s,t[3]*=s,t[4]*=s,t[5]*=s,t[6]*=s,t[7]*=s,t[8]*=s,this},multiplyMatrices:function(s,t,a){a&&(t=t.clone().transpose());var h=this.elements,E=s.elements,n=t.elements,e=E[0],r=E[3],A=E[6],p=E[1],l=E[4],B=E[7],C=E[2],k=E[5],o=E[8],c=n[0],f=n[3],S=n[6],d=n[1],P=n[4],M=n[7],O=n[2],R=n[5],I=n[8];return h[0]=e*c+p*f+C*S,h[1]=e*d+p*P+C*M,h[2]=e*O+p*R+C*I,h[3]=r*c+l*f+k*S,h[4]=r*d+l*P+k*M,h[5]=r*O+l*R+k*I,h[6]=A*c+B*f+o*S,h[7]=A*d+B*P+o*M,h[8]=A*O+B*R+o*I,this},transpose:function(s){if(s!==void 0){var t=s.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this}var a=this.elements,h=a[1],E=a[2],n=a[5];return a[1]=a[3],a[2]=a[6],a[3]=h,a[5]=a[7],a[6]=E,a[7]=n,this},setQuat:function(s){var t=this.elements,a=s.x,h=s.y,E=s.z,n=s.w,e=a+a,r=h+h,A=E+E,p=a*e,l=a*r,B=a*A,C=h*r,k=h*A,o=E*A,c=n*e,f=n*r,S=n*A;return t[0]=1-(C+o),t[1]=l-S,t[2]=B+f,t[3]=l+S,t[4]=1-(p+o),t[5]=k-c,t[6]=B-f,t[7]=k+c,t[8]=1-(p+C),this},invert:function(s){var t=this.elements,a=s.elements,h=a[0],E=a[3],n=a[6],e=a[1],r=a[4],A=a[7],p=a[2],l=a[5],B=a[8],C=B*r-l*A,k=-B*E+l*n,o=A*E-r*n,c=h*C+e*k+p*o;return c===0?(console.log("can't invert matrix, determinant is 0"),this.identity()):(c=1/c,t[0]=C*c,t[1]=(-B*e+p*A)*c,t[2]=(l*e-p*r)*c,t[3]=k*c,t[4]=(B*h-p*n)*c,t[5]=(-l*h+p*E)*c,t[6]=o*c,t[7]=(-A*h+e*n)*c,t[8]=(r*h-e*E)*c,this)},addOffset:function(s,t){var a=t.x,h=t.y,E=t.z,n=this.elements;n[0]+=s*(h*h+E*E),n[4]+=s*(a*a+E*E),n[8]+=s*(a*a+h*h);var e=s*a*h,r=s*h*E,A=s*E*a;return n[1]-=e,n[3]-=e,n[2]-=r,n[6]-=r,n[5]-=A,n[7]-=A,this},subOffset:function(s,t){var a=t.x,h=t.y,E=t.z,n=this.elements;n[0]-=s*(h*h+E*E),n[4]-=s*(a*a+E*E),n[8]-=s*(a*a+h*h);var e=s*a*h,r=s*h*E,A=s*E*a;return n[1]+=e,n[3]+=e,n[2]+=r,n[6]+=r,n[5]+=A,n[7]+=A,this},multiplyScalar:function(s){var t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new O2().fromArray(this.elements)},copy:function(s){for(var t=0;t<9;t++)this.elements[t]=s.elements[t];return this},determinant:function(){var s=this.elements,t=s[0],a=s[1],h=s[2],E=s[3],n=s[4],e=s[5],r=s[6],A=s[7],p=s[8];return t*n*p-t*e*A-a*E*p+a*e*r+h*E*A-h*n*r},fromArray:function(s,t){t===void 0&&(t=0);for(var a=0;a<9;a++)this.elements[a]=s[a+t];return this},toArray:function(s,t){s===void 0&&(s=[]),t===void 0&&(t=0);var a=this.elements;return s[t]=a[0],s[t+1]=a[1],s[t+2]=a[2],s[t+3]=a[3],s[t+4]=a[4],s[t+5]=a[5],s[t+6]=a[6],s[t+7]=a[7],s[t+8]=a[8],s}}),Object.assign(Ci.prototype,{AABB:!0,set:function(s,t,a,h,E,n){var e=this.elements;return e[0]=s,e[3]=t,e[1]=a,e[4]=h,e[2]=E,e[5]=n,this},intersectTest:function(s){var t=this.elements,a=s.elements;return t[0]>a[3]||t[1]>a[4]||t[2]>a[5]||t[3]<a[0]||t[4]<a[1]||t[5]<a[2]},intersectTestTwo:function(s){var t=this.elements,a=s.elements;return t[0]<a[0]||t[1]<a[1]||t[2]<a[2]||t[3]>a[3]||t[4]>a[4]||t[5]>a[5]},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(s,t){var a=t||0,h=s.elements;return this.set(h[0]-a,h[3]+a,h[1]-a,h[4]+a,h[2]-a,h[5]+a),this},fromArray:function(s){return this.elements.set(s),this},combine:function(s,t){var a=s.elements,h=t.elements,E=this.elements;return E[0]=a[0]<h[0]?a[0]:h[0],E[1]=a[1]<h[1]?a[1]:h[1],E[2]=a[2]<h[2]?a[2]:h[2],E[3]=a[3]>h[3]?a[3]:h[3],E[4]=a[4]>h[4]?a[4]:h[4],E[5]=a[5]>h[5]?a[5]:h[5],this},surfaceArea:function(){var s=this.elements,t=s[3]-s[0],a=s[4]-s[1],h=s[5]-s[2];return 2*(t*(a+h)+a*h)},intersectsWithPoint:function(s,t,a){var h=this.elements;return s>=h[0]&&s<=h[3]&&t>=h[1]&&t<=h[4]&&a>=h[2]&&a<=h[5]},setFromPoints:function(s){this.makeEmpty();for(var t=0;t<s.length;t++)this.expandByPoint(s[t])},makeEmpty:function(){this.set(-1/0,-1/0,-1/0,1/0,1/0,1/0)},expandByPoint:function(s){var t=this.elements;this.set(x.min(t[0],s.x),x.min(t[1],s.y),x.min(t[2],s.z),x.max(t[3],s.x),x.max(t[4],s.y),x.max(t[5],s.z))},expandByScalar:function(s){var t=this.elements;t[0]+=-s,t[1]+=-s,t[2]+=-s,t[3]+=s,t[4]+=s,t[5]+=s}});var Ds=0;function X3(s){this.type=es,this.id=Ds++,this.prev=null,this.next=null,this.proxy=null,this.parent=null,this.contactLink=null,this.numContacts=0,this.position=new y,this.rotation=new O2,this.relativePosition=new y().copy(s.relativePosition),this.relativeRotation=new O2().copy(s.relativeRotation),this.aabb=new Ci,this.density=s.density,this.friction=s.friction,this.restitution=s.restitution,this.belongsTo=s.belongsTo,this.collidesWith=s.collidesWith}function is(s,t,a,h){X3.call(this,s),this.type=ki,this.width=t,this.height=a,this.depth=h,this.halfWidth=.5*t,this.halfHeight=.5*a,this.halfDepth=.5*h,this.dimentions=new Float32Array(18),this.elements=new Float32Array(24)}function Ii(s,t){X3.call(this,s),this.type=F3,this.radius=t}function ps(s,t,a){X3.call(this,s),this.type=oi,this.radius=t,this.height=a,this.halfHeight=.5*a,this.normalDirection=new y,this.halfDirection=new y}function Vi(s,t){X3.call(this,s),this.type=K3,this.normal=new y(0,1,0)}function ss(s,t){X3.call(this,s),this.type=w3}function Z3(){this.relativePosition=new y,this.relativeRotation=new O2,this.friction=.2,this.restitution=.2,this.density=1,this.belongsTo=1,this.collidesWith=4294967295}function R2(s,t){t=t||!1,this.axis=s,this.angle=0,this.lowerLimit=t?0:1,this.upperLimit=0,this.motorSpeed=0,this.maxMotorForce=0,this.frequency=0,this.dampingRatio=0}function $3(){this.parent=null,this.body1=null,this.body2=null,this.addedToIsland=!1}function ds(s){this.prev=null,this.next=null,this.body=null,this.joint=s}function Y3(s){$3.call(this),this.scale=1,this.invScale=1,this.name="",this.id=NaN,this.type=k3,this.prev=null,this.next=null,this.body1=s.body1,this.body2=s.body2,this.localAnchorPoint1=new y().copy(s.localAnchorPoint1),this.localAnchorPoint2=new y().copy(s.localAnchorPoint2),this.relativeAnchorPoint1=new y,this.relativeAnchorPoint2=new y,this.anchorPoint1=new y,this.anchorPoint2=new y,this.allowCollision=s.allowCollision,this.b1Link=new ds(this),this.b2Link=new ds(this)}function g2(s){this.m1=NaN,this.m2=NaN,this.ii1=null,this.ii2=null,this.dd=null,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.ax1x=NaN,this.ax1y=NaN,this.ax1z=NaN,this.ay1x=NaN,this.ay1y=NaN,this.ay1z=NaN,this.az1x=NaN,this.az1y=NaN,this.az1z=NaN,this.ax2x=NaN,this.ax2y=NaN,this.ax2z=NaN,this.ay2x=NaN,this.ay2y=NaN,this.ay2z=NaN,this.az2x=NaN,this.az2y=NaN,this.az2z=NaN,this.vel=NaN,this.velx=NaN,this.vely=NaN,this.velz=NaN,this.joint=s,this.r1=s.relativeAnchorPoint1,this.r2=s.relativeAnchorPoint2,this.p1=s.anchorPoint1,this.p2=s.anchorPoint2,this.b1=s.body1,this.b2=s.body2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.impx=0,this.impy=0,this.impz=0}function gs(s,t,a,h){this.cfm1=NaN,this.cfm2=NaN,this.cfm3=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.ax1=NaN,this.ay1=NaN,this.az1=NaN,this.ax2=NaN,this.ay2=NaN,this.az2=NaN,this.ax3=NaN,this.ay3=NaN,this.az3=NaN,this.a1x1=NaN,this.a1y1=NaN,this.a1z1=NaN,this.a2x1=NaN,this.a2y1=NaN,this.a2z1=NaN,this.a1x2=NaN,this.a1y2=NaN,this.a1z2=NaN,this.a2x2=NaN,this.a2y2=NaN,this.a2z2=NaN,this.a1x3=NaN,this.a1y3=NaN,this.a1z3=NaN,this.a2x3=NaN,this.a2y3=NaN,this.a2z3=NaN,this.lowerLimit1=NaN,this.upperLimit1=NaN,this.limitVelocity1=NaN,this.limitState1=0,this.enableMotor1=!1,this.motorSpeed1=NaN,this.maxMotorForce1=NaN,this.maxMotorImpulse1=NaN,this.lowerLimit2=NaN,this.upperLimit2=NaN,this.limitVelocity2=NaN,this.limitState2=0,this.enableMotor2=!1,this.motorSpeed2=NaN,this.maxMotorForce2=NaN,this.maxMotorImpulse2=NaN,this.lowerLimit3=NaN,this.upperLimit3=NaN,this.limitVelocity3=NaN,this.limitState3=0,this.enableMotor3=!1,this.motorSpeed3=NaN,this.maxMotorForce3=NaN,this.maxMotorImpulse3=NaN,this.k00=NaN,this.k01=NaN,this.k02=NaN,this.k10=NaN,this.k11=NaN,this.k12=NaN,this.k20=NaN,this.k21=NaN,this.k22=NaN,this.kv00=NaN,this.kv11=NaN,this.kv22=NaN,this.dv00=NaN,this.dv11=NaN,this.dv22=NaN,this.d00=NaN,this.d01=NaN,this.d02=NaN,this.d10=NaN,this.d11=NaN,this.d12=NaN,this.d20=NaN,this.d21=NaN,this.d22=NaN,this.limitMotor1=t,this.limitMotor2=a,this.limitMotor3=h,this.b1=s.body1,this.b2=s.body2,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse1=0,this.motorImpulse1=0,this.limitImpulse2=0,this.motorImpulse2=0,this.limitImpulse3=0,this.motorImpulse3=0}function us(s,t,a){Y3.call(this,s),this.type=Si,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize();var h=new O2().setQuat(new a3().setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1=new y().tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(h,!0),this.ax1=new y,this.ax2=new y,this.an1=new y,this.an2=new y,this.tmp=new y,this.nor=new y,this.tan=new y,this.bin=new y,this.limitMotor=new R2(this.nor,!1),this.limitMotor.lowerLimit=t,this.limitMotor.upperLimit=a,this.lc=new g2(this),this.r3=new gs(this,this.limitMotor,new R2(this.tan,!0),new R2(this.bin,!0))}function xs(s){Y3.call(this,s),this.type=ls,this.lc=new g2(this)}function tt(s,t){this.cfm=NaN,this.m1=NaN,this.m2=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.motorDenom=NaN,this.invMotorDenom=NaN,this.invDenom=NaN,this.ax=NaN,this.ay=NaN,this.az=NaN,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.t1x=NaN,this.t1y=NaN,this.t1z=NaN,this.t2x=NaN,this.t2y=NaN,this.t2z=NaN,this.l1x=NaN,this.l1y=NaN,this.l1z=NaN,this.l2x=NaN,this.l2y=NaN,this.l2z=NaN,this.a1x=NaN,this.a1y=NaN,this.a1z=NaN,this.a2x=NaN,this.a2y=NaN,this.a2z=NaN,this.lowerLimit=NaN,this.upperLimit=NaN,this.limitVelocity=NaN,this.limitState=0,this.enableMotor=!1,this.motorSpeed=NaN,this.maxMotorForce=NaN,this.maxMotorImpulse=NaN,this.limitMotor=t,this.b1=s.body1,this.b2=s.body2,this.p1=s.anchorPoint1,this.p2=s.anchorPoint2,this.r1=s.relativeAnchorPoint1,this.r2=s.relativeAnchorPoint2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse=0,this.motorImpulse=0}function fs(s,t,a){Y3.call(this,s),this.type=Mi,this.nor=new y,this.limitMotor=new R2(this.nor,!0),this.limitMotor.lowerLimit=t,this.limitMotor.upperLimit=a,this.t=new tt(this,this.limitMotor)}function at(s,t){this.joint=s,this.targetOrientation=new a3().invert(t),this.relativeOrientation=new a3,this.ii1=null,this.ii2=null,this.dd=null,this.vel=new y,this.imp=new y,this.rn0=new y,this.rn1=new y,this.rn2=new y,this.b1=s.body1,this.b2=s.body2,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia}function vs(s,t,a,h){this.m1=NaN,this.m2=NaN,this.i1e00=NaN,this.i1e01=NaN,this.i1e02=NaN,this.i1e10=NaN,this.i1e11=NaN,this.i1e12=NaN,this.i1e20=NaN,this.i1e21=NaN,this.i1e22=NaN,this.i2e00=NaN,this.i2e01=NaN,this.i2e02=NaN,this.i2e10=NaN,this.i2e11=NaN,this.i2e12=NaN,this.i2e20=NaN,this.i2e21=NaN,this.i2e22=NaN,this.ax1=NaN,this.ay1=NaN,this.az1=NaN,this.ax2=NaN,this.ay2=NaN,this.az2=NaN,this.ax3=NaN,this.ay3=NaN,this.az3=NaN,this.r1x=NaN,this.r1y=NaN,this.r1z=NaN,this.r2x=NaN,this.r2y=NaN,this.r2z=NaN,this.t1x1=NaN,this.t1y1=NaN,this.t1z1=NaN,this.t2x1=NaN,this.t2y1=NaN,this.t2z1=NaN,this.l1x1=NaN,this.l1y1=NaN,this.l1z1=NaN,this.l2x1=NaN,this.l2y1=NaN,this.l2z1=NaN,this.a1x1=NaN,this.a1y1=NaN,this.a1z1=NaN,this.a2x1=NaN,this.a2y1=NaN,this.a2z1=NaN,this.t1x2=NaN,this.t1y2=NaN,this.t1z2=NaN,this.t2x2=NaN,this.t2y2=NaN,this.t2z2=NaN,this.l1x2=NaN,this.l1y2=NaN,this.l1z2=NaN,this.l2x2=NaN,this.l2y2=NaN,this.l2z2=NaN,this.a1x2=NaN,this.a1y2=NaN,this.a1z2=NaN,this.a2x2=NaN,this.a2y2=NaN,this.a2z2=NaN,this.t1x3=NaN,this.t1y3=NaN,this.t1z3=NaN,this.t2x3=NaN,this.t2y3=NaN,this.t2z3=NaN,this.l1x3=NaN,this.l1y3=NaN,this.l1z3=NaN,this.l2x3=NaN,this.l2y3=NaN,this.l2z3=NaN,this.a1x3=NaN,this.a1y3=NaN,this.a1z3=NaN,this.a2x3=NaN,this.a2y3=NaN,this.a2z3=NaN,this.lowerLimit1=NaN,this.upperLimit1=NaN,this.limitVelocity1=NaN,this.limitState1=0,this.enableMotor1=!1,this.motorSpeed1=NaN,this.maxMotorForce1=NaN,this.maxMotorImpulse1=NaN,this.lowerLimit2=NaN,this.upperLimit2=NaN,this.limitVelocity2=NaN,this.limitState2=0,this.enableMotor2=!1,this.motorSpeed2=NaN,this.maxMotorForce2=NaN,this.maxMotorImpulse2=NaN,this.lowerLimit3=NaN,this.upperLimit3=NaN,this.limitVelocity3=NaN,this.limitState3=0,this.enableMotor3=!1,this.motorSpeed3=NaN,this.maxMotorForce3=NaN,this.maxMotorImpulse3=NaN,this.k00=NaN,this.k01=NaN,this.k02=NaN,this.k10=NaN,this.k11=NaN,this.k12=NaN,this.k20=NaN,this.k21=NaN,this.k22=NaN,this.kv00=NaN,this.kv11=NaN,this.kv22=NaN,this.dv00=NaN,this.dv11=NaN,this.dv22=NaN,this.d00=NaN,this.d01=NaN,this.d02=NaN,this.d10=NaN,this.d11=NaN,this.d12=NaN,this.d20=NaN,this.d21=NaN,this.d22=NaN,this.limitMotor1=t,this.limitMotor2=a,this.limitMotor3=h,this.b1=s.body1,this.b2=s.body2,this.p1=s.anchorPoint1,this.p2=s.anchorPoint2,this.r1=s.relativeAnchorPoint1,this.r2=s.relativeAnchorPoint2,this.l1=this.b1.linearVelocity,this.l2=this.b2.linearVelocity,this.a1=this.b1.angularVelocity,this.a2=this.b2.angularVelocity,this.i1=this.b1.inverseInertia,this.i2=this.b2.inverseInertia,this.limitImpulse1=0,this.motorImpulse1=0,this.limitImpulse2=0,this.motorImpulse2=0,this.limitImpulse3=0,this.motorImpulse3=0,this.cfm1=0,this.cfm2=0,this.cfm3=0,this.weight=-1}function bs(s,t,a){Y3.call(this,s),this.type=Gi,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize(),this.ax1=new y,this.ax2=new y,this.nor=new y,this.tan=new y,this.bin=new y,this.ac=new at(this,new a3().setFromUnitVectors(this.localAxis1,this.localAxis2)),this.limitMotor=new R2(this.nor,!0),this.limitMotor.lowerLimit=t,this.limitMotor.upperLimit=a,this.t3=new vs(this,this.limitMotor,new R2(this.tan,!0),new R2(this.bin,!0))}function zs(s,t,a){Y3.call(this,s),this.type=Ti,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize();var h=new O2().setQuat(new a3().setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1=new y().tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(h,!0),this.ax1=new y,this.ax2=new y,this.an1=new y,this.an2=new y,this.tmp=new y,this.nor=new y,this.tan=new y,this.bin=new y,this.rotationalLimitMotor=new R2(this.nor,!1),this.r3=new gs(this,this.rotationalLimitMotor,new R2(this.tan,!0),new R2(this.bin,!0)),this.translationalLimitMotor=new R2(this.nor,!0),this.translationalLimitMotor.lowerLimit=t,this.translationalLimitMotor.upperLimit=a,this.t3=new vs(this,this.translationalLimitMotor,new R2(this.tan,!0),new R2(this.bin,!0))}function ws(s){Y3.call(this,s),this.type=Zi,this.localAxis1=s.localAxis1.clone().normalize(),this.localAxis2=s.localAxis2.clone().normalize(),this.localAngle1=new y,this.localAngle2=new y;var t=x.dotVectors(this.localAxis1,this.localAxis2);if(t>-1&&t<1)this.localAngle1.set(this.localAxis2.x-t*this.localAxis1.x,this.localAxis2.y-t*this.localAxis1.y,this.localAxis2.z-t*this.localAxis1.z).normalize(),this.localAngle2.set(this.localAxis1.x-t*this.localAxis2.x,this.localAxis1.y-t*this.localAxis2.y,this.localAxis1.z-t*this.localAxis2.z).normalize();else{var a=new O2().setQuat(new a3().setFromUnitVectors(this.localAxis1,this.localAxis2));this.localAngle1.tangent(this.localAxis1).normalize(),this.localAngle2=this.localAngle1.clone().applyMatrix3(a,!0)}this.ax1=new y,this.ax2=new y,this.an1=new y,this.an2=new y,this.tmp=new y,this.nor=new y,this.tan=new y,this.bin=new y,this.translationalLimitMotor=new R2(this.tan,!0),this.translationalLimitMotor.frequency=8,this.translationalLimitMotor.dampingRatio=1,this.rotationalLimitMotor1=new R2(this.tan,!1),this.rotationalLimitMotor2=new R2(this.bin,!1),this.t3=new vs(this,new R2(this.nor,!0),this.translationalLimitMotor,new R2(this.bin,!0)),this.t3.weight=1,this.r3=new gs(this,new R2(this.nor,!0),this.rotationalLimitMotor1,this.rotationalLimitMotor2)}function ht(){this.scale=1,this.invScale=1,this.body1=null,this.body2=null,this.localAnchorPoint1=new y,this.localAnchorPoint2=new y,this.localAxis1=new y,this.localAxis2=new y,this.allowCollision=!1}function wt(){this.mass=0,this.inertia=new O2}function Ns(s){this.prev=null,this.next=null,this.shape=null,this.body=null,this.contact=s}function Ms(){this.lp1X=NaN,this.lp1Y=NaN,this.lp1Z=NaN,this.lp2X=NaN,this.lp2Y=NaN,this.lp2Z=NaN,this.impulse=NaN}function Ps(){this.warmStarted=!1,this.position=new y,this.localPoint1=new y,this.localPoint2=new y,this.normal=new y,this.tangent=new y,this.binormal=new y,this.normalImpulse=0,this.tangentImpulse=0,this.binormalImpulse=0,this.normalDenominator=0,this.tangentDenominator=0,this.binormalDenominator=0,this.penetration=0}function Rs(){this.body1=null,this.body2=null,this.numPoints=0,this.points=[new Ps,new Ps,new Ps,new Ps]}function Ss(){this.nor=new y,this.tan=new y,this.bin=new y,this.norU1=new y,this.tanU1=new y,this.binU1=new y,this.norU2=new y,this.tanU2=new y,this.binU2=new y,this.norT1=new y,this.tanT1=new y,this.binT1=new y,this.norT2=new y,this.tanT2=new y,this.binT2=new y,this.norTU1=new y,this.tanTU1=new y,this.binTU1=new y,this.norTU2=new y,this.tanTU2=new y,this.binTU2=new y,this.norImp=0,this.tanImp=0,this.binImp=0,this.norDen=0,this.tanDen=0,this.binDen=0,this.norTar=0,this.next=null,this.last=!1}function _s(s){$3.call(this),this.manifold=s,this.restitution=NaN,this.friction=NaN,this.p1=null,this.p2=null,this.lv1=null,this.lv2=null,this.av1=null,this.av2=null,this.i1=null,this.i2=null,this.tmp=new y,this.tmpC1=new y,this.tmpC2=new y,this.tmpP1=new y,this.tmpP2=new y,this.tmplv1=new y,this.tmplv2=new y,this.tmpav1=new y,this.tmpav2=new y,this.m1=NaN,this.m2=NaN,this.num=0,this.ps=s.points,this.cs=new Ss,this.cs.next=new Ss,this.cs.next.next=new Ss,this.cs.next.next.next=new Ss}function Et(){this.shape1=null,this.shape2=null,this.body1=null,this.body2=null,this.prev=null,this.next=null,this.persisting=!1,this.sleeping=!1,this.detector=null,this.constraint=null,this.touching=!1,this.close=!1,this.dist=x.INF,this.b1Link=new Ns(this),this.b2Link=new Ns(this),this.s1Link=new Ns(this),this.s2Link=new Ns(this),this.manifold=new Rs,this.buffer=[new Ms,new Ms,new Ms,new Ms],this.points=this.manifold.points,this.constraint=new _s(this.manifold)}function rs(s,t){this.position=s||new y,this.orientation=t||new a3,this.scale=1,this.invScale=1,this.mesh=null,this.id=NaN,this.name="",this.prev=null,this.next=null,this.type=Fs,this.massInfo=new wt,this.newPosition=new y,this.controlPos=!1,this.newOrientation=new a3,this.newRotation=new y,this.currentRotation=new y,this.controlRot=!1,this.controlRotInTime=!1,this.quaternion=new a3,this.pos=new y,this.linearVelocity=new y,this.angularVelocity=new y,this.parent=null,this.contactLink=null,this.numContacts=0,this.shapes=null,this.numShapes=0,this.jointLink=null,this.numJoints=0,this.sleepPosition=new y,this.sleepOrientation=new a3,this.isStatic=!1,this.isDynamic=!1,this.isKinematic=!1,this.rotation=new O2,this.mass=0,this.inverseMass=0,this.inverseInertia=new O2,this.localInertia=new O2,this.inverseLocalInertia=new O2,this.tmpInertia=new O2,this.addedToIsland=!1,this.allowSleep=!0,this.sleepTime=0,this.sleeping=!1}function Nt(s,t){this.shape1=s||null,this.shape2=t||null}function Cs(){this.types=Pi,this.numPairChecks=0,this.numPairs=0,this.pairs=[]}Object.assign(X3.prototype,{Shape:!0,calculateMassInfo:function(s){N3("Shape","Inheritance error.")},updateProxy:function(){N3("Shape","Inheritance error.")}}),is.prototype=Object.assign(Object.create(X3.prototype),{constructor:is,calculateMassInfo:function(s){var t=this.width*this.height*this.depth*this.density;s.mass=t,s.inertia.set(t*(this.height*this.height+this.depth*this.depth)*(1/12),0,0,0,t*(this.width*this.width+this.depth*this.depth)*(1/12),0,0,0,t*(this.width*this.width+this.height*this.height)*(1/12))},updateProxy:function(){var s=this.rotation.elements,t=this.dimentions;t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8],t[9]=s[0]*this.halfWidth,t[10]=s[3]*this.halfWidth,t[11]=s[6]*this.halfWidth,t[12]=s[1]*this.halfHeight,t[13]=s[4]*this.halfHeight,t[14]=s[7]*this.halfHeight,t[15]=s[2]*this.halfDepth,t[16]=s[5]*this.halfDepth,t[17]=s[8]*this.halfDepth;var a=t[9],h=t[10],E=t[11],n=t[12],e=t[13],r=t[14],A=t[15],p=t[16],l=t[17],B=this.position.x,C=this.position.y,k=this.position.z,o=this.elements;o[0]=B+a+n+A,o[1]=C+h+e+p,o[2]=k+E+r+l,o[3]=B+a+n-A,o[4]=C+h+e-p,o[5]=k+E+r-l,o[6]=B+a-n+A,o[7]=C+h-e+p,o[8]=k+E-r+l,o[9]=B+a-n-A,o[10]=C+h-e-p,o[11]=k+E-r-l,o[12]=B-a+n+A,o[13]=C-h+e+p,o[14]=k-E+r+l,o[15]=B-a+n-A,o[16]=C-h+e-p,o[17]=k-E+r-l,o[18]=B-a-n+A,o[19]=C-h-e+p,o[20]=k-E-r+l,o[21]=B-a-n-A,o[22]=C-h-e-p,o[23]=k-E-r-l;var c=t[9]<0?-t[9]:t[9],f=t[10]<0?-t[10]:t[10],S=t[11]<0?-t[11]:t[11];c=t[12]<0?c-t[12]:c+t[12],f=t[13]<0?f-t[13]:f+t[13],S=t[14]<0?S-t[14]:S+t[14],c=t[15]<0?c-t[15]:c+t[15],f=t[16]<0?f-t[16]:f+t[16],S=t[17]<0?S-t[17]:S+t[17];var d=.005;this.aabb.set(this.position.x-c-d,this.position.x+c+d,this.position.y-f-d,this.position.y+f+d,this.position.z-S-d,this.position.z+S+d),this.proxy!=null&&this.proxy.update()}}),Ii.prototype=Object.assign(Object.create(X3.prototype),{constructor:Ii,volume:function(){return x.PI*this.radius*1.333333},calculateMassInfo:function(s){var t=this.volume()*this.radius*this.radius*this.density;s.mass=t;var a=t*this.radius*this.radius*.4;s.inertia.set(a,0,0,0,a,0,0,0,a)},updateProxy:function(){var s=.005;this.aabb.set(this.position.x-this.radius-s,this.position.x+this.radius+s,this.position.y-this.radius-s,this.position.y+this.radius+s,this.position.z-this.radius-s,this.position.z+this.radius+s),this.proxy!=null&&this.proxy.update()}}),ps.prototype=Object.assign(Object.create(X3.prototype),{constructor:ps,calculateMassInfo:function(s){var t=this.radius*this.radius,a=x.PI*t*this.height*this.density,h=(.25*t+.0833*this.height*this.height)*a,E=.5*t;s.mass=a,s.inertia.set(h,0,0,0,E,0,0,0,h)},updateProxy:function(){var s,t,a,h,E,n,e,r,A,p,l,B=this.rotation.elements;E=B[1]*B[1],n=B[4]*B[4],e=B[7]*B[7],this.normalDirection.set(B[1],B[4],B[7]),this.halfDirection.scale(this.normalDirection,this.halfHeight),t=1-E,(s=x.sqrt(t*t+E*n+E*e))>0&&(s=this.radius/s),t*=s,a=1-n,(s=x.sqrt(n*E+a*a+n*e))>0&&(s=this.radius/s),a*=s,h=1-e,(s=x.sqrt(e*E+e*n+h*h))>0&&(s=this.radius/s),h*=s,r=this.halfDirection.x<0?-this.halfDirection.x:this.halfDirection.x,A=this.halfDirection.y<0?-this.halfDirection.y:this.halfDirection.y,p=this.halfDirection.z<0?-this.halfDirection.z:this.halfDirection.z,r=t<0?r-t:r+t,A=a<0?A-a:A+a,p=h<0?p-h:p+h,l=.005,this.aabb.set(this.position.x-r-l,this.position.x+r+l,this.position.y-A-l,this.position.y+A+l,this.position.z-p-l,this.position.z+p+l),this.proxy!=null&&this.proxy.update()}}),Vi.prototype=Object.assign(Object.create(X3.prototype),{constructor:Vi,volume:function(){return Number.MAX_VALUE},calculateMassInfo:function(s){s.mass=this.density,s.inertia.set(1,0,0,0,1,0,0,0,1)},updateProxy:function(){var s=.005,t=-x.INF,a=x.INF,h=this.normal;this.aabb.set(h.x===-1?this.position.x-s:t,h.x===1?this.position.x+s:a,h.y===-1?this.position.y-s:t,h.y===1?this.position.y+s:a,h.z===-1?this.position.z-s:t,h.z===1?this.position.z+s:a),this.proxy!=null&&this.proxy.update()}}),ss.prototype=Object.assign(Object.create(X3.prototype),{constructor:ss,volume:function(){return Number.MAX_VALUE},calculateMassInfo:function(s){s.inertia.set(0,0,0,0,0,0,0,0,0)},updateProxy:function(){this.aabb.set(this.position.x-0,this.position.x+0,this.position.y-0,this.position.y+0,this.position.z-0,this.position.z+0),this.proxy!=null&&this.proxy.update()}}),Object.assign(R2.prototype,{LimitMotor:!0,setLimit:function(s,t){this.lowerLimit=s,this.upperLimit=t},setMotor:function(s,t){this.motorSpeed=s,this.maxMotorForce=t},setSpring:function(s,t){this.frequency=s,this.dampingRatio=t}}),Object.assign($3.prototype,{Constraint:!0,preSolve:function(s,t){N3("Constraint","Inheritance error.")},solve:function(){N3("Constraint","Inheritance error.")},postSolve:function(){N3("Constraint","Inheritance error.")}}),Y3.prototype=Object.assign(Object.create($3.prototype),{constructor:Y3,setId:function(s){this.id=i},setParent:function(s){this.parent=s,this.scale=this.parent.scale,this.invScale=this.parent.invScale,this.id=this.parent.numJoints,this.name||(this.name="J"+this.id)},updateAnchorPoints:function(){this.relativeAnchorPoint1.copy(this.localAnchorPoint1).applyMatrix3(this.body1.rotation,!0),this.relativeAnchorPoint2.copy(this.localAnchorPoint2).applyMatrix3(this.body2.rotation,!0),this.anchorPoint1.add(this.relativeAnchorPoint1,this.body1.position),this.anchorPoint2.add(this.relativeAnchorPoint2,this.body2.position)},attach:function(s){this.b1Link.body=this.body2,this.b2Link.body=this.body1,s?(this.body1.jointLink.push(this.b1Link),this.body2.jointLink.push(this.b2Link)):(this.body1.jointLink!=null?(this.b1Link.next=this.body1.jointLink).prev=this.b1Link:this.b1Link.next=null,this.body1.jointLink=this.b1Link,this.body1.numJoints++,this.body2.jointLink!=null?(this.b2Link.next=this.body2.jointLink).prev=this.b2Link:this.b2Link.next=null,this.body2.jointLink=this.b2Link,this.body2.numJoints++)},detach:function(s){if(s)this.body1.jointLink.splice(this.body1.jointLink.indexOf(this.b1Link),1),this.body2.jointLink.splice(this.body2.jointLink.indexOf(this.b2Link),1);else{var t=this.b1Link.prev,a=this.b1Link.next;t!=null&&(t.next=a),a!=null&&(a.prev=t),this.body1.jointLink==this.b1Link&&(this.body1.jointLink=a),this.b1Link.prev=null,this.b1Link.next=null,this.b1Link.body=null,this.body1.numJoints--,t=this.b2Link.prev,a=this.b2Link.next,t!=null&&(t.next=a),a!=null&&(a.prev=t),this.body2.jointLink==this.b2Link&&(this.body2.jointLink=a),this.b2Link.prev=null,this.b2Link.next=null,this.b2Link.body=null,this.body2.numJoints--}this.b1Link.body=null,this.b2Link.body=null},awake:function(){this.body1.awake(),this.body2.awake()},preSolve:function(s,t){},solve:function(){},postSolve:function(){},remove:function(){this.dispose()},dispose:function(){this.parent.removeJoint(this)},getPosition:function(){return[new y().scale(this.anchorPoint1,this.scale),new y().scale(this.anchorPoint2,this.scale)]}}),Object.assign(g2.prototype,{LinearConstraint:!0,preSolve:function(s,t){this.r1x=this.r1.x,this.r1y=this.r1.y,this.r1z=this.r1.z,this.r2x=this.r2.x,this.r2y=this.r2.y,this.r2z=this.r2.z,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass,this.ii1=this.i1.clone(),this.ii2=this.i2.clone();var a=this.ii1.elements,h=this.ii2.elements;this.ax1x=this.r1z*a[1]+-this.r1y*a[2],this.ax1y=this.r1z*a[4]+-this.r1y*a[5],this.ax1z=this.r1z*a[7]+-this.r1y*a[8],this.ay1x=-this.r1z*a[0]+this.r1x*a[2],this.ay1y=-this.r1z*a[3]+this.r1x*a[5],this.ay1z=-this.r1z*a[6]+this.r1x*a[8],this.az1x=this.r1y*a[0]+-this.r1x*a[1],this.az1y=this.r1y*a[3]+-this.r1x*a[4],this.az1z=this.r1y*a[6]+-this.r1x*a[7],this.ax2x=this.r2z*h[1]+-this.r2y*h[2],this.ax2y=this.r2z*h[4]+-this.r2y*h[5],this.ax2z=this.r2z*h[7]+-this.r2y*h[8],this.ay2x=-this.r2z*h[0]+this.r2x*h[2],this.ay2y=-this.r2z*h[3]+this.r2x*h[5],this.ay2z=-this.r2z*h[6]+this.r2x*h[8],this.az2x=this.r2y*h[0]+-this.r2x*h[1],this.az2y=this.r2y*h[3]+-this.r2x*h[4],this.az2z=this.r2y*h[6]+-this.r2x*h[7];var E=this.m1+this.m2,n=new O2().set(E,0,0,0,E,0,0,0,E).elements;n[0]+=a[4]*this.r1z*this.r1z-(a[7]+a[5])*this.r1y*this.r1z+a[8]*this.r1y*this.r1y,n[1]+=(a[6]*this.r1y+a[5]*this.r1x)*this.r1z-a[3]*this.r1z*this.r1z-a[8]*this.r1x*this.r1y,n[2]+=(a[3]*this.r1y-a[4]*this.r1x)*this.r1z-a[6]*this.r1y*this.r1y+a[7]*this.r1x*this.r1y,n[3]+=(a[2]*this.r1y+a[7]*this.r1x)*this.r1z-a[1]*this.r1z*this.r1z-a[8]*this.r1x*this.r1y,n[4]+=a[0]*this.r1z*this.r1z-(a[6]+a[2])*this.r1x*this.r1z+a[8]*this.r1x*this.r1x,n[5]+=(a[1]*this.r1x-a[0]*this.r1y)*this.r1z-a[7]*this.r1x*this.r1x+a[6]*this.r1x*this.r1y,n[6]+=(a[1]*this.r1y-a[4]*this.r1x)*this.r1z-a[2]*this.r1y*this.r1y+a[5]*this.r1x*this.r1y,n[7]+=(a[3]*this.r1x-a[0]*this.r1y)*this.r1z-a[5]*this.r1x*this.r1x+a[2]*this.r1x*this.r1y,n[8]+=a[0]*this.r1y*this.r1y-(a[3]+a[1])*this.r1x*this.r1y+a[4]*this.r1x*this.r1x,n[0]+=h[4]*this.r2z*this.r2z-(h[7]+h[5])*this.r2y*this.r2z+h[8]*this.r2y*this.r2y,n[1]+=(h[6]*this.r2y+h[5]*this.r2x)*this.r2z-h[3]*this.r2z*this.r2z-h[8]*this.r2x*this.r2y,n[2]+=(h[3]*this.r2y-h[4]*this.r2x)*this.r2z-h[6]*this.r2y*this.r2y+h[7]*this.r2x*this.r2y,n[3]+=(h[2]*this.r2y+h[7]*this.r2x)*this.r2z-h[1]*this.r2z*this.r2z-h[8]*this.r2x*this.r2y,n[4]+=h[0]*this.r2z*this.r2z-(h[6]+h[2])*this.r2x*this.r2z+h[8]*this.r2x*this.r2x,n[5]+=(h[1]*this.r2x-h[0]*this.r2y)*this.r2z-h[7]*this.r2x*this.r2x+h[6]*this.r2x*this.r2y,n[6]+=(h[1]*this.r2y-h[4]*this.r2x)*this.r2z-h[2]*this.r2y*this.r2y+h[5]*this.r2x*this.r2y,n[7]+=(h[3]*this.r2x-h[0]*this.r2y)*this.r2z-h[5]*this.r2x*this.r2x+h[2]*this.r2x*this.r2y,n[8]+=h[0]*this.r2y*this.r2y-(h[3]+h[1])*this.r2x*this.r2y+h[4]*this.r2x*this.r2x;var e=1/(n[0]*(n[4]*n[8]-n[7]*n[5])+n[3]*(n[7]*n[2]-n[1]*n[8])+n[6]*(n[1]*n[5]-n[4]*n[2]));this.dd=new O2().set(n[4]*n[8]-n[5]*n[7],n[2]*n[7]-n[1]*n[8],n[1]*n[5]-n[2]*n[4],n[5]*n[6]-n[3]*n[8],n[0]*n[8]-n[2]*n[6],n[2]*n[3]-n[0]*n[5],n[3]*n[7]-n[4]*n[6],n[1]*n[6]-n[0]*n[7],n[0]*n[4]-n[1]*n[3]).scaleEqual(e),this.velx=this.p2.x-this.p1.x,this.vely=this.p2.y-this.p1.y,this.velz=this.p2.z-this.p1.z;var r=x.sqrt(this.velx*this.velx+this.vely*this.vely+this.velz*this.velz);r>.005?(r=(.005-r)/r*t*.05,this.velx*=r,this.vely*=r,this.velz*=r):(this.velx=0,this.vely=0,this.velz=0),this.impx*=.95,this.impy*=.95,this.impz*=.95,this.l1.x+=this.impx*this.m1,this.l1.y+=this.impy*this.m1,this.l1.z+=this.impz*this.m1,this.a1.x+=this.impx*this.ax1x+this.impy*this.ay1x+this.impz*this.az1x,this.a1.y+=this.impx*this.ax1y+this.impy*this.ay1y+this.impz*this.az1y,this.a1.z+=this.impx*this.ax1z+this.impy*this.ay1z+this.impz*this.az1z,this.l2.x-=this.impx*this.m2,this.l2.y-=this.impy*this.m2,this.l2.z-=this.impz*this.m2,this.a2.x-=this.impx*this.ax2x+this.impy*this.ay2x+this.impz*this.az2x,this.a2.y-=this.impx*this.ax2y+this.impy*this.ay2y+this.impz*this.az2y,this.a2.z-=this.impx*this.ax2z+this.impy*this.ay2z+this.impz*this.az2z},solve:function(){var s=this.dd.elements,t=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y-this.velx,a=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z-this.vely,h=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x-this.velz,E=t*s[0]+a*s[1]+h*s[2],n=t*s[3]+a*s[4]+h*s[5],e=t*s[6]+a*s[7]+h*s[8];this.impx+=E,this.impy+=n,this.impz+=e,this.l1.x+=E*this.m1,this.l1.y+=n*this.m1,this.l1.z+=e*this.m1,this.a1.x+=E*this.ax1x+n*this.ay1x+e*this.az1x,this.a1.y+=E*this.ax1y+n*this.ay1y+e*this.az1y,this.a1.z+=E*this.ax1z+n*this.ay1z+e*this.az1z,this.l2.x-=E*this.m2,this.l2.y-=n*this.m2,this.l2.z-=e*this.m2,this.a2.x-=E*this.ax2x+n*this.ay2x+e*this.az2x,this.a2.y-=E*this.ax2y+n*this.ay2y+e*this.az2y,this.a2.z-=E*this.ax2z+n*this.ay2z+e*this.az2z}}),Object.assign(gs.prototype,{Rotational3Constraint:!0,preSolve:function(s,t){this.ax1=this.limitMotor1.axis.x,this.ay1=this.limitMotor1.axis.y,this.az1=this.limitMotor1.axis.z,this.ax2=this.limitMotor2.axis.x,this.ay2=this.limitMotor2.axis.y,this.az2=this.limitMotor2.axis.z,this.ax3=this.limitMotor3.axis.x,this.ay3=this.limitMotor3.axis.y,this.az3=this.limitMotor3.axis.z,this.lowerLimit1=this.limitMotor1.lowerLimit,this.upperLimit1=this.limitMotor1.upperLimit,this.motorSpeed1=this.limitMotor1.motorSpeed,this.maxMotorForce1=this.limitMotor1.maxMotorForce,this.enableMotor1=this.maxMotorForce1>0,this.lowerLimit2=this.limitMotor2.lowerLimit,this.upperLimit2=this.limitMotor2.upperLimit,this.motorSpeed2=this.limitMotor2.motorSpeed,this.maxMotorForce2=this.limitMotor2.maxMotorForce,this.enableMotor2=this.maxMotorForce2>0,this.lowerLimit3=this.limitMotor3.lowerLimit,this.upperLimit3=this.limitMotor3.upperLimit,this.motorSpeed3=this.limitMotor3.motorSpeed,this.maxMotorForce3=this.limitMotor3.maxMotorForce,this.enableMotor3=this.maxMotorForce3>0;var a=this.i1.elements,h=this.i2.elements;this.i1e00=a[0],this.i1e01=a[1],this.i1e02=a[2],this.i1e10=a[3],this.i1e11=a[4],this.i1e12=a[5],this.i1e20=a[6],this.i1e21=a[7],this.i1e22=a[8],this.i2e00=h[0],this.i2e01=h[1],this.i2e02=h[2],this.i2e10=h[3],this.i2e11=h[4],this.i2e12=h[5],this.i2e20=h[6],this.i2e21=h[7],this.i2e22=h[8];var E=this.limitMotor1.frequency,n=this.limitMotor2.frequency,e=this.limitMotor3.frequency,r=E>0,A=n>0,p=e>0,l=this.lowerLimit1<=this.upperLimit1,B=this.lowerLimit2<=this.upperLimit2,C=this.lowerLimit3<=this.upperLimit3,k=this.limitMotor1.angle;l?(this.lowerLimit1==this.upperLimit1?(this.limitState1!=0&&(this.limitState1=0,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-k):k<this.lowerLimit1?(this.limitState1!=-1&&(this.limitState1=-1,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-k):k>this.upperLimit1?(this.limitState1!=1&&(this.limitState1=1,this.limitImpulse1=0),this.limitVelocity1=this.upperLimit1-k):(this.limitState1=2,this.limitImpulse1=0,this.limitVelocity1=0),r||(this.limitVelocity1>.02?this.limitVelocity1-=.02:this.limitVelocity1<-.02?this.limitVelocity1+=.02:this.limitVelocity1=0)):(this.limitState1=2,this.limitImpulse1=0);var o=this.limitMotor2.angle;B?(this.lowerLimit2==this.upperLimit2?(this.limitState2!=0&&(this.limitState2=0,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-o):o<this.lowerLimit2?(this.limitState2!=-1&&(this.limitState2=-1,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-o):o>this.upperLimit2?(this.limitState2!=1&&(this.limitState2=1,this.limitImpulse2=0),this.limitVelocity2=this.upperLimit2-o):(this.limitState2=2,this.limitImpulse2=0,this.limitVelocity2=0),A||(this.limitVelocity2>.02?this.limitVelocity2-=.02:this.limitVelocity2<-.02?this.limitVelocity2+=.02:this.limitVelocity2=0)):(this.limitState2=2,this.limitImpulse2=0);var c=this.limitMotor3.angle;if(C?(this.lowerLimit3==this.upperLimit3?(this.limitState3!=0&&(this.limitState3=0,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-c):c<this.lowerLimit3?(this.limitState3!=-1&&(this.limitState3=-1,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-c):c>this.upperLimit3?(this.limitState3!=1&&(this.limitState3=1,this.limitImpulse3=0),this.limitVelocity3=this.upperLimit3-c):(this.limitState3=2,this.limitImpulse3=0,this.limitVelocity3=0),p||(this.limitVelocity3>.02?this.limitVelocity3-=.02:this.limitVelocity3<-.02?this.limitVelocity3+=.02:this.limitVelocity3=0)):(this.limitState3=2,this.limitImpulse3=0),this.enableMotor1&&(this.limitState1!=0||r)?this.maxMotorImpulse1=this.maxMotorForce1*s:(this.motorImpulse1=0,this.maxMotorImpulse1=0),this.enableMotor2&&(this.limitState2!=0||A)?this.maxMotorImpulse2=this.maxMotorForce2*s:(this.motorImpulse2=0,this.maxMotorImpulse2=0),this.enableMotor3&&(this.limitState3!=0||p)?this.maxMotorImpulse3=this.maxMotorForce3*s:(this.motorImpulse3=0,this.maxMotorImpulse3=0),this.a1x1=this.ax1*this.i1e00+this.ay1*this.i1e01+this.az1*this.i1e02,this.a1y1=this.ax1*this.i1e10+this.ay1*this.i1e11+this.az1*this.i1e12,this.a1z1=this.ax1*this.i1e20+this.ay1*this.i1e21+this.az1*this.i1e22,this.a2x1=this.ax1*this.i2e00+this.ay1*this.i2e01+this.az1*this.i2e02,this.a2y1=this.ax1*this.i2e10+this.ay1*this.i2e11+this.az1*this.i2e12,this.a2z1=this.ax1*this.i2e20+this.ay1*this.i2e21+this.az1*this.i2e22,this.a1x2=this.ax2*this.i1e00+this.ay2*this.i1e01+this.az2*this.i1e02,this.a1y2=this.ax2*this.i1e10+this.ay2*this.i1e11+this.az2*this.i1e12,this.a1z2=this.ax2*this.i1e20+this.ay2*this.i1e21+this.az2*this.i1e22,this.a2x2=this.ax2*this.i2e00+this.ay2*this.i2e01+this.az2*this.i2e02,this.a2y2=this.ax2*this.i2e10+this.ay2*this.i2e11+this.az2*this.i2e12,this.a2z2=this.ax2*this.i2e20+this.ay2*this.i2e21+this.az2*this.i2e22,this.a1x3=this.ax3*this.i1e00+this.ay3*this.i1e01+this.az3*this.i1e02,this.a1y3=this.ax3*this.i1e10+this.ay3*this.i1e11+this.az3*this.i1e12,this.a1z3=this.ax3*this.i1e20+this.ay3*this.i1e21+this.az3*this.i1e22,this.a2x3=this.ax3*this.i2e00+this.ay3*this.i2e01+this.az3*this.i2e02,this.a2y3=this.ax3*this.i2e10+this.ay3*this.i2e11+this.az3*this.i2e12,this.a2z3=this.ax3*this.i2e20+this.ay3*this.i2e21+this.az3*this.i2e22,this.k00=this.ax1*(this.a1x1+this.a2x1)+this.ay1*(this.a1y1+this.a2y1)+this.az1*(this.a1z1+this.a2z1),this.k01=this.ax1*(this.a1x2+this.a2x2)+this.ay1*(this.a1y2+this.a2y2)+this.az1*(this.a1z2+this.a2z2),this.k02=this.ax1*(this.a1x3+this.a2x3)+this.ay1*(this.a1y3+this.a2y3)+this.az1*(this.a1z3+this.a2z3),this.k10=this.ax2*(this.a1x1+this.a2x1)+this.ay2*(this.a1y1+this.a2y1)+this.az2*(this.a1z1+this.a2z1),this.k11=this.ax2*(this.a1x2+this.a2x2)+this.ay2*(this.a1y2+this.a2y2)+this.az2*(this.a1z2+this.a2z2),this.k12=this.ax2*(this.a1x3+this.a2x3)+this.ay2*(this.a1y3+this.a2y3)+this.az2*(this.a1z3+this.a2z3),this.k20=this.ax3*(this.a1x1+this.a2x1)+this.ay3*(this.a1y1+this.a2y1)+this.az3*(this.a1z1+this.a2z1),this.k21=this.ax3*(this.a1x2+this.a2x2)+this.ay3*(this.a1y2+this.a2y2)+this.az3*(this.a1z2+this.a2z2),this.k22=this.ax3*(this.a1x3+this.a2x3)+this.ay3*(this.a1y3+this.a2y3)+this.az3*(this.a1z3+this.a2z3),this.kv00=this.k00,this.kv11=this.k11,this.kv22=this.k22,this.dv00=1/this.kv00,this.dv11=1/this.kv11,this.dv22=1/this.kv22,r&&this.limitState1!=2){var f=6.2831853*E,S=f*f*s,d=t/(S+2*this.limitMotor1.dampingRatio*f);this.cfm1=this.kv00*d,this.limitVelocity1*=S*d}else this.cfm1=0,this.limitVelocity1*=.05*t;A&&this.limitState2!=2?(d=t/((S=(f=6.2831853*n)*f*s)+2*this.limitMotor2.dampingRatio*f),this.cfm2=this.kv11*d,this.limitVelocity2*=S*d):(this.cfm2=0,this.limitVelocity2*=.05*t),p&&this.limitState3!=2?(d=t/((S=(f=6.2831853*e)*f*s)+2*this.limitMotor3.dampingRatio*f),this.cfm3=this.kv22*d,this.limitVelocity3*=S*d):(this.cfm3=0,this.limitVelocity3*=.05*t),this.k00+=this.cfm1,this.k11+=this.cfm2,this.k22+=this.cfm3;var P=1/(this.k00*(this.k11*this.k22-this.k21*this.k12)+this.k10*(this.k21*this.k02-this.k01*this.k22)+this.k20*(this.k01*this.k12-this.k11*this.k02));this.d00=(this.k11*this.k22-this.k12*this.k21)*P,this.d01=(this.k02*this.k21-this.k01*this.k22)*P,this.d02=(this.k01*this.k12-this.k02*this.k11)*P,this.d10=(this.k12*this.k20-this.k10*this.k22)*P,this.d11=(this.k00*this.k22-this.k02*this.k20)*P,this.d12=(this.k02*this.k10-this.k00*this.k12)*P,this.d20=(this.k10*this.k21-this.k11*this.k20)*P,this.d21=(this.k01*this.k20-this.k00*this.k21)*P,this.d22=(this.k00*this.k11-this.k01*this.k10)*P,this.limitImpulse1*=.95,this.motorImpulse1*=.95,this.limitImpulse2*=.95,this.motorImpulse2*=.95,this.limitImpulse3*=.95,this.motorImpulse3*=.95;var M=this.limitImpulse1+this.motorImpulse1,O=this.limitImpulse2+this.motorImpulse2,R=this.limitImpulse3+this.motorImpulse3;this.a1.x+=M*this.a1x1+O*this.a1x2+R*this.a1x3,this.a1.y+=M*this.a1y1+O*this.a1y2+R*this.a1y3,this.a1.z+=M*this.a1z1+O*this.a1z2+R*this.a1z3,this.a2.x-=M*this.a2x1+O*this.a2x2+R*this.a2x3,this.a2.y-=M*this.a2y1+O*this.a2y2+R*this.a2y3,this.a2.z-=M*this.a2z1+O*this.a2z2+R*this.a2z3},solve_:function(){var s=this.a2.x-this.a1.x,t=this.a2.y-this.a1.y,a=this.a2.z-this.a1.z;this.limitVelocity3=30;var h=s*this.ax1+t*this.ay1+a*this.az1-this.limitVelocity1,E=s*this.ax2+t*this.ay2+a*this.az2-this.limitVelocity2,n=s*this.ax3+t*this.ay3+a*this.az3-this.limitVelocity3,e=h*this.d00+E*this.d01+n*this.d02,r=h*this.d10+E*this.d11+n*this.d12,A=h*this.d20+E*this.d21+n*this.d22;this.limitImpulse1+=e,this.limitImpulse2+=r,this.limitImpulse3+=A,this.a1.x+=e*this.a1x1+r*this.a1x2+A*this.a1x3,this.a1.y+=e*this.a1y1+r*this.a1y2+A*this.a1y3,this.a1.z+=e*this.a1z1+r*this.a1z2+A*this.a1z3,this.a2.x-=e*this.a2x1+r*this.a2x2+A*this.a2x3,this.a2.y-=e*this.a2y1+r*this.a2y2+A*this.a2y3,this.a2.z-=e*this.a2z1+r*this.a2z2+A*this.a2z3},solve:function(){var s=this.a2.x-this.a1.x,t=this.a2.y-this.a1.y,a=this.a2.z-this.a1.z,h=s*this.ax1+t*this.ay1+a*this.az1,E=s*this.ax2+t*this.ay2+a*this.az2,n=s*this.ax3+t*this.ay3+a*this.az3,e=this.motorImpulse1,r=this.motorImpulse2,A=this.motorImpulse3,p=0,l=0,B=0;this.enableMotor1&&(p=(h-this.motorSpeed1)*this.dv00,this.motorImpulse1+=p,this.motorImpulse1>this.maxMotorImpulse1?this.motorImpulse1=this.maxMotorImpulse1:this.motorImpulse1<-this.maxMotorImpulse1&&(this.motorImpulse1=-this.maxMotorImpulse1),p=this.motorImpulse1-e),this.enableMotor2&&(l=(E-this.motorSpeed2)*this.dv11,this.motorImpulse2+=l,this.motorImpulse2>this.maxMotorImpulse2?this.motorImpulse2=this.maxMotorImpulse2:this.motorImpulse2<-this.maxMotorImpulse2&&(this.motorImpulse2=-this.maxMotorImpulse2),l=this.motorImpulse2-r),this.enableMotor3&&(B=(n-this.motorSpeed3)*this.dv22,this.motorImpulse3+=B,this.motorImpulse3>this.maxMotorImpulse3?this.motorImpulse3=this.maxMotorImpulse3:this.motorImpulse3<-this.maxMotorImpulse3&&(this.motorImpulse3=-this.maxMotorImpulse3),B=this.motorImpulse3-A),h+=p*this.kv00+l*this.k01+B*this.k02,E+=p*this.k10+l*this.kv11+B*this.k12,n+=p*this.k20+l*this.k21+B*this.kv22,h-=this.limitVelocity1+this.limitImpulse1*this.cfm1,E-=this.limitVelocity2+this.limitImpulse2*this.cfm2,n-=this.limitVelocity3+this.limitImpulse3*this.cfm3;var C=this.limitImpulse1,k=this.limitImpulse2,o=this.limitImpulse3,c=h*this.d00+E*this.d01+n*this.d02,f=h*this.d10+E*this.d11+n*this.d12,S=h*this.d20+E*this.d21+n*this.d22;this.limitImpulse1+=c,this.limitImpulse2+=f,this.limitImpulse3+=S;var d,P=0;switch((this.limitState1==2||this.limitImpulse1*this.limitState1<0)&&(E+=(c=-C)*this.k10,n+=c*this.k20,P|=1),(this.limitState2==2||this.limitImpulse2*this.limitState2<0)&&(h+=(f=-k)*this.k01,n+=f*this.k21,P|=2),(this.limitState3==2||this.limitImpulse3*this.limitState3<0)&&(h+=(S=-o)*this.k02,E+=S*this.k12,P|=4),P){case 1:d=1/(this.k11*this.k22-this.k12*this.k21),f=(this.k22*E+-this.k12*n)*d,S=(-this.k21*E+this.k11*n)*d;break;case 2:d=1/(this.k00*this.k22-this.k02*this.k20),c=(this.k22*h+-this.k02*n)*d,S=(-this.k20*h+this.k00*n)*d;break;case 3:S=n/this.k22;break;case 4:d=1/(this.k00*this.k11-this.k01*this.k10),c=(this.k11*h+-this.k01*E)*d,f=(-this.k10*h+this.k00*E)*d;break;case 5:f=E/this.k11;break;case 6:c=h/this.k00}this.limitImpulse1=c+C,this.limitImpulse2=f+k,this.limitImpulse3=S+o;var M=p+c,O=l+f,R=B+S;this.a1.x+=M*this.a1x1+O*this.a1x2+R*this.a1x3,this.a1.y+=M*this.a1y1+O*this.a1y2+R*this.a1y3,this.a1.z+=M*this.a1z1+O*this.a1z2+R*this.a1z3,this.a2.x-=M*this.a2x1+O*this.a2x2+R*this.a2x3,this.a2.y-=M*this.a2y1+O*this.a2y2+R*this.a2y3,this.a2.z-=M*this.a2z1+O*this.a2z2+R*this.a2z3,s=this.a2.x-this.a1.x,t=this.a2.y-this.a1.y,a=this.a2.z-this.a1.z,E=s*this.ax2+t*this.ay2+a*this.az2}}),us.prototype=Object.assign(Object.create(Y3.prototype),{constructor:us,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan);var a=x.acosClamp(x.dotVectors(this.an1,this.an2));this.tmp.crossVectors(this.an1,this.an2),x.dotVectors(this.nor,this.tmp)<0?this.limitMotor.angle=-a:this.limitMotor.angle=a,this.tmp.crossVectors(this.ax1,this.ax2),this.r3.limitMotor2.angle=x.dotVectors(this.tan,this.tmp),this.r3.limitMotor3.angle=x.dotVectors(this.bin,this.tmp),this.r3.preSolve(s,t),this.lc.preSolve(s,t)},solve:function(){this.r3.solve(),this.lc.solve()},postSolve:function(){}}),xs.prototype=Object.assign(Object.create(Y3.prototype),{constructor:xs,preSolve:function(s,t){this.updateAnchorPoints(),this.lc.preSolve(s,t)},solve:function(){this.lc.solve()},postSolve:function(){}}),Object.assign(tt.prototype,{TranslationalConstraint:!0,preSolve:function(s,t){this.ax=this.limitMotor.axis.x,this.ay=this.limitMotor.axis.y,this.az=this.limitMotor.axis.z,this.lowerLimit=this.limitMotor.lowerLimit,this.upperLimit=this.limitMotor.upperLimit,this.motorSpeed=this.limitMotor.motorSpeed,this.maxMotorForce=this.limitMotor.maxMotorForce,this.enableMotor=this.maxMotorForce>0,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass;var a=this.i1.elements,h=this.i2.elements;this.i1e00=a[0],this.i1e01=a[1],this.i1e02=a[2],this.i1e10=a[3],this.i1e11=a[4],this.i1e12=a[5],this.i1e20=a[6],this.i1e21=a[7],this.i1e22=a[8],this.i2e00=h[0],this.i2e01=h[1],this.i2e02=h[2],this.i2e10=h[3],this.i2e11=h[4],this.i2e12=h[5],this.i2e20=h[6],this.i2e21=h[7],this.i2e22=h[8];var E=this.p2.x-this.p1.x,n=this.p2.y-this.p1.y,e=this.p2.z-this.p1.z,r=E*this.ax+n*this.ay+e*this.az,A=this.limitMotor.frequency,p=A>0;(p&&r>20||r<-20)&&(p=!1),this.lowerLimit<=this.upperLimit?(this.lowerLimit==this.upperLimit?(this.limitState!=0&&(this.limitState=0,this.limitImpulse=0),this.limitVelocity=this.lowerLimit-r,p||(r=this.lowerLimit)):r<this.lowerLimit?(this.limitState!=-1&&(this.limitState=-1,this.limitImpulse=0),this.limitVelocity=this.lowerLimit-r,p||(r=this.lowerLimit)):r>this.upperLimit?(this.limitState!=1&&(this.limitState=1,this.limitImpulse=0),this.limitVelocity=this.upperLimit-r,p||(r=this.upperLimit)):(this.limitState=2,this.limitImpulse=0,this.limitVelocity=0),p||(this.limitVelocity>.005?this.limitVelocity-=.005:this.limitVelocity<-.005?this.limitVelocity+=.005:this.limitVelocity=0)):(this.limitState=2,this.limitImpulse=0),this.enableMotor&&(this.limitState!=0||p)?this.maxMotorImpulse=this.maxMotorForce*s:(this.motorImpulse=0,this.maxMotorImpulse=0);var l=r*this.ax,B=r*this.ay,C=r*this.az,k=this.m1/(this.m1+this.m2),o=1-k;if(this.r1x=this.r1.x+l*k,this.r1y=this.r1.y+B*k,this.r1z=this.r1.z+C*k,this.r2x=this.r2.x-l*o,this.r2y=this.r2.y-B*o,this.r2z=this.r2.z-C*o,this.t1x=this.r1y*this.az-this.r1z*this.ay,this.t1y=this.r1z*this.ax-this.r1x*this.az,this.t1z=this.r1x*this.ay-this.r1y*this.ax,this.t2x=this.r2y*this.az-this.r2z*this.ay,this.t2y=this.r2z*this.ax-this.r2x*this.az,this.t2z=this.r2x*this.ay-this.r2y*this.ax,this.l1x=this.ax*this.m1,this.l1y=this.ay*this.m1,this.l1z=this.az*this.m1,this.l2x=this.ax*this.m2,this.l2y=this.ay*this.m2,this.l2z=this.az*this.m2,this.a1x=this.t1x*this.i1e00+this.t1y*this.i1e01+this.t1z*this.i1e02,this.a1y=this.t1x*this.i1e10+this.t1y*this.i1e11+this.t1z*this.i1e12,this.a1z=this.t1x*this.i1e20+this.t1y*this.i1e21+this.t1z*this.i1e22,this.a2x=this.t2x*this.i2e00+this.t2y*this.i2e01+this.t2z*this.i2e02,this.a2y=this.t2x*this.i2e10+this.t2y*this.i2e11+this.t2z*this.i2e12,this.a2z=this.t2x*this.i2e20+this.t2y*this.i2e21+this.t2z*this.i2e22,this.motorDenom=this.m1+this.m2+this.ax*(this.a1y*this.r1z-this.a1z*this.r1y+this.a2y*this.r2z-this.a2z*this.r2y)+this.ay*(this.a1z*this.r1x-this.a1x*this.r1z+this.a2z*this.r2x-this.a2x*this.r2z)+this.az*(this.a1x*this.r1y-this.a1y*this.r1x+this.a2x*this.r2y-this.a2y*this.r2x),this.invMotorDenom=1/this.motorDenom,p&&this.limitState!=2){var c=6.2831853*A,f=c*c*s,S=t/(f+2*this.limitMotor.dampingRatio*c);this.cfm=this.motorDenom*S,this.limitVelocity*=f*S}else this.cfm=0,this.limitVelocity*=.05*t;this.invDenom=1/(this.motorDenom+this.cfm);var d=this.limitImpulse+this.motorImpulse;this.l1.x+=d*this.l1x,this.l1.y+=d*this.l1y,this.l1.z+=d*this.l1z,this.a1.x+=d*this.a1x,this.a1.y+=d*this.a1y,this.a1.z+=d*this.a1z,this.l2.x-=d*this.l2x,this.l2.y-=d*this.l2y,this.l2.z-=d*this.l2z,this.a2.x-=d*this.a2x,this.a2.y-=d*this.a2y,this.a2.z-=d*this.a2z},solve:function(){var s,t,a=this.ax*(this.l2.x-this.l1.x)+this.ay*(this.l2.y-this.l1.y)+this.az*(this.l2.z-this.l1.z)+this.t2x*this.a2.x-this.t1x*this.a1.x+this.t2y*this.a2.y-this.t1y*this.a1.y+this.t2z*this.a2.z-this.t1z*this.a1.z;if(this.enableMotor){s=(a-this.motorSpeed)*this.invMotorDenom;var h=this.motorImpulse;this.motorImpulse+=s,this.motorImpulse>this.maxMotorImpulse?this.motorImpulse=this.maxMotorImpulse:this.motorImpulse<-this.maxMotorImpulse&&(this.motorImpulse=-this.maxMotorImpulse),a-=(s=this.motorImpulse-h)*this.motorDenom}else s=0;if(this.limitState!=2){t=(a-this.limitVelocity-this.limitImpulse*this.cfm)*this.invDenom;var E=this.limitImpulse;this.limitImpulse+=t,this.limitImpulse*this.limitState<0&&(this.limitImpulse=0),t=this.limitImpulse-E}else t=0;var n=t+s;this.l1.x+=n*this.l1x,this.l1.y+=n*this.l1y,this.l1.z+=n*this.l1z,this.a1.x+=n*this.a1x,this.a1.y+=n*this.a1y,this.a1.z+=n*this.a1z,this.l2.x-=n*this.l2x,this.l2.y-=n*this.l2y,this.l2.z-=n*this.l2z,this.a2.x-=n*this.a2x,this.a2.y-=n*this.a2y,this.a2.z-=n*this.a2z}}),fs.prototype=Object.assign(Object.create(Y3.prototype),{constructor:fs,preSolve:function(s,t){this.updateAnchorPoints(),this.nor.sub(this.anchorPoint2,this.anchorPoint1).normalize(),this.t.preSolve(s,t)},solve:function(){this.t.solve()},postSolve:function(){}}),Object.assign(at.prototype,{AngularConstraint:!0,preSolve:function(s,t){var a,h,E;this.ii1=this.i1.clone(),this.ii2=this.i2.clone(),a=1/((E=new O2().add(this.ii1,this.ii2).elements)[0]*(E[4]*E[8]-E[7]*E[5])+E[3]*(E[7]*E[2]-E[1]*E[8])+E[6]*(E[1]*E[5]-E[4]*E[2])),this.dd=new O2().set(E[4]*E[8]-E[5]*E[7],E[2]*E[7]-E[1]*E[8],E[1]*E[5]-E[2]*E[4],E[5]*E[6]-E[3]*E[8],E[0]*E[8]-E[2]*E[6],E[2]*E[3]-E[0]*E[5],E[3]*E[7]-E[4]*E[6],E[1]*E[6]-E[0]*E[7],E[0]*E[4]-E[1]*E[3]).multiplyScalar(a),this.relativeOrientation.invert(this.b1.orientation).multiply(this.targetOrientation).multiply(this.b2.orientation),a=2*this.relativeOrientation.w,this.vel.copy(this.relativeOrientation).multiplyScalar(a),(h=this.vel.length())>.02?(h=(.02-h)/h*t*.05,this.vel.multiplyScalar(h)):this.vel.set(0,0,0),this.rn1.copy(this.imp).applyMatrix3(this.ii1,!0),this.rn2.copy(this.imp).applyMatrix3(this.ii2,!0),this.a1.add(this.rn1),this.a2.sub(this.rn2)},solve:function(){var s=this.a2.clone().sub(this.a1).sub(this.vel);this.rn0.copy(s).applyMatrix3(this.dd,!0),this.rn1.copy(this.rn0).applyMatrix3(this.ii1,!0),this.rn2.copy(this.rn0).applyMatrix3(this.ii2,!0),this.imp.add(this.rn0),this.a1.add(this.rn1),this.a2.sub(this.rn2)}}),Object.assign(vs.prototype,{Translational3Constraint:!0,preSolve:function(s,t){this.ax1=this.limitMotor1.axis.x,this.ay1=this.limitMotor1.axis.y,this.az1=this.limitMotor1.axis.z,this.ax2=this.limitMotor2.axis.x,this.ay2=this.limitMotor2.axis.y,this.az2=this.limitMotor2.axis.z,this.ax3=this.limitMotor3.axis.x,this.ay3=this.limitMotor3.axis.y,this.az3=this.limitMotor3.axis.z,this.lowerLimit1=this.limitMotor1.lowerLimit,this.upperLimit1=this.limitMotor1.upperLimit,this.motorSpeed1=this.limitMotor1.motorSpeed,this.maxMotorForce1=this.limitMotor1.maxMotorForce,this.enableMotor1=this.maxMotorForce1>0,this.lowerLimit2=this.limitMotor2.lowerLimit,this.upperLimit2=this.limitMotor2.upperLimit,this.motorSpeed2=this.limitMotor2.motorSpeed,this.maxMotorForce2=this.limitMotor2.maxMotorForce,this.enableMotor2=this.maxMotorForce2>0,this.lowerLimit3=this.limitMotor3.lowerLimit,this.upperLimit3=this.limitMotor3.upperLimit,this.motorSpeed3=this.limitMotor3.motorSpeed,this.maxMotorForce3=this.limitMotor3.maxMotorForce,this.enableMotor3=this.maxMotorForce3>0,this.m1=this.b1.inverseMass,this.m2=this.b2.inverseMass;var a=this.i1.elements,h=this.i2.elements;this.i1e00=a[0],this.i1e01=a[1],this.i1e02=a[2],this.i1e10=a[3],this.i1e11=a[4],this.i1e12=a[5],this.i1e20=a[6],this.i1e21=a[7],this.i1e22=a[8],this.i2e00=h[0],this.i2e01=h[1],this.i2e02=h[2],this.i2e10=h[3],this.i2e11=h[4],this.i2e12=h[5],this.i2e20=h[6],this.i2e21=h[7],this.i2e22=h[8];var E=this.p2.x-this.p1.x,n=this.p2.y-this.p1.y,e=this.p2.z-this.p1.z,r=E*this.ax1+n*this.ay1+e*this.az1,A=E*this.ax2+n*this.ay2+e*this.az2,p=E*this.ax3+n*this.ay3+e*this.az3,l=this.limitMotor1.frequency,B=this.limitMotor2.frequency,C=this.limitMotor3.frequency,k=l>0,o=B>0,c=C>0,f=this.lowerLimit1<=this.upperLimit1,S=this.lowerLimit2<=this.upperLimit2,d=this.lowerLimit3<=this.upperLimit3;(k&&r>20||r<-20)&&(k=!1),(o&&A>20||A<-20)&&(o=!1),(c&&p>20||p<-20)&&(c=!1),f?(this.lowerLimit1==this.upperLimit1?(this.limitState1!=0&&(this.limitState1=0,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-r,k||(r=this.lowerLimit1)):r<this.lowerLimit1?(this.limitState1!=-1&&(this.limitState1=-1,this.limitImpulse1=0),this.limitVelocity1=this.lowerLimit1-r,k||(r=this.lowerLimit1)):r>this.upperLimit1?(this.limitState1!=1&&(this.limitState1=1,this.limitImpulse1=0),this.limitVelocity1=this.upperLimit1-r,k||(r=this.upperLimit1)):(this.limitState1=2,this.limitImpulse1=0,this.limitVelocity1=0),k||(this.limitVelocity1>.005?this.limitVelocity1-=.005:this.limitVelocity1<-.005?this.limitVelocity1+=.005:this.limitVelocity1=0)):(this.limitState1=2,this.limitImpulse1=0),S?(this.lowerLimit2==this.upperLimit2?(this.limitState2!=0&&(this.limitState2=0,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-A,o||(A=this.lowerLimit2)):A<this.lowerLimit2?(this.limitState2!=-1&&(this.limitState2=-1,this.limitImpulse2=0),this.limitVelocity2=this.lowerLimit2-A,o||(A=this.lowerLimit2)):A>this.upperLimit2?(this.limitState2!=1&&(this.limitState2=1,this.limitImpulse2=0),this.limitVelocity2=this.upperLimit2-A,o||(A=this.upperLimit2)):(this.limitState2=2,this.limitImpulse2=0,this.limitVelocity2=0),o||(this.limitVelocity2>.005?this.limitVelocity2-=.005:this.limitVelocity2<-.005?this.limitVelocity2+=.005:this.limitVelocity2=0)):(this.limitState2=2,this.limitImpulse2=0),d?(this.lowerLimit3==this.upperLimit3?(this.limitState3!=0&&(this.limitState3=0,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-p,c||(p=this.lowerLimit3)):p<this.lowerLimit3?(this.limitState3!=-1&&(this.limitState3=-1,this.limitImpulse3=0),this.limitVelocity3=this.lowerLimit3-p,c||(p=this.lowerLimit3)):p>this.upperLimit3?(this.limitState3!=1&&(this.limitState3=1,this.limitImpulse3=0),this.limitVelocity3=this.upperLimit3-p,c||(p=this.upperLimit3)):(this.limitState3=2,this.limitImpulse3=0,this.limitVelocity3=0),c||(this.limitVelocity3>.005?this.limitVelocity3-=.005:this.limitVelocity3<-.005?this.limitVelocity3+=.005:this.limitVelocity3=0)):(this.limitState3=2,this.limitImpulse3=0),this.enableMotor1&&(this.limitState1!=0||k)?this.maxMotorImpulse1=this.maxMotorForce1*s:(this.motorImpulse1=0,this.maxMotorImpulse1=0),this.enableMotor2&&(this.limitState2!=0||o)?this.maxMotorImpulse2=this.maxMotorForce2*s:(this.motorImpulse2=0,this.maxMotorImpulse2=0),this.enableMotor3&&(this.limitState3!=0||c)?this.maxMotorImpulse3=this.maxMotorForce3*s:(this.motorImpulse3=0,this.maxMotorImpulse3=0);var P=r*this.ax1+A*this.ax2+p*this.ax2,M=r*this.ay1+A*this.ay2+p*this.ay2,O=r*this.az1+A*this.az2+p*this.az2,R=this.m2/(this.m1+this.m2);this.weight>=0&&(R=this.weight);var I=1-R;this.r1x=this.r1.x+P*R,this.r1y=this.r1.y+M*R,this.r1z=this.r1.z+O*R,this.r2x=this.r2.x-P*I,this.r2y=this.r2.y-M*I,this.r2z=this.r2.z-O*I,this.t1x1=this.r1y*this.az1-this.r1z*this.ay1,this.t1y1=this.r1z*this.ax1-this.r1x*this.az1,this.t1z1=this.r1x*this.ay1-this.r1y*this.ax1,this.t2x1=this.r2y*this.az1-this.r2z*this.ay1,this.t2y1=this.r2z*this.ax1-this.r2x*this.az1,this.t2z1=this.r2x*this.ay1-this.r2y*this.ax1,this.l1x1=this.ax1*this.m1,this.l1y1=this.ay1*this.m1,this.l1z1=this.az1*this.m1,this.l2x1=this.ax1*this.m2,this.l2y1=this.ay1*this.m2,this.l2z1=this.az1*this.m2,this.a1x1=this.t1x1*this.i1e00+this.t1y1*this.i1e01+this.t1z1*this.i1e02,this.a1y1=this.t1x1*this.i1e10+this.t1y1*this.i1e11+this.t1z1*this.i1e12,this.a1z1=this.t1x1*this.i1e20+this.t1y1*this.i1e21+this.t1z1*this.i1e22,this.a2x1=this.t2x1*this.i2e00+this.t2y1*this.i2e01+this.t2z1*this.i2e02,this.a2y1=this.t2x1*this.i2e10+this.t2y1*this.i2e11+this.t2z1*this.i2e12,this.a2z1=this.t2x1*this.i2e20+this.t2y1*this.i2e21+this.t2z1*this.i2e22,this.t1x2=this.r1y*this.az2-this.r1z*this.ay2,this.t1y2=this.r1z*this.ax2-this.r1x*this.az2,this.t1z2=this.r1x*this.ay2-this.r1y*this.ax2,this.t2x2=this.r2y*this.az2-this.r2z*this.ay2,this.t2y2=this.r2z*this.ax2-this.r2x*this.az2,this.t2z2=this.r2x*this.ay2-this.r2y*this.ax2,this.l1x2=this.ax2*this.m1,this.l1y2=this.ay2*this.m1,this.l1z2=this.az2*this.m1,this.l2x2=this.ax2*this.m2,this.l2y2=this.ay2*this.m2,this.l2z2=this.az2*this.m2,this.a1x2=this.t1x2*this.i1e00+this.t1y2*this.i1e01+this.t1z2*this.i1e02,this.a1y2=this.t1x2*this.i1e10+this.t1y2*this.i1e11+this.t1z2*this.i1e12,this.a1z2=this.t1x2*this.i1e20+this.t1y2*this.i1e21+this.t1z2*this.i1e22,this.a2x2=this.t2x2*this.i2e00+this.t2y2*this.i2e01+this.t2z2*this.i2e02,this.a2y2=this.t2x2*this.i2e10+this.t2y2*this.i2e11+this.t2z2*this.i2e12,this.a2z2=this.t2x2*this.i2e20+this.t2y2*this.i2e21+this.t2z2*this.i2e22,this.t1x3=this.r1y*this.az3-this.r1z*this.ay3,this.t1y3=this.r1z*this.ax3-this.r1x*this.az3,this.t1z3=this.r1x*this.ay3-this.r1y*this.ax3,this.t2x3=this.r2y*this.az3-this.r2z*this.ay3,this.t2y3=this.r2z*this.ax3-this.r2x*this.az3,this.t2z3=this.r2x*this.ay3-this.r2y*this.ax3,this.l1x3=this.ax3*this.m1,this.l1y3=this.ay3*this.m1,this.l1z3=this.az3*this.m1,this.l2x3=this.ax3*this.m2,this.l2y3=this.ay3*this.m2,this.l2z3=this.az3*this.m2,this.a1x3=this.t1x3*this.i1e00+this.t1y3*this.i1e01+this.t1z3*this.i1e02,this.a1y3=this.t1x3*this.i1e10+this.t1y3*this.i1e11+this.t1z3*this.i1e12,this.a1z3=this.t1x3*this.i1e20+this.t1y3*this.i1e21+this.t1z3*this.i1e22,this.a2x3=this.t2x3*this.i2e00+this.t2y3*this.i2e01+this.t2z3*this.i2e02,this.a2y3=this.t2x3*this.i2e10+this.t2y3*this.i2e11+this.t2z3*this.i2e12,this.a2z3=this.t2x3*this.i2e20+this.t2y3*this.i2e21+this.t2z3*this.i2e22;var $=this.m1+this.m2;if(this.k00=(this.ax1*this.ax1+this.ay1*this.ay1+this.az1*this.az1)*$,this.k01=(this.ax1*this.ax2+this.ay1*this.ay2+this.az1*this.az2)*$,this.k02=(this.ax1*this.ax3+this.ay1*this.ay3+this.az1*this.az3)*$,this.k10=(this.ax2*this.ax1+this.ay2*this.ay1+this.az2*this.az1)*$,this.k11=(this.ax2*this.ax2+this.ay2*this.ay2+this.az2*this.az2)*$,this.k12=(this.ax2*this.ax3+this.ay2*this.ay3+this.az2*this.az3)*$,this.k20=(this.ax3*this.ax1+this.ay3*this.ay1+this.az3*this.az1)*$,this.k21=(this.ax3*this.ax2+this.ay3*this.ay2+this.az3*this.az2)*$,this.k22=(this.ax3*this.ax3+this.ay3*this.ay3+this.az3*this.az3)*$,this.k00+=this.t1x1*this.a1x1+this.t1y1*this.a1y1+this.t1z1*this.a1z1,this.k01+=this.t1x1*this.a1x2+this.t1y1*this.a1y2+this.t1z1*this.a1z2,this.k02+=this.t1x1*this.a1x3+this.t1y1*this.a1y3+this.t1z1*this.a1z3,this.k10+=this.t1x2*this.a1x1+this.t1y2*this.a1y1+this.t1z2*this.a1z1,this.k11+=this.t1x2*this.a1x2+this.t1y2*this.a1y2+this.t1z2*this.a1z2,this.k12+=this.t1x2*this.a1x3+this.t1y2*this.a1y3+this.t1z2*this.a1z3,this.k20+=this.t1x3*this.a1x1+this.t1y3*this.a1y1+this.t1z3*this.a1z1,this.k21+=this.t1x3*this.a1x2+this.t1y3*this.a1y2+this.t1z3*this.a1z2,this.k22+=this.t1x3*this.a1x3+this.t1y3*this.a1y3+this.t1z3*this.a1z3,this.k00+=this.t2x1*this.a2x1+this.t2y1*this.a2y1+this.t2z1*this.a2z1,this.k01+=this.t2x1*this.a2x2+this.t2y1*this.a2y2+this.t2z1*this.a2z2,this.k02+=this.t2x1*this.a2x3+this.t2y1*this.a2y3+this.t2z1*this.a2z3,this.k10+=this.t2x2*this.a2x1+this.t2y2*this.a2y1+this.t2z2*this.a2z1,this.k11+=this.t2x2*this.a2x2+this.t2y2*this.a2y2+this.t2z2*this.a2z2,this.k12+=this.t2x2*this.a2x3+this.t2y2*this.a2y3+this.t2z2*this.a2z3,this.k20+=this.t2x3*this.a2x1+this.t2y3*this.a2y1+this.t2z3*this.a2z1,this.k21+=this.t2x3*this.a2x2+this.t2y3*this.a2y2+this.t2z3*this.a2z2,this.k22+=this.t2x3*this.a2x3+this.t2y3*this.a2y3+this.t2z3*this.a2z3,this.kv00=this.k00,this.kv11=this.k11,this.kv22=this.k22,this.dv00=1/this.kv00,this.dv11=1/this.kv11,this.dv22=1/this.kv22,k&&this.limitState1!=2){var z=6.2831853*l,L=z*z*s,_=t/(L+2*this.limitMotor1.dampingRatio*z);this.cfm1=this.kv00*_,this.limitVelocity1*=L*_}else this.cfm1=0,this.limitVelocity1*=.05*t;o&&this.limitState2!=2?(_=t/((L=(z=6.2831853*B)*z*s)+2*this.limitMotor2.dampingRatio*z),this.cfm2=this.kv11*_,this.limitVelocity2*=L*_):(this.cfm2=0,this.limitVelocity2*=.05*t),c&&this.limitState3!=2?(_=t/((L=(z=6.2831853*C)*z*s)+2*this.limitMotor3.dampingRatio*z),this.cfm3=this.kv22*_,this.limitVelocity3*=L*_):(this.cfm3=0,this.limitVelocity3*=.05*t),this.k00+=this.cfm1,this.k11+=this.cfm2,this.k22+=this.cfm3;var N=1/(this.k00*(this.k11*this.k22-this.k21*this.k12)+this.k10*(this.k21*this.k02-this.k01*this.k22)+this.k20*(this.k01*this.k12-this.k11*this.k02));this.d00=(this.k11*this.k22-this.k12*this.k21)*N,this.d01=(this.k02*this.k21-this.k01*this.k22)*N,this.d02=(this.k01*this.k12-this.k02*this.k11)*N,this.d10=(this.k12*this.k20-this.k10*this.k22)*N,this.d11=(this.k00*this.k22-this.k02*this.k20)*N,this.d12=(this.k02*this.k10-this.k00*this.k12)*N,this.d20=(this.k10*this.k21-this.k11*this.k20)*N,this.d21=(this.k01*this.k20-this.k00*this.k21)*N,this.d22=(this.k00*this.k11-this.k01*this.k10)*N;var T=this.limitImpulse1+this.motorImpulse1,U=this.limitImpulse2+this.motorImpulse2,A2=this.limitImpulse3+this.motorImpulse3;this.l1.x+=T*this.l1x1+U*this.l1x2+A2*this.l1x3,this.l1.y+=T*this.l1y1+U*this.l1y2+A2*this.l1y3,this.l1.z+=T*this.l1z1+U*this.l1z2+A2*this.l1z3,this.a1.x+=T*this.a1x1+U*this.a1x2+A2*this.a1x3,this.a1.y+=T*this.a1y1+U*this.a1y2+A2*this.a1y3,this.a1.z+=T*this.a1z1+U*this.a1z2+A2*this.a1z3,this.l2.x-=T*this.l2x1+U*this.l2x2+A2*this.l2x3,this.l2.y-=T*this.l2y1+U*this.l2y2+A2*this.l2y3,this.l2.z-=T*this.l2z1+U*this.l2z2+A2*this.l2z3,this.a2.x-=T*this.a2x1+U*this.a2x2+A2*this.a2x3,this.a2.y-=T*this.a2y1+U*this.a2y2+A2*this.a2y3,this.a2.z-=T*this.a2z1+U*this.a2z2+A2*this.a2z3},solve:function(){var s=this.l2.x-this.l1.x+this.a2.y*this.r2z-this.a2.z*this.r2y-this.a1.y*this.r1z+this.a1.z*this.r1y,t=this.l2.y-this.l1.y+this.a2.z*this.r2x-this.a2.x*this.r2z-this.a1.z*this.r1x+this.a1.x*this.r1z,a=this.l2.z-this.l1.z+this.a2.x*this.r2y-this.a2.y*this.r2x-this.a1.x*this.r1y+this.a1.y*this.r1x,h=s*this.ax1+t*this.ay1+a*this.az1,E=s*this.ax2+t*this.ay2+a*this.az2,n=s*this.ax3+t*this.ay3+a*this.az3,e=this.motorImpulse1,r=this.motorImpulse2,A=this.motorImpulse3,p=0,l=0,B=0;this.enableMotor1&&(p=(h-this.motorSpeed1)*this.dv00,this.motorImpulse1+=p,this.motorImpulse1>this.maxMotorImpulse1?this.motorImpulse1=this.maxMotorImpulse1:this.motorImpulse1<-this.maxMotorImpulse1&&(this.motorImpulse1=-this.maxMotorImpulse1),p=this.motorImpulse1-e),this.enableMotor2&&(l=(E-this.motorSpeed2)*this.dv11,this.motorImpulse2+=l,this.motorImpulse2>this.maxMotorImpulse2?this.motorImpulse2=this.maxMotorImpulse2:this.motorImpulse2<-this.maxMotorImpulse2&&(this.motorImpulse2=-this.maxMotorImpulse2),l=this.motorImpulse2-r),this.enableMotor3&&(B=(n-this.motorSpeed3)*this.dv22,this.motorImpulse3+=B,this.motorImpulse3>this.maxMotorImpulse3?this.motorImpulse3=this.maxMotorImpulse3:this.motorImpulse3<-this.maxMotorImpulse3&&(this.motorImpulse3=-this.maxMotorImpulse3),B=this.motorImpulse3-A),h+=p*this.kv00+l*this.k01+B*this.k02,E+=p*this.k10+l*this.kv11+B*this.k12,n+=p*this.k20+l*this.k21+B*this.kv22,h-=this.limitVelocity1+this.limitImpulse1*this.cfm1,E-=this.limitVelocity2+this.limitImpulse2*this.cfm2,n-=this.limitVelocity3+this.limitImpulse3*this.cfm3;var C=this.limitImpulse1,k=this.limitImpulse2,o=this.limitImpulse3,c=h*this.d00+E*this.d01+n*this.d02,f=h*this.d10+E*this.d11+n*this.d12,S=h*this.d20+E*this.d21+n*this.d22;this.limitImpulse1+=c,this.limitImpulse2+=f,this.limitImpulse3+=S;var d,P=0;switch((this.limitState1==2||this.limitImpulse1*this.limitState1<0)&&(E+=(c=-C)*this.k10,n+=c*this.k20,P|=1),(this.limitState2==2||this.limitImpulse2*this.limitState2<0)&&(h+=(f=-k)*this.k01,n+=f*this.k21,P|=2),(this.limitState3==2||this.limitImpulse3*this.limitState3<0)&&(h+=(S=-o)*this.k02,E+=S*this.k12,P|=4),P){case 1:d=1/(this.k11*this.k22-this.k12*this.k21),f=(this.k22*E+-this.k12*n)*d,S=(-this.k21*E+this.k11*n)*d;break;case 2:d=1/(this.k00*this.k22-this.k02*this.k20),c=(this.k22*h+-this.k02*n)*d,S=(-this.k20*h+this.k00*n)*d;break;case 3:S=n/this.k22;break;case 4:d=1/(this.k00*this.k11-this.k01*this.k10),c=(this.k11*h+-this.k01*E)*d,f=(-this.k10*h+this.k00*E)*d;break;case 5:f=E/this.k11;break;case 6:c=h/this.k00}this.limitImpulse1=C+c,this.limitImpulse2=k+f,this.limitImpulse3=o+S;var M=p+c,O=l+f,R=B+S;this.l1.x+=M*this.l1x1+O*this.l1x2+R*this.l1x3,this.l1.y+=M*this.l1y1+O*this.l1y2+R*this.l1y3,this.l1.z+=M*this.l1z1+O*this.l1z2+R*this.l1z3,this.a1.x+=M*this.a1x1+O*this.a1x2+R*this.a1x3,this.a1.y+=M*this.a1y1+O*this.a1y2+R*this.a1y3,this.a1.z+=M*this.a1z1+O*this.a1z2+R*this.a1z3,this.l2.x-=M*this.l2x1+O*this.l2x2+R*this.l2x3,this.l2.y-=M*this.l2y1+O*this.l2y2+R*this.l2y3,this.l2.z-=M*this.l2z1+O*this.l2z2+R*this.l2z3,this.a2.x-=M*this.a2x1+O*this.a2x2+R*this.a2x3,this.a2.y-=M*this.a2y1+O*this.a2y2+R*this.a2y3,this.a2.z-=M*this.a2z1+O*this.a2z2+R*this.a2z3}}),bs.prototype=Object.assign(Object.create(Y3.prototype),{constructor:bs,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan),this.ac.preSolve(s,t),this.t3.preSolve(s,t)},solve:function(){this.ac.solve(),this.t3.solve()},postSolve:function(){}}),zs.prototype=Object.assign(Object.create(Y3.prototype),{constructor:zs,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.nor.set(this.ax1.x*this.body2.inverseMass+this.ax2.x*this.body1.inverseMass,this.ax1.y*this.body2.inverseMass+this.ax2.y*this.body1.inverseMass,this.ax1.z*this.body2.inverseMass+this.ax2.z*this.body1.inverseMass).normalize(),this.tan.tangent(this.nor).normalize(),this.bin.crossVectors(this.nor,this.tan),this.tmp.crossVectors(this.an1,this.an2);var a=x.acosClamp(x.dotVectors(this.an1,this.an2));x.dotVectors(this.nor,this.tmp)<0?this.rotationalLimitMotor.angle=-a:this.rotationalLimitMotor.angle=a,this.tmp.crossVectors(this.ax1,this.ax2),this.r3.limitMotor2.angle=x.dotVectors(this.tan,this.tmp),this.r3.limitMotor3.angle=x.dotVectors(this.bin,this.tmp),this.r3.preSolve(s,t),this.t3.preSolve(s,t)},solve:function(){this.r3.solve(),this.t3.solve()},postSolve:function(){}}),ws.prototype=Object.assign(Object.create(Y3.prototype),{constructor:ws,preSolve:function(s,t){this.updateAnchorPoints(),this.ax1.copy(this.localAxis1).applyMatrix3(this.body1.rotation,!0),this.an1.copy(this.localAngle1).applyMatrix3(this.body1.rotation,!0),this.ax2.copy(this.localAxis2).applyMatrix3(this.body2.rotation,!0),this.an2.copy(this.localAngle2).applyMatrix3(this.body2.rotation,!0),this.r3.limitMotor1.angle=x.dotVectors(this.ax1,this.ax2);var a=x.dotVectors(this.an1,this.ax2);x.dotVectors(this.ax1,this.tmp.crossVectors(this.an1,this.ax2))<0?this.rotationalLimitMotor1.angle=-a:this.rotationalLimitMotor1.angle=a,a=x.dotVectors(this.an2,this.ax1),x.dotVectors(this.ax2,this.tmp.crossVectors(this.an2,this.ax1))<0?this.rotationalLimitMotor2.angle=-a:this.rotationalLimitMotor2.angle=a,this.nor.crossVectors(this.ax1,this.ax2).normalize(),this.tan.crossVectors(this.nor,this.ax2).normalize(),this.bin.crossVectors(this.nor,this.ax1).normalize(),this.r3.preSolve(s,t),this.t3.preSolve(s,t)},solve:function(){this.r3.solve(),this.t3.solve()},postSolve:function(){}}),Rs.prototype={constructor:Rs,reset:function(s,t){this.body1=s.parent,this.body2=t.parent,this.numPoints=0},addPointVec:function(s,t,a,h){var E=this.points[this.numPoints++];E.position.copy(s),E.localPoint1.sub(s,this.body1.position).applyMatrix3(this.body1.rotation),E.localPoint2.sub(s,this.body2.position).applyMatrix3(this.body2.rotation),E.normal.copy(t),h&&E.normal.negate(),E.normalImpulse=0,E.penetration=a,E.warmStarted=!1},addPoint:function(s,t,a,h,E,n,e,r){var A=this.points[this.numPoints++];A.position.set(s,t,a),A.localPoint1.sub(A.position,this.body1.position).applyMatrix3(this.body1.rotation),A.localPoint2.sub(A.position,this.body2.position).applyMatrix3(this.body2.rotation),A.normalImpulse=0,A.normal.set(h,E,n),r&&A.normal.negate(),A.penetration=e,A.warmStarted=!1}},_s.prototype=Object.assign(Object.create($3.prototype),{constructor:_s,attach:function(){this.p1=this.body1.position,this.p2=this.body2.position,this.lv1=this.body1.linearVelocity,this.av1=this.body1.angularVelocity,this.lv2=this.body2.linearVelocity,this.av2=this.body2.angularVelocity,this.i1=this.body1.inverseInertia,this.i2=this.body2.inverseInertia},detach:function(){this.p1=null,this.p2=null,this.lv1=null,this.lv2=null,this.av1=null,this.av2=null,this.i1=null,this.i2=null},preSolve:function(s,t){this.m1=this.body1.inverseMass,this.m2=this.body2.inverseMass;var a=this.m1+this.m2;this.num=this.manifold.numPoints;for(var h,E,n,e,r,A,p,l=this.cs,B=0;B<this.num;B++)h=this.ps[B],this.tmpP1.sub(h.position,this.p1),this.tmpP2.sub(h.position,this.p2),this.tmpC1.crossVectors(this.av1,this.tmpP1),this.tmpC2.crossVectors(this.av2,this.tmpP2),l.norImp=h.normalImpulse,l.tanImp=h.tangentImpulse,l.binImp=h.binormalImpulse,l.nor.copy(h.normal),this.tmp.set(this.lv2.x+this.tmpC2.x-(this.lv1.x+this.tmpC1.x),this.lv2.y+this.tmpC2.y-(this.lv1.y+this.tmpC1.y),this.lv2.z+this.tmpC2.z-(this.lv1.z+this.tmpC1.z)),E=x.dotVectors(l.nor,this.tmp),l.tan.set(this.tmp.x-E*l.nor.x,this.tmp.y-E*l.nor.y,this.tmp.z-E*l.nor.z),x.dotVectors(l.tan,l.tan)<=.04&&l.tan.tangent(l.nor),l.tan.normalize(),l.bin.crossVectors(l.nor,l.tan),l.norU1.scale(l.nor,this.m1),l.norU2.scale(l.nor,this.m2),l.tanU1.scale(l.tan,this.m1),l.tanU2.scale(l.tan,this.m2),l.binU1.scale(l.bin,this.m1),l.binU2.scale(l.bin,this.m2),l.norT1.crossVectors(this.tmpP1,l.nor),l.tanT1.crossVectors(this.tmpP1,l.tan),l.binT1.crossVectors(this.tmpP1,l.bin),l.norT2.crossVectors(this.tmpP2,l.nor),l.tanT2.crossVectors(this.tmpP2,l.tan),l.binT2.crossVectors(this.tmpP2,l.bin),A=this.i1,p=this.i2,l.norTU1.copy(l.norT1).applyMatrix3(A,!0),l.tanTU1.copy(l.tanT1).applyMatrix3(A,!0),l.binTU1.copy(l.binT1).applyMatrix3(A,!0),l.norTU2.copy(l.norT2).applyMatrix3(p,!0),l.tanTU2.copy(l.tanT2).applyMatrix3(p,!0),l.binTU2.copy(l.binT2).applyMatrix3(p,!0),this.tmpC1.crossVectors(l.norTU1,this.tmpP1),this.tmpC2.crossVectors(l.norTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),l.norDen=1/(a+x.dotVectors(l.nor,this.tmp)),this.tmpC1.crossVectors(l.tanTU1,this.tmpP1),this.tmpC2.crossVectors(l.tanTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),l.tanDen=1/(a+x.dotVectors(l.tan,this.tmp)),this.tmpC1.crossVectors(l.binTU1,this.tmpP1),this.tmpC2.crossVectors(l.binTU2,this.tmpP2),this.tmp.add(this.tmpC1,this.tmpC2),l.binDen=1/(a+x.dotVectors(l.bin,this.tmp)),h.warmStarted?(n=h.normalImpulse,this.lv1.addScaledVector(l.norU1,n),this.av1.addScaledVector(l.norTU1,n),this.lv2.subScaledVector(l.norU2,n),this.av2.subScaledVector(l.norTU2,n),l.norImp=n,l.tanImp=0,l.binImp=0,E=0):(l.norImp=0,l.tanImp=0,l.binImp=0),E>-1&&(E=0),(e=this.restitution*-E)<(r=-(h.penetration+.005)*t*.05)&&(e=r),l.norTar=e,l.last=B==this.num-1,l=l.next},solve:function(){var s,t,a,h,E,n,e,r,A;this.tmplv1.copy(this.lv1),this.tmplv2.copy(this.lv2),this.tmpav1.copy(this.av1),this.tmpav2.copy(this.av2);for(var p=this.cs;E=p.norImp,n=p.tanImp,e=p.binImp,r=-E*this.friction,this.tmp.sub(this.tmplv2,this.tmplv1),s=n,a=e,(A=(n+=t=(x.dotVectors(this.tmp,p.tan)+x.dotVectors(this.tmpav2,p.tanT2)-x.dotVectors(this.tmpav1,p.tanT1))*p.tanDen)*n+(e+=h=(x.dotVectors(this.tmp,p.bin)+x.dotVectors(this.tmpav2,p.binT2)-x.dotVectors(this.tmpav1,p.binT1))*p.binDen)*e)>r*r&&(n*=A=r/x.sqrt(A),e*=A),t=n-s,h=e-a,this.tmp.set(p.tanU1.x*t+p.binU1.x*h,p.tanU1.y*t+p.binU1.y*h,p.tanU1.z*t+p.binU1.z*h),this.tmplv1.addEqual(this.tmp),this.tmp.set(p.tanTU1.x*t+p.binTU1.x*h,p.tanTU1.y*t+p.binTU1.y*h,p.tanTU1.z*t+p.binTU1.z*h),this.tmpav1.addEqual(this.tmp),this.tmp.set(p.tanU2.x*t+p.binU2.x*h,p.tanU2.y*t+p.binU2.y*h,p.tanU2.z*t+p.binU2.z*h),this.tmplv2.subEqual(this.tmp),this.tmp.set(p.tanTU2.x*t+p.binTU2.x*h,p.tanTU2.y*t+p.binTU2.y*h,p.tanTU2.z*t+p.binTU2.z*h),this.tmpav2.subEqual(this.tmp),this.tmp.sub(this.tmplv2,this.tmplv1),s=E,(E+=t=(x.dotVectors(this.tmp,p.nor)+x.dotVectors(this.tmpav2,p.norT2)-x.dotVectors(this.tmpav1,p.norT1)-p.norTar)*p.norDen)>0&&(E=0),t=E-s,this.tmplv1.addScaledVector(p.norU1,t),this.tmpav1.addScaledVector(p.norTU1,t),this.tmplv2.subScaledVector(p.norU2,t),this.tmpav2.subScaledVector(p.norTU2,t),p.norImp=E,p.tanImp=n,p.binImp=e,!p.last;)p=p.next;this.lv1.copy(this.tmplv1),this.lv2.copy(this.tmplv2),this.av1.copy(this.tmpav1),this.av2.copy(this.tmpav2)},postSolve:function(){for(var s,t=this.cs,a=this.num;a--;)(s=this.ps[a]).normal.copy(t.nor),s.tangent.copy(t.tan),s.binormal.copy(t.bin),s.normalImpulse=t.norImp,s.tangentImpulse=t.tanImp,s.binormalImpulse=t.binImp,s.normalDenominator=t.norDen,s.tangentDenominator=t.tanDen,s.binormalDenominator=t.binDen,t=t.next}}),Object.assign(Et.prototype,{Contact:!0,mixRestitution:function(s,t){return x.sqrt(s*t)},mixFriction:function(s,t){return x.sqrt(s*t)},updateManifold:function(){this.constraint.restitution=this.mixRestitution(this.shape1.restitution,this.shape2.restitution),this.constraint.friction=this.mixFriction(this.shape1.friction,this.shape2.friction);for(var s=this.manifold.numPoints,t=s;t--;){var a=this.buffer[t],h=this.points[t];a.lp1X=h.localPoint1.x,a.lp1Y=h.localPoint1.y,a.lp1Z=h.localPoint1.z,a.lp2X=h.localPoint2.x,a.lp2Y=h.localPoint2.y,a.lp2Z=h.localPoint2.z,a.impulse=h.normalImpulse}this.manifold.numPoints=0,this.detector.detectCollision(this.shape1,this.shape2,this.manifold);var E=this.manifold.numPoints;if(E==0)return this.touching=!1,this.close=!1,void(this.dist=x.INF);for((this.touching||this.dist<.001)&&(this.close=!0),this.touching=!0,t=E;t--;){for(var n=(h=this.points[t]).localPoint1.x,e=h.localPoint1.y,r=h.localPoint1.z,A=h.localPoint2.x,p=h.localPoint2.y,l=h.localPoint2.z,B=-1,C=4e-4,k=s;k--;){var o=(a=this.buffer[k]).lp1X-n,c=a.lp1Y-e,f=a.lp1Z-r,S=o*o+c*c+f*f,d=(o=a.lp2X-A)*o+(c=a.lp2Y-p)*c+(f=a.lp2Z-l)*f;S<d?S<C&&(C=S,B=k):d<C&&(C=d,B=k),C<this.dist&&(this.dist=C)}if(B!=-1){var P=this.buffer[B];this.buffer[B]=this.buffer[--s],this.buffer[s]=P,h.normalImpulse=P.impulse,h.warmStarted=!0}else h.normalImpulse=0,h.warmStarted=!1}},attach:function(s,t){this.shape1=s,this.shape2=t,this.body1=s.parent,this.body2=t.parent,this.manifold.body1=this.body1,this.manifold.body2=this.body2,this.constraint.body1=this.body1,this.constraint.body2=this.body2,this.constraint.attach(),this.s1Link.shape=t,this.s1Link.body=this.body2,this.s2Link.shape=s,this.s2Link.body=this.body1,s.contactLink!=null?(this.s1Link.next=s.contactLink).prev=this.s1Link:this.s1Link.next=null,s.contactLink=this.s1Link,s.numContacts++,t.contactLink!=null?(this.s2Link.next=t.contactLink).prev=this.s2Link:this.s2Link.next=null,t.contactLink=this.s2Link,t.numContacts++,this.b1Link.shape=t,this.b1Link.body=this.body2,this.b2Link.shape=s,this.b2Link.body=this.body1,this.body1.contactLink!=null?(this.b1Link.next=this.body1.contactLink).prev=this.b1Link:this.b1Link.next=null,this.body1.contactLink=this.b1Link,this.body1.numContacts++,this.body2.contactLink!=null?(this.b2Link.next=this.body2.contactLink).prev=this.b2Link:this.b2Link.next=null,this.body2.contactLink=this.b2Link,this.body2.numContacts++,this.prev=null,this.next=null,this.persisting=!0,this.sleeping=this.body1.sleeping&&this.body2.sleeping,this.manifold.numPoints=0},detach:function(){var s=this.s1Link.prev,t=this.s1Link.next;s!==null&&(s.next=t),t!==null&&(t.prev=s),this.shape1.contactLink==this.s1Link&&(this.shape1.contactLink=t),this.s1Link.prev=null,this.s1Link.next=null,this.s1Link.shape=null,this.s1Link.body=null,this.shape1.numContacts--,s=this.s2Link.prev,t=this.s2Link.next,s!==null&&(s.next=t),t!==null&&(t.prev=s),this.shape2.contactLink==this.s2Link&&(this.shape2.contactLink=t),this.s2Link.prev=null,this.s2Link.next=null,this.s2Link.shape=null,this.s2Link.body=null,this.shape2.numContacts--,s=this.b1Link.prev,t=this.b1Link.next,s!==null&&(s.next=t),t!==null&&(t.prev=s),this.body1.contactLink==this.b1Link&&(this.body1.contactLink=t),this.b1Link.prev=null,this.b1Link.next=null,this.b1Link.shape=null,this.b1Link.body=null,this.body1.numContacts--,s=this.b2Link.prev,t=this.b2Link.next,s!==null&&(s.next=t),t!==null&&(t.prev=s),this.body2.contactLink==this.b2Link&&(this.body2.contactLink=t),this.b2Link.prev=null,this.b2Link.next=null,this.b2Link.shape=null,this.b2Link.body=null,this.body2.numContacts--,this.manifold.body1=null,this.manifold.body2=null,this.constraint.body1=null,this.constraint.body2=null,this.constraint.detach(),this.shape1=null,this.shape2=null,this.body1=null,this.body2=null}}),Object.assign(rs.prototype,{setParent:function(s){this.parent=s,this.scale=this.parent.scale,this.invScale=this.parent.invScale,this.id=this.parent.numRigidBodies,this.name||(this.name=this.id),this.updateMesh()},addShape:function(s){s.parent&&N3("RigidBody","It is not possible that you add a shape which already has an associated body."),this.shapes!=null&&((this.shapes.prev=s).next=this.shapes),this.shapes=s,s.parent=this,this.parent&&this.parent.addShape(s),this.numShapes++},removeShape:function(s){var t=s;if(t.parent==this){var a=t.prev,h=t.next;a!=null&&(a.next=h),h!=null&&(h.prev=a),this.shapes==t&&(this.shapes=h),t.prev=null,t.next=null,t.parent=null,this.parent&&this.parent.removeShape(t),this.numShapes--}},remove:function(){this.dispose()},dispose:function(){this.parent.removeRigidBody(this)},checkContact:function(s){this.parent.checkContact(this.name,s)},setupMass:function(s,t){var a=t===void 0||t;this.type=s||2,this.isDynamic=this.type===1,this.isStatic=this.type===2,this.mass=0,this.localInertia.set(0,0,0,0,0,0,0,0,0);for(var h=new O2,E=new y,n=this.shapes;n!==null;n=n.next){n.calculateMassInfo(this.massInfo);var e=this.massInfo.mass;E.addScaledVector(n.relativePosition,e),this.mass+=e,this.rotateInertia(n.relativeRotation,this.massInfo.inertia,h),this.localInertia.add(h),this.localInertia.addOffset(e,n.relativePosition)}if(this.inverseMass=1/this.mass,E.scaleEqual(this.inverseMass),a){for(this.position.add(E),n=this.shapes;n!==null;n=n.next)n.relativePosition.subEqual(E);this.localInertia.subOffset(this.mass,E)}this.inverseLocalInertia.invert(this.localInertia),this.type===2&&(this.inverseMass=0,this.inverseLocalInertia.set(0,0,0,0,0,0,0,0,0)),this.syncShapes(),this.awake()},awake:function(){if(this.allowSleep&&this.sleeping){this.sleeping=!1,this.sleepTime=0;for(var s=this.contactLink;s!=null;)s.body.sleepTime=0,s.body.sleeping=!1,s=s.next;for(var t=this.jointLink;t!=null;)t.body.sleepTime=0,t.body.sleeping=!1,t=t.next;for(var a=this.shapes;a!=null;a=a.next)a.updateProxy()}},sleep:function(){if(this.allowSleep&&!this.sleeping){this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.sleepPosition.copy(this.position),this.sleepOrientation.copy(this.orientation),this.sleepTime=0,this.sleeping=!0;for(var s=this.shapes;s!=null;s=s.next)s.updateProxy()}},testWakeUp:function(){(this.linearVelocity.testZero()||this.angularVelocity.testZero()||this.position.testDiff(this.sleepPosition)||this.orientation.testDiff(this.sleepOrientation))&&this.awake()},isLonely:function(){return this.numJoints==0&&this.numContacts==0},updatePosition:function(s){switch(this.type){case 2:this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.controlPos&&(this.position.copy(this.newPosition),this.controlPos=!1),this.controlRot&&(this.orientation.copy(this.newOrientation),this.controlRot=!1);break;case 1:this.isKinematic&&(this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0)),this.controlPos&&(this.linearVelocity.subVectors(this.newPosition,this.position).multiplyScalar(1/s),this.controlPos=!1),this.controlRot&&(this.angularVelocity.copy(this.getAxis()),this.orientation.copy(this.newOrientation),this.controlRot=!1),this.position.addScaledVector(this.linearVelocity,s),this.orientation.addTime(this.angularVelocity,s),this.updateMesh();break;default:N3("RigidBody","Invalid type.")}this.syncShapes(),this.updateMesh()},getAxis:function(){return new y(0,1,0).applyMatrix3(this.inverseLocalInertia,!0).normalize()},rotateInertia:function(s,t,a){this.tmpInertia.multiplyMatrices(s,t),a.multiplyMatrices(this.tmpInertia,s,!0)},syncShapes:function(){this.rotation.setQuat(this.orientation),this.rotateInertia(this.rotation,this.inverseLocalInertia,this.inverseInertia);for(var s=this.shapes;s!=null;s=s.next)s.position.copy(s.relativePosition).applyMatrix3(this.rotation,!0).add(this.position),s.rotation.multiplyMatrices(this.rotation,s.relativeRotation),s.updateProxy()},applyImpulse:function(s,t){this.linearVelocity.addScaledVector(t,this.inverseMass);var a=new y().copy(s).sub(this.position).cross(t).applyMatrix3(this.inverseInertia,!0);this.angularVelocity.add(a)},setPosition:function(s){this.newPosition.copy(s).multiplyScalar(this.invScale),this.controlPos=!0,this.isKinematic||(this.isKinematic=!0)},setQuaternion:function(s){this.newOrientation.set(s.x,s.y,s.z,s.w),this.controlRot=!0,this.isKinematic||(this.isKinematic=!0)},setRotation:function(s){this.newOrientation=new a3().setFromEuler(s.x*x.degtorad,s.y*x.degtorad,s.z*x.degtorad),this.controlRot=!0},resetPosition:function(s,t,a){this.linearVelocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.position.set(s,t,a).multiplyScalar(this.invScale),this.awake()},resetQuaternion:function(s){this.angularVelocity.set(0,0,0),this.orientation=new a3(s.x,s.y,s.z,s.w),this.awake()},resetRotation:function(s,t,a){this.angularVelocity.set(0,0,0),this.orientation=new a3().setFromEuler(s*x.degtorad,t*x.degtorad,a*x.degtorad),this.awake()},getPosition:function(){return this.pos},getQuaternion:function(){return this.quaternion},connectMesh:function(s){this.mesh=s,this.updateMesh()},updateMesh:function(){this.pos.scale(this.position,this.scale),this.quaternion.copy(this.orientation),this.mesh!==null&&(this.mesh.position.copy(this.getPosition()),this.mesh.quaternion.copy(this.getQuaternion()))}}),Object.assign(Cs.prototype,{BroadPhase:!0,createProxy:function(s){N3("BroadPhase","Inheritance error.")},addProxy:function(s){N3("BroadPhase","Inheritance error.")},removeProxy:function(s){N3("BroadPhase","Inheritance error.")},isAvailablePair:function(s,t){var a,h=s.parent,E=t.parent;if(h==E||!h.isDynamic&&!E.isDynamic||!(s.belongsTo&t.collidesWith)||!(t.belongsTo&s.collidesWith))return!1;for(a=h.numJoints<E.numJoints?h.jointLink:E.jointLink;a!==null;){var n=a.joint;if(!n.allowCollision&&(n.body1==h&&n.body2==E||n.body1==E&&n.body2==h))return!1;a=a.next}return!0},detectPairs:function(){this.pairs=[],this.numPairs=0,this.numPairChecks=0,this.collectPairs()},collectPairs:function(){},addPair:function(s,t){var a=new Nt(s,t);this.pairs.push(a),this.numPairs++}});var Mt=0;function ks(s){this.shape=s,this.aabb=s.aabb}function Us(s){ks.call(this,s),this.id=Mt++}function qs(){Cs.call(this),this.types=Qi,this.proxies=[]}function os(){this.numElements=0,this.bufferSize=256,this.elements=[],this.elements.length=this.bufferSize,this.stack=new Float32Array(64)}function Bs(s,t){this.proxy=s,this.pair=null,this.min1=null,this.max1=null,this.min2=null,this.max2=null,this.max=t,this.value=0}function Js(s,t){ks.call(this,t),this.belongsTo=0,this.max=[],this.min=[],this.sap=s,this.min[0]=new Bs(this,!1),this.max[0]=new Bs(this,!0),this.min[1]=new Bs(this,!1),this.max[1]=new Bs(this,!0),this.min[2]=new Bs(this,!1),this.max[2]=new Bs(this,!0),this.max[0].pair=this.min[0],this.max[1].pair=this.min[1],this.max[2].pair=this.min[2],this.min[0].min1=this.min[1],this.min[0].max1=this.max[1],this.min[0].min2=this.min[2],this.min[0].max2=this.max[2],this.min[1].min1=this.min[0],this.min[1].max1=this.max[0],this.min[1].min2=this.min[2],this.min[1].max2=this.max[2],this.min[2].min1=this.min[0],this.min[2].max1=this.max[0],this.min[2].min2=this.min[1],this.min[2].max2=this.max[1]}function Ws(){Cs.call(this),this.types=Ni,this.numElementsD=0,this.numElementsS=0,this.axesD=[new os,new os,new os],this.axesS=[new os,new os,new os],this.index1=0,this.index2=1}function nt(){this.child1=null,this.child2=null,this.parent=null,this.proxy=null,this.height=0,this.aabb=new Ci}function et(){this.root=null,this.freeNodes=[],this.freeNodes.length=16384,this.numFreeNodes=0,this.aabb=new Ci}function Hs(s){ks.call(this,s),this.leaf=new nt,this.leaf.proxy=this}function Ys(){Cs.call(this),this.types=ns,this.tree=new et,this.stack=[],this.leaves=[],this.numLeaves=0}function Q3(){this.flip=!1}function Zs(){Q3.call(this),this.clipVertices1=new Float32Array(24),this.clipVertices2=new Float32Array(24),this.used=new Float32Array(8),this.INF=1/0}function Is(s){Q3.call(this),this.flip=s}function Gs(){Q3.call(this)}function Vs(s){Q3.call(this),this.flip=s}function Ls(s){Q3.call(this),this.flip=s}function Ks(){Q3.call(this)}function Ts(s){Q3.call(this),this.flip=s,this.n=new y,this.p=new y}function js(s){Q3.call(this),this.flip=s,this.n=new y,this.p=new y,this.dix=new y,this.diy=new y,this.diz=new y,this.cc=new y,this.cc2=new y}function lt(s){switch(s instanceof Object||(s={}),this.scale=s.worldscale||1,this.invScale=1/this.scale,this.timeStep=s.timestep||.01666,this.timerate=1e3*this.timeStep,this.timer=null,this.preLoop=null,this.postLoop=null,this.numIterations=s.iterations||8,s.broadphase||2){case 1:this.broadPhase=new qs;break;case 2:default:this.broadPhase=new Ws;break;case 3:this.broadPhase=new Ys}this.Btypes=["None","BruteForce","Sweep & Prune","Bounding Volume Tree"],this.broadPhaseType=this.Btypes[s.broadphase||2],this.performance=null,this.isStat=s.info!==void 0&&s.info,this.isStat&&(this.performance=new As(this)),this.enableRandomizer=s.random===void 0||s.random,this.rigidBodies=null,this.numRigidBodies=0,this.contacts=null,this.unusedContacts=null,this.numContacts=0,this.numContactPoints=0,this.joints=null,this.numJoints=0,this.numIslands=0,this.gravity=new y(0,-9.8,0),s.gravity!==void 0&&this.gravity.fromArray(s.gravity),this.detectors=[],this.detectors.length=5;for(var t=5;t--;)this.detectors[t]=[],this.detectors[t].length=5;this.detectors[F3][F3]=new Ks,this.detectors[F3][ki]=new Vs(!1),this.detectors[ki][F3]=new Vs(!0),this.detectors[ki][ki]=new Zs,this.detectors[oi][oi]=new Gs,this.detectors[oi][ki]=new Is(!0),this.detectors[ki][oi]=new Is(!1),this.detectors[oi][F3]=new Ls(!0),this.detectors[F3][oi]=new Ls(!1),this.detectors[K3][F3]=new Ts(!0),this.detectors[F3][K3]=new Ts(!1),this.detectors[K3][ki]=new js(!0),this.detectors[ki][K3]=new js(!1),this.randX=65535,this.randA=98765,this.randB=123456789,this.islandRigidBodies=[],this.islandStack=[],this.islandConstraints=[]}Object.assign(ks.prototype,{Proxy:!0,update:function(){N3("Proxy","Inheritance error.")}}),Us.prototype=Object.assign(Object.create(ks.prototype),{constructor:Us,update:function(){}}),qs.prototype=Object.assign(Object.create(Cs.prototype),{constructor:qs,createProxy:function(s){return new Us(s)},addProxy:function(s){this.proxies.push(s)},removeProxy:function(s){var t=this.proxies.indexOf(s);t>-1&&this.proxies.splice(t,1)},collectPairs:function(){var s,t,a,h=0,E=this.proxies,n=E.length;for(this.numPairChecks=n*(n-1)>>1;h<n;)for(t=E[h++],s=h+1;s<n;)a=E[s++],!t.aabb.intersectTest(a.aabb)&&this.isAvailablePair(t.shape,a.shape)&&this.addPair(t.shape,a.shape)}}),Object.assign(os.prototype,{SAPAxis:!0,addElements:function(s,t){if(this.numElements+2>=this.bufferSize){this.bufferSize*=2;for(var a=[],h=this.numElements;h--;)a[h]=this.elements[h]}this.elements[this.numElements++]=s,this.elements[this.numElements++]=t},removeElements:function(s,t){for(var a=-1,h=-1,E=0,n=this.numElements;E<n;E++){var e=this.elements[E];if(e==s||e==t){if(a!=-1){h=E;break}a=E}}for(E=a+1,n=h;E<n;E++)this.elements[E-1]=this.elements[E];for(E=h+1,n=this.numElements;E<n;E++)this.elements[E-2]=this.elements[E];this.elements[--this.numElements]=null,this.elements[--this.numElements]=null},sort:function(){for(var s=0,t=1;this.numElements>>t;)t++;t=t*this.numElements>>2,s=0;for(var a=!1,h=this.elements,E=1,n=this.numElements;E<n;E++){var e=h[E],r=e.value,A=h[E-1];if(A.value>r){var p=E;do{if(h[p]=A,--p==0)break;A=h[p-1]}while(A.value>r);if(h[p]=e,(s+=E-p)>t){a=!0;break}}}if(a){s=2;var l=this.stack;for(l[0]=0,l[1]=this.numElements-1;s>0;){var B=l[--s],C=l[--s],k=B-C;if(k>16){var o=C+x.floor(.5*k);for(e=h[o],h[o]=h[B],h[B]=e,r=e.value,E=C-1,p=B;;){var c,f;do c=h[++E];while(c.value<r);do f=h[--p];while(r<f.value&&p!=C);if(E>=p)break;h[E]=f,h[p]=c}h[B]=h[E],h[E]=e,E-C>B-E?(l[s++]=C,l[s++]=E-1,l[s++]=E+1,l[s++]=B):(l[s++]=E+1,l[s++]=B,l[s++]=C,l[s++]=E-1)}else for(E=C+1;E<=B;E++)if(r=(e=h[E]).value,(A=h[E-1]).value>r){p=E;do{if(h[p]=A,--p==0)break;A=h[p-1]}while(A.value>r);h[p]=e}}}},calculateTestCount:function(){for(var s=1,t=0,a=1,h=this.numElements;a<h;a++)this.elements[a].max?s--:(t+=s,s++);return t}}),Js.prototype=Object.assign(Object.create(ks.prototype),{constructor:Js,isDynamic:function(){var s=this.shape.parent;return s.isDynamic&&!s.sleeping},update:function(){var s=this.aabb.elements;this.min[0].value=s[0],this.min[1].value=s[1],this.min[2].value=s[2],this.max[0].value=s[3],this.max[1].value=s[4],this.max[2].value=s[5],(this.belongsTo==1&&!this.isDynamic()||this.belongsTo==2&&this.isDynamic())&&(this.sap.removeProxy(this),this.sap.addProxy(this))}}),Ws.prototype=Object.assign(Object.create(Cs.prototype),{constructor:Ws,createProxy:function(s){return new Js(this,s)},addProxy:function(s){var t=s;t.isDynamic()?(this.axesD[0].addElements(t.min[0],t.max[0]),this.axesD[1].addElements(t.min[1],t.max[1]),this.axesD[2].addElements(t.min[2],t.max[2]),t.belongsTo=1,this.numElementsD+=2):(this.axesS[0].addElements(t.min[0],t.max[0]),this.axesS[1].addElements(t.min[1],t.max[1]),this.axesS[2].addElements(t.min[2],t.max[2]),t.belongsTo=2,this.numElementsS+=2)},removeProxy:function(s){var t=s;if(t.belongsTo!=0){switch(t.belongsTo){case 1:this.axesD[0].removeElements(t.min[0],t.max[0]),this.axesD[1].removeElements(t.min[1],t.max[1]),this.axesD[2].removeElements(t.min[2],t.max[2]),this.numElementsD-=2;break;case 2:this.axesS[0].removeElements(t.min[0],t.max[0]),this.axesS[1].removeElements(t.min[1],t.max[1]),this.axesS[2].removeElements(t.min[2],t.max[2]),this.numElementsS-=2}t.belongsTo=0}},collectPairs:function(){if(this.numElementsD!=0){var s,t,a,h,E=this.axesD[this.index1],n=this.axesD[this.index2];E.sort(),n.sort(),E.calculateTestCount()<=n.calculateTestCount()?((n=this.axesS[this.index1]).sort(),s=E.elements,t=n.elements):((E=this.axesS[this.index2]).sort(),s=n.elements,t=E.elements,this.index1^=this.index2,this.index2^=this.index1,this.index1^=this.index2);for(var e=0,r=0;e<this.numElementsD;){var A,p;if(r==this.numElementsS)A=s[e],p=!0,e++;else{var l=s[e],B=t[r];l.value<B.value?(A=l,p=!0,e++):(A=B,p=!1,r++)}if(A.max){var C=A.pair;if(p){if(C==a){a=a.pair;continue}A=a}else{if(C==h){h=h.pair;continue}A=h}for(;A;){if((d=A.pair)==C){A.pair=d.pair;break}A=d}}else{for(var k=A.proxy.shape,o=A.min1.value,c=A.max1.value,f=A.min2.value,S=A.max2.value,d=a;d!=null;d=d.pair){var P=d.proxy.shape;this.numPairChecks++,o>d.max1.value||c<d.min1.value||f>d.max2.value||S<d.min2.value||!this.isAvailablePair(k,P)||this.addPair(k,P)}if(p){for(d=h;d!=null;d=d.pair)P=d.proxy.shape,this.numPairChecks++,o>d.max1.value||c<d.min1.value||f>d.max2.value||S<d.min2.value||!this.isAvailablePair(k,P)||this.addPair(k,P);A.pair=a,a=A}else A.pair=h,h=A}}this.index2=3^(this.index1|this.index2)}}}),Object.assign(et.prototype,{DBVT:!0,moveLeaf:function(s){this.deleteLeaf(s),this.insertLeaf(s)},insertLeaf:function(s){if(this.root!=null){for(var t,a,h=s.aabb,E=this.root;E.proxy==null;){var n=E.child1,e=E.child2,r=E.aabb,A=n.aabb,p=e.aabb;t=r.surfaceArea(),this.aabb.combine(h,r);var l=2*(a=this.aabb.surfaceArea()),B=2*(a-t),C=B;this.aabb.combine(h,A),n.proxy!=null?C+=this.aabb.surfaceArea():C+=this.aabb.surfaceArea()-A.surfaceArea();var k=B;if(this.aabb.combine(h,p),e.proxy!=null?k+=this.aabb.surfaceArea():k+=this.aabb.surfaceArea()-p.surfaceArea(),C<k){if(l<C)break;E=n}else{if(l<k)break;E=e}}var o,c=E.parent;(o=this.numFreeNodes>0?this.freeNodes[--this.numFreeNodes]:new nt).parent=c,o.child1=s,o.child2=E,o.aabb.combine(s.aabb,E.aabb),o.height=E.height+1,E.parent=o,s.parent=o,E==this.root?this.root=o:c.child1==E?c.child1=o:c.child2=o;do o=this.balance(o),this.fix(o),o=o.parent;while(o!=null)}else this.root=s},getBalance:function(s){return s.proxy!=null?0:s.child1.height-s.child2.height},deleteLeaf:function(s){if(s!=this.root){var t,a=s.parent;if(t=a.child1==s?a.child2:a.child1,a==this.root)return this.root=t,void(t.parent=null);var h=a.parent;t.parent=h,h.child1==a?h.child1=t:h.child2=t,this.numFreeNodes<16384&&(this.freeNodes[this.numFreeNodes++]=a);do h=this.balance(h),this.fix(h),h=h.parent;while(h!=null)}else this.root=null},balance:function(s){var t=s.height;if(t<2)return s;var a,h=s.parent,E=s.child1,n=s.child2,e=E.height,r=n.height,A=e-r;if(A>1){var p=E.child1,l=E.child2,B=p.height,C=l.height;return B>C?(E.child2=s,s.parent=E,s.child1=l,l.parent=s,s.aabb.combine(l.aabb,n.aabb),a=C-r,s.height=C-(a&a>>31)+1,E.aabb.combine(p.aabb,s.aabb),a=B-t,E.height=B-(a&a>>31)+1):(E.child1=s,s.parent=E,s.child1=p,p.parent=s,s.aabb.combine(p.aabb,n.aabb),a=B-r,s.height=B-(a&a>>31)+1,E.aabb.combine(s.aabb,l.aabb),a=t-C,E.height=t-(a&a>>31)+1),h!=null?h.child1==s?h.child1=E:h.child2=E:this.root=E,E.parent=h,E}if(A<-1){var k=n.child1,o=n.child2,c=k.height,f=o.height;return c>f?(n.child2=s,s.parent=n,s.child2=o,o.parent=s,s.aabb.combine(E.aabb,o.aabb),a=e-f,s.height=e-(a&a>>31)+1,n.aabb.combine(k.aabb,s.aabb),a=c-t,n.height=c-(a&a>>31)+1):(n.child1=s,s.parent=n,s.child2=k,k.parent=s,s.aabb.combine(E.aabb,k.aabb),a=e-c,s.height=e-(a&a>>31)+1,n.aabb.combine(s.aabb,o.aabb),a=t-f,n.height=t-(a&a>>31)+1),h!=null?h.child1==s?h.child1=n:h.child2=n:this.root=n,n.parent=h,n}return s},fix:function(s){var t=s.child1,a=s.child2;s.aabb.combine(t.aabb,a.aabb),s.height=t.height<a.height?a.height+1:t.height+1}}),Hs.prototype=Object.assign(Object.create(ks.prototype),{constructor:Hs,update:function(){}}),Ys.prototype=Object.assign(Object.create(Cs.prototype),{constructor:Ys,createProxy:function(s){return new Hs(s)},addProxy:function(s){this.tree.insertLeaf(s.leaf),this.leaves.push(s.leaf),this.numLeaves++},removeProxy:function(s){this.tree.deleteLeaf(s.leaf);var t=this.leaves.indexOf(s.leaf);t>-1&&(this.leaves.splice(t,1),this.numLeaves--)},collectPairs:function(){if(!(this.numLeaves<2))for(var s,t=this.numLeaves;t--;)(s=this.leaves[t]).proxy.aabb.intersectTestTwo(s.aabb)&&(s.aabb.copy(s.proxy.aabb,.1),this.tree.deleteLeaf(s),this.tree.insertLeaf(s),this.collide(s,this.tree.root))},collide:function(s,t){var a,h,E,n,e,r,A=2;for(this.stack[0]=s,this.stack[1]=t;A>0;)if(E=this.stack[--A],n=this.stack[--A],e=E.proxy!=null,r=n.proxy!=null,this.numPairChecks++,e&&r){if((a=E.proxy.shape)==(h=n.proxy.shape)||a.aabb.intersectTest(h.aabb)||!this.isAvailablePair(a,h))continue;this.addPair(a,h)}else{if(E.aabb.intersectTest(n.aabb))continue;r||!e&&E.aabb.surfaceArea()>n.aabb.surfaceArea()?(this.stack[A++]=E.child1,this.stack[A++]=n,this.stack[A++]=E.child2,this.stack[A++]=n):(this.stack[A++]=E,this.stack[A++]=n.child1,this.stack[A++]=E,this.stack[A++]=n.child2)}}}),Object.assign(Q3.prototype,{CollisionDetector:!0,detectCollision:function(s,t,a){N3("CollisionDetector","Inheritance error.")}}),Zs.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Zs,detectCollision:function(s,t,a){var h,E;s.id<t.id?(h=s,E=t):(h=t,E=s);var n,e,r,A,p,l,B,C,k,o,c,f,S,d,P,M,O,R,I,$,z,L,_,N,T,U,A2,X2,$2,q2,g,y2,D,F,V,m=h.elements,u=E.elements,C2=h.dimentions,k2=E.dimentions,G=h.position,K=E.position,b=G.x,q=G.y,Q=G.z,U3=K.x,Q2=K.y,B3=K.z,J2=U3-b,W2=Q2-q,h2=B3-Q,Z=h.halfWidth,w=h.halfHeight,j=h.halfDepth,i2=E.halfWidth,K2=E.halfHeight,x2=E.halfDepth,p2=C2[0],B2=C2[1],D2=C2[2],H=C2[3],J=C2[4],W=C2[5],f2=C2[6],d2=C2[7],c2=C2[8],V2=C2[9],P2=C2[10],o2=C2[11],E2=C2[12],F2=C2[13],h3=C2[14],v2=C2[15],a2=C2[16],s2=C2[17],X=k2[0],t2=k2[1],m2=k2[2],u2=k2[3],z2=k2[4],_2=k2[5],H2=k2[6],Y2=k2[7],Z2=k2[8],ji=k2[9],y3=k2[10],M3=k2[11],P3=k2[12],b2=k2[13],q3=k2[14],J3=k2[15],W3=k2[16],I2=k2[17],N2=B2*m2-D2*t2,E3=D2*X-p2*m2,M2=p2*t2-B2*X,L3=B2*_2-D2*z2,T3=D2*u2-p2*_2,j3=p2*z2-B2*u2,O3=B2*Z2-D2*Y2,R3=D2*H2-p2*Z2,_3=p2*Y2-B2*H2,A3=J*m2-W*t2,p3=W*X-H*m2,m3=H*t2-J*X,ii=J*_2-W*z2,si=W*u2-H*_2,ti=H*z2-J*u2,ai=J*Z2-W*Y2,hi=W*H2-H*Z2,Ei=H*Y2-J*H2,ni=d2*m2-c2*t2,ei=c2*X-f2*m2,li=f2*t2-d2*X,Ai=d2*_2-c2*z2,pi=c2*u2-f2*_2,ri=f2*z2-d2*u2,Y=d2*Z2-c2*Y2,ts=c2*H2-f2*Z2,as=f2*Y2-d2*H2,At=!1,pt=!1,rt=!1,Ct=!1,kt=!1,ot=!1,Ft=!1,Bt=!1,Dt=!1;if((n=(g=p2*J2+B2*W2+D2*h2)>0)||(g=-g),(D=p2*X+B2*t2+D2*m2)<0&&(D=-D),(F=p2*u2+B2*z2+D2*_2)<0&&(F=-F),(V=p2*H2+B2*Y2+D2*Z2)<0&&(V=-V),!((M=g-(y2=Z)-(D*i2+F*K2+V*x2))>0||((e=(g=H*J2+J*W2+W*h2)>0)||(g=-g),(D=H*X+J*t2+W*m2)<0&&(D=-D),(F=H*u2+J*z2+W*_2)<0&&(F=-F),(V=H*H2+J*Y2+W*Z2)<0&&(V=-V),(O=g-(y2=w)-(D*i2+F*K2+V*x2))>0||((r=(g=f2*J2+d2*W2+c2*h2)>0)||(g=-g),(D=f2*X+d2*t2+c2*m2)<0&&(D=-D),(F=f2*u2+d2*z2+c2*_2)<0&&(F=-F),(V=f2*H2+d2*Y2+c2*Z2)<0&&(V=-V),(R=g-(y2=j)-(D*i2+F*K2+V*x2))>0||((A=(g=X*J2+t2*W2+m2*h2)>0)||(g=-g),(D=X*p2+t2*B2+m2*D2)<0&&(D=-D),(F=X*H+t2*J+m2*W)<0&&(F=-F),(V=X*f2+t2*d2+m2*c2)<0&&(V=-V),(I=1*(g-(y2=D*Z+F*w+V*j)-i2))>0||((p=(g=u2*J2+z2*W2+_2*h2)>0)||(g=-g),(D=u2*p2+z2*B2+_2*D2)<0&&(D=-D),(F=u2*H+z2*J+_2*W)<0&&(F=-F),(V=u2*f2+z2*d2+_2*c2)<0&&(V=-V),($=1*(g-(y2=D*Z+F*w+V*j)-K2))>0||((l=(g=H2*J2+Y2*W2+Z2*h2)>0)||(g=-g),(D=H2*p2+Y2*B2+Z2*D2)<0&&(D=-D),(F=H2*H+Y2*J+Z2*W)<0&&(F=-F),(V=H2*f2+Y2*d2+Z2*c2)<0&&(V=-V),(z=1*(g-(y2=D*Z+F*w+V*j)-x2))>0))))))){if((g=N2*N2+E3*E3+M2*M2)>1e-5){if((B=(g=(N2*=g=1/x.sqrt(g))*J2+(E3*=g)*W2+(M2*=g)*h2)>0)||(g=-g),(D=N2*H+E3*J+M2*W)<0&&(D=-D),(F=N2*f2+E3*d2+M2*c2)<0&&(F=-F),y2=D*w+F*j,(D=N2*u2+E3*z2+M2*_2)<0&&(D=-D),(F=N2*H2+E3*Y2+M2*Z2)<0&&(F=-F),(L=g-y2-(D*K2+F*x2))>0)return}else B=!1,L=0,At=!0;if((g=L3*L3+T3*T3+j3*j3)>1e-5){if((C=(g=(L3*=g=1/x.sqrt(g))*J2+(T3*=g)*W2+(j3*=g)*h2)>0)||(g=-g),(D=L3*H+T3*J+j3*W)<0&&(D=-D),(F=L3*f2+T3*d2+j3*c2)<0&&(F=-F),y2=D*w+F*j,(D=L3*X+T3*t2+j3*m2)<0&&(D=-D),(F=L3*H2+T3*Y2+j3*Z2)<0&&(F=-F),(_=g-y2-(D*i2+F*x2))>0)return}else C=!1,_=0,pt=!0;if((g=O3*O3+R3*R3+_3*_3)>1e-5){if((k=(g=(O3*=g=1/x.sqrt(g))*J2+(R3*=g)*W2+(_3*=g)*h2)>0)||(g=-g),(D=O3*H+R3*J+_3*W)<0&&(D=-D),(F=O3*f2+R3*d2+_3*c2)<0&&(F=-F),y2=D*w+F*j,(D=O3*X+R3*t2+_3*m2)<0&&(D=-D),(F=O3*u2+R3*z2+_3*_2)<0&&(F=-F),(N=g-y2-(D*i2+F*K2))>0)return}else k=!1,N=0,rt=!0;if((g=A3*A3+p3*p3+m3*m3)>1e-5){if((o=(g=(A3*=g=1/x.sqrt(g))*J2+(p3*=g)*W2+(m3*=g)*h2)>0)||(g=-g),(D=A3*p2+p3*B2+m3*D2)<0&&(D=-D),(F=A3*f2+p3*d2+m3*c2)<0&&(F=-F),y2=D*Z+F*j,(D=A3*u2+p3*z2+m3*_2)<0&&(D=-D),(F=A3*H2+p3*Y2+m3*Z2)<0&&(F=-F),(T=g-y2-(D*K2+F*x2))>0)return}else o=!1,T=0,Ct=!0;if((g=ii*ii+si*si+ti*ti)>1e-5){if((c=(g=(ii*=g=1/x.sqrt(g))*J2+(si*=g)*W2+(ti*=g)*h2)>0)||(g=-g),(D=ii*p2+si*B2+ti*D2)<0&&(D=-D),(F=ii*f2+si*d2+ti*c2)<0&&(F=-F),y2=D*Z+F*j,(D=ii*X+si*t2+ti*m2)<0&&(D=-D),(F=ii*H2+si*Y2+ti*Z2)<0&&(F=-F),(U=g-y2-(D*i2+F*x2))>0)return}else c=!1,U=0,kt=!0;if((g=ai*ai+hi*hi+Ei*Ei)>1e-5){if((f=(g=(ai*=g=1/x.sqrt(g))*J2+(hi*=g)*W2+(Ei*=g)*h2)>0)||(g=-g),(D=ai*p2+hi*B2+Ei*D2)<0&&(D=-D),(F=ai*f2+hi*d2+Ei*c2)<0&&(F=-F),y2=D*Z+F*j,(D=ai*X+hi*t2+Ei*m2)<0&&(D=-D),(F=ai*u2+hi*z2+Ei*_2)<0&&(F=-F),(A2=g-y2-(D*i2+F*K2))>0)return}else f=!1,A2=0,ot=!0;if((g=ni*ni+ei*ei+li*li)>1e-5){if((S=(g=(ni*=g=1/x.sqrt(g))*J2+(ei*=g)*W2+(li*=g)*h2)>0)||(g=-g),(D=ni*p2+ei*B2+li*D2)<0&&(D=-D),(F=ni*H+ei*J+li*W)<0&&(F=-F),y2=D*Z+F*w,(D=ni*u2+ei*z2+li*_2)<0&&(D=-D),(F=ni*H2+ei*Y2+li*Z2)<0&&(F=-F),(X2=g-y2-(D*K2+F*x2))>0)return}else S=!1,X2=0,Ft=!0;if((g=Ai*Ai+pi*pi+ri*ri)>1e-5){if((d=(g=(Ai*=g=1/x.sqrt(g))*J2+(pi*=g)*W2+(ri*=g)*h2)>0)||(g=-g),(D=Ai*p2+pi*B2+ri*D2)<0&&(D=-D),(F=Ai*H+pi*J+ri*W)<0&&(F=-F),y2=D*Z+F*w,(D=Ai*X+pi*t2+ri*m2)<0&&(D=-D),(F=Ai*H2+pi*Y2+ri*Z2)<0&&(F=-F),($2=g-y2-(D*i2+F*x2))>0)return}else d=!1,$2=0,Bt=!0;if((g=Y*Y+ts*ts+as*as)>1e-5){if((P=(g=(Y*=g=1/x.sqrt(g))*J2+(ts*=g)*W2+(as*=g)*h2)>0)||(g=-g),(D=Y*p2+ts*B2+as*D2)<0&&(D=-D),(F=Y*H+ts*J+as*W)<0&&(F=-F),y2=D*Z+F*w,(D=Y*X+ts*t2+as*m2)<0&&(D=-D),(F=Y*u2+ts*z2+as*_2)<0&&(F=-F),(q2=g-y2-(D*i2+F*K2))>0)return}else P=!1,q2=0,Dt=!0;var G3=M,o3=M,i3=0,H3=n;O>o3&&(G3=O,o3=O,i3=1,H3=e),R>o3&&(G3=R,o3=R,i3=2,H3=r),I>o3&&(G3=I,o3=I,i3=3,H3=A),$>o3&&(G3=$,o3=$,i3=4,H3=p),z>o3&&(G3=z,o3=z,i3=5,H3=l),L-.01>o3&&!At&&(G3=L,o3=L-.01,i3=6,H3=B),_-.01>o3&&!pt&&(G3=_,o3=_-.01,i3=7,H3=C),N-.01>o3&&!rt&&(G3=N,o3=N-.01,i3=8,H3=k),T-.01>o3&&!Ct&&(G3=T,o3=T-.01,i3=9,H3=o),U-.01>o3&&!kt&&(G3=U,o3=U-.01,i3=10,H3=c),A2-.01>o3&&!ot&&(G3=A2,o3=A2-.01,i3=11,H3=f),X2-.01>o3&&!Ft&&(G3=X2,o3=X2-.01,i3=12,H3=S),$2-.01>o3&&!Bt&&(G3=$2,o3=$2-.01,i3=13,H3=d),q2-.01>o3&&!Dt&&(G3=q2,i3=14,H3=P);var n2=0,e2=0,l2=0,g3=0,u3=0,x3=0,S3=0,I3=0,V3=0,D3=0,d3=0,c3=0,Oi=0,Ri=0,_i=0,Ui=0,qi=0,Ji=0,cs=!1;if(i3==0?(H3?(D3=b+V2,d3=q+P2,c3=Q+o2,n2=p2,e2=B2,l2=D2):(D3=b-V2,d3=q-P2,c3=Q-o2,n2=-p2,e2=-B2,l2=-D2),Oi=E2,Ri=F2,_i=h3,g3=-H,u3=-J,x3=-W,Ui=v2,qi=a2,Ji=s2,S3=-f2,I3=-d2,V3=-c2):i3==1?(H3?(D3=b+E2,d3=q+F2,c3=Q+h3,n2=H,e2=J,l2=W):(D3=b-E2,d3=q-F2,c3=Q-h3,n2=-H,e2=-J,l2=-W),Oi=V2,Ri=P2,_i=o2,g3=-p2,u3=-B2,x3=-D2,Ui=v2,qi=a2,Ji=s2,S3=-f2,I3=-d2,V3=-c2):i3==2?(H3?(D3=b+v2,d3=q+a2,c3=Q+s2,n2=f2,e2=d2,l2=c2):(D3=b-v2,d3=q-a2,c3=Q-s2,n2=-f2,e2=-d2,l2=-c2),Oi=V2,Ri=P2,_i=o2,g3=-p2,u3=-B2,x3=-D2,Ui=E2,qi=F2,Ji=h3,S3=-H,I3=-J,V3=-W):i3==3?(cs=!0,H3?(D3=U3-ji,d3=Q2-y3,c3=B3-M3,n2=-X,e2=-t2,l2=-m2):(D3=U3+ji,d3=Q2+y3,c3=B3+M3,n2=X,e2=t2,l2=m2),Oi=P3,Ri=b2,_i=q3,g3=-u2,u3=-z2,x3=-_2,Ui=J3,qi=W3,Ji=I2,S3=-H2,I3=-Y2,V3=-Z2):i3==4?(cs=!0,H3?(D3=U3-P3,d3=Q2-b2,c3=B3-q3,n2=-u2,e2=-z2,l2=-_2):(D3=U3+P3,d3=Q2+b2,c3=B3+q3,n2=u2,e2=z2,l2=_2),Oi=ji,Ri=y3,_i=M3,g3=-X,u3=-t2,x3=-m2,Ui=J3,qi=W3,Ji=I2,S3=-H2,I3=-Y2,V3=-Z2):i3==5?(cs=!0,H3?(D3=U3-J3,d3=Q2-W3,c3=B3-I2,n2=-H2,e2=-Y2,l2=-Z2):(D3=U3+J3,d3=Q2+W3,c3=B3+I2,n2=H2,e2=Y2,l2=Z2),Oi=ji,Ri=y3,_i=M3,g3=-X,u3=-t2,x3=-m2,Ui=P3,qi=b2,Ji=q3,S3=-u2,I3=-z2,V3=-_2):i3==6?(n2=N2,e2=E3,l2=M2,g3=p2,u3=B2,x3=D2,S3=X,I3=t2,V3=m2):i3==7?(n2=L3,e2=T3,l2=j3,g3=p2,u3=B2,x3=D2,S3=u2,I3=z2,V3=_2):i3==8?(n2=O3,e2=R3,l2=_3,g3=p2,u3=B2,x3=D2,S3=H2,I3=Y2,V3=Z2):i3==9?(n2=A3,e2=p3,l2=m3,g3=H,u3=J,x3=W,S3=X,I3=t2,V3=m2):i3==10?(n2=ii,e2=si,l2=ti,g3=H,u3=J,x3=W,S3=u2,I3=z2,V3=_2):i3==11?(n2=ai,e2=hi,l2=Ei,g3=H,u3=J,x3=W,S3=H2,I3=Y2,V3=Z2):i3==12?(n2=ni,e2=ei,l2=li,g3=f2,u3=d2,x3=c2,S3=X,I3=t2,V3=m2):i3==13?(n2=Ai,e2=pi,l2=ri,g3=f2,u3=d2,x3=c2,S3=u2,I3=z2,V3=_2):i3==14&&(n2=Y,e2=ts,l2=as,g3=f2,u3=d2,x3=c2,S3=H2,I3=Y2,V3=Z2),i3>5){var r3,s3,n3,e3,l3,Wi,Hi,Yi,Ki,Xi,$i;H3||(n2=-n2,e2=-e2,l2=-l2),s3=n2*(Wi=m[0])+e2*(Hi=m[1])+l2*(Yi=m[2]),(r3=n2*(n3=m[3])+e2*(e3=m[4])+l2*(l3=m[5]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),(r3=n2*(n3=m[6])+e2*(e3=m[7])+l2*(l3=m[8]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),(r3=n2*(n3=m[9])+e2*(e3=m[10])+l2*(l3=m[11]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),(r3=n2*(n3=m[12])+e2*(e3=m[13])+l2*(l3=m[14]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),(r3=n2*(n3=m[15])+e2*(e3=m[16])+l2*(l3=m[17]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),(r3=n2*(n3=m[18])+e2*(e3=m[19])+l2*(l3=m[20]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),(r3=n2*(n3=m[21])+e2*(e3=m[22])+l2*(l3=m[23]))>s3&&(s3=r3,Wi=n3,Hi=e3,Yi=l3),s3=n2*(Ki=u[0])+e2*(Xi=u[1])+l2*($i=u[2]),(r3=n2*(n3=u[3])+e2*(e3=u[4])+l2*(l3=u[5]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3),(r3=n2*(n3=u[6])+e2*(e3=u[7])+l2*(l3=u[8]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3),(r3=n2*(n3=u[9])+e2*(e3=u[10])+l2*(l3=u[11]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3),(r3=n2*(n3=u[12])+e2*(e3=u[13])+l2*(l3=u[14]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3),(r3=n2*(n3=u[15])+e2*(e3=u[16])+l2*(l3=u[17]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3),(r3=n2*(n3=u[18])+e2*(e3=u[19])+l2*(l3=u[20]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3),(r3=n2*(n3=u[21])+e2*(e3=u[22])+l2*(l3=u[23]))<s3&&(s3=r3,Ki=n3,Xi=e3,$i=l3);var U2=((n3=Ki-Wi)*(g3-S3*(D=g3*S3+u3*I3+x3*V3))+(e3=Xi-Hi)*(u3-I3*D)+(l3=$i-Yi)*(x3-V3*D))/(1-D*D);a.addPoint(Wi+g3*U2+n2*G3*.5,Hi+u3*U2+e2*G3*.5,Yi+x3*U2+l2*G3*.5,n2,e2,l2,G3,!1)}else{var Fi,Bi,Di,di,ci,yi,mi,gi,ui,xi,fi,vi,bi,S2,v,L2,T2,j2,f3,v3,b3,t3=1,w2=0,z3=0;cs?((w2=p2*n2+B2*e2+D2*l2)<t3&&(t3=w2,z3=0),-w2<t3&&(t3=-w2,z3=1),(w2=H*n2+J*e2+W*l2)<t3&&(t3=w2,z3=2),-w2<t3&&(t3=-w2,z3=3),(w2=f2*n2+d2*e2+c2*l2)<t3&&(t3=w2,z3=4),-w2<t3&&(t3=-w2,z3=5),z3==0?(Fi=m[0],Bi=m[1],Di=m[2],di=m[6],ci=m[7],yi=m[8],mi=m[9],gi=m[10],ui=m[11],xi=m[3],fi=m[4],vi=m[5]):z3==1?(Fi=m[15],Bi=m[16],Di=m[17],di=m[21],ci=m[22],yi=m[23],mi=m[18],gi=m[19],ui=m[20],xi=m[12],fi=m[13],vi=m[14]):z3==2?(Fi=m[12],Bi=m[13],Di=m[14],di=m[0],ci=m[1],yi=m[2],mi=m[3],gi=m[4],ui=m[5],xi=m[15],fi=m[16],vi=m[17]):z3==3?(Fi=m[21],Bi=m[22],Di=m[23],di=m[9],ci=m[10],yi=m[11],mi=m[6],gi=m[7],ui=m[8],xi=m[18],fi=m[19],vi=m[20]):z3==4?(Fi=m[12],Bi=m[13],Di=m[14],di=m[18],ci=m[19],yi=m[20],mi=m[6],gi=m[7],ui=m[8],xi=m[0],fi=m[1],vi=m[2]):z3==5&&(Fi=m[3],Bi=m[4],Di=m[5],di=u[9],ci=u[10],yi=u[11],mi=m[21],gi=m[22],ui=m[23],xi=m[15],fi=m[16],vi=m[17])):((w2=X*n2+t2*e2+m2*l2)<t3&&(t3=w2,z3=0),-w2<t3&&(t3=-w2,z3=1),(w2=u2*n2+z2*e2+_2*l2)<t3&&(t3=w2,z3=2),-w2<t3&&(t3=-w2,z3=3),(w2=H2*n2+Y2*e2+Z2*l2)<t3&&(t3=w2,z3=4),-w2<t3&&(t3=-w2,z3=5),z3==0?(Fi=u[0],Bi=u[1],Di=u[2],di=u[6],ci=u[7],yi=u[8],mi=u[9],gi=u[10],ui=u[11],xi=u[3],fi=u[4],vi=u[5]):z3==1?(Fi=u[15],Bi=u[16],Di=u[17],di=u[21],ci=u[22],yi=u[23],mi=u[18],gi=u[19],ui=u[20],xi=u[12],fi=u[13],vi=u[14]):z3==2?(Fi=u[12],Bi=u[13],Di=u[14],di=u[0],ci=u[1],yi=u[2],mi=u[3],gi=u[4],ui=u[5],xi=u[15],fi=u[16],vi=u[17]):z3==3?(Fi=u[21],Bi=u[22],Di=u[23],di=u[9],ci=u[10],yi=u[11],mi=u[6],gi=u[7],ui=u[8],xi=u[18],fi=u[19],vi=u[20]):z3==4?(Fi=u[12],Bi=u[13],Di=u[14],di=u[18],ci=u[19],yi=u[20],mi=u[6],gi=u[7],ui=u[8],xi=u[0],fi=u[1],vi=u[2]):z3==5&&(Fi=u[3],Bi=u[4],Di=u[5],di=u[9],ci=u[10],yi=u[11],mi=u[21],gi=u[22],ui=u[23],xi=u[15],fi=u[16],vi=u[17])),this.clipVertices1[0]=Fi,this.clipVertices1[1]=Bi,this.clipVertices1[2]=Di,this.clipVertices1[3]=di,this.clipVertices1[4]=ci,this.clipVertices1[5]=yi,this.clipVertices1[6]=mi,this.clipVertices1[7]=gi,this.clipVertices1[8]=ui,this.clipVertices1[9]=xi,this.clipVertices1[10]=fi,this.clipVertices1[11]=vi,S2=0,D=((L2=this.clipVertices1[9])-D3-Oi)*g3+((T2=this.clipVertices1[10])-d3-Ri)*u3+((j2=this.clipVertices1[11])-c3-_i)*x3;for(var G2=0;G2<4;G2++)v=3*G2,F=((f3=this.clipVertices1[v])-D3-Oi)*g3+((v3=this.clipVertices1[v+1])-d3-Ri)*u3+((b3=this.clipVertices1[v+2])-c3-_i)*x3,D>0?F>0?(v=3*S2,S2++,this.clipVertices2[v]=f3,this.clipVertices2[v+1]=v3,this.clipVertices2[v+2]=b3):(v=3*S2,S2++,U2=D/(D-F),this.clipVertices2[v]=L2+(f3-L2)*U2,this.clipVertices2[v+1]=T2+(v3-T2)*U2,this.clipVertices2[v+2]=j2+(b3-j2)*U2):F>0&&(v=3*S2,S2++,U2=D/(D-F),this.clipVertices2[v]=L2+(f3-L2)*U2,this.clipVertices2[v+1]=T2+(v3-T2)*U2,this.clipVertices2[v+2]=j2+(b3-j2)*U2,v=3*S2,S2++,this.clipVertices2[v]=f3,this.clipVertices2[v+1]=v3,this.clipVertices2[v+2]=b3),L2=f3,T2=v3,j2=b3,D=F;if((bi=S2)!=0){for(S2=0,v=3*(bi-1),D=((L2=this.clipVertices2[v])-D3-Ui)*S3+((T2=this.clipVertices2[v+1])-d3-qi)*I3+((j2=this.clipVertices2[v+2])-c3-Ji)*V3,G2=0;G2<bi;G2++)v=3*G2,F=((f3=this.clipVertices2[v])-D3-Ui)*S3+((v3=this.clipVertices2[v+1])-d3-qi)*I3+((b3=this.clipVertices2[v+2])-c3-Ji)*V3,D>0?F>0?(v=3*S2,S2++,this.clipVertices1[v]=f3,this.clipVertices1[v+1]=v3,this.clipVertices1[v+2]=b3):(v=3*S2,S2++,U2=D/(D-F),this.clipVertices1[v]=L2+(f3-L2)*U2,this.clipVertices1[v+1]=T2+(v3-T2)*U2,this.clipVertices1[v+2]=j2+(b3-j2)*U2):F>0&&(v=3*S2,S2++,U2=D/(D-F),this.clipVertices1[v]=L2+(f3-L2)*U2,this.clipVertices1[v+1]=T2+(v3-T2)*U2,this.clipVertices1[v+2]=j2+(b3-j2)*U2,v=3*S2,S2++,this.clipVertices1[v]=f3,this.clipVertices1[v+1]=v3,this.clipVertices1[v+2]=b3),L2=f3,T2=v3,j2=b3,D=F;if((bi=S2)!=0){for(S2=0,v=3*(bi-1),D=((L2=this.clipVertices1[v])-D3+Oi)*-g3+((T2=this.clipVertices1[v+1])-d3+Ri)*-u3+((j2=this.clipVertices1[v+2])-c3+_i)*-x3,G2=0;G2<bi;G2++)v=3*G2,F=((f3=this.clipVertices1[v])-D3+Oi)*-g3+((v3=this.clipVertices1[v+1])-d3+Ri)*-u3+((b3=this.clipVertices1[v+2])-c3+_i)*-x3,D>0?F>0?(v=3*S2,S2++,this.clipVertices2[v]=f3,this.clipVertices2[v+1]=v3,this.clipVertices2[v+2]=b3):(v=3*S2,S2++,U2=D/(D-F),this.clipVertices2[v]=L2+(f3-L2)*U2,this.clipVertices2[v+1]=T2+(v3-T2)*U2,this.clipVertices2[v+2]=j2+(b3-j2)*U2):F>0&&(v=3*S2,S2++,U2=D/(D-F),this.clipVertices2[v]=L2+(f3-L2)*U2,this.clipVertices2[v+1]=T2+(v3-T2)*U2,this.clipVertices2[v+2]=j2+(b3-j2)*U2,v=3*S2,S2++,this.clipVertices2[v]=f3,this.clipVertices2[v+1]=v3,this.clipVertices2[v+2]=b3),L2=f3,T2=v3,j2=b3,D=F;if((bi=S2)!=0){for(S2=0,v=3*(bi-1),D=((L2=this.clipVertices2[v])-D3+Ui)*-S3+((T2=this.clipVertices2[v+1])-d3+qi)*-I3+((j2=this.clipVertices2[v+2])-c3+Ji)*-V3,G2=0;G2<bi;G2++)v=3*G2,F=((f3=this.clipVertices2[v])-D3+Ui)*-S3+((v3=this.clipVertices2[v+1])-d3+qi)*-I3+((b3=this.clipVertices2[v+2])-c3+Ji)*-V3,D>0?F>0?(v=3*S2,S2++,this.clipVertices1[v]=f3,this.clipVertices1[v+1]=v3,this.clipVertices1[v+2]=b3):(v=3*S2,S2++,U2=D/(D-F),this.clipVertices1[v]=L2+(f3-L2)*U2,this.clipVertices1[v+1]=T2+(v3-T2)*U2,this.clipVertices1[v+2]=j2+(b3-j2)*U2):F>0&&(v=3*S2,S2++,U2=D/(D-F),this.clipVertices1[v]=L2+(f3-L2)*U2,this.clipVertices1[v+1]=T2+(v3-T2)*U2,this.clipVertices1[v+2]=j2+(b3-j2)*U2,v=3*S2,S2++,this.clipVertices1[v]=f3,this.clipVertices1[v+1]=v3,this.clipVertices1[v+2]=b3),L2=f3,T2=v3,j2=b3,D=F;if(cs){var Pt=h;h=E,E=Pt}if((bi=S2)!=0){var ys=h!=s;if(bi>4){g3=Fi-(L2=.25*(Fi+di+mi+xi)),u3=Bi-(T2=.25*(Bi+ci+gi+fi)),x3=Di-(j2=.25*(Di+yi+ui+vi)),S3=di-L2,I3=ci-T2,V3=yi-j2;var Xs=0,dt=0,$s=0,ct=0,ms=-this.INF;for(t3=this.INF,G2=0;G2<bi;G2++)this.used[G2]=!1,v=3*G2,(w2=(L2=this.clipVertices1[v])*g3+(T2=this.clipVertices1[v+1])*u3+(j2=this.clipVertices1[v+2])*x3)<t3&&(t3=w2,Xs=G2),w2>ms&&(ms=w2,$s=G2);for(this.used[Xs]=!0,this.used[$s]=!0,ms=-this.INF,t3=this.INF,G2=0;G2<bi;G2++)this.used[G2]||(v=3*G2,(w2=(L2=this.clipVertices1[v])*S3+(T2=this.clipVertices1[v+1])*I3+(j2=this.clipVertices1[v+2])*V3)<t3&&(t3=w2,dt=G2),w2>ms&&(ms=w2,ct=G2));v=3*Xs,(w2=((L2=this.clipVertices1[v])-D3)*n2+((T2=this.clipVertices1[v+1])-d3)*e2+((j2=this.clipVertices1[v+2])-c3)*l2)<0&&a.addPoint(L2,T2,j2,n2,e2,l2,w2,ys),v=3*dt,(w2=((L2=this.clipVertices1[v])-D3)*n2+((T2=this.clipVertices1[v+1])-d3)*e2+((j2=this.clipVertices1[v+2])-c3)*l2)<0&&a.addPoint(L2,T2,j2,n2,e2,l2,w2,ys),v=3*$s,(w2=((L2=this.clipVertices1[v])-D3)*n2+((T2=this.clipVertices1[v+1])-d3)*e2+((j2=this.clipVertices1[v+2])-c3)*l2)<0&&a.addPoint(L2,T2,j2,n2,e2,l2,w2,ys),v=3*ct,(w2=((L2=this.clipVertices1[v])-D3)*n2+((T2=this.clipVertices1[v+1])-d3)*e2+((j2=this.clipVertices1[v+2])-c3)*l2)<0&&a.addPoint(L2,T2,j2,n2,e2,l2,w2,ys)}else for(G2=0;G2<bi;G2++)v=3*G2,(w2=((L2=this.clipVertices1[v])-D3)*n2+((T2=this.clipVertices1[v+1])-d3)*e2+((j2=this.clipVertices1[v+2])-c3)*l2)<0&&a.addPoint(L2,T2,j2,n2,e2,l2,w2,ys)}}}}}}}}),Is.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Is,getSep:function(s,t,a,h,E){var n,e,r,A,p,l,B,C,k,o,c,f,S,d=new y,P=s.position.x,M=s.position.y,O=s.position.z,R=t.position.x,I=t.position.y,$=t.position.z,z=R-P,L=I-M,_=$-O;z*z+L*L+_*_==0&&(L=.001);var N=-z,T=-L,U=-_;this.supportPointB(s,-N,-T,-U,d);var A2=d.x,X2=d.y,$2=d.z;this.supportPointC(t,N,T,U,d);var q2=d.x,g=d.y,y2=d.z,D=q2-A2,F=g-X2,V=y2-$2;if(D*N+F*T+V*U<=0)return!1;if((N=F*_-V*L)*N+(T=V*z-D*_)*T+(U=D*L-F*z)*U==0)return a.set(D-z,F-L,V-_).normalize(),h.set(.5*(A2+q2),.5*(X2+g),.5*($2+y2)),!0;this.supportPointB(s,-N,-T,-U,d);var m=d.x,u=d.y,C2=d.z;this.supportPointC(t,N,T,U,d);var k2=d.x,G=d.y,K=d.z,b=k2-m,q=G-u,Q=K-C2;if(b*N+q*T+Q*U<=0)return!1;(N=(e=F-L)*(l=Q-_)-(r=V-_)*(p=q-L))*z+(T=r*(A=b-z)-(n=D-z)*l)*L+(U=n*p-e*A)*_>0&&(n=D,e=F,r=V,D=b,F=q,V=Q,b=n,q=e,Q=r,n=A2,e=X2,r=$2,A2=m,X2=u,$2=C2,m=n,u=e,C2=r,n=q2,e=g,r=y2,q2=k2,g=G,y2=K,k2=n,G=e,K=r,N=-N,T=-T,U=-U);for(var U3=0;;){if(++U3>100)return!1;this.supportPointB(s,-N,-T,-U,d);var Q2=d.x,B3=d.y,J2=d.z;this.supportPointC(t,N,T,U,d);var W2=d.x,h2=d.y,Z=d.z,w=W2-Q2,j=h2-B3,i2=Z-J2;if(w*N+j*T+i2*U<=0)return!1;if((F*i2-V*j)*z+(V*w-D*i2)*L+(D*j-F*w)*_<0)b=w,q=j,Q=i2,m=Q2,u=B3,C2=J2,k2=W2,G=h2,K=Z,N=(e=F-L)*(l=i2-_)-(r=V-_)*(p=j-L),T=r*(A=w-z)-(n=D-z)*l,U=n*p-e*A;else if((j*Q-i2*q)*z+(i2*b-w*Q)*L+(w*q-j*b)*_<0)D=w,F=j,V=i2,A2=Q2,X2=B3,$2=J2,q2=W2,g=h2,y2=Z,N=(e=j-L)*(l=Q-_)-(r=i2-_)*(p=q-L),T=r*(A=b-z)-(n=w-z)*l,U=n*p-e*A;else for(var K2=!1;;){if(N=(e=q-F)*(l=i2-V)-(r=Q-V)*(p=j-F),T=r*(A=w-D)-(n=b-D)*l,U=n*p-e*A,(N*=B=1/x.sqrt(N*N+T*T+U*U))*D+(T*=B)*F+(U*=B)*V>=0&&!K2){var x2=(F*Q-V*q)*w+(V*b-D*Q)*j+(D*q-F*b)*i2,p2=(j*Q-i2*q)*z+(i2*b-w*Q)*L+(w*q-j*b)*_,B2=(L*V-_*F)*w+(_*D-z*V)*j+(z*F-L*D)*i2,D2=(q*V-Q*F)*z+(Q*D-b*V)*L+(b*F-q*D)*_,H=x2+p2+B2+D2;H<=0&&(x2=0,H=(p2=(q*i2-Q*j)*N+(Q*w-b*i2)*T+(b*j-q*w)*U)+(B2=(j*Q-i2*q)*N+(i2*b-w*Q)*T+(w*q-j*b)*U)+(D2=(F*Q-V*q)*N+(V*b-D*Q)*T+(D*q-F*b)*U));var J=1/H;C=(P*x2+A2*p2+m*B2+Q2*D2)*J,k=(M*x2+X2*p2+u*B2+B3*D2)*J,o=(O*x2+$2*p2+C2*B2+J2*D2)*J,c=(R*x2+q2*p2+k2*B2+W2*D2)*J,f=(I*x2+g*p2+G*B2+h2*D2)*J,S=($*x2+y2*p2+K*B2+Z*D2)*J,K2=!0}this.supportPointB(s,-N,-T,-U,d);var W=d.x,f2=d.y,d2=d.z;this.supportPointC(t,N,T,U,d);var c2=d.x,V2=d.y,P2=d.z,o2=c2-W,E2=V2-f2,F2=P2-d2,h3=-(o2*N+E2*T+F2*U);if((o2-w)*N+(E2-j)*T+(F2-i2)*U<=.01||h3>=0)return!!K2&&(a.set(-N,-T,-U),h.set(.5*(C+c),.5*(k+f),.5*(o+S)),E.x=h3,!0);(E2*V-F2*F)*z+(F2*D-o2*V)*L+(o2*F-E2*D)*_<0?(E2*Q-F2*q)*z+(F2*b-o2*Q)*L+(o2*q-E2*b)*_<0?(D=o2,F=E2,V=F2,A2=W,X2=f2,$2=d2,q2=c2,g=V2,y2=P2):(w=o2,j=E2,i2=F2,Q2=W,B3=f2,J2=d2,W2=c2,h2=V2,Z=P2):(E2*i2-F2*j)*z+(F2*w-o2*i2)*L+(o2*j-E2*w)*_<0?(b=o2,q=E2,Q=F2,m=W,u=f2,C2=d2,k2=c2,G=V2,K=P2):(D=o2,F=E2,V=F2,A2=W,X2=f2,$2=d2,q2=c2,g=V2,y2=P2)}}},supportPointB:function(s,t,a,h,E){var n,e,r,A=s.rotation.elements,p=A[0]*t+A[3]*a+A[6]*h,l=A[1]*t+A[4]*a+A[7]*h,B=A[2]*t+A[5]*a+A[8]*h,C=s.halfWidth,k=s.halfHeight,o=s.halfDepth;n=p<0?-C:C,e=l<0?-k:k,r=B<0?-o:o,p=A[0]*n+A[1]*e+A[2]*r+s.position.x,l=A[3]*n+A[4]*e+A[5]*r+s.position.y,B=A[6]*n+A[7]*e+A[8]*r+s.position.z,E.set(p,l,B)},supportPointC:function(s,t,a,h,E){var n,e,r,A=s.rotation.elements,p=A[0]*t+A[3]*a+A[6]*h,l=A[1]*t+A[4]*a+A[7]*h,B=A[2]*t+A[5]*a+A[8]*h,C=p,k=B,o=C*C+k*k,c=s.radius,f=s.halfHeight;o==0?l<0?(n=c,e=-f,r=0):(n=c,e=f,r=0):(o=s.radius/x.sqrt(o),l<0?(n=C*o,e=-f,r=k*o):(n=C*o,e=f,r=k*o)),p=A[0]*n+A[1]*e+A[2]*r+s.position.x,l=A[3]*n+A[4]*e+A[5]*r+s.position.y,B=A[6]*n+A[7]*e+A[8]*r+s.position.z,E.set(p,l,B)},detectCollision:function(s,t,a){var h,E;this.flip?(h=t,E=s):(h=s,E=t);var n=new y,e=new y,r=new y;if(this.getSep(h,E,n,e,r)){var A=h.position.x,p=h.position.y,l=h.position.z,B=E.position.x,C=E.position.y,k=E.position.z,o=h.halfWidth,c=h.halfHeight,f=h.halfDepth,S=E.halfHeight,d=E.radius,P=h.dimentions,M=P[0],O=P[1],R=P[2],I=P[3],$=P[4],z=P[5],L=P[6],_=P[7],N=P[8],T=P[9],U=P[10],A2=P[11],X2=P[12],$2=P[13],q2=P[14],g=P[15],y2=P[16],D=P[17],F=E.normalDirection.x,V=E.normalDirection.y,m=E.normalDirection.z,u=E.halfDirection.x,C2=E.halfDirection.y,k2=E.halfDirection.z,G=n.x,K=n.y,b=n.z,q=G*M+K*O+b*R,Q=G*I+K*$+b*z,U3=G*L+K*_+b*N,Q2=G*F+K*V+b*m,B3=q>0,J2=Q>0,W2=U3>0,h2=Q2>0;B3||(q=-q),J2||(Q=-Q),W2||(U3=-U3),h2||(Q2=-Q2);var Z,w,j,i2,K2,x2,p2,B2,D2,H,J,W,f2,d2,c2,V2,P2,o2,E2,F2,h3,v2,a2,s2,X,t2,m2,u2,z2,_2,H2,Y2,Z2,ji,y3,M3,P3,b2,q3,J3,W3,I2,N2,E3,M2,L3,T3,j3,O3,R3,_3,A3,p3,m3=0;if(Q2>.999?m3=q>.999?q>Q2?1:4:Q>.999?Q>Q2?2:4:U3>.999&&U3>Q2?3:4:q>.999?m3=1:Q>.999?m3=2:U3>.999&&(m3=3),m3==0)a.addPoint(e.x,e.y,e.z,G,K,b,r.x,this.flip);else if(m3==4){var ii,si,ti,ai,hi,Ei,ni,ei,li,Ai,pi,ri;h2?(i2=B-u,K2=C-C2,x2=k-k2,G=-F,K=-V,b=-m):(i2=B+u,K2=C+C2,x2=k+k2,G=F,K=V,b=m),m3=0,(N2=M*G+O*K+R*b)<(F2=1)&&(F2=N2,m3=0),-N2<F2&&(F2=-N2,m3=1),(N2=I*G+$*K+z*b)<F2&&(F2=N2,m3=2),-N2<F2&&(F2=-N2,m3=3),(N2=L*G+_*K+N*b)<F2&&(F2=N2,m3=4),-N2<F2&&(F2=-N2,m3=5);var Y=h.elements;switch(m3){case 0:ii=Y[0],si=Y[1],ti=Y[2],ai=Y[6],hi=Y[7],Ei=Y[8],ni=Y[9],ei=Y[10],li=Y[11],Ai=Y[3],pi=Y[4],ri=Y[5];break;case 1:ii=Y[15],si=Y[16],ti=Y[17],ai=Y[21],hi=Y[22],Ei=Y[23],ni=Y[18],ei=Y[19],li=Y[20],Ai=Y[12],pi=Y[13],ri=Y[14];break;case 2:ii=Y[12],si=Y[13],ti=Y[14],ai=Y[0],hi=Y[1],Ei=Y[2],ni=Y[3],ei=Y[4],li=Y[5],Ai=Y[15],pi=Y[16],ri=Y[17];break;case 3:ii=Y[21],si=Y[22],ti=Y[23],ai=Y[9],hi=Y[10],Ei=Y[11],ni=Y[6],ei=Y[7],li=Y[8],Ai=Y[18],pi=Y[19],ri=Y[20];break;case 4:ii=Y[12],si=Y[13],ti=Y[14],ai=Y[18],hi=Y[19],Ei=Y[20],ni=Y[6],ei=Y[7],li=Y[8],Ai=Y[0],pi=Y[1],ri=Y[2];break;case 5:ii=Y[3],si=Y[4],ti=Y[5],ai=Y[9],hi=Y[10],Ei=Y[11],ni=Y[21],ei=Y[22],li=Y[23],Ai=Y[15],pi=Y[16],ri=Y[17]}(E2=G*(ii-i2)+K*(si-K2)+b*(ti-x2))<=0&&a.addPoint(ii,si,ti,-G,-K,-b,E2,this.flip),(E2=G*(ai-i2)+K*(hi-K2)+b*(Ei-x2))<=0&&a.addPoint(ai,hi,Ei,-G,-K,-b,E2,this.flip),(E2=G*(ni-i2)+K*(ei-K2)+b*(li-x2))<=0&&a.addPoint(ni,ei,li,-G,-K,-b,E2,this.flip),(E2=G*(Ai-i2)+K*(pi-K2)+b*(ri-x2))<=0&&a.addPoint(Ai,pi,ri,-G,-K,-b,E2,this.flip)}else{switch(m3){case 1:B3?(Z=A+T,w=p+U,j=l+A2,G=M,K=O,b=R):(Z=A-T,w=p-U,j=l-A2,G=-M,K=-O,b=-R),L3=I,T3=$,j3=z,A3=c,O3=L,R3=_,_3=N,p3=f;break;case 2:J2?(Z=A+X2,w=p+$2,j=l+q2,G=I,K=$,b=z):(Z=A-X2,w=p-$2,j=l-q2,G=-I,K=-$,b=-z),L3=M,T3=O,j3=R,A3=o,O3=L,R3=_,_3=N,p3=f;break;case 3:W2?(Z=A+g,w=p+y2,j=l+D,G=L,K=_,b=N):(Z=A-g,w=p-y2,j=l-D,G=-L,K=-_,b=-N),L3=M,T3=O,j3=R,A3=o,O3=I,R3=$,_3=z,p3=c}if(i2=B+(h3=(F2=G*F+K*V+b*m)<0?S:-S)*F,K2=C+h3*V,x2=k+h3*m,Q2>=.999999?(v2=-K,a2=b,s2=G):(v2=G,a2=K,s2=b),t2=(h3=v2*F+a2*V+s2*m)*F-v2,m2=h3*V-a2,u2=h3*m-s2,(h3=x.sqrt(t2*t2+m2*m2+u2*u2))==0)return;if(v2=i2+(t2*=h3=d/h3),a2=K2+(m2*=h3),s2=x2+(u2*=h3),F2<-.96||F2>.96)p2=F*F*1.5-.5,B2=F*V*1.5-.866025403*m,D2=F*m*1.5+.866025403*V,H=V*F*1.5+.866025403*m,J=V*V*1.5-.5,W=V*m*1.5-.866025403*F,f2=m*F*1.5-.866025403*V,d2=m*V*1.5+.866025403*F,c2=m*m*1.5-.5,(b2=L3*(v2=(V2=v2)-(E2=G*(V2-Z)+K*((P2=a2)-w)+b*((o2=s2)-j))*G-Z)+T3*(a2=P2-E2*K-w)+j3*(s2=o2-E2*b-j))<-A3?b2=-A3:b2>A3&&(b2=A3),(I2=O3*v2+R3*a2+_3*s2)<-p3?I2=-p3:I2>p3&&(I2=p3),V2=Z+(v2=b2*L3+I2*O3),P2=w+(a2=b2*T3+I2*R3),o2=j+(s2=b2*j3+I2*_3),a.addPoint(V2,P2,o2,G,K,b,E2,this.flip),P2=t2*H+m2*J+u2*W,o2=t2*f2+m2*d2+u2*c2,(E2=G*((V2=(t2=V2=t2*p2+m2*B2+u2*D2)+i2)-Z)+K*((P2=(m2=P2)+K2)-w)+b*((o2=(u2=o2)+x2)-j))<=0&&((b2=L3*(v2=V2-E2*G-Z)+T3*(a2=P2-E2*K-w)+j3*(s2=o2-E2*b-j))<-A3?b2=-A3:b2>A3&&(b2=A3),(I2=O3*v2+R3*a2+_3*s2)<-p3?I2=-p3:I2>p3&&(I2=p3),V2=Z+(v2=b2*L3+I2*O3),P2=w+(a2=b2*T3+I2*R3),o2=j+(s2=b2*j3+I2*_3),a.addPoint(V2,P2,o2,G,K,b,E2,this.flip)),P2=t2*H+m2*J+u2*W,o2=t2*f2+m2*d2+u2*c2,(E2=G*((V2=(t2=V2=t2*p2+m2*B2+u2*D2)+i2)-Z)+K*((P2=(m2=P2)+K2)-w)+b*((o2=(u2=o2)+x2)-j))<=0&&((b2=L3*(v2=V2-E2*G-Z)+T3*(a2=P2-E2*K-w)+j3*(s2=o2-E2*b-j))<-A3?b2=-A3:b2>A3&&(b2=A3),(I2=O3*v2+R3*a2+_3*s2)<-p3?I2=-p3:I2>p3&&(I2=p3),V2=Z+(v2=b2*L3+I2*O3),P2=w+(a2=b2*T3+I2*R3),o2=j+(s2=b2*j3+I2*_3),a.addPoint(V2,P2,o2,G,K,b,E2,this.flip));else{if(y3=v2,F2>0?(q3=v2+2*u,J3=a2+2*C2,W3=s2+2*k2):(q3=v2-2*u,J3=a2-2*C2,W3=s2-2*k2),v2=(q3-=(I2=G*(q3-Z)+K*(J3-w)+b*(W3-j))*G)-(y3-=(b2=G*(y3-Z)+K*((M3=a2)-w)+b*((P3=s2)-j))*G),a2=(J3-=I2*K)-(M3-=b2*K),s2=(W3-=I2*b)-(P3-=b2*b),X=I2-b2,E3=(Q=(Y2=q3-Z)*L3+(Z2=J3-w)*T3+(ji=W3-j)*j3)-A3,(N2=(q=(z2=y3-Z)*L3+(_2=M3-w)*T3+(H2=P3-j)*j3)-A3)>0){if(E3>0)return;q=(z2=(y3+=v2*(M2=N2/(N2-E3)))-Z)*L3+(_2=(M3+=a2*M2)-w)*T3+(H2=(P3+=s2*M2)-j)*j3,v2=q3-y3,a2=J3-M3,s2=W3-P3,X=I2-(b2+=X*M2)}else E3>0&&(Q=(Y2=(q3=y3+v2*(M2=N2/(N2-E3)))-Z)*L3+(Z2=(J3=M3+a2*M2)-w)*T3+(ji=(W3=P3+s2*M2)-j)*j3,v2=q3-y3,a2=J3-M3,s2=W3-P3,X=(I2=b2+X*M2)-b2);if(E3=Q+A3,(N2=q+A3)<0){if(E3<0)return;z2=(y3+=v2*(M2=N2/(N2-E3)))-Z,_2=(M3+=a2*M2)-w,H2=(P3+=s2*M2)-j,v2=q3-y3,a2=J3-M3,s2=W3-P3,X=I2-(b2+=X*M2)}else E3<0&&(Y2=(q3=y3+v2*(M2=N2/(N2-E3)))-Z,Z2=(J3=M3+a2*M2)-w,ji=(W3=P3+s2*M2)-j,v2=q3-y3,a2=J3-M3,s2=W3-P3,X=(I2=b2+X*M2)-b2);if(E3=(Q=Y2*O3+Z2*R3+ji*_3)-p3,(N2=(q=z2*O3+_2*R3+H2*_3)-p3)>0){if(E3>0)return;q=(z2=(y3+=v2*(M2=N2/(N2-E3)))-Z)*O3+(_2=(M3+=a2*M2)-w)*R3+(H2=(P3+=s2*M2)-j)*_3,v2=q3-y3,a2=J3-M3,s2=W3-P3,X=I2-(b2+=X*M2)}else E3>0&&(Q=(Y2=(q3=y3+v2*(M2=N2/(N2-E3)))-Z)*O3+(Z2=(J3=M3+a2*M2)-w)*R3+(ji=(W3=P3+s2*M2)-j)*_3,v2=q3-y3,a2=J3-M3,s2=W3-P3,X=(I2=b2+X*M2)-b2);if(E3=Q+p3,(N2=q+p3)<0){if(E3<0)return;y3+=v2*(M2=N2/(N2-E3)),M3+=a2*M2,P3+=s2*M2,b2+=X*M2}else E3<0&&(q3=y3+v2*(M2=N2/(N2-E3)),J3=M3+a2*M2,W3=P3+s2*M2,I2=b2+X*M2);b2<0&&a.addPoint(y3,M3,P3,G,K,b,b2,this.flip),I2<0&&a.addPoint(q3,J3,W3,G,K,b,I2,this.flip)}}}}}),Gs.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Gs,getSep:function(s,t,a,h,E){var n,e,r,A,p,l,B,C,k,o,c,f,S,d=new y,P=s.position.x,M=s.position.y,O=s.position.z,R=t.position.x,I=t.position.y,$=t.position.z,z=R-P,L=I-M,_=$-O;z*z+L*L+_*_==0&&(L=.001);var N=-z,T=-L,U=-_;this.supportPoint(s,-N,-T,-U,d);var A2=d.x,X2=d.y,$2=d.z;this.supportPoint(t,N,T,U,d);var q2=d.x,g=d.y,y2=d.z,D=q2-A2,F=g-X2,V=y2-$2;if(D*N+F*T+V*U<=0)return!1;if((N=F*_-V*L)*N+(T=V*z-D*_)*T+(U=D*L-F*z)*U==0)return a.set(D-z,F-L,V-_).normalize(),h.set(.5*(A2+q2),.5*(X2+g),.5*($2+y2)),!0;this.supportPoint(s,-N,-T,-U,d);var m=d.x,u=d.y,C2=d.z;this.supportPoint(t,N,T,U,d);var k2=d.x,G=d.y,K=d.z,b=k2-m,q=G-u,Q=K-C2;if(b*N+q*T+Q*U<=0)return!1;(N=(e=F-L)*(l=Q-_)-(r=V-_)*(p=q-L))*z+(T=r*(A=b-z)-(n=D-z)*l)*L+(U=n*p-e*A)*_>0&&(n=D,e=F,r=V,D=b,F=q,V=Q,b=n,q=e,Q=r,n=A2,e=X2,r=$2,A2=m,X2=u,$2=C2,m=n,u=e,C2=r,n=q2,e=g,r=y2,q2=k2,g=G,y2=K,k2=n,G=e,K=r,N=-N,T=-T,U=-U);for(var U3=0;;){if(++U3>100)return!1;this.supportPoint(s,-N,-T,-U,d);var Q2=d.x,B3=d.y,J2=d.z;this.supportPoint(t,N,T,U,d);var W2=d.x,h2=d.y,Z=d.z,w=W2-Q2,j=h2-B3,i2=Z-J2;if(w*N+j*T+i2*U<=0)return!1;if((F*i2-V*j)*z+(V*w-D*i2)*L+(D*j-F*w)*_<0)b=w,q=j,Q=i2,m=Q2,u=B3,C2=J2,k2=W2,G=h2,K=Z,N=(e=F-L)*(l=i2-_)-(r=V-_)*(p=j-L),T=r*(A=w-z)-(n=D-z)*l,U=n*p-e*A;else if((j*Q-i2*q)*z+(i2*b-w*Q)*L+(w*q-j*b)*_<0)D=w,F=j,V=i2,A2=Q2,X2=B3,$2=J2,q2=W2,g=h2,y2=Z,N=(e=j-L)*(l=Q-_)-(r=i2-_)*(p=q-L),T=r*(A=b-z)-(n=w-z)*l,U=n*p-e*A;else for(var K2=!1;;){if(N=(e=q-F)*(l=i2-V)-(r=Q-V)*(p=j-F),T=r*(A=w-D)-(n=b-D)*l,U=n*p-e*A,(N*=B=1/x.sqrt(N*N+T*T+U*U))*D+(T*=B)*F+(U*=B)*V>=0&&!K2){var x2=(F*Q-V*q)*w+(V*b-D*Q)*j+(D*q-F*b)*i2,p2=(j*Q-i2*q)*z+(i2*b-w*Q)*L+(w*q-j*b)*_,B2=(L*V-_*F)*w+(_*D-z*V)*j+(z*F-L*D)*i2,D2=(q*V-Q*F)*z+(Q*D-b*V)*L+(b*F-q*D)*_,H=x2+p2+B2+D2;H<=0&&(x2=0,H=(p2=(q*i2-Q*j)*N+(Q*w-b*i2)*T+(b*j-q*w)*U)+(B2=(j*Q-i2*q)*N+(i2*b-w*Q)*T+(w*q-j*b)*U)+(D2=(F*Q-V*q)*N+(V*b-D*Q)*T+(D*q-F*b)*U));var J=1/H;C=(P*x2+A2*p2+m*B2+Q2*D2)*J,k=(M*x2+X2*p2+u*B2+B3*D2)*J,o=(O*x2+$2*p2+C2*B2+J2*D2)*J,c=(R*x2+q2*p2+k2*B2+W2*D2)*J,f=(I*x2+g*p2+G*B2+h2*D2)*J,S=($*x2+y2*p2+K*B2+Z*D2)*J,K2=!0}this.supportPoint(s,-N,-T,-U,d);var W=d.x,f2=d.y,d2=d.z;this.supportPoint(t,N,T,U,d);var c2=d.x,V2=d.y,P2=d.z,o2=c2-W,E2=V2-f2,F2=P2-d2,h3=-(o2*N+E2*T+F2*U);if((o2-w)*N+(E2-j)*T+(F2-i2)*U<=.01||h3>=0)return!!K2&&(a.set(-N,-T,-U),h.set(.5*(C+c),.5*(k+f),.5*(o+S)),E.x=h3,!0);(E2*V-F2*F)*z+(F2*D-o2*V)*L+(o2*F-E2*D)*_<0?(E2*Q-F2*q)*z+(F2*b-o2*Q)*L+(o2*q-E2*b)*_<0?(D=o2,F=E2,V=F2,A2=W,X2=f2,$2=d2,q2=c2,g=V2,y2=P2):(w=o2,j=E2,i2=F2,Q2=W,B3=f2,J2=d2,W2=c2,h2=V2,Z=P2):(E2*i2-F2*j)*z+(F2*w-o2*i2)*L+(o2*j-E2*w)*_<0?(b=o2,q=E2,Q=F2,m=W,u=f2,C2=d2,k2=c2,G=V2,K=P2):(D=o2,F=E2,V=F2,A2=W,X2=f2,$2=d2,q2=c2,g=V2,y2=P2)}}},supportPoint:function(s,t,a,h,E){var n,e,r,A=s.rotation.elements,p=A[0]*t+A[3]*a+A[6]*h,l=A[1]*t+A[4]*a+A[7]*h,B=A[2]*t+A[5]*a+A[8]*h,C=p,k=B,o=C*C+k*k,c=s.radius,f=s.halfHeight;o==0?l<0?(n=c,e=-f,r=0):(n=c,e=f,r=0):(o=s.radius/x.sqrt(o),l<0?(n=C*o,e=-f,r=k*o):(n=C*o,e=f,r=k*o)),p=A[0]*n+A[1]*e+A[2]*r+s.position.x,l=A[3]*n+A[4]*e+A[5]*r+s.position.y,B=A[6]*n+A[7]*e+A[8]*r+s.position.z,E.set(p,l,B)},detectCollision:function(s,t,a){var h,E;s.id<t.id?(h=s,E=t):(h=t,E=s);var n,e,r,A,p,l,B,C,k,o,c,f,S,d,P,M,O,R,I,$,z,L=h.position,_=E.position,N=L.x,T=L.y,U=L.z,A2=_.x,X2=_.y,$2=_.z,q2=h.halfHeight,g=E.halfHeight,y2=h.normalDirection,D=E.normalDirection,F=h.halfDirection,V=E.halfDirection,m=h.radius,u=E.radius,C2=y2.x,k2=y2.y,G=y2.z,K=D.x,b=D.y,q=D.z,Q=F.x,U3=F.y,Q2=F.z,B3=V.x,J2=V.y,W2=V.z,h2=N-A2,Z=T-X2,w=U-$2,j=new y,i2=new y,K2=new y;if(this.getSep(h,E,j,i2,K2)){var x2=j.x*C2+j.y*k2+j.z*G,p2=j.x*K+j.y*b+j.z*q,B2=x2>0,D2=p2>0;B2||(x2=-x2),D2||(p2=-p2);var H,J,W,f2=0;(x2>.999||p2>.999)&&(f2=x2>p2?1:2);var d2,c2,V2,P2,o2,E2,F2,h3,v2,a2,s2,X,t2,m2,u2,z2,_2=K2.x;switch(H=j.x,J=j.y,W=j.z,f2){case 0:a.addPoint(i2.x,i2.y,i2.z,H,J,W,_2,!1);break;case 1:if(B2?(e=N+Q,r=T+U3,A=U+Q2,H=C2,J=k2,W=G):(e=N-Q,r=T-U3,A=U-Q2,H=-C2,J=-k2,W=-G),p=A2+(n=(I=H*K+J*b+W*q)<0?g:-g)*K,l=X2+n*b,B=$2+n*q,p2>=.999999?(C=-J,k=W,o=H):(C=H,k=J,o=W),h2=(n=C*K+k*b+o*q)*K-C,Z=n*b-k,w=n*q-o,(n=x.sqrt(h2*h2+Z*Z+w*w))==0)break;if(C=p+(h2*=n=u/n),k=l+(Z*=n),o=B+(w*=n),I<-.96||I>.96)d2=K*K*1.5-.5,c2=K*b*1.5-.866025403*q,V2=K*q*1.5+.866025403*b,P2=b*K*1.5+.866025403*q,o2=b*b*1.5-.5,E2=b*q*1.5-.866025403*K,F2=q*K*1.5-.866025403*b,h3=q*b*1.5+.866025403*K,v2=q*q*1.5-.5,(n=(C=(a2=C)-(t2=H*(a2-e)+J*((s2=k)-r)+W*((X=o)-A))*H-e)*C+(k=s2-t2*J-r)*k+(o=X-t2*W-A)*o)>m*m&&(C*=n=m/x.sqrt(n),k*=n,o*=n),a2=e+C,s2=r+k,X=A+o,a.addPoint(a2,s2,X,H,J,W,t2,!1),s2=h2*P2+Z*o2+w*E2,X=h2*F2+Z*h3+w*v2,(t2=H*((a2=(h2=a2=h2*d2+Z*c2+w*V2)+p)-e)+J*((s2=(Z=s2)+l)-r)+W*((X=(w=X)+B)-A))<=0&&((n=(C=a2-t2*H-e)*C+(k=s2-t2*J-r)*k+(o=X-t2*W-A)*o)>m*m&&(C*=n=m/x.sqrt(n),k*=n,o*=n),a2=e+C,s2=r+k,X=A+o,a.addPoint(a2,s2,X,H,J,W,t2,!1)),s2=h2*P2+Z*o2+w*E2,X=h2*F2+Z*h3+w*v2,(t2=H*((a2=(h2=a2=h2*d2+Z*c2+w*V2)+p)-e)+J*((s2=(Z=s2)+l)-r)+W*((X=(w=X)+B)-A))<=0&&((n=(C=a2-t2*H-e)*C+(k=s2-t2*J-r)*k+(o=X-t2*W-A)*o)>m*m&&(C*=n=m/x.sqrt(n),k*=n,o*=n),a2=e+C,s2=r+k,X=A+o,a.addPoint(a2,s2,X,H,J,W,t2,!1));else{if(c=C,I>0?(d=C+K*g*2,P=k+b*g*2,M=o+q*g*2):(d=C-K*g*2,P=k-b*g*2,M=o-q*g*2),(z2=(m2=(h2=e-(c-=(O=H*(c-e)+J*((f=k)-r)+W*((S=o)-A))*H))*(C=(d-=(R=H*(d-e)+J*(P-r)+W*(M-A))*H)-c)+(Z=r-(f-=O*J))*(k=(P-=R*J)-f)+(w=A-(S-=O*W))*(o=(M-=R*W)-S))*m2-(u2=C*C+k*k+o*o)*(h2*h2+Z*Z+w*w-m*m))<0)break;(z=(m2-(z2=x.sqrt(z2)))/u2)<($=(m2+z2)/u2)&&(n=$,$=z,z=n),z>1&&(z=1),$<0&&($=0),C=c+(d-c)*$,k=f+(P-f)*$,o=S+(M-S)*$,d=c+(d-c)*z,P=f+(P-f)*z,M=S+(M-S)*z,c=C,f=k,S=o,n=O+(R-O)*$,R=O+(R-O)*z,(O=n)<0&&a.addPoint(c,f,S,H,J,W,t2,!1),R<0&&a.addPoint(d,P,M,H,J,W,t2,!1)}break;case 2:if(D2?(p=A2-B3,l=X2-J2,B=$2-W2,H=-K,J=-b,W=-q):(p=A2+B3,l=X2+J2,B=$2+W2,H=K,J=b,W=q),e=N+(n=(I=H*C2+J*k2+W*G)<0?q2:-q2)*C2,r=T+n*k2,A=U+n*G,x2>=.999999?(C=-J,k=W,o=H):(C=H,k=J,o=W),h2=(n=C*C2+k*k2+o*G)*C2-C,Z=n*k2-k,w=n*G-o,(n=x.sqrt(h2*h2+Z*Z+w*w))==0)break;if(C=e+(h2*=n=m/n),k=r+(Z*=n),o=A+(w*=n),I<-.96||I>.96)d2=C2*C2*1.5-.5,c2=C2*k2*1.5-.866025403*G,V2=C2*G*1.5+.866025403*k2,P2=k2*C2*1.5+.866025403*G,o2=k2*k2*1.5-.5,E2=k2*G*1.5-.866025403*C2,F2=G*C2*1.5-.866025403*k2,h3=G*k2*1.5+.866025403*C2,v2=G*G*1.5-.5,(n=(C=(a2=C)-(t2=H*(a2-p)+J*((s2=k)-l)+W*((X=o)-B))*H-p)*C+(k=s2-t2*J-l)*k+(o=X-t2*W-B)*o)>u*u&&(C*=n=u/x.sqrt(n),k*=n,o*=n),a2=p+C,s2=l+k,X=B+o,a.addPoint(a2,s2,X,-H,-J,-W,t2,!1),s2=h2*P2+Z*o2+w*E2,X=h2*F2+Z*h3+w*v2,(t2=H*((a2=(h2=a2=h2*d2+Z*c2+w*V2)+e)-p)+J*((s2=(Z=s2)+r)-l)+W*((X=(w=X)+A)-B))<=0&&((n=(C=a2-t2*H-p)*C+(k=s2-t2*J-l)*k+(o=X-t2*W-B)*o)>u*u&&(C*=n=u/x.sqrt(n),k*=n,o*=n),a2=p+C,s2=l+k,X=B+o,a.addPoint(a2,s2,X,-H,-J,-W,t2,!1)),s2=h2*P2+Z*o2+w*E2,X=h2*F2+Z*h3+w*v2,(t2=H*((a2=(h2=a2=h2*d2+Z*c2+w*V2)+e)-p)+J*((s2=(Z=s2)+r)-l)+W*((X=(w=X)+A)-B))<=0&&((n=(C=a2-t2*H-p)*C+(k=s2-t2*J-l)*k+(o=X-t2*W-B)*o)>u*u&&(C*=n=u/x.sqrt(n),k*=n,o*=n),a2=p+C,s2=l+k,X=B+o,a.addPoint(a2,s2,X,-H,-J,-W,t2,!1));else{if(c=C,I>0?(d=C+C2*q2*2,P=k+k2*q2*2,M=o+G*q2*2):(d=C-C2*q2*2,P=k-k2*q2*2,M=o-G*q2*2),(z2=(m2=(h2=p-(c-=(O=H*(c-p)+J*((f=k)-l)+W*((S=o)-B))*H))*(C=(d-=(R=H*(d-p)+J*(P-l)+W*(M-B))*H)-c)+(Z=l-(f-=O*J))*(k=(P-=R*J)-f)+(w=B-(S-=O*W))*(o=(M-=R*W)-S))*m2-(u2=C*C+k*k+o*o)*(h2*h2+Z*Z+w*w-u*u))<0)break;(z=(m2-(z2=x.sqrt(z2)))/u2)<($=(m2+z2)/u2)&&(n=$,$=z,z=n),z>1&&(z=1),$<0&&($=0),C=c+(d-c)*$,k=f+(P-f)*$,o=S+(M-S)*$,d=c+(d-c)*z,P=f+(P-f)*z,M=S+(M-S)*z,c=C,f=k,S=o,n=O+(R-O)*$,R=O+(R-O)*z,(O=n)<0&&a.addPoint(c,f,S,-H,-J,-W,O,!1),R<0&&a.addPoint(d,P,M,-H,-J,-W,R,!1)}}}}}),Vs.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Vs,detectCollision:function(s,t,a){var h,E;this.flip?(h=t,E=s):(h=s,E=t);var n,e,r,A,p,l=E.dimentions,B=h.position,C=B.x,k=B.y,o=B.z,c=E.position,f=c.x,S=c.y,d=c.z,P=h.radius,M=E.halfWidth,O=E.halfHeight,R=E.halfDepth,I=C-f,$=k-S,z=o-d,L=l[0]*I+l[1]*$+l[2]*z,_=l[3]*I+l[4]*$+l[5]*z,N=l[6]*I+l[7]*$+l[8]*z,T=0;L>M?L=M:L<-M?L=-M:T=1,_>O?_=O:_<-O?_=-O:T|=2,N>R?N=R:N<-R?N=-R:T|=4,T==7?(z=N<0?R+N:R-N,(I=L<0?M+L:M-L)<($=_<0?O+_:O-_)?I<z?(A=I-M,L<0?(L=-M,I=l[0],$=l[1],z=l[2]):(L=M,I=-l[0],$=-l[1],z=-l[2])):(A=z-R,N<0?(N=-R,I=l[6],$=l[7],z=l[8]):(N=R,I=-l[6],$=-l[7],z=-l[8])):$<z?(A=$-O,_<0?(_=-O,I=l[3],$=l[4],z=l[5]):(_=O,I=-l[3],$=-l[4],z=-l[5])):(A=z-R,N<0?(N=-R,I=l[6],$=l[7],z=l[8]):(N=R,I=-l[6],$=-l[7],z=-l[8])),n=f+L*l[0]+_*l[3]+N*l[6],e=S+L*l[1]+_*l[4]+N*l[7],r=d+L*l[2]+_*l[5]+N*l[8],a.addPoint(C+P*I,k+P*$,o+P*z,I,$,z,A-P,this.flip)):(n=f+L*l[0]+_*l[3]+N*l[6],e=S+L*l[1]+_*l[4]+N*l[7],r=d+L*l[2]+_*l[5]+N*l[8],(A=(I=n-B.x)*I+($=e-B.y)*$+(z=r-B.z)*z)>0&&A<P*P&&(I*=p=1/(A=x.sqrt(A)),$*=p,z*=p,a.addPoint(C+P*I,k+P*$,o+P*z,I,$,z,A-P,this.flip)))}}),Ls.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Ls,detectCollision:function(s,t,a){var h,E;this.flip?(h=t,E=s):(h=s,E=t);var n=h.position,e=n.x,r=n.y,A=n.z,p=E.position,l=p.x,B=p.y,C=p.z,k=E.normalDirection.x,o=E.normalDirection.y,c=E.normalDirection.z,f=h.radius,S=E.radius,d=f+S,P=E.halfHeight,M=e-l,O=r-B,R=A-C,I=M*k+O*o+R*c;if(!(I<-P-f||I>P+f)){var $,z=l+I*k,L=B+I*o,_=C+I*c,N=e-z,T=r-L,U=A-_,A2=N*N+T*T+U*U;A2>d*d||(A2>S*S&&(N*=A2=S/x.sqrt(A2),T*=A2,U*=A2),I<-P?I=-P:I>P&&(I=P),(A2=(M=(z=l+I*k+N)-e)*M+(O=(L=B+I*o+T)-r)*O+(R=(_=C+I*c+U)-A)*R)>0&&A2<f*f&&(M*=$=1/(A2=x.sqrt(A2)),O*=$,R*=$,a.addPoint(e+M*f,r+O*f,A+R*f,M,O,R,A2-f,this.flip)))}}}),Ks.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Ks,detectCollision:function(s,t,a){var h=s,E=t,n=h.position,e=E.position,r=e.x-n.x,A=e.y-n.y,p=e.z-n.z,l=r*r+A*A+p*p,B=h.radius,C=B+E.radius;if(l>0&&l<C*C){var k=1/(l=x.sqrt(l));r*=k,A*=k,p*=k,a.addPoint(n.x+r*B,n.y+A*B,n.z+p*B,r,A,p,l-C,!1)}}}),Ts.prototype=Object.assign(Object.create(Q3.prototype),{constructor:Ts,detectCollision:function(s,t,a){var h,E=this.n,n=this.p,e=this.flip?t:s,r=this.flip?s:t,A=e.radius;E.sub(e.position,r.position),E.x*=r.normal.x,E.y*=r.normal.y,E.z*=r.normal.z,(h=E.lengthSq())>0&&h<A*A&&(h=x.sqrt(h),E.copy(r.normal).negate(),n.copy(e.position).addScaledVector(E,A),a.addPointVec(n,E,h-A,this.flip))}}),js.prototype=Object.assign(Object.create(Q3.prototype),{constructor:js,detectCollision:function(s,t,a){var h,E=this.n,n=this.p,e=this.cc,r=this.flip?t:s,A=this.flip?s:t,p=r.dimentions,l=r.halfWidth,B=r.halfHeight,C=r.halfDepth,k=0;this.dix.set(p[0],p[1],p[2]),this.diy.set(p[3],p[4],p[5]),this.diz.set(p[6],p[7],p[8]),E.sub(r.position,A.position),E.x*=A.normal.x,E.y*=A.normal.y,E.z*=A.normal.z,e.set(x.dotVectors(this.dix,E),x.dotVectors(this.diy,E),x.dotVectors(this.diz,E)),e.x>l?e.x=l:e.x<-l?e.x=-l:k=1,e.y>B?e.y=B:e.y<-B?e.y=-B:k|=2,e.z>C?e.z=C:e.z<-C?e.z=-C:k|=4,k===7&&(E.set(e.x<0?l+e.x:l-e.x,e.y<0?B+e.y:B-e.y,e.z<0?C+e.z:C-e.z),E.x<E.y?E.x<E.z?(h=E.x-l,e.x<0?(e.x=-l,E.copy(this.dix)):(e.x=l,E.subEqual(this.dix))):(h=E.z-C,e.z<0?(e.z=-C,E.copy(this.diz)):(e.z=C,E.subEqual(this.diz))):E.y<E.z?(h=E.y-B,e.y<0?(e.y=-B,E.copy(this.diy)):(e.y=B,E.subEqual(this.diy))):(h=E.z-C,e.z<0?(e.z=-C,E.copy(this.diz)):(e.z=C,E.subEqual(this.diz))),n.copy(A.position).addScaledVector(E,1),a.addPointVec(n,E,h,this.flip))}}),Object.assign(lt.prototype,{World:!0,play:function(){if(this.timer===null){var s=this;this.timer=setInterval(function(){s.step()},this.timerate)}},stop:function(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)},setGravity:function(s){this.gravity.fromArray(s)},getInfo:function(){return this.isStat?this.performance.show():""},clear:function(){for(this.stop(),this.preLoop=null,this.postLoop=null,this.randX=65535;this.joints!==null;)this.removeJoint(this.joints);for(;this.contacts!==null;)this.removeContact(this.contacts);for(;this.rigidBodies!==null;)this.removeRigidBody(this.rigidBodies)},addRigidBody:function(s){s.parent&&N3("World","It is not possible to be added to more than one world one of the rigid body"),s.setParent(this);for(var t=s.shapes;t!==null;t=t.next)this.addShape(t);this.rigidBodies!==null&&((this.rigidBodies.prev=s).next=this.rigidBodies),this.rigidBodies=s,this.numRigidBodies++},removeRigidBody:function(s){var t=s;if(t.parent===this){t.awake();for(var a=t.jointLink;a!=null;){var h=a.joint;a=a.next,this.removeJoint(h)}for(var E=s.shapes;E!==null;E=E.next)this.removeShape(E);var n=t.prev,e=t.next;n!==null&&(n.next=e),e!==null&&(e.prev=n),this.rigidBodies==t&&(this.rigidBodies=e),t.prev=null,t.next=null,t.parent=null,this.numRigidBodies--}},getByName:function(s){for(var t=this.rigidBodies;t!==null;){if(t.name===s)return t;t=t.next}for(var a=this.joints;a!==null;){if(a.name===s)return a;a=a.next}return null},addShape:function(s){s.parent&&s.parent.parent||N3("World","It is not possible to be added alone to shape world"),s.proxy=this.broadPhase.createProxy(s),s.updateProxy(),this.broadPhase.addProxy(s.proxy)},removeShape:function(s){this.broadPhase.removeProxy(s.proxy),s.proxy=null},addJoint:function(s){s.parent&&N3("World","It is not possible to be added to more than one world one of the joint"),this.joints!=null&&((this.joints.prev=s).next=this.joints),this.joints=s,s.setParent(this),this.numJoints++,s.awake(),s.attach()},removeJoint:function(s){var t=s,a=t.prev,h=t.next;a!==null&&(a.next=h),h!==null&&(h.prev=a),this.joints==t&&(this.joints=h),t.prev=null,t.next=null,this.numJoints--,t.awake(),t.detach(),t.parent=null},addContact:function(s,t){var a;this.unusedContacts!==null?(a=this.unusedContacts,this.unusedContacts=this.unusedContacts.next):a=new Et,a.attach(s,t),a.detector=this.detectors[s.type][t.type],this.contacts&&((this.contacts.prev=a).next=this.contacts),this.contacts=a,this.numContacts++},removeContact:function(s){var t=s.prev,a=s.next;a&&(a.prev=t),t&&(t.next=a),this.contacts==s&&(this.contacts=a),s.prev=null,s.next=null,s.detach(),s.next=this.unusedContacts,this.unusedContacts=s,this.numContacts--},getContact:function(s,t){var a,h;s=s.constructor===rs?s.name:s,t=t.constructor===rs?t.name:t;for(var E=this.contacts;E!==null;){if(a=E.body1.name,h=E.body2.name,a===s&&h===t||h===s&&a===t)return E.touching?E:null;E=E.next}return null},checkContact:function(s,t){for(var a,h,E=this.contacts;E!==null;){if(a=E.body1.name||" ",h=E.body2.name||" ",a==s&&h==t||h==s&&a==t)return!!E.touching;E=E.next}},callSleep:function(s){return!!s.allowSleep&&!(s.linearVelocity.lengthSq()>.04)&&!(s.angularVelocity.lengthSq()>.25)},step:function(){var s=this.isStat;s&&this.performance.setTime(0);for(var t=this.rigidBodies;t!==null;)t.addedToIsland=!1,t.sleeping&&t.testWakeUp(),t=t.next;s&&this.performance.setTime(1),this.broadPhase.detectPairs();for(var a=this.broadPhase.pairs,h=this.broadPhase.numPairs;h--;){var E,n,e,r=a[h];r.shape1.id<r.shape2.id?(E=r.shape1,n=r.shape2):(E=r.shape2,n=r.shape1),e=E.numContacts<n.numContacts?E.contactLink:n.contactLink;for(var A=!1;e;){if((M=e.contact).shape1==E&&M.shape2==n){M.persisting=!0,A=!0;break}e=e.next}A||this.addContact(E,n)}for(s&&this.performance.calcBroadPhase(),this.numContactPoints=0,M=this.contacts;M!==null;)if(M.persisting||!M.shape1.aabb.intersectTest(M.shape2.aabb)){var p=M.body1,l=M.body2;(p.isDynamic&&!p.sleeping||l.isDynamic&&!l.sleeping)&&M.updateManifold(),this.numContactPoints+=M.manifold.numPoints,M.persisting=!1,M.constraint.addedToIsland=!1,M=M.next}else{var B=M.next;this.removeContact(M),M=B}s&&this.performance.calcNarrowPhase();var C,k,o=1/this.timeStep;for(C=this.joints;C!==null;C=C.next)C.addedToIsland=!1;this.islandRigidBodies=[],this.islandConstraints=[],this.islandStack=[],s&&this.performance.setTime(1),this.numIslands=0;for(var c=this.rigidBodies;c!==null;c=c.next)if(!(c.addedToIsland||c.isStatic||c.sleeping))if(c.isLonely())c.isDynamic&&c.linearVelocity.addScaledVector(this.gravity,this.timeStep),this.callSleep(c)?(c.sleepTime+=this.timeStep,c.sleepTime>.5?c.sleep():c.updatePosition(this.timeStep)):(c.sleepTime=0,c.updatePosition(this.timeStep)),this.numIslands++;else{var f=0,S=0,d=1;this.islandStack[0]=c,c.addedToIsland=!0;do if(t=this.islandStack[--d],this.islandStack[d]=null,t.sleeping=!1,this.islandRigidBodies[f++]=t,!t.isStatic){for(var P=t.contactLink;P!==null;P=P.next){var M;!(k=(M=P.contact).constraint).addedToIsland&&M.touching&&(this.islandConstraints[S++]=k,k.addedToIsland=!0,(B=P.body).addedToIsland||(this.islandStack[d++]=B,B.addedToIsland=!0))}for(var O=t.jointLink;O!==null;O=O.next)(k=O.joint).addedToIsland||(this.islandConstraints[S++]=k,k.addedToIsland=!0,!(B=O.body).addedToIsland&&B.isDynamic&&(this.islandStack[d++]=B,B.addedToIsland=!0))}while(d!=0);for(var R=new y().addScaledVector(this.gravity,this.timeStep),I=f;I--;)(t=this.islandRigidBodies[I]).isDynamic&&t.linearVelocity.addEqual(R);if(this.enableRandomizer){for(I=S;I--;)if(I!==0){var $=(this.randX=this.randX*this.randA+this.randB&2147483647)/2147483648*I|0;k=this.islandConstraints[I],this.islandConstraints[I]=this.islandConstraints[$],this.islandConstraints[$]=k}}for(I=S;I--;)this.islandConstraints[I].preSolve(this.timeStep,o);for(var z=this.numIterations;z--;)for(I=S;I--;)this.islandConstraints[I].solve();for(I=S;I--;)this.islandConstraints[I].postSolve(),this.islandConstraints[I]=null;var L=10;for(I=f;I--;)t=this.islandRigidBodies[I],this.callSleep(t)?(t.sleepTime+=this.timeStep,t.sleepTime<L&&(L=t.sleepTime)):(t.sleepTime=0,L=0);if(L>.5)for(I=f;I--;)this.islandRigidBodies[I].sleep(),this.islandRigidBodies[I]=null;else for(I=f;I--;)this.islandRigidBodies[I].updatePosition(this.timeStep),this.islandRigidBodies[I]=null;this.numIslands++}s&&this.performance.calcEnd(),this.postLoop!==null&&this.postLoop()},remove:function(s){},add:function(s){var t=(s=s||{}).type||"box";return t.constructor===String&&(t=[t]),t[0].substring(0,5)==="joint"?this.initJoint(t[0],s):this.initBody(t,s)},initBody:function(s,t){var a=this.invScale,h=t.move||!1,E=t.kinematic||!1,n=t.pos||[0,0,0];n=n.map(function(c){return c*a});var e=t.posShape||[0,0,0];e=e.map(function(c){return c*a});var r=t.rot||[0,0,0];r=r.map(function(c){return c*x.degtorad});var A=t.rotShape;A=r.map(function(c){return c*x.degtorad});var p=t.size===void 0?[1,1,1]:t.size;p.length===1&&(p[1]=p[0]),p.length===2&&(p[2]=p[0]),p=p.map(function(c){return c*a});var l=new Z3;t.density!==void 0&&(l.density=t.density),t.friction!==void 0&&(l.friction=t.friction),t.restitution!==void 0&&(l.restitution=t.restitution),t.belongsTo!==void 0&&(l.belongsTo=t.belongsTo),t.collidesWith!==void 0&&(l.collidesWith=t.collidesWith),t.config!==void 0&&(t.config[0]!==void 0&&(l.density=t.config[0]),t.config[1]!==void 0&&(l.friction=t.config[1]),t.config[2]!==void 0&&(l.restitution=t.config[2]),t.config[3]!==void 0&&(l.belongsTo=t.config[3]),t.config[4]!==void 0&&(l.collidesWith=t.config[4]));for(var B,C,k=new rs(new y(n[0],n[1],n[2]),new a3().setFromEuler(r[0],r[1],r[2])),o=0;o<s.length;o++){switch(e[C=3*o]!==void 0&&l.relativePosition.set(e[C],e[C+1],e[C+2]),A[C]!==void 0&&l.relativeRotation.setQuat(new a3().setFromEuler(A[C],A[C+1],A[C+2])),s[o]){case"sphere":B=new Ii(l,p[C]);break;case"cylinder":B=new ps(l,p[C],p[C+1]);break;case"box":B=new is(l,p[C],p[C+1],p[C+2]);break;case"plane":B=new Vi(l)}k.addShape(B)}return t.neverSleep||E?k.allowSleep=!1:k.allowSleep=!0,k.isKinematic=E,h?t.massPos||t.massRot?k.setupMass(1,!1):k.setupMass(1,!0):k.setupMass(2),t.name!==void 0&&(k.name=t.name),this.addRigidBody(k),h&&(t.sleep?k.sleep():k.awake()),k},initJoint:function(s,t){var a,h,E=this.invScale,n=t.axe1||[1,0,0],e=t.axe2||[1,0,0],r=t.pos1||[0,0,0],A=t.pos2||[0,0,0];r=r.map(function(f){return f*E}),A=A.map(function(f){return f*E}),s==="jointDistance"?(a=t.min||0,h=t.max||10,a*=E,h*=E):(a=t.min||57.29578,h=t.max||0,a*=x.degtorad,h*=x.degtorad);var p=t.limit||null,l=t.spring||null,B=t.motor||null,C=new ht;C.scale=this.scale,C.invScale=this.invScale,C.allowCollision=t.collision||!1,C.localAxis1.set(n[0],n[1],n[2]),C.localAxis2.set(e[0],e[1],e[2]),C.localAnchorPoint1.set(r[0],r[1],r[2]),C.localAnchorPoint2.set(A[0],A[1],A[2]);var k,o=null,c=null;if(t.body1===void 0||t.body2===void 0)return N3("World","Can't add joint if attach rigidbodys not define !");if(t.body1.constructor===String?o=this.getByName(t.body1):t.body1.constructor===Number?o=this.getByName(t.body1):t.body1.constructor===rs&&(o=t.body1),t.body2.constructor===String?c=this.getByName(t.body2):t.body2.constructor===Number?c=this.getByName(t.body2):t.body2.constructor===rs&&(c=t.body2),o===null||c===null)return N3("World","Can't add joint attach rigidbodys not find !");switch(C.body1=o,C.body2=c,s){case"jointDistance":k=new fs(C,a,h),l!==null&&k.limitMotor.setSpring(l[0],l[1]),B!==null&&k.limitMotor.setMotor(B[0],B[1]);break;case"jointHinge":case"joint":k=new us(C,a,h),l!==null&&k.limitMotor.setSpring(l[0],l[1]),B!==null&&k.limitMotor.setMotor(B[0],B[1]);break;case"jointPrisme":k=new bs(C,a,h);break;case"jointSlide":k=new zs(C,a,h);break;case"jointBall":k=new xs(C);break;case"jointWheel":k=new ws(C),p!==null&&k.rotationalLimitMotor1.setLimit(p[0],p[1]),l!==null&&k.rotationalLimitMotor1.setSpring(l[0],l[1]),B!==null&&k.rotationalLimitMotor1.setMotor(B[0],B[1])}return k.name=t.name||"",this.addJoint(k),k}}),r2.Math=x,r2.Vec3=y,r2.Quat=a3,r2.Mat33=O2,r2.Shape=X3,r2.Box=is,r2.Sphere=Ii,r2.Cylinder=ps,r2.Plane=Vi,r2.Particle=ss,r2.ShapeConfig=Z3,r2.LimitMotor=R2,r2.HingeJoint=us,r2.BallAndSocketJoint=xs,r2.DistanceJoint=fs,r2.PrismaticJoint=bs,r2.SliderJoint=zs,r2.WheelJoint=ws,r2.JointConfig=ht,r2.RigidBody=rs,r2.World=lt,r2.REVISION=Li,r2.BR_NULL=Pi,r2.BR_BRUTE_FORCE=Qi,r2.BR_SWEEP_AND_PRUNE=Ni,r2.BR_BOUNDING_VOLUME_TREE=ns,r2.BODY_NULL=Fs,r2.BODY_DYNAMIC=1,r2.BODY_STATIC=2,r2.BODY_KINEMATIC=3,r2.BODY_GHOST=4,r2.SHAPE_NULL=es,r2.SHAPE_SPHERE=F3,r2.SHAPE_BOX=ki,r2.SHAPE_CYLINDER=oi,r2.SHAPE_PLANE=K3,r2.SHAPE_PARTICLE=w3,r2.SHAPE_TETRA=6,r2.JOINT_NULL=k3,r2.JOINT_DISTANCE=Mi,r2.JOINT_BALL_AND_SOCKET=ls,r2.JOINT_HINGE=Si,r2.JOINT_WHEEL=Zi,r2.JOINT_SLIDER=Ti,r2.JOINT_PRISMATIC=Gi,r2.AABB_PROX=.005,r2.printError=N3,r2.InfoDisplay=As,Object.defineProperty(r2,"__esModule",{value:!0})});const jt=hs("canvas",{id:"collisionBall",class:"stage"},null,-1),Ot=10,mt=20,Rt=ut({__name:"collisionBall",setup(r2){const{Engine:zi,Scene:Es,ArcRotateCamera:wi,Vector3:C3,Color3:Li,Color4:Pi,HemisphericLight:Qi,MeshBuilder:Ni,StandardMaterial:ns,Texture:Fs,OimoJSPlugin:es,PhysicsImpostor:F3}=gt,ki=xt(0),oi=async()=>{const K3=document.getElementById("collisionBall");K3.addEventListener("wheel",function(y){y.preventDefault()});const w3=new zi(K3,!0,{preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1}),k3=new Es(w3);k3.useRightHandedSystem=!0,k3.enablePhysics(new C3(0,-9.81,0),new es);const Mi=new wi("camera",-Math.PI/1.5,Math.PI/2.2,15,new C3(0,0,0),k3);Mi.upperBetaLimit=Math.PI/2.2,Mi.wheelPrecision=30,Mi.attachControl(K3,!0),Mi.setPosition(new C3(120,50,120));const ls=()=>new Qi("light",new C3(1,1,0),k3),Si=()=>{Ni.CreateLines("axisX",{colors:[new Pi(1,1,1,1),new Pi(1,0,0,1)],points:[new C3(0,0,0),new C3(200,0,0)]},k3),Ni.CreateLines("axisY",{colors:[new Pi(1,1,1,1),new Pi(0,1,0,1)],points:[new C3(0,0,0),new C3(0,200,0)]},k3),Ni.CreateLines("axisZ",{colors:[new Pi(1,1,1,1),new Pi(0,0,1,1)],points:[new C3(0,0,0),new C3(0,0,200)]},k3)},Zi=()=>{const y=new ns("ground",k3),a3=new Fs("/images/wood.jpg",k3);y.diffuseTexture=a3,y.specularColor=Li.Black();const O2=Ni.CreateBox("box",{size:200},k3);O2.position.y=0,O2.position.x=0,O2.scaling.y=.01,O2.material=y,O2.physicsImpostor=new F3(O2,F3.BoxImpostor,{mass:0,restitution:.7},k3)},Ti=(y,a3)=>Math.random()*(a3-y)+y,Gi=y=>new C3(Ti(-50,50),y,Ti(-50,50)),x=()=>{const y=[],a3=Ni.CreateSphere("s",{diameter:8},k3);a3.isVisible=!1;for(let O2=0;O2<Ot;O2++){const Ci=a3.clone(`index_${O2}`);Ci.isVisible=!0;const Ds=Math.random(),X3=Math.random()*10,is=mt+(Ds>.5?X3:X3*-1);Ci.position=Gi(is),Ci.physicsImpostor=new F3(Ci,F3.SphereImpostor,{mass:50,restitution:.9},k3),Ci.physicsImpostor.applyImpulse(new C3(0,-20,0),new C3(0,0,0));const Ii=new ns("mat",k3);Ii.diffuseColor=new Li(.4,.4,.4),Ii.specularColor=new Li(.4,.4,.4),Ii.emissiveColor=Li.Red(),Ci.material=Ii,y.push(Ci)}return y},N3=()=>{w3.runRenderLoop(function(){k3&&k3.activeCamera&&(k3.render(),ki.value=w3.getFps().toFixed(2))})};Zi();const As=x();Si(),ls(),N3(),k3.registerBeforeRender(function(){As.forEach(function(y){if(y.position.y<-10){const a3=Math.random(),O2=Math.random()*10,Ci=mt+(a3>.5?O2:O2*-1);y.position=Gi(Ci),y.physicsImpostor.setLinearVelocity(new C3(0,0,0))}})})};return ft(async()=>{await vt(),oi()}),(K3,w3)=>(it(),st("div",null,[hs("div",null,"fps: "+bt(ki.value),1),jt]))}}),_t=hs("h2",{id:"球碰撞地面反弹",tabindex:"-1"},[zt("球碰撞地面反弹 "),hs("a",{class:"header-anchor",href:"#球碰撞地面反弹","aria-label":'Permalink to "球碰撞地面反弹"'},"​")],-1),Ut=hs("h2",{id:"粒子的重力下降与球发生碰撞",tabindex:"-1"},[zt("粒子的重力下降与球发生碰撞 "),hs("a",{class:"header-anchor",href:"#粒子的重力下降与球发生碰撞","aria-label":'Permalink to "粒子的重力下降与球发生碰撞"'},"​")],-1),Yt=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"components/babylonCollision.md","filePath":"components/babylonCollision.md"}'),qt={name:"components/babylonCollision.md"},Zt=Object.assign(qt,{setup(r2){return(zi,Es)=>{const wi=It("demo-preview");return it(),st("div",null,[_t,Os(wi,{title:"",description:"",code:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%3E%0D%0A%20%20%20%20%3Cdiv%3Efps:%20%7B%7B%20fps%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%3Ccanvas%20id=%22collisionBall%22%20class=%22stage%22%3E%3C/canvas%3E%0D%0A%20%20%3C/div%3E%0D%0A%3C/template%3E%0D%0A%0D%0A%3Cscript%20lang=%22ts%22%20setup%3E%0D%0Aimport%20%7B%20onMounted,%20ref,%20nextTick%20%7D%20from%20'vue'%0D%0A%0D%0Aimport%20'./index_oimo.js'%0D%0A%0D%0Aimport%20%7B%20pkg%20%7D%20from%20'./index.js'%0D%0Aconst%20%7B%0D%0A%20%20Engine,%0D%0A%20%20Scene,%0D%0A%20%20ArcRotateCamera,%0D%0A%20%20Vector3,%0D%0A%20%20Color3,%0D%0A%20%20Color4,%0D%0A%20%20HemisphericLight,%0D%0A%20%20MeshBuilder,%0D%0A%20%20StandardMaterial,%0D%0A%20%20Texture,%0D%0A%20%20OimoJSPlugin,%0D%0A%20%20PhysicsImpostor%0D%0A%7D%20=%20pkg%0D%0A%0D%0A%0D%0Aconst%20fps%20=%20ref(0)%0D%0Aconst%20max%20=%2010%0D%0Aconst%20y%20=%2020%0D%0A%0D%0Aconst%20initScene%20=%20async()%20=%3E%20%7B%0D%0A%20%20const%20ele%20=%20document.getElementById(%22collisionBall%22)%20as%20HTMLCanvasElement%0D%0A%0D%0A%20%20ele.addEventListener('wheel',%20function(event)%20%7B%0D%0A%20%20%20%20//%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%0D%0A%20%20%20%20//%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%0D%0A%20%20%20%20event.preventDefault();%20//%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%0D%0A%20%20%7D);%0D%0A%0D%0A%20%20const%20engine:%20any%20=%20new%20Engine(ele,%20true,%20%7B%0D%0A%20%20%20%20preserveDrawingBuffer:%20true,%0D%0A%20%20%20%20stencil:%20true,%0D%0A%20%20%20%20disableWebGL2Support:%20false%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20scene%20=%20new%20Scene(engine)%0D%0A%20%20scene.useRightHandedSystem%20=%20true%0D%0A%20%20scene.enablePhysics(%0D%0A%20%20%20%20new%20Vector3(0,%20-9.81,%200),%0D%0A%20%20%20%20new%20OimoJSPlugin()%0D%0A%20%20)%0D%0A%0D%0A%20%20const%20camera%20=%20new%20ArcRotateCamera('camera',%20-Math.PI%20/%201.5,%20Math.PI%20/%202.2,%2015,%20new%20Vector3(0,%200,%200),%20scene)%0D%0A%20%20camera.upperBetaLimit%20=%20Math.PI%20/%202.2%0D%0A%20%20camera.wheelPrecision%20=%2030%0D%0A%20%20camera.attachControl(ele,%20true)%0D%0A%20%20camera.setPosition(new%20Vector3(120,%2050,%20120))%0D%0A%0D%0A%20%20const%20createLight%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20light%20=%20new%20HemisphericLight('light',new%20Vector3(1,%201,%200),%20scene)%0D%0A%20%20%20%20return%20light%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createAxis%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20axisX%20=%20MeshBuilder.CreateLines(%0D%0A%20%20%20%20%20%20'axisX',%20%7B%0D%0A%20%20%20%20%20%20%20%20colors:%20%5B%20new%20Color4(1,%201,%201,%201),%20new%20Color4(1,%200,%200,%201)%20%5D,%0D%0A%20%20%20%20%20%20%20%20points:%20%5B%20new%20Vector3(0,%200,%200),%20new%20Vector3(200,%200,%200)%20%5D%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%0D%0A%20%20%20%20const%20axisY%20=%20MeshBuilder.CreateLines(%0D%0A%20%20%20%20%20%20'axisY',%20%7B%0D%0A%20%20%20%20%20%20%20%20colors:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(1,%201,%201,%201),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(0,%201,%200,%201)%0D%0A%20%20%20%20%20%20%20%20%5D,%0D%0A%20%20%20%20%20%20%20%20points:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%200),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%20200,%200)%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%0D%0A%20%20%20%20const%20axisZ%20=%20MeshBuilder.CreateLines(%0D%0A%20%20%20%20%20%20'axisZ',%20%7B%0D%0A%20%20%20%20%20%20%20%20colors:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(1,%201,%201,%201),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Color4(0,%200,%201,%201)%0D%0A%20%20%20%20%20%20%20%20%5D,%0D%0A%20%20%20%20%20%20%20%20points:%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%200),%0D%0A%20%20%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%20200)%0D%0A%20%20%20%20%20%20%20%20%5D%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createGround%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20mat%20=%20new%20StandardMaterial('ground',%20scene)%0D%0A%20%20%20%20const%20wood%20=%20new%20Texture('/images/wood.jpg',%20scene)%0D%0A%20%20%20%20mat.diffuseTexture%20=%20wood%0D%0A%20%20%20%20mat.specularColor%20=%20Color3.Black()%0D%0A%0D%0A%20%20%20%20const%20ground%20=%20MeshBuilder.CreateBox('box',%20%7B%20size:%20200%20%7D,%20scene)%0D%0A%20%20%20%20ground.position.y%20=%200%0D%0A%20%20%20%20ground.position.x%20=%200%0D%0A%20%20%20%20ground.scaling.y%20=%200.01%0D%0A%20%20%20%20ground.material%20=%20mat%0D%0A%20%20%20%20ground.physicsImpostor%20=%20new%20PhysicsImpostor(%0D%0A%20%20%20%20%20%20ground,%0D%0A%20%20%20%20%20%20PhysicsImpostor.BoxImpostor,%20//%20%E4%BD%BF%E7%94%A8%E7%9B%92%E5%AD%90%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%0D%0A%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20mass:%200,%20//%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%200%0D%0A%20%20%20%20%20%20%20%20restitution:%200.7%20//%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20randomNumber%20=%20(min,%20max)%20=%3E%20%7B%0D%0A%20%20%20%20if%20(min%20===%20max)%20%7B%0D%0A%20%20%20%20%20%20return%20min%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20const%20random%20=%20Math.random()%0D%0A%20%20%20%20return%20random%20*%20(max%20-%20min)%20+%20min%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20getPosition%20=%20(y)%20=%3E%20%7B%0D%0A%20%20%20%20return%20new%20Vector3(randomNumber(-50,%2050),%20y,%20randomNumber(-50,%2050))%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createSpheres%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20allSphere:%20any%20=%20%5B%5D%0D%0A%20%20%20%20const%20sphere%20=%20MeshBuilder.CreateSphere('s',%20%7B%20diameter:%208%20%7D,%20scene)%0D%0A%20%20%20%20sphere.isVisible%20=%20false%0D%0A%20%20%20%20for(let%20index%20=%200;%20index%20%3C%20max;%20index%20++)%20%7B%0D%0A%20%20%20%20%20%20const%20clone%20=%20sphere.clone(%60index_$%7Bindex%7D%60)%0D%0A%20%20%20%20%20%20clone.isVisible%20=%20true%0D%0A%20%20%20%20%20%20const%20ran%20=%20Math.random()%0D%0A%20%20%20%20%20%20const%20startY%20=%20Math.random()%20*%2010%0D%0A%20%20%20%20%20%20const%20dis%20=%20y%20+%20(ran%20%3E%200.5%20?%20startY%20:%20startY%20*%20-1)%0D%0A%20%20%20%20%20%20clone.position%20=%20getPosition(dis)%0D%0A%0D%0A%20%20%20%20%20%20clone.physicsImpostor%20=%20new%20PhysicsImpostor(%0D%0A%20%20%20%20%20%20%20%20clone,%0D%0A%20%20%20%20%20%20%20%20PhysicsImpostor.SphereImpostor,%20//%20%E4%BD%BF%E7%94%A8%E7%90%83%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20mass:%2050,%20//%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%201%0D%0A%20%20%20%20%20%20%20%20%20%20restitution:%200.9%20//%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%0D%0A%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20scene%0D%0A%20%20%20%20%20%20)%0D%0A%0D%0A%20%20%20%20%20%20//%20applyImpulse%20%E6%96%B9%E6%B3%95%E5%AF%B9%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E6%96%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%86%B2%E9%87%8F%0D%0A%20%20%20%20%20%20//%20%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%97%E4%B8%A4%E4%B8%AA%20Vector3%20%E5%8F%82%E6%95%B0%EF%BC%9A%0D%0A%20%20%20%20%20%20//%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%98%AF%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%0D%0A%20%20%20%20%20%20//%20%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%98%AF%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E7%82%B9%0D%0A%0D%0A%20%20%20%20%20%20//%20%E5%81%87%E8%AE%BEforceVector%E6%98%AF%20(1,%202,%20-1)%0D%0A%20%20%20%20%20%20//%20contactPoint%E6%98%AF%20(1,%202,%200)%EF%BC%8C%E8%BF%99%E6%8C%87%E5%AE%9A%E4%BA%86%E5%9C%A8%20clone%20%E7%BD%91%E6%A0%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%80%E9%83%A8%E7%A9%BA%E9%97%B4%E4%B8%AD%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%8D%E7%BD%AE%0D%0A%20%20%20%20%20%20//%20%E5%86%B2%E9%87%8F%E5%A4%A7%E5%B0%8F%E6%98%AF%E6%A0%B9%E5%8F%B76%20---%3E%201%5E2+2%5E2+(-1)%5E2%20%E5%86%8D%E5%BC%80%E6%A0%B9%E5%8F%B7%0D%0A%20%20%20%20%20%20//%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E6%98%AF%E9%80%9A%E8%BF%87%E5%8F%8D%E4%BD%99%E5%BC%A6%E5%85%AC%E5%BC%8F%E5%BE%97%E5%87%BA(arccos(1%20/%20%E6%A0%B9%E5%8F%B76),%20arccos(2%20/%20%E6%A0%B9%E5%8F%B76),%20arccos(-1%20/%20%E6%A0%B9%E5%8F%B76))%0D%0A%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20clone.physicsImpostor.applyImpulse(%0D%0A%20%20%20%20%20%20%20%20new%20Vector3(0,%20-20,%200),%20//%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%0D%0A%20%20%20%20%20%20%20%20new%20Vector3(0,%200,%200)%20//%20%E5%9C%A8%E7%89%A9%E4%BD%93%E4%B8%8A%E7%9A%84%E5%8F%97%E5%8A%9B%E7%82%B9%E4%BD%8D%E7%BD%AE%0D%0A%20%20%20%20%20%20)%0D%0A%0D%0A%20%20%20%20%20%20const%20mat%20=%20new%20StandardMaterial('mat',%20scene)%0D%0A%20%20%20%20%20%20mat.diffuseColor%20=%20new%20Color3(0.4,%200.4,%200.4)%0D%0A%20%20%20%20%20%20mat.specularColor%20=%20new%20Color3(0.4,%200.4,%200.4)%0D%0A%20%20%20%20%20%20mat.emissiveColor%20=%20Color3.Red()%0D%0A%20%20%20%20%20%20clone.material%20=%20mat%20%0D%0A%0D%0A%20%20%20%20%20%20allSphere.push(clone)%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20return%20allSphere%0D%0A%20%20%7D%0D%0A%0D%0A%0D%0A%20%20const%20runAnimate%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20engine.runRenderLoop(function()%20%7B%0D%0A%20%20%20%20%20%20if%20(scene%20&&%20scene.activeCamera)%20%7B%0D%0A%20%20%20%20%20%20%20%20scene.render()%0D%0A%0D%0A%20%20%20%20%20%20%20%20fps.value%20=%20engine.getFps().toFixed(2)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20createGround()%0D%0A%20%20const%20allSphere%20=%20createSpheres()%0D%0A%20%20createAxis()%0D%0A%20%20createLight()%0D%0A%20%20runAnimate()%0D%0A%0D%0A%20%20scene.registerBeforeRender(function()%20%7B%0D%0A%20%20%20%20allSphere.forEach(function(obj)%20%7B%0D%0A%20%20%20%20%20%20if%20(obj.position.y%20%3C%20-10)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20ran%20=%20Math.random()%0D%0A%20%20%20%20%20%20%20%20const%20startY%20=%20Math.random()%20*%2010%0D%0A%20%20%20%20%20%20%20%20const%20dis%20=%20y%20+%20(ran%20%3E%200.5%20?%20startY%20:%20startY%20*%20-1)%0D%0A%20%20%20%20%20%20%20%20obj.position%20=%20getPosition(dis)%0D%0A%20%20%20%20%20%20%20%20//%20%E9%87%8D%E7%BD%AE%E7%90%83%E4%BD%93%E7%9A%84%E9%80%9F%E5%BA%A6%0D%0A%20%20%20%20%20%20%20%20obj.physicsImpostor.setLinearVelocity(new%20Vector3(0,%200,%200))%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D)%0D%0A%7D%0D%0A%0D%0AonMounted(async()%20=%3E%20%7B%0D%0A%20%20await%20nextTick()%0D%0A%20%20initScene()%0D%0A%7D)%0D%0A%3C/script%3E%0D%0A",showCode:"%3Cpre%20class%3D%22shiki%20shiki-themes%20github-light%20github-dark%20vp-code%22%20tabindex%3D%220%22%20v-pre%3D%22%22%3E%3Ccode%3E%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3Efps%3A%20%7B%7B%20fps%20%7D%7D%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20id%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionBall%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22stage%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20lang%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22ts%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20setup%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20onMounted%2C%20ref%2C%20nextTick%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'vue'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'.%2Findex_oimo.js'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20pkg%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'.%2Findex.js'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20MeshBuilder%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20OimoJSPlugin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20PhysicsImpostor%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20pkg%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20fps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ref%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20max%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20y%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2020%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ele%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20document.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetElementById%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionBall%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HTMLCanvasElement%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20ele.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddEventListener%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'wheel'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eevent%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20event.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EpreventDefault%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20preserveDrawingBuffer%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20stencil%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20disableWebGL2Support%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Efalse%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(engine)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.useRightHandedSystem%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EenablePhysics%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E9.81%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20OimoJSPlugin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20camera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'camera'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3EMath.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E15%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.upperBetaLimit%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.wheelPrecision%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2030%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EattachControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E120%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E120%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'light'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20light%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createAxis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20axisX%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateLines%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'axisX'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20colors%3A%20%5B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%5D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20points%3A%20%5B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20axisY%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateLines%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'axisY'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20colors%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20points%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20axisZ%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateLines%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'axisZ'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20colors%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20points%3A%20%5B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20mat%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'ground'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20wood%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'%2Fimages%2Fwood.jpg'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20mat.diffuseTexture%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20wood%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20mat.specularColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EBlack%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ground%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'box'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%20size%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.scaling.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.01%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20mat%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.physicsImpostor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20PhysicsImpostor%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20ground%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20PhysicsImpostor.BoxImpostor%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E4%BD%BF%E7%94%A8%E7%9B%92%E5%AD%90%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20mass%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20restitution%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.7%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%2F%2F%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20randomNumber%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Emin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Emax%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(min%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3D%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20max)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20min%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20random%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20random%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(max%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20min)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20min%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20getPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Ey%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErandomNumber%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20y%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErandomNumber%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSpheres%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20allSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%5B%5D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20sphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E's'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%20diameter%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E8%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.isVisible%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20false%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20for%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Elet%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20index%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3B%20index%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20max%3B%20index%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20clone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Eclone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%60index_%24%7B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3Eindex%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%7D%60%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.isVisible%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ran%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20startY%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20dis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(ran%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.position%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20getPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(dis)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.physicsImpostor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20PhysicsImpostor%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20clone%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20PhysicsImpostor.SphereImpostor%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E4%BD%BF%E7%94%A8%E7%90%83%E5%BD%A2%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%20%20mass%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E7%89%A9%E4%BD%93%E7%9A%84%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE%E4%B8%BA%201%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%20%20restitution%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.9%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%2F%2F%20%E5%BC%B9%E6%80%A7%EF%BC%88%E6%88%96%E7%A7%B0%E4%B8%BA%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%89%EF%BC%8C%E8%8C%83%E5%9B%B4%E4%BB%8E%200%EF%BC%88%E6%97%A0%E5%BC%B9%E6%80%A7%EF%BC%8C%E5%8D%B3%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%E5%88%B0%201%EF%BC%88%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%89%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20applyImpulse%20%E6%96%B9%E6%B3%95%E5%AF%B9%E7%89%A9%E7%90%86%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1%E6%96%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%86%B2%E9%87%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%97%E4%B8%A4%E4%B8%AA%20Vector3%20%E5%8F%82%E6%95%B0%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%98%AF%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%98%AF%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E7%82%B9%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%81%87%E8%AE%BEforceVector%E6%98%AF%20(1%2C%202%2C%20-1)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20contactPoint%E6%98%AF%20(1%2C%202%2C%200)%EF%BC%8C%E8%BF%99%E6%8C%87%E5%AE%9A%E4%BA%86%E5%9C%A8%20clone%20%E7%BD%91%E6%A0%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%80%E9%83%A8%E7%A9%BA%E9%97%B4%E4%B8%AD%E6%96%BD%E5%8A%A0%E5%86%B2%E9%87%8F%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%8D%E7%BD%AE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%86%B2%E9%87%8F%E5%A4%A7%E5%B0%8F%E6%98%AF%E6%A0%B9%E5%8F%B76%20---%3E%201%5E2%2B2%5E2%2B(-1)%5E2%20%E5%86%8D%E5%BC%80%E6%A0%B9%E5%8F%B7%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E6%98%AF%E9%80%9A%E8%BF%87%E5%8F%8D%E4%BD%99%E5%BC%A6%E5%85%AC%E5%BC%8F%E5%BE%97%E5%87%BA(arccos(1%20%2F%20%E6%A0%B9%E5%8F%B76)%2C%20arccos(2%20%2F%20%E6%A0%B9%E5%8F%B76)%2C%20arccos(-1%20%2F%20%E6%A0%B9%E5%8F%B76))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.physicsImpostor.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EapplyImpulse%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E5%86%B2%E9%87%8F%E7%9A%84%E6%96%B9%E5%90%91%E5%92%8C%E5%A4%A7%E5%B0%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E5%9C%A8%E7%89%A9%E4%BD%93%E4%B8%8A%E7%9A%84%E5%8F%97%E5%8A%9B%E7%82%B9%E4%BD%8D%E7%BD%AE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20mat%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'mat'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20mat.diffuseColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20mat.specularColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0.4%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20mat.emissiveColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ERed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20clone.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20mat%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20allSphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Epush%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(clone)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20allSphere%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErunRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(scene%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x26%3B%26%23x26%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20scene.activeCamera)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20fps.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetFps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E().%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EtoFixed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20allSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSpheres%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createAxis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EregisterBeforeRender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20allSphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EforEach%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eobj%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(obj.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E10%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ran%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20startY%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20dis%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(ran%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20startY%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20obj.position%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20getPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(dis)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E9%87%8D%E7%BD%AE%E7%90%83%E4%BD%93%E7%9A%84%E9%80%9F%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20obj.physicsImpostor.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetLinearVelocity%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonMounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Easync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20nextTick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E",suffixName:"vue",absolutePath:"D:\\test\\docs\\demo\\babylon\\collisionBall.vue",relativePath:"../demo/babylon/collisionBall.vue"},{default:yt(()=>[Os(Rt)]),_:1}),Ut,Os(wi,{title:"",description:"",code:"%3Ctemplate%3E%0D%0A%20%20%3Cdiv%3E%0D%0A%20%20%20%20%3Cdiv%3Efps:%20%7B%7B%20fps%20%7D%7D%3C/div%3E%0D%0A%20%20%20%20%3Ccanvas%20id=%22collisionParticle%22%20class=%22stage%22%3E%3C/canvas%3E%0D%0A%20%20%3C/div%3E%0D%0A%3C/template%3E%0D%0A%0D%0A%3Cscript%20lang=%22ts%22%20setup%3E%0D%0Aimport%20%7B%20onMounted,%20ref,%20nextTick,%20onUnmounted%20%7D%20from%20'vue'%0D%0Aimport%20'babylonjs-loaders'%0D%0A%0D%0Aimport%20%7B%20pkg%20%7D%20from%20'./index.js'%0D%0Aconst%20%7B%0D%0A%20%20Engine,%0D%0A%20%20Scene,%0D%0A%20%20ArcRotateCamera,%0D%0A%20%20Vector3,%0D%0A%20%20Color3,%0D%0A%20%20HemisphericLight,%0D%0A%20%20MeshBuilder,%0D%0A%20%20StandardMaterial,%0D%0A%20%20Texture,%0D%0A%20%20SolidParticleSystem%0D%0A%7D%20=%20pkg%0D%0A%0D%0Aconst%20fps%20=%20ref(0)%0D%0A%0D%0Alet%20sceneResources%0D%0A%0D%0A%0D%0Aconst%20initScene%20=%20async()%20=%3E%20%7B%0D%0A%20%20const%20ele%20=%20document.getElementById(%22collisionParticle%22)%20as%20HTMLCanvasElement%0D%0A%0D%0A%20%20ele.addEventListener('wheel',%20function(event)%20%7B%0D%0A%20%20%20%20//%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%0D%0A%20%20%20%20//%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%0D%0A%20%20%20%20event.preventDefault();%20//%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%0D%0A%20%20%7D);%0D%0A%0D%0A%20%20const%20engine:%20any%20=%20new%20Engine(ele,%20true,%20%7B%0D%0A%20%20%20%20preserveDrawingBuffer:%20true,%0D%0A%20%20%20%20stencil:%20true,%0D%0A%20%20%20%20disableWebGL2Support:%20false%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20const%20scene%20=%20new%20Scene(engine)%0D%0A%20%20scene.useRightHandedSystem%20=%20true%0D%0A%0D%0A%20%20const%20camera%20=%20new%20ArcRotateCamera('camera',%20Math.PI%20/%204,%200,%20150,%20new%20Vector3(0,%200,%200),%20scene)%0D%0A%20%20camera.upperBetaLimit%20=%20Math.PI%20/%202.2%0D%0A%20%20camera.wheelPrecision%20=%2030%0D%0A%20%20camera.attachControl(ele,%20true)%0D%0A%20%20camera.setPosition(new%20Vector3(50,%20300,%2020))%0D%0A%0D%0A%20%20let%20k%20=%200.0%0D%0A%20%20let%20tempPos%20=%20Vector3.Zero()%0D%0A%20%20let%20tempNormal%20=%20Vector3.Zero()%0D%0A%20%20let%20tempDot%20=%200.0%0D%0A%20%20let%20sign%20=%200%0D%0A%20%20let%20sphereAltitude%20=%2040.0%0D%0A%0D%0A%20%20const%20speed%20=%201.9%0D%0A%20%20const%20cone%20=%200.3%0D%0A%20%20const%20gravity%20=%20-speed%20/%20100%0D%0A%20%20const%20restitution%20=%200.88%0D%0A%20%0D%0A%0D%0A%20%20const%20createLight%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20light%20=%20new%20HemisphericLight('light',new%20Vector3(1,%201,%200),%20scene)%0D%0A%20%20%20%20return%20light%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createGround%20=%20()%20=%3E%7B%0D%0A%20%20%20%20const%20groundMaterial%20=%20new%20StandardMaterial(%22groundMaterial%22,%20scene);%0D%0A%20%20%20%20groundMaterial.diffuseTexture%20=%20new%20Texture('/images/wood.jpg')%0D%0A%20%20%20%20const%20ground%20=%20MeshBuilder.CreateGround(%0D%0A%20%20%20%20%20%20'gd',%20%7B%0D%0A%20%20%20%20%20%20%20%20width:%201000.0,%0D%0A%20%20%20%20%20%20%20%20height:%201000.0%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20ground.material%20=%20groundMaterial%0D%0A%20%20%20%20return%20ground%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createSphere%20=%20()=%3E%7B%0D%0A%20%20%20%20const%20matSphere%20=%20new%20StandardMaterial('ms',%20scene)%0D%0A%20%20%20%20matSphere.diffuseColor%20=%20Color3.Blue()%0D%0A%20%20%20%20const%20sphere%20=%20MeshBuilder.CreateSphere(%0D%0A%20%20%20%20%20's',%20%7B%20diameter:%208%20%7D,%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20sphere.material%20=%20matSphere%0D%0A%20%20%20%20sphere.position.y%20=%2035%0D%0A%20%20%20%20return%20sphere%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createBox%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20const%20matBox%20=%20new%20StandardMaterial('ms',%20scene)%0D%0A%20%20%20%20matBox.diffuseColor%20=%20Color3.Red()%0D%0A%20%20%20%20const%20box%20=%20MeshBuilder.CreateBox(%0D%0A%20%20%20%20%20%20'b',%20%7B%0D%0A%20%20%20%20%20%20%20%20size:%202%0D%0A%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20scene%0D%0A%20%20%20%20)%0D%0A%20%20%20%20box.material%20=%20matBox%0D%0A%20%20%20%20return%20box%0D%0A%20%20%7D%0D%0A%0D%0A%20%20const%20createSps%20=%20(ground,%20sphere)%20=%3E%20%7B%0D%0A%20%20%20%20/**%20SolidParticleSystem%E5%85%81%E8%AE%B8%E5%88%9B%E5%BB%BA%E7%94%B1%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%9F%BA%E7%A1%80%E7%BD%91%E6%A0%BC%E6%A8%A1%E5%9E%8B%E7%BB%84%E6%88%90%E7%9A%84%E7%B2%92%E5%AD%90%E4%BA%91%20*/%0D%0A%20%20%20%20const%20sps:%20any%20=%20new%20SolidParticleSystem('sps',%20scene,%20%7B%0D%0A%20%20%20%20%20%20/**%20%E5%90%AF%E7%94%A8%E4%BA%86%20particleIntersection%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E4%BB%BB%E4%BD%95%E5%9B%BA%E4%BD%93%E7%B2%92%E5%AD%90%E7%9A%84%20intersectsMesh()%20%E6%96%B9%E6%B3%95%E6%9D%A5%E6%A3%80%E6%9F%A5%E8%AF%A5%E7%B2%92%E5%AD%90%E6%98%AF%E5%90%A6%E4%B8%8E%E7%9B%AE%E6%A0%87%E7%BD%91%E6%A0%BC%E7%9B%B8%E4%BA%A4%20*/%0D%0A%20%20%20%20%20%20particleIntersection:%20true%0D%0A%20%20%20%20%7D)%0D%0A%0D%0A%20%20%20%20const%20box%20=%20createBox()%0D%0A%20%20%20%20sps.addShape(box,%20200)%20//%20%E6%B7%BB%E5%8A%A0200%E4%B8%AAbox%E4%BD%9C%E4%B8%BA%E7%B2%92%E5%AD%90%0D%0A%20%20%20%20box.dispose()%0D%0A%20%20%0D%0A%20%20%20%20const%20mesh%20=%20sps.buildMesh()%20//%20%E8%B0%83%E7%94%A8%20buildMesh()%20%E6%96%B9%E6%B3%95%E6%9D%A5%E6%9E%84%E5%BB%BA%20SPS%20%E7%BD%91%E6%A0%BC%0D%0A%20%20%20%20mesh.position.y%20=%2080.0%0D%0A%20%20%20%20mesh.position.x%20=%20-70.0%0D%0A%20%20%20%20sphereAltitude%20=%20mesh.position.y%20/%202.0%0D%0A%20%20%20%20sphere.position.y%20=%20sphereAltitude%0D%0A%0D%0A%20%20%20%20sps.isAlwaysVisible%20=%20true%0D%0A%0D%0A%20%20%20%20sps.initParticles%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20%20%20for(let%20p%20=%200;%20p%20%3C%20sps.nbParticles;%20p++)%20%7B%0D%0A%20%20%20%20%20%20%20%20sps.recycleParticle(sps.particles%5Bp%5D)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20//%20recycleParticle%E6%96%B9%E6%B3%95%E5%85%81%E8%AE%B8%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%E7%B2%92%E5%AD%90%E4%BB%A5%E4%BE%BF%E4%BA%8E%E5%9B%9E%E6%94%B6%E5%88%A9%E7%94%A8%0D%0A%20%20%20%20//%20%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%EF%BC%8C%E5%B0%A4%E5%85%B6%E6%98%AF%E5%9C%A8%E5%A4%84%E7%90%86%E5%A4%A7%E9%87%8F%E7%B2%92%E5%AD%90%E6%97%B6%0D%0A%20%20%20%20//%20%E5%9C%A8updateParticle%E6%96%B9%E6%B3%95%E4%B8%AD%E5%AE%9A%E4%B9%89%E7%B2%92%E5%AD%90%E7%9A%84%E8%A1%8C%E4%B8%BA%EF%BC%8C%E5%B9%B6%E5%9C%A8%E9%80%82%E5%BD%93%E7%9A%84%E6%97%B6%E5%80%99%E8%B0%83%E7%94%A8recycleParticle%E6%9D%A5%E5%9B%9E%E6%94%B6%E7%B2%92%E5%AD%90%0D%0A%20%20%20%20sps.recycleParticle%20=%20(particle:%20any)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20particle.position.x%20=%200%0D%0A%20%20%20%20%20%20particle.position.y%20=%200%0D%0A%20%20%20%20%20%20particle.position.z%20=%200%0D%0A%20%20%20%20%20%20particle.velocity.x%20=%20Math.random()%20*%20speed%0D%0A%20%20%20%20%20%20particle.velocity.y%20=%20(Math.random()%20-%200.3)%20*%20cone%20*%20speed%0D%0A%20%20%20%20%20%20particle.velocity.z%20=%20(Math.random()%20-%200.5)%20*%20cone%20*%20speed%0D%0A%0D%0A%20%20%20%20%20%20particle.rotation.x%20=%20Math.random()%20*%20Math.PI%0D%0A%20%20%20%20%20%20particle.rotation.y%20=%20Math.random()%20*%20Math.PI%0D%0A%20%20%20%20%20%20particle.rotation.z%20=%20Math.random()%20*%20Math.PI%0D%0A%0D%0A%20%20%20%20%20%20particle.color.r%20=%200.0%0D%0A%20%20%20%20%20%20particle.color.g%20=%201.0%0D%0A%20%20%20%20%20%20particle.color.b%20=%200.0%0D%0A%20%20%20%20%20%20particle.color.a%20=%201.0%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20sps.updateParticle%20=%20(particle:%20any)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20if(particle.position.y%20+%20mesh.position.y%20%3C%20ground.position.y)%20%7B%0D%0A%20%20%20%20%20%20%20%20particle.color.r%20=%200.0%0D%0A%20%20%20%20%20%20%20%20particle.color.g%20=%201.0%0D%0A%20%20%20%20%20%20%20%20particle.color.b%20=%200.0%0D%0A%20%20%20%20%20%20%20%20sps.recycleParticle(particle)%0D%0A%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20particle.velocity.y%20+=%20gravity%0D%0A%20%20%20%20%20%20particle.position.addInPlace(particle.velocity)%20//%20%E6%9B%B4%E6%96%B0%E7%B2%92%E5%AD%90%E6%96%B0%E4%BD%8D%E7%BD%AE%0D%0A%0D%0A%20%20%20%20%20%20//%20%E4%BD%BF%E5%BE%97%E6%AF%8F%E4%B8%AA%E7%B2%92%E5%AD%90%E5%9C%A8%E4%B8%89%E4%B8%AA%E8%BD%B4%EF%BC%88x%E3%80%81y%E3%80%81z%EF%BC%89%E4%B8%8A%E4%BB%A5%E4%B8%8D%E5%90%8C%E7%9A%84%E9%80%9F%E5%BA%A6%E5%92%8C%E6%96%B9%E5%90%91%E6%97%8B%E8%BD%AC%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%88%9B%E9%80%A0%E5%87%BA%E6%9B%B4%E5%8A%A0%E5%A4%8D%E6%9D%82%E5%92%8C%E5%8A%A8%E6%80%81%E7%9A%84%E8%A7%86%E8%A7%89%E6%95%88%E6%9E%9C%E3%80%82%0D%0A%20%20%20%20%20%20//%20%E9%80%9A%E8%BF%87%E4%BA%A4%E6%9B%BF%E6%94%B9%E5%8F%98%E6%97%8B%E8%BD%AC%E6%96%B9%E5%90%91%EF%BC%8C%E7%B2%92%E5%AD%90%E7%9A%84%E6%97%8B%E8%BD%AC%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%9B%B4%E5%8A%A0%E8%87%AA%E7%84%B6%E5%92%8C%E9%9A%8F%E6%9C%BA%E3%80%82%0D%0A%20%20%20%20%20%20sign%20=%20particle.idx%20%25%202%20===%200%20?%201%20:%20-1%0D%0A%20%20%20%20%20%20particle.rotation.z%20+=%200.1%20*%20sign%0D%0A%20%20%20%20%20%20particle.rotation.x%20+=%200.05%20*%20sign%0D%0A%20%20%20%20%20%20particle.rotation.y%20+=%200.008%20*%20sign%0D%0A%0D%0A%20%20%20%20%20%20//%20%E5%88%A4%E6%96%AD%E5%8F%91%E7%94%9F%E7%A2%B0%E6%92%9E%0D%0A%20%20%20%20%20%20if(particle.intersectsMesh(sphere))%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%E5%B0%86%E7%B2%92%E5%AD%90%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%90%91%E9%87%8F%E4%B8%8E%E7%BD%91%E6%A0%BC%EF%BC%88mesh%EF%BC%89%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%90%91%E9%87%8F%E7%9B%B8%E5%8A%A0%EF%BC%8C%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E5%9C%A8%20tempPos%20%E5%8F%98%E9%87%8F%E4%B8%AD%EF%BC%8C%E8%BF%99%E6%A0%B7%20tempPos%20%E5%B0%B1%E5%8C%85%E5%90%AB%E4%BA%86%E7%B2%92%E5%AD%90%E7%9A%84%E4%B8%96%E7%95%8C%E4%BD%8D%E7%BD%AE%0D%0A%20%20%20%20%20%20%20%20particle.position.addToRef(mesh.position,%20tempPos)%0D%0A%20%20%20%20%20%20%20%20//%20%E4%BB%8E%20tempPos%20%E4%B8%AD%E5%87%8F%E5%8E%BB%E7%90%83%E4%BD%93%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%90%91%E9%87%8F%EF%BC%8C%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E5%9C%A8%20tempNormal%20%E5%8F%98%E9%87%8F%E4%B8%AD%EF%BC%8C%E8%BF%99%E6%A0%B7%20tempNormal%20%E5%B0%B1%E5%8C%85%E5%90%AB%E4%BA%86%E4%BB%8E%E7%90%83%E4%BD%93%E4%B8%AD%E5%BF%83%E6%8C%87%E5%90%91%E7%B2%92%E5%AD%90%E7%9A%84%E5%90%91%E9%87%8F%EF%BC%8C%E5%8D%B3%E7%90%83%E4%BD%93%E7%9A%84%E6%B3%95%E7%BA%BF%0D%0A%20%20%20%20%20%20%20%20tempPos.subtractToRef(sphere.position,%20tempNormal)%0D%0A%20%20%20%20%20%20%20%20//%20%E5%B0%86%20tempNormal%20%E5%90%91%E9%87%8F%E6%A0%87%E5%87%86%E5%8C%96%EF%BC%88%E5%8D%B3%E9%95%BF%E5%BA%A6%E5%8F%98%E4%B8%BA1%EF%BC%89%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%AE%83%E5%B0%B1%E6%88%90%E4%B8%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%0D%0A%20%20%20%20%20%20%20%20tempNormal.normalize()%0D%0A%20%20%20%20%20%20%20%20//%20%E8%AE%A1%E7%AE%97%E7%B2%92%E5%AD%90%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%8E%E7%90%83%E4%BD%93%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E7%82%B9%E7%A7%AF%EF%BC%8C%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E5%9C%A8%20tempDot%20%E5%8F%98%E9%87%8F%E4%B8%AD%0D%0A%20%20%20%20%20%20%20%20tempDot%20=%20Vector3.Dot(particle.velocity,%20tempNormal)%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%E5%9C%A8%E7%89%A9%E7%90%86%E5%AD%A6%E4%B8%AD%EF%BC%8C%E5%BD%93%E5%A4%84%E7%90%86%E4%B8%A4%E4%B8%AA%E7%89%A9%E4%BD%93%E4%B9%8B%E9%97%B4%E7%9A%84%E7%A2%B0%E6%92%9E%E6%97%B6%EF%BC%8C%E7%89%B9%E5%88%AB%E6%98%AF%E6%B6%89%E5%8F%8A%E5%88%B0%E6%B3%95%E7%BA%BF%E5%88%86%E9%87%8F%E7%9A%84%E9%80%9F%E5%BA%A6%E6%97%B6%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF%E4%BD%BF%E7%94%A8%E5%88%86%E7%A6%BB%E5%85%AC%E5%BC%8F%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E8%BF%99%E4%B8%AA%E5%85%AC%E5%BC%8F%E6%98%AF%E4%BB%8E%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92%E5%92%8C%E8%83%BD%E9%87%8F%E5%AE%88%E6%81%92%E5%8E%9F%E7%90%86%E6%8E%A8%E5%AF%BC%E5%87%BA%E6%9D%A5%E7%9A%84%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E7%BB%99%E5%AE%9A%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20v%20%E6%98%AF%E7%B2%92%E5%AD%90%E7%9A%84%E5%8E%9F%E5%A7%8B%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E3%80%82%0D%0A%20%20%20%20%20%20%20%20n%20%E6%98%AF%E7%A2%B0%E6%92%9E%E7%89%A9%E4%BD%93%E7%9A%84%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E3%80%82%0D%0A%20%20%20%20%20%20%20%20v_new%20%E6%98%AF%E7%A2%B0%E6%92%9E%E5%90%8E%E7%B2%92%E5%AD%90%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E3%80%82%0D%0A%0D%0A%20%20%20%20%20%20%20%20%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%20v%20%E5%8F%AF%E4%BB%A5%E5%88%86%E8%A7%A3%E4%B8%BA%E4%B8%A4%E4%B8%AA%E5%88%86%E9%87%8F%EF%BC%9A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%E5%B9%B3%E8%A1%8C%E4%BA%8E%E6%B3%95%E7%BA%BF%20n%20%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%9Av%E2%88%A5%20=%20(v%E2%8B%85n)n%20--------%20v%E2%8B%85n%20%E6%98%AF%E7%82%B9%E7%A7%AF%0D%0A%20%20%20%20%20%20%20%20%E5%9E%82%E7%9B%B4%E4%BA%8E%E6%B3%95%E7%BA%BF%20n%20%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%9Av%E2%8A%A5%20=%20%20v%20%E2%88%92%20v%E2%88%A5%0D%0A%0D%0A%20%20%20%20%20%20%20%20%E5%BD%93%E7%B2%92%E5%AD%90%E4%B8%8E%E7%89%A9%E4%BD%93%E7%A2%B0%E6%92%9E%E6%97%B6%EF%BC%8C%E5%9E%82%E7%9B%B4%E4%BA%8E%E6%B3%95%E7%BA%BF%E7%9A%84%E5%88%86%E9%87%8F%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8F%98%EF%BC%8C%E8%80%8C%E5%B9%B3%E8%A1%8C%E4%BA%8E%E6%B3%95%E7%BA%BF%E7%9A%84%E5%88%86%E9%87%8F%E8%A2%AB%E5%8F%8D%E8%BD%AC%E5%B9%B6%E6%A0%B9%E6%8D%AE%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%20e%20%E8%BF%9B%E8%A1%8C%E7%BC%A9%E6%94%BE%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%20e%20%E6%8F%8F%E8%BF%B0%E4%BA%86%E7%A2%B0%E6%92%9E%E7%9A%84%E5%BC%B9%E6%80%A7%E7%A8%8B%E5%BA%A6%EF%BC%8C%E5%85%B6%E4%B8%AD%20e=1%20%E8%A1%A8%E7%A4%BA%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%8C%E8%80%8C%20e=0%20%E8%A1%A8%E7%A4%BA%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E3%80%82%0D%0A%0D%0A%20%20%20%20%20%20%20%20%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%20v_new%20%20%E7%94%B1%E4%B8%8B%E5%BC%8F%E7%BB%99%E5%87%BA%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20v_new%20=%20v%E2%8A%A5%20-%20e(v%E2%8B%85n)n%0D%0A%20%20%20%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%201%E3%80%81%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E8%AE%A1%E7%AE%97%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20%E5%BD%93%E7%B2%92%E5%AD%90%E4%B8%8E%E7%90%83%E4%BD%93%E7%A2%B0%E6%92%9E%E6%97%B6%EF%BC%8C%E9%A6%96%E5%85%88%E8%AE%A1%E7%AE%97%E4%BB%8E%E7%90%83%E4%BD%93%E4%B8%AD%E5%BF%83%E6%8C%87%E5%90%91%E7%B2%92%E5%AD%90%E7%9A%84%E5%90%91%E9%87%8F%EF%BC%88tempNormal%EF%BC%89%EF%BC%8C%E5%B9%B6%E5%B0%86%E5%85%B6%E6%A0%87%E5%87%86%E5%8C%96%E4%B8%BA%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E8%BF%99%E4%B8%AA%E5%90%91%E9%87%8F%E8%A1%A8%E7%A4%BA%E4%BA%86%E7%A2%B0%E6%92%9E%E7%82%B9%E7%9A%84%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E3%80%82%0D%0A%0D%0A%20%20%20%20%20%20%20%202%E3%80%81%E9%80%9F%E5%BA%A6%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20%E6%8E%A5%E4%B8%8B%E6%9D%A5%EF%BC%8C%E8%AE%A1%E7%AE%97%E7%B2%92%E5%AD%90%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%EF%BC%88particle.velocity%EF%BC%89%E4%B8%8E%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%EF%BC%88tempNormal%EF%BC%89%E7%9A%84%E7%82%B9%E7%A7%AF%EF%BC%88tempDot%EF%BC%89%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E7%82%B9%E7%A7%AF%E7%9A%84%E7%BB%93%E6%9E%9C%E7%BB%99%E5%87%BA%E4%BA%86%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%88%E6%AD%A3%E5%80%BC%E6%88%96%E8%B4%9F%E5%80%BC%EF%BC%8C%E5%8F%96%E5%86%B3%E4%BA%8E%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%8E%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E5%A4%B9%E8%A7%92%E6%98%AF%E9%94%90%E8%A7%92%E8%BF%98%E6%98%AF%E9%92%9D%E8%A7%92%EF%BC%89%E3%80%82%0D%0A%0D%0A%20%20%20%20%20%20%20%203%E3%80%81%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E7%9A%84%E6%9B%B4%E6%96%B0%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20%E6%A0%B9%E6%8D%AE%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%8C%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%E4%BC%9A%E5%AE%8C%E5%85%A8%E5%8F%8D%E5%90%91%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%A4%A7%E5%B0%8F%E5%8F%AF%E8%83%BD%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8F%98%EF%BC%88%E5%9C%A8%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E4%B8%AD%EF%BC%89%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E5%9B%A0%E6%AD%A4%EF%BC%8C%E4%BB%8E%E5%8E%9F%E5%A7%8B%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%AD%E5%87%8F%E5%8E%BB%E5%85%B6%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%88%E4%B9%98%E4%BB%A52%E5%B9%B6%E5%8F%8D%E5%90%91%EF%BC%8C%E4%BB%A5%E7%AC%A6%E5%90%88%E5%8F%8D%E5%B0%84%E5%AE%9A%E5%BE%8B%EF%BC%89%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8A%A0%E4%B8%8A%E8%BF%99%E4%B8%AA%E5%8F%8D%E5%90%91%E7%9A%84%E5%88%86%E9%87%8F%E4%B9%98%E4%BB%A5%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E7%9B%B8%E5%BA%94%E5%88%86%E9%87%8F%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E8%BF%99%E6%A0%B7%E5%81%9A%E5%AE%9E%E9%99%85%E4%B8%8A%E6%98%AF%E5%B0%86%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8%E5%85%B6%E6%B3%95%E7%BA%BF%E5%88%86%E9%87%8F%E4%B8%8A%E8%BF%9B%E8%A1%8C%E4%BA%86%E5%8F%8D%E5%B0%84%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E6%95%B0%E5%AD%A6%E4%B8%8A%EF%BC%8C%E8%BF%99%E5%8F%AF%E4%BB%A5%E8%A1%A8%E7%A4%BA%E4%B8%BA%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20new_velocity_component=%E2%88%92original_velocity_component+2%C3%97dot_product%C3%97normal_component%0D%0A%20%20%20%20%20%20%20%20original_velocity_component%20%E6%98%AF%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8x%E3%80%81y%E6%88%96z%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%8E%9F%E5%A7%8B%E5%88%86%E9%87%8F%0D%0A%20%20%20%20%20%20%20%20dot_product%20%E6%98%AF%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%8E%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E7%82%B9%E7%A7%AF%0D%0A%20%20%20%20%20%20%20%20normal_component%20%E6%98%AF%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E5%9C%A8x%E3%80%81y%E6%88%96z%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%0D%0A%0D%0A%20%20%20%20%20%20%20%204%E3%80%81%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%9A%0D%0A%20%20%20%20%20%20%20%20%E6%9C%80%E5%90%8E%EF%BC%8C%E5%B0%86%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B9%98%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%88restitution%EF%BC%89%EF%BC%8C%E4%BB%A5%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E8%83%BD%E9%87%8F%E6%8D%9F%E5%A4%B1%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BB%8B%E4%BA%8E0%E5%92%8C1%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%EF%BC%8C%E5%80%BC%E8%B6%8A%E6%8E%A5%E8%BF%911%E8%A1%A8%E7%A4%BA%E7%A2%B0%E6%92%9E%E8%B6%8A%E5%BC%B9%E6%80%A7%E3%80%82%0D%0A%20%20%20%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20%20%20%20/**%0D%0A%20%20%20%20%20%20%20%20%E5%81%87%E8%AE%BE%E4%B8%80%E4%B8%AA%E5%9B%BE%E4%B8%AD%0D%0A%20%20%20%20%20%20%20%20%E6%9C%89%E4%B8%80%E4%B8%AA%E7%B2%92%E5%AD%90%EF%BC%88P%EF%BC%89%E5%92%8C%E4%B8%80%E4%B8%AA%E7%90%83%E4%BD%93%EF%BC%88S%EF%BC%89%E3%80%82%E7%B2%92%E5%AD%90%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%EF%BC%88V%EF%BC%89%E4%B8%8E%E7%90%83%E4%BD%93%E7%9A%84%E8%A1%A8%E9%9D%A2%E7%9B%B8%E4%BA%A4%E4%BA%8E%E7%82%B9C%EF%BC%8C%E5%BD%A2%E6%88%90%E4%B8%80%E4%B8%AA%E5%85%A5%E5%B0%84%E8%A7%92%CE%B8%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E4%BB%8E%E7%90%83%E4%BD%93%E4%B8%AD%E5%BF%83S%E5%88%B0%E7%B2%92%E5%AD%90P%E7%9A%84%E5%90%91%E9%87%8F%EF%BC%88SC%EF%BC%89%E8%A2%AB%E6%A0%87%E5%87%86%E5%8C%96%E4%B8%BA%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%EF%BC%88N%EF%BC%89%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8FV%E4%B8%8E%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8FN%E7%9A%84%E7%82%B9%E7%A7%AF%E7%BB%99%E5%87%BA%E4%BA%86%E9%80%9F%E5%BA%A6%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E6%96%B0%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%EF%BC%88V'%EF%BC%89%E6%98%AF%E9%80%9A%E8%BF%87%E5%B0%86%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8FV%E5%9C%A8%E5%85%B6%E6%B3%95%E7%BA%BF%E5%88%86%E9%87%8F%E4%B8%8A%E8%BF%9B%E8%A1%8C%E5%8F%8D%E5%B0%84%E5%BE%97%E5%88%B0%E7%9A%84%E3%80%82%E6%B3%A8%E6%84%8F%EF%BC%8C%E8%BF%99%E9%87%8C%E7%9A%84%E5%8F%8D%E5%B0%84%E6%98%AF%E5%9F%BA%E4%BA%8E%E4%BA%8C%E7%BB%B4%E5%B9%B3%E9%9D%A2%E7%9A%84%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%89%E7%BB%B4%E4%B8%AD%E5%8E%9F%E7%90%86%E7%9B%B8%E5%90%8C%E3%80%82%0D%0A%20%20%20%20%20%20%20%20%E6%9C%80%E5%90%8E%EF%BC%8C%E6%96%B0%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8FV'%E8%A2%AB%E4%B9%98%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%8C%E4%BB%A5%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E8%83%BD%E9%87%8F%E6%8D%9F%E5%A4%B1%E3%80%82%0D%0A%20%20%20%20%20%20%20%20*/%0D%0A%0D%0A%20%20%20%20%20%20%20%20particle.velocity.x%20=%20-particle.velocity.x%20+%202.0%20*%20tempDot%20*%20tempNormal.x%0D%0A%20%20%20%20%20%20%20%20particle.velocity.y%20=%20-particle.velocity.y%20+%202.0%20*%20tempDot%20*%20tempNormal.y%0D%0A%20%20%20%20%20%20%20%20particle.velocity.z%20=%20-particle.velocity.z%20+%202.0%20*%20tempDot%20*%20tempNormal.z%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%E5%B0%86%E7%B2%92%E5%AD%90%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B9%98%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%88restitution%EF%BC%89%EF%BC%8C%E8%BF%99%E6%98%AF%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E7%9A%84%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E5%8F%8D%E5%BC%B9%E6%95%88%E6%9E%9C%0D%0A%20%20%20%20%20%20%20%20particle.velocity.scaleInPlace(restitution)%0D%0A%0D%0A%20%20%20%20%20%20%20%20particle.color.r%20=%201.0%0D%0A%20%20%20%20%20%20%20%20particle.color.g%20=%200.0%0D%0A%20%20%20%20%20%20%20%20particle.color.b%20=%200.0%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20return%20sps%0D%0A%20%20%7D%0D%0A%0D%0A%0D%0A%20%20const%20runAnimate%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20engine.runRenderLoop(function()%20%7B%0D%0A%20%20%20%20%20%20if%20(scene%20&&%20scene.activeCamera)%20%7B%0D%0A%20%20%20%20%20%20%20%20scene.render()%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20fps.value%20=%20engine.getFps().toFixed(2)%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%7D%0D%0A%20%20%0D%0A%20%20const%20light%20=%20createLight()%0D%0A%20%20const%20ground%20=%20createGround()%0D%0A%20%20const%20sphere%20=%20createSphere()%0D%0A%20%20const%20sps%20=%20createSps(ground,%20sphere)%0D%0A%20%20sps.initParticles()%0D%0A%0D%0A%20%20runAnimate()%0D%0A%0D%0A%20%20scene.registerBeforeRender(function()%20%7B%0D%0A%20%20%20%20sps.particles.forEach(particle%20=%3E%20%7B%0D%0A%20%20%20%20%20%20if%20(sphere.intersectsMesh(particle,%20true))%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log('collided')%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%20%20%20%20sps.setParticles()%0D%0A%20%20%20%20sphere.position.x%20=%2020.0%20*%20Math.sin(k)%0D%0A%20%20%20%20sphere.position.z%20=%2010.0%20*%20Math.sin(k%20*%206.0)%0D%0A%20%20%20%20sphere.position.y%20=%205.0%20*%20Math.sin(k%20*%2010)%20+%20sphereAltitude%0D%0A%20%20%20%20k%20+=%200.01%0D%0A%20%20%7D)%0D%0A%0D%0A%20%20return%20%7B%0D%0A%20%20%20%20scene,%0D%0A%20%20%20%20engine,%20%0D%0A%20%20%20%20camera,%20%0D%0A%20%20%20%20light,%0D%0A%20%20%20%20ground,%0D%0A%20%20%20%20sphere,%0D%0A%20%20%20%20sps%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0AonMounted(async()%20=%3E%20%7B%0D%0A%20%20await%20nextTick()%0D%0A%20%20sceneResources%20=%20await%20initScene()%0D%0A%7D)%0D%0A%0D%0A%0D%0AonUnmounted(()%20=%3E%20%7B%0D%0A%20%20if(sceneResources)%20%7B%0D%0A%20%20%20%20sceneResources.engine.stopRenderLoop()%20%0D%0A%20%20%20%20sceneResources.light.dispose()%0D%0A%20%20%20%20sceneResources.ground.dispose()%0D%0A%20%20%20%20sceneResources.sphere.dispose()%0D%0A%20%20%20%20sceneResources.sps.dispose()%0D%0A%20%20%20%20sceneResources.camera.dispose()%0D%0A%20%20%20%20sceneResources.scene.dispose()%0D%0A%20%20%20%20sceneResources%20=%20null%0D%0A%20%20%7D%0D%0A%7D)%0D%0A%3C/script%3E%0D%0A",showCode:"%3Cpre%20class%3D%22shiki%20shiki-themes%20github-light%20github-dark%20vp-code%22%20tabindex%3D%220%22%20v-pre%3D%22%22%3E%3Ccode%3E%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3Efps%3A%20%7B%7B%20fps%20%7D%7D%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20id%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionParticle%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20class%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22stage%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ecanvas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Ediv%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Etemplate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20lang%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22ts%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20setup%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20onMounted%2C%20ref%2C%20nextTick%2C%20onUnmounted%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'vue'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'babylonjs-loaders'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eimport%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%20pkg%20%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efrom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20'.%2Findex.js'%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Color3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20MeshBuilder%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20%20SolidParticleSystem%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20pkg%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20fps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ref%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Elet%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sceneResources%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Econst%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20async%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ele%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20document.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetElementById%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22collisionParticle%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Eas%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HTMLCanvasElement%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20ele.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddEventListener%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'wheel'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eevent%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E6%BB%9A%E5%8A%A8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E4%BE%8B%E5%A6%82%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E7%9B%B8%E6%9C%BA%E7%9A%84%E5%8D%8A%E5%BE%84%E6%88%96%E8%A7%92%E5%BA%A6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20event.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EpreventDefault%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3B%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E6%BB%9A%E5%8A%A8%E8%A1%8C%E4%B8%BA%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Engine%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20preserveDrawingBuffer%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20stencil%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20disableWebGL2Support%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Efalse%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Scene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(engine)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.useRightHandedSystem%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20camera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20ArcRotateCamera%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'camera'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%204%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E150%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.upperBetaLimit%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.wheelPrecision%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2030%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EattachControl%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ele%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetPosition%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E50%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E300%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20k%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempPos%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Vector3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EZero%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempNormal%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Vector3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EZero%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempDot%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sign%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20let%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sphereAltitude%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2040.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20speed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.9%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20cone%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.3%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20gravity%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3Espeed%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20100%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20restitution%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.88%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20HemisphericLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'light'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Enew%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Vector3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20light%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20groundMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%22groundMaterial%22%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20groundMaterial.diffuseTexture%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20Texture%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'%2Fimages%2Fwood.jpg'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ground%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'gd'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20width%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1000.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20height%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1000.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20groundMaterial%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20ground%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20matSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'ms'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20matSphere.diffuseColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EBlue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20sphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20's'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%20diameter%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E8%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7D%2C%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20matSphere%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2035%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sphere%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20matBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20StandardMaterial%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'ms'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20matBox.diffuseColor%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Color3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ERed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20box%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20MeshBuilder.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ECreateBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E%20%20%20%20%20%20'b'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20size%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20scene%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20box.material%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20matBox%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20box%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eground%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Esphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F**%20SolidParticleSystem%E5%85%81%E8%AE%B8%E5%88%9B%E5%BB%BA%E7%94%B1%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%9F%BA%E7%A1%80%E7%BD%91%E6%A0%BC%E6%A8%A1%E5%9E%8B%E7%BB%84%E6%88%90%E7%9A%84%E7%B2%92%E5%AD%90%E4%BA%91%20*%2F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20sps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20new%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20SolidParticleSystem%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'sps'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%2C%20scene%2C%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F**%20%E5%90%AF%E7%94%A8%E4%BA%86%20particleIntersection%EF%BC%8C%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E4%BB%BB%E4%BD%95%E5%9B%BA%E4%BD%93%E7%B2%92%E5%AD%90%E7%9A%84%20intersectsMesh()%20%E6%96%B9%E6%B3%95%E6%9D%A5%E6%A3%80%E6%9F%A5%E8%AF%A5%E7%B2%92%E5%AD%90%E6%98%AF%E5%90%A6%E4%B8%8E%E7%9B%AE%E6%A0%87%E7%BD%91%E6%A0%BC%E7%9B%B8%E4%BA%A4%20*%2F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particleIntersection%3A%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20box%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createBox%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddShape%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(box%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E6%B7%BB%E5%8A%A0200%E4%B8%AAbox%E4%BD%9C%E4%B8%BA%E7%B2%92%E5%AD%90%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20box.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20mesh%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EbuildMesh%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E8%B0%83%E7%94%A8%20buildMesh()%20%E6%96%B9%E6%B3%95%E6%9D%A5%E6%9E%84%E5%BB%BA%20SPS%20%E7%BD%91%E6%A0%BC%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20mesh.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2080.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20mesh.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E70.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphereAltitude%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20mesh.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sphereAltitude%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.isAlwaysVisible%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20true%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EinitParticles%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20for%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Elet%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20p%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3B%20p%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sps.nbParticles%3B%20p%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErecycleParticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(sps.particles%5Bp%5D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20recycleParticle%E6%96%B9%E6%B3%95%E5%85%81%E8%AE%B8%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%E7%B2%92%E5%AD%90%E4%BB%A5%E4%BE%BF%E4%BA%8E%E5%9B%9E%E6%94%B6%E5%88%A9%E7%94%A8%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD%EF%BC%8C%E5%B0%A4%E5%85%B6%E6%98%AF%E5%9C%A8%E5%A4%84%E7%90%86%E5%A4%A7%E9%87%8F%E7%B2%92%E5%AD%90%E6%97%B6%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%2F%2F%20%E5%9C%A8updateParticle%E6%96%B9%E6%B3%95%E4%B8%AD%E5%AE%9A%E4%B9%89%E7%B2%92%E5%AD%90%E7%9A%84%E8%A1%8C%E4%B8%BA%EF%BC%8C%E5%B9%B6%E5%9C%A8%E9%80%82%E5%BD%93%E7%9A%84%E6%97%B6%E5%80%99%E8%B0%83%E7%94%A8recycleParticle%E6%9D%A5%E5%9B%9E%E6%94%B6%E7%B2%92%E5%AD%90%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErecycleParticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eparticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.position.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.velocity.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20speed%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.velocity.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.3%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20cone%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20speed%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.velocity.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.5%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20cone%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20speed%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.rotation.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.rotation.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.rotation.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erandom%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3EPI%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.color.r%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.color.g%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.color.b%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.color.a%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EupdateParticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eparticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20any%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(particle.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20mesh.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x3C%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20ground.position.y)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.color.r%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.color.g%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.color.b%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErecycleParticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(particle)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.velocity.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20gravity%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.position.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddInPlace%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(particle.velocity)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%2F%2F%20%E6%9B%B4%E6%96%B0%E7%B2%92%E5%AD%90%E6%96%B0%E4%BD%8D%E7%BD%AE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E4%BD%BF%E5%BE%97%E6%AF%8F%E4%B8%AA%E7%B2%92%E5%AD%90%E5%9C%A8%E4%B8%89%E4%B8%AA%E8%BD%B4%EF%BC%88x%E3%80%81y%E3%80%81z%EF%BC%89%E4%B8%8A%E4%BB%A5%E4%B8%8D%E5%90%8C%E7%9A%84%E9%80%9F%E5%BA%A6%E5%92%8C%E6%96%B9%E5%90%91%E6%97%8B%E8%BD%AC%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%88%9B%E9%80%A0%E5%87%BA%E6%9B%B4%E5%8A%A0%E5%A4%8D%E6%9D%82%E5%92%8C%E5%8A%A8%E6%80%81%E7%9A%84%E8%A7%86%E8%A7%89%E6%95%88%E6%9E%9C%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E9%80%9A%E8%BF%87%E4%BA%A4%E6%9B%BF%E6%94%B9%E5%8F%98%E6%97%8B%E8%BD%AC%E6%96%B9%E5%90%91%EF%BC%8C%E7%B2%92%E5%AD%90%E7%9A%84%E6%97%8B%E8%BD%AC%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%9B%B4%E5%8A%A0%E8%87%AA%E7%84%B6%E5%92%8C%E9%9A%8F%E6%9C%BA%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20sign%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20particle.idx%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%25%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3D%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3A%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E1%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.rotation.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.1%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sign%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.rotation.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.05%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sign%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20particle.rotation.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.008%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sign%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%2F%2F%20%E5%88%A4%E6%96%AD%E5%8F%91%E7%94%9F%E7%A2%B0%E6%92%9E%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(particle.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EintersectsMesh%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(sphere))%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E5%B0%86%E7%B2%92%E5%AD%90%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%90%91%E9%87%8F%E4%B8%8E%E7%BD%91%E6%A0%BC%EF%BC%88mesh%EF%BC%89%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%90%91%E9%87%8F%E7%9B%B8%E5%8A%A0%EF%BC%8C%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E5%9C%A8%20tempPos%20%E5%8F%98%E9%87%8F%E4%B8%AD%EF%BC%8C%E8%BF%99%E6%A0%B7%20tempPos%20%E5%B0%B1%E5%8C%85%E5%90%AB%E4%BA%86%E7%B2%92%E5%AD%90%E7%9A%84%E4%B8%96%E7%95%8C%E4%BD%8D%E7%BD%AE%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.position.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EaddToRef%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(mesh.position%2C%20tempPos)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E4%BB%8E%20tempPos%20%E4%B8%AD%E5%87%8F%E5%8E%BB%E7%90%83%E4%BD%93%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%90%91%E9%87%8F%EF%BC%8C%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E5%9C%A8%20tempNormal%20%E5%8F%98%E9%87%8F%E4%B8%AD%EF%BC%8C%E8%BF%99%E6%A0%B7%20tempNormal%20%E5%B0%B1%E5%8C%85%E5%90%AB%E4%BA%86%E4%BB%8E%E7%90%83%E4%BD%93%E4%B8%AD%E5%BF%83%E6%8C%87%E5%90%91%E7%B2%92%E5%AD%90%E7%9A%84%E5%90%91%E9%87%8F%EF%BC%8C%E5%8D%B3%E7%90%83%E4%BD%93%E7%9A%84%E6%B3%95%E7%BA%BF%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20tempPos.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsubtractToRef%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(sphere.position%2C%20tempNormal)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E5%B0%86%20tempNormal%20%E5%90%91%E9%87%8F%E6%A0%87%E5%87%86%E5%8C%96%EF%BC%88%E5%8D%B3%E9%95%BF%E5%BA%A6%E5%8F%98%E4%B8%BA1%EF%BC%89%EF%BC%8C%E8%BF%99%E6%A0%B7%E5%AE%83%E5%B0%B1%E6%88%90%E4%B8%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20tempNormal.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Enormalize%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E7%B2%92%E5%AD%90%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%8E%E7%90%83%E4%BD%93%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E7%82%B9%E7%A7%AF%EF%BC%8C%E7%BB%93%E6%9E%9C%E5%AD%98%E5%82%A8%E5%9C%A8%20tempDot%20%E5%8F%98%E9%87%8F%E4%B8%AD%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20tempDot%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Vector3.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EDot%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(particle.velocity%2C%20tempNormal)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F**%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%9C%A8%E7%89%A9%E7%90%86%E5%AD%A6%E4%B8%AD%EF%BC%8C%E5%BD%93%E5%A4%84%E7%90%86%E4%B8%A4%E4%B8%AA%E7%89%A9%E4%BD%93%E4%B9%8B%E9%97%B4%E7%9A%84%E7%A2%B0%E6%92%9E%E6%97%B6%EF%BC%8C%E7%89%B9%E5%88%AB%E6%98%AF%E6%B6%89%E5%8F%8A%E5%88%B0%E6%B3%95%E7%BA%BF%E5%88%86%E9%87%8F%E7%9A%84%E9%80%9F%E5%BA%A6%E6%97%B6%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF%E4%BD%BF%E7%94%A8%E5%88%86%E7%A6%BB%E5%85%AC%E5%BC%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E8%BF%99%E4%B8%AA%E5%85%AC%E5%BC%8F%E6%98%AF%E4%BB%8E%E5%8A%A8%E9%87%8F%E5%AE%88%E6%81%92%E5%92%8C%E8%83%BD%E9%87%8F%E5%AE%88%E6%81%92%E5%8E%9F%E7%90%86%E6%8E%A8%E5%AF%BC%E5%87%BA%E6%9D%A5%E7%9A%84%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E7%BB%99%E5%AE%9A%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20v%20%E6%98%AF%E7%B2%92%E5%AD%90%E7%9A%84%E5%8E%9F%E5%A7%8B%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20n%20%E6%98%AF%E7%A2%B0%E6%92%9E%E7%89%A9%E4%BD%93%E7%9A%84%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20v_new%20%E6%98%AF%E7%A2%B0%E6%92%9E%E5%90%8E%E7%B2%92%E5%AD%90%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%20v%20%E5%8F%AF%E4%BB%A5%E5%88%86%E8%A7%A3%E4%B8%BA%E4%B8%A4%E4%B8%AA%E5%88%86%E9%87%8F%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%B9%B3%E8%A1%8C%E4%BA%8E%E6%B3%95%E7%BA%BF%20n%20%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%9Av%E2%88%A5%20%3D%20(v%E2%8B%85n)n%20--------%20v%E2%8B%85n%20%E6%98%AF%E7%82%B9%E7%A7%AF%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%9E%82%E7%9B%B4%E4%BA%8E%E6%B3%95%E7%BA%BF%20n%20%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%9Av%E2%8A%A5%20%3D%20%20v%20%E2%88%92%20v%E2%88%A5%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%BD%93%E7%B2%92%E5%AD%90%E4%B8%8E%E7%89%A9%E4%BD%93%E7%A2%B0%E6%92%9E%E6%97%B6%EF%BC%8C%E5%9E%82%E7%9B%B4%E4%BA%8E%E6%B3%95%E7%BA%BF%E7%9A%84%E5%88%86%E9%87%8F%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8F%98%EF%BC%8C%E8%80%8C%E5%B9%B3%E8%A1%8C%E4%BA%8E%E6%B3%95%E7%BA%BF%E7%9A%84%E5%88%86%E9%87%8F%E8%A2%AB%E5%8F%8D%E8%BD%AC%E5%B9%B6%E6%A0%B9%E6%8D%AE%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%20e%20%E8%BF%9B%E8%A1%8C%E7%BC%A9%E6%94%BE%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%20e%20%E6%8F%8F%E8%BF%B0%E4%BA%86%E7%A2%B0%E6%92%9E%E7%9A%84%E5%BC%B9%E6%80%A7%E7%A8%8B%E5%BA%A6%EF%BC%8C%E5%85%B6%E4%B8%AD%20e%3D1%20%E8%A1%A8%E7%A4%BA%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%EF%BC%8C%E8%80%8C%20e%3D0%20%E8%A1%A8%E7%A4%BA%E5%AE%8C%E5%85%A8%E9%9D%9E%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%20v_new%20%20%E7%94%B1%E4%B8%8B%E5%BC%8F%E7%BB%99%E5%87%BA%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20v_new%20%3D%20v%E2%8A%A5%20-%20e(v%E2%8B%85n)n%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20*%2F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F**%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%201%E3%80%81%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E8%AE%A1%E7%AE%97%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%BD%93%E7%B2%92%E5%AD%90%E4%B8%8E%E7%90%83%E4%BD%93%E7%A2%B0%E6%92%9E%E6%97%B6%EF%BC%8C%E9%A6%96%E5%85%88%E8%AE%A1%E7%AE%97%E4%BB%8E%E7%90%83%E4%BD%93%E4%B8%AD%E5%BF%83%E6%8C%87%E5%90%91%E7%B2%92%E5%AD%90%E7%9A%84%E5%90%91%E9%87%8F%EF%BC%88tempNormal%EF%BC%89%EF%BC%8C%E5%B9%B6%E5%B0%86%E5%85%B6%E6%A0%87%E5%87%86%E5%8C%96%E4%B8%BA%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E8%BF%99%E4%B8%AA%E5%90%91%E9%87%8F%E8%A1%A8%E7%A4%BA%E4%BA%86%E7%A2%B0%E6%92%9E%E7%82%B9%E7%9A%84%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%202%E3%80%81%E9%80%9F%E5%BA%A6%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%8E%A5%E4%B8%8B%E6%9D%A5%EF%BC%8C%E8%AE%A1%E7%AE%97%E7%B2%92%E5%AD%90%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%EF%BC%88particle.velocity%EF%BC%89%E4%B8%8E%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%EF%BC%88tempNormal%EF%BC%89%E7%9A%84%E7%82%B9%E7%A7%AF%EF%BC%88tempDot%EF%BC%89%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E7%82%B9%E7%A7%AF%E7%9A%84%E7%BB%93%E6%9E%9C%E7%BB%99%E5%87%BA%E4%BA%86%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%E7%9A%84%E5%A4%A7%E5%B0%8F%EF%BC%88%E6%AD%A3%E5%80%BC%E6%88%96%E8%B4%9F%E5%80%BC%EF%BC%8C%E5%8F%96%E5%86%B3%E4%BA%8E%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%8E%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E5%A4%B9%E8%A7%92%E6%98%AF%E9%94%90%E8%A7%92%E8%BF%98%E6%98%AF%E9%92%9D%E8%A7%92%EF%BC%89%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%203%E3%80%81%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E7%9A%84%E6%9B%B4%E6%96%B0%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%A0%B9%E6%8D%AE%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%8C%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%E4%BC%9A%E5%AE%8C%E5%85%A8%E5%8F%8D%E5%90%91%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%A4%A7%E5%B0%8F%E5%8F%AF%E8%83%BD%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8F%98%EF%BC%88%E5%9C%A8%E5%AE%8C%E5%85%A8%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E4%B8%AD%EF%BC%89%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%9B%A0%E6%AD%A4%EF%BC%8C%E4%BB%8E%E5%8E%9F%E5%A7%8B%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%AD%E5%87%8F%E5%8E%BB%E5%85%B6%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%EF%BC%88%E4%B9%98%E4%BB%A52%E5%B9%B6%E5%8F%8D%E5%90%91%EF%BC%8C%E4%BB%A5%E7%AC%A6%E5%90%88%E5%8F%8D%E5%B0%84%E5%AE%9A%E5%BE%8B%EF%BC%89%EF%BC%8C%E7%84%B6%E5%90%8E%E5%8A%A0%E4%B8%8A%E8%BF%99%E4%B8%AA%E5%8F%8D%E5%90%91%E7%9A%84%E5%88%86%E9%87%8F%E4%B9%98%E4%BB%A5%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E7%9B%B8%E5%BA%94%E5%88%86%E9%87%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E8%BF%99%E6%A0%B7%E5%81%9A%E5%AE%9E%E9%99%85%E4%B8%8A%E6%98%AF%E5%B0%86%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8%E5%85%B6%E6%B3%95%E7%BA%BF%E5%88%86%E9%87%8F%E4%B8%8A%E8%BF%9B%E8%A1%8C%E4%BA%86%E5%8F%8D%E5%B0%84%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%95%B0%E5%AD%A6%E4%B8%8A%EF%BC%8C%E8%BF%99%E5%8F%AF%E4%BB%A5%E8%A1%A8%E7%A4%BA%E4%B8%BA%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20new_velocity_component%3D%E2%88%92original_velocity_component%2B2%C3%97dot_product%C3%97normal_component%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20original_velocity_component%20%E6%98%AF%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E5%9C%A8x%E3%80%81y%E6%88%96z%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%8E%9F%E5%A7%8B%E5%88%86%E9%87%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20dot_product%20%E6%98%AF%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B8%8E%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E7%9A%84%E7%82%B9%E7%A7%AF%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20normal_component%20%E6%98%AF%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%E5%9C%A8x%E3%80%81y%E6%88%96z%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%204%E3%80%81%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%9A%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%9C%80%E5%90%8E%EF%BC%8C%E5%B0%86%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B9%98%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%88restitution%EF%BC%89%EF%BC%8C%E4%BB%A5%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E8%83%BD%E9%87%8F%E6%8D%9F%E5%A4%B1%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%E6%98%AF%E4%B8%80%E4%B8%AA%E4%BB%8B%E4%BA%8E0%E5%92%8C1%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%EF%BC%8C%E5%80%BC%E8%B6%8A%E6%8E%A5%E8%BF%911%E8%A1%A8%E7%A4%BA%E7%A2%B0%E6%92%9E%E8%B6%8A%E5%BC%B9%E6%80%A7%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20*%2F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F**%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E5%81%87%E8%AE%BE%E4%B8%80%E4%B8%AA%E5%9B%BE%E4%B8%AD%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%9C%89%E4%B8%80%E4%B8%AA%E7%B2%92%E5%AD%90%EF%BC%88P%EF%BC%89%E5%92%8C%E4%B8%80%E4%B8%AA%E7%90%83%E4%BD%93%EF%BC%88S%EF%BC%89%E3%80%82%E7%B2%92%E5%AD%90%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%EF%BC%88V%EF%BC%89%E4%B8%8E%E7%90%83%E4%BD%93%E7%9A%84%E8%A1%A8%E9%9D%A2%E7%9B%B8%E4%BA%A4%E4%BA%8E%E7%82%B9C%EF%BC%8C%E5%BD%A2%E6%88%90%E4%B8%80%E4%B8%AA%E5%85%A5%E5%B0%84%E8%A7%92%CE%B8%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E4%BB%8E%E7%90%83%E4%BD%93%E4%B8%AD%E5%BF%83S%E5%88%B0%E7%B2%92%E5%AD%90P%E7%9A%84%E5%90%91%E9%87%8F%EF%BC%88SC%EF%BC%89%E8%A2%AB%E6%A0%87%E5%87%86%E5%8C%96%E4%B8%BA%E5%8D%95%E4%BD%8D%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8F%EF%BC%88N%EF%BC%89%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8FV%E4%B8%8E%E6%B3%95%E7%BA%BF%E5%90%91%E9%87%8FN%E7%9A%84%E7%82%B9%E7%A7%AF%E7%BB%99%E5%87%BA%E4%BA%86%E9%80%9F%E5%BA%A6%E5%9C%A8%E6%B3%95%E7%BA%BF%E6%96%B9%E5%90%91%E4%B8%8A%E7%9A%84%E5%88%86%E9%87%8F%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%96%B0%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%EF%BC%88V'%EF%BC%89%E6%98%AF%E9%80%9A%E8%BF%87%E5%B0%86%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8FV%E5%9C%A8%E5%85%B6%E6%B3%95%E7%BA%BF%E5%88%86%E9%87%8F%E4%B8%8A%E8%BF%9B%E8%A1%8C%E5%8F%8D%E5%B0%84%E5%BE%97%E5%88%B0%E7%9A%84%E3%80%82%E6%B3%A8%E6%84%8F%EF%BC%8C%E8%BF%99%E9%87%8C%E7%9A%84%E5%8F%8D%E5%B0%84%E6%98%AF%E5%9F%BA%E4%BA%8E%E4%BA%8C%E7%BB%B4%E5%B9%B3%E9%9D%A2%E7%9A%84%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%89%E7%BB%B4%E4%B8%AD%E5%8E%9F%E7%90%86%E7%9B%B8%E5%90%8C%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%E6%9C%80%E5%90%8E%EF%BC%8C%E6%96%B0%E7%9A%84%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8FV'%E8%A2%AB%E4%B9%98%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%8C%E4%BB%A5%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E8%83%BD%E9%87%8F%E6%8D%9F%E5%A4%B1%E3%80%82%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20*%2F%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.velocity.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3Eparticle.velocity.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempDot%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempNormal.x%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.velocity.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3Eparticle.velocity.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempDot%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempNormal.y%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.velocity.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20-%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3Eparticle.velocity.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%202.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempDot%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20tempNormal.z%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236A737D%3B--shiki-dark%3A%236A737D%22%3E%20%20%20%20%20%20%20%20%2F%2F%20%E5%B0%86%E7%B2%92%E5%AD%90%E9%80%9F%E5%BA%A6%E5%90%91%E9%87%8F%E4%B9%98%E4%BB%A5%E6%81%A2%E5%A4%8D%E7%B3%BB%E6%95%B0%EF%BC%88restitution%EF%BC%89%EF%BC%8C%E8%BF%99%E6%98%AF%E5%BC%B9%E6%80%A7%E7%A2%B0%E6%92%9E%E7%9A%84%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E%E5%90%8E%E7%9A%84%E5%8F%8D%E5%BC%B9%E6%95%88%E6%9E%9C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.velocity.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EscaleInPlace%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(restitution)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.color.r%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%201.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.color.g%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20particle.color.b%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.0%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sps%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3ErunRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(scene%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%26%23x26%3B%26%23x26%3B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20scene.activeCamera)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Erender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20fps.value%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EgetFps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E().%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EtoFixed%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E2%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20light%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createLight%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20ground%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createGround%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20sphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSphere%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20const%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20sps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20createSps%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(ground%2C%20sphere)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EinitParticles%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20%20runAnimate%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EregisterBeforeRender%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Efunction%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.particles.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EforEach%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23E36209%3B--shiki-dark%3A%23FFAB70%22%3Eparticle%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20%20%20%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20(sphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EintersectsMesh%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(particle%2C%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3Etrue%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E))%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%20%20console.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Elog%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23032F62%3B--shiki-dark%3A%239ECBFF%22%3E'collided'%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EsetParticles%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.position.x%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2020.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Esin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(k)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.position.z%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Esin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(k%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%206.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere.position.y%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%205.0%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20Math.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Esin%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(k%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E*%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%2010%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E)%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20sphereAltitude%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20k%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%2B%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%200.01%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20return%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20scene%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20engine%2C%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20camera%2C%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20light%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20ground%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sphere%2C%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sps%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonMounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3Easync%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20nextTick%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20sceneResources%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20await%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3E%20initScene%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EonUnmounted%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(()%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3E%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%20%20if%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E(sceneResources)%20%7B%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.engine.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3EstopRenderLoop%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%20%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.light.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.ground.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.sphere.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.sps.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.camera.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources.scene.%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%236F42C1%3B--shiki-dark%3A%23B392F0%22%3Edispose%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E()%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%20%20sceneResources%20%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23D73A49%3B--shiki-dark%3A%23F97583%22%3E%3D%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%23005CC5%3B--shiki-dark%3A%2379B8FF%22%3E%20null%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%20%20%7D%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%7D)%3C%2Fspan%3E%3C%2Fspan%3E%0A%3Cspan%20class%3D%22line%22%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%26%23x3C%3B%2F%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2322863A%3B--shiki-dark%3A%2385E89D%22%3Escript%3C%2Fspan%3E%3Cspan%20style%3D%22--shiki-light%3A%2324292E%3B--shiki-dark%3A%23E1E4E8%22%3E%3E%3C%2Fspan%3E%3C%2Fspan%3E%3C%2Fcode%3E%3C%2Fpre%3E",suffixName:"vue",absolutePath:"D:\\test\\docs\\demo\\babylon\\collisionParticle.vue",relativePath:"../demo/babylon/collisionParticle.vue"},{default:yt(()=>[Os(Lt)]),_:1})])}}});export{Yt as __pageData,Zt as default};
